(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function Kf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function A_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Pd={exports:{}},Ca={},Md={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function C_(){if(Am)return Ce;Am=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function k(L,q,me){this.props=L,this.context=q,this.refs=C,this.updater=me||v}k.prototype.isReactComponent={},k.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=k.prototype;function H(L,q,me){this.props=L,this.context=q,this.refs=C,this.updater=me||v}var F=H.prototype=new O;F.constructor=H,w(F,k.prototype),F.isPureReactComponent=!0;var U=Array.isArray,W=Object.prototype.hasOwnProperty,ee={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function Z(L,q,me){var be,Se={},ye=null,Me=null;if(q!=null)for(be in q.ref!==void 0&&(Me=q.ref),q.key!==void 0&&(ye=""+q.key),q)W.call(q,be)&&!se.hasOwnProperty(be)&&(Se[be]=q[be]);var Ae=arguments.length-2;if(Ae===1)Se.children=me;else if(1<Ae){for(var Oe=Array(Ae),_e=0;_e<Ae;_e++)Oe[_e]=arguments[_e+2];Se.children=Oe}if(L&&L.defaultProps)for(be in Ae=L.defaultProps,Ae)Se[be]===void 0&&(Se[be]=Ae[be]);return{$$typeof:e,type:L,key:ye,ref:Me,props:Se,_owner:ee.current}}function ce(L,q){return{$$typeof:e,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function ve(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function Ie(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(me){return q[me]})}var tt=/\/+/g;function qe(L,q){return typeof L=="object"&&L!==null&&L.key!=null?Ie(""+L.key):q.toString(36)}function nt(L,q,me,be,Se){var ye=typeof L;(ye==="undefined"||ye==="boolean")&&(L=null);var Me=!1;if(L===null)Me=!0;else switch(ye){case"string":case"number":Me=!0;break;case"object":switch(L.$$typeof){case e:case t:Me=!0}}if(Me)return Me=L,Se=Se(Me),L=be===""?"."+qe(Me,0):be,U(Se)?(me="",L!=null&&(me=L.replace(tt,"$&/")+"/"),nt(Se,q,me,"",function(_e){return _e})):Se!=null&&(ve(Se)&&(Se=ce(Se,me+(!Se.key||Me&&Me.key===Se.key?"":(""+Se.key).replace(tt,"$&/")+"/")+L)),q.push(Se)),1;if(Me=0,be=be===""?".":be+":",U(L))for(var Ae=0;Ae<L.length;Ae++){ye=L[Ae];var Oe=be+qe(ye,Ae);Me+=nt(ye,q,me,Oe,Se)}else if(Oe=x(L),typeof Oe=="function")for(L=Oe.call(L),Ae=0;!(ye=L.next()).done;)ye=ye.value,Oe=be+qe(ye,Ae++),Me+=nt(ye,q,me,Oe,Se);else if(ye==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Me}function Ct(L,q,me){if(L==null)return L;var be=[],Se=0;return nt(L,be,"","",function(ye){return q.call(me,ye,Se++)}),be}function lt(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(me){(L._status===0||L._status===-1)&&(L._status=1,L._result=me)},function(me){(L._status===0||L._status===-1)&&(L._status=2,L._result=me)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var ke={current:null},te={transition:null},le={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:te,ReactCurrentOwner:ee};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Ct,forEach:function(L,q,me){Ct(L,function(){q.apply(this,arguments)},me)},count:function(L){var q=0;return Ct(L,function(){q++}),q},toArray:function(L){return Ct(L,function(q){return q})||[]},only:function(L){if(!ve(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=k,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=H,Ce.StrictMode=r,Ce.Suspense=f,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ce.act=ne,Ce.cloneElement=function(L,q,me){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var be=w({},L.props),Se=L.key,ye=L.ref,Me=L._owner;if(q!=null){if(q.ref!==void 0&&(ye=q.ref,Me=ee.current),q.key!==void 0&&(Se=""+q.key),L.type&&L.type.defaultProps)var Ae=L.type.defaultProps;for(Oe in q)W.call(q,Oe)&&!se.hasOwnProperty(Oe)&&(be[Oe]=q[Oe]===void 0&&Ae!==void 0?Ae[Oe]:q[Oe])}var Oe=arguments.length-2;if(Oe===1)be.children=me;else if(1<Oe){Ae=Array(Oe);for(var _e=0;_e<Oe;_e++)Ae[_e]=arguments[_e+2];be.children=Ae}return{$$typeof:e,type:L.type,key:Se,ref:ye,props:be,_owner:Me}},Ce.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},Ce.createElement=Z,Ce.createFactory=function(L){var q=Z.bind(null,L);return q.type=L,q},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:d,render:L}},Ce.isValidElement=ve,Ce.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:lt}},Ce.memo=function(L,q){return{$$typeof:h,type:L,compare:q===void 0?null:q}},Ce.startTransition=function(L){var q=te.transition;te.transition={};try{L()}finally{te.transition=q}},Ce.unstable_act=ne,Ce.useCallback=function(L,q){return ke.current.useCallback(L,q)},Ce.useContext=function(L){return ke.current.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L){return ke.current.useDeferredValue(L)},Ce.useEffect=function(L,q){return ke.current.useEffect(L,q)},Ce.useId=function(){return ke.current.useId()},Ce.useImperativeHandle=function(L,q,me){return ke.current.useImperativeHandle(L,q,me)},Ce.useInsertionEffect=function(L,q){return ke.current.useInsertionEffect(L,q)},Ce.useLayoutEffect=function(L,q){return ke.current.useLayoutEffect(L,q)},Ce.useMemo=function(L,q){return ke.current.useMemo(L,q)},Ce.useReducer=function(L,q,me){return ke.current.useReducer(L,q,me)},Ce.useRef=function(L){return ke.current.useRef(L)},Ce.useState=function(L){return ke.current.useState(L)},Ce.useSyncExternalStore=function(L,q,me){return ke.current.useSyncExternalStore(L,q,me)},Ce.useTransition=function(){return ke.current.useTransition()},Ce.version="18.3.1",Ce}var Cm;function Xf(){return Cm||(Cm=1,Md.exports=C_()),Md.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function N_(){if(Nm)return Ca;Nm=1;var e=Xf(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(d,f,h){var g,y={},x=null,v=null;h!==void 0&&(x=""+h),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(v=f.ref);for(g in f)r.call(f,g)&&!u.hasOwnProperty(g)&&(y[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:t,type:d,key:x,ref:v,props:y,_owner:a.current}}return Ca.Fragment=n,Ca.jsx=l,Ca.jsxs=l,Ca}var km;function k_(){return km||(km=1,Pd.exports=N_()),Pd.exports}var b=k_(),T=Xf();const en=Kf(T);var qo={},Fd={exports:{}},Kt={},Bd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function I_(){return Im||(Im=1,function(e){function t(te,le){var ne=te.length;te.push(le);e:for(;0<ne;){var L=ne-1>>>1,q=te[L];if(0<a(q,le))te[L]=le,te[ne]=q,ne=L;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var le=te[0],ne=te.pop();if(ne!==le){te[0]=ne;e:for(var L=0,q=te.length,me=q>>>1;L<me;){var be=2*(L+1)-1,Se=te[be],ye=be+1,Me=te[ye];if(0>a(Se,ne))ye<q&&0>a(Me,Se)?(te[L]=Me,te[ye]=ne,L=ye):(te[L]=Se,te[be]=ne,L=be);else if(ye<q&&0>a(Me,ne))te[L]=Me,te[ye]=ne,L=ye;else break e}}return le}function a(te,le){var ne=te.sortIndex-le.sortIndex;return ne!==0?ne:te.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],g=1,y=null,x=3,v=!1,w=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(te){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=te)r(h),le.sortIndex=le.expirationTime,t(f,le);else break;le=n(h)}}function U(te){if(C=!1,F(te),!w)if(n(f)!==null)w=!0,lt(W);else{var le=n(h);le!==null&&ke(U,le.startTime-te)}}function W(te,le){w=!1,C&&(C=!1,O(Z),Z=-1),v=!0;var ne=x;try{for(F(le),y=n(f);y!==null&&(!(y.expirationTime>le)||te&&!Ie());){var L=y.callback;if(typeof L=="function"){y.callback=null,x=y.priorityLevel;var q=L(y.expirationTime<=le);le=e.unstable_now(),typeof q=="function"?y.callback=q:y===n(f)&&r(f),F(le)}else r(f);y=n(f)}if(y!==null)var me=!0;else{var be=n(h);be!==null&&ke(U,be.startTime-le),me=!1}return me}finally{y=null,x=ne,v=!1}}var ee=!1,se=null,Z=-1,ce=5,ve=-1;function Ie(){return!(e.unstable_now()-ve<ce)}function tt(){if(se!==null){var te=e.unstable_now();ve=te;var le=!0;try{le=se(!0,te)}finally{le?qe():(ee=!1,se=null)}}else ee=!1}var qe;if(typeof H=="function")qe=function(){H(tt)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,Ct=nt.port2;nt.port1.onmessage=tt,qe=function(){Ct.postMessage(null)}}else qe=function(){k(tt,0)};function lt(te){se=te,ee||(ee=!0,qe())}function ke(te,le){Z=k(function(){te(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,lt(W))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(te){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ne=x;x=le;try{return te()}finally{x=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,le){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ne=x;x=te;try{return le()}finally{x=ne}},e.unstable_scheduleCallback=function(te,le,ne){var L=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?L+ne:L):ne=L,te){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ne+q,te={id:g++,callback:le,priorityLevel:te,startTime:ne,expirationTime:q,sortIndex:-1},ne>L?(te.sortIndex=ne,t(h,te),n(f)===null&&te===n(h)&&(C?(O(Z),Z=-1):C=!0,ke(U,ne-L))):(te.sortIndex=q,t(f,te),w||v||(w=!0,lt(W))),te},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(te){var le=x;return function(){var ne=x;x=le;try{return te.apply(this,arguments)}finally{x=ne}}}}(Ud)),Ud}var Rm;function R_(){return Rm||(Rm=1,Bd.exports=I_()),Bd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function O_(){if(Om)return Kt;Om=1;var e=Xf(),t=R_();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function u(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(a[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(s){return f.call(y,s)?!0:f.call(g,s)?!1:h.test(s)?y[s]=!0:(g[s]=!0,!1)}function v(s,i,o,c){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,i,o,c){if(i===null||typeof i>"u"||v(s,i,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function C(s,i,o,c,m,E,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=s,this.type=i,this.sanitizeURL=E,this.removeEmptyString=_}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];k[i]=new C(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function H(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(O,H);k[i]=new C(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(O,H);k[i]=new C(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(O,H);k[i]=new C(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,i,o,c){var m=k.hasOwnProperty(i)?k[i]:null;(m!==null?m.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(w(i,o,m,c)&&(o=null),c||m===null?x(i)&&(o===null?s.removeAttribute(i):s.setAttribute(i,""+o)):m.mustUseProperty?s[m.propertyName]=o===null?m.type===3?!1:"":o:(i=m.attributeName,c=m.attributeNamespace,o===null?s.removeAttribute(i):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,c?s.setAttributeNS(c,i,o):s.setAttribute(i,o))))}var U=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),ee=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),te=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,L;function q(s){if(L===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||""}return`
`+L+s}var me=!1;function be(s,i){if(!s||me)return"";me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(j){var c=j}Reflect.construct(s,[],i)}else{try{i.call()}catch(j){c=j}s.call(i.prototype)}else{try{throw Error()}catch(j){c=j}s()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var m=j.stack.split(`
`),E=c.stack.split(`
`),_=m.length-1,N=E.length-1;1<=_&&0<=N&&m[_]!==E[N];)N--;for(;1<=_&&0<=N;_--,N--)if(m[_]!==E[N]){if(_!==1||N!==1)do if(_--,N--,0>N||m[_]!==E[N]){var R=`
`+m[_].replace(" at new "," at ");return s.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",s.displayName)),R}while(1<=_&&0<=N);break}}}finally{me=!1,Error.prepareStackTrace=o}return(s=s?s.displayName||s.name:"")?q(s):""}function Se(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function ye(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case se:return"Fragment";case ee:return"Portal";case ce:return"Profiler";case Z:return"StrictMode";case qe:return"Suspense";case nt:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ie:return(s.displayName||"Context")+".Consumer";case ve:return(s._context.displayName||"Context")+".Provider";case tt:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ct:return i=s.displayName||null,i!==null?i:ye(s.type)||"Memo";case lt:i=s._payload,s=s._init;try{return ye(s(i))}catch{}}return null}function Me(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(i);case 8:return i===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Oe(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _e(s){var i=Oe(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),c=""+s[i];if(!s.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,E=o.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(_){c=""+_,E.call(this,_)}}),Object.defineProperty(s,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Qn(s){s._valueTracker||(s._valueTracker=_e(s))}function sn(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return s&&(c=Oe(s)?s.checked?"true":"false":s.value),s=c,s!==o?(i.setValue(s),!0):!1}function An(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function an(s,i){var o=i.checked;return ne({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??s._wrapperState.initialChecked})}function lr(s,i){var o=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;o=Ae(i.value!=null?i.value:o),s._wrapperState={initialChecked:c,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function cr(s,i){i=i.checked,i!=null&&F(s,"checked",i,!1)}function $s(s,i){cr(s,i);var o=Ae(i.value),c=i.type;if(o!=null)c==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+o):s.value!==""+o&&(s.value=""+o);else if(c==="submit"||c==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?os(s,i.type,o):i.hasOwnProperty("defaultValue")&&os(s,i.type,Ae(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function ji(s,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,o||i===s.value||(s.value=i),s.defaultValue=i}o=s.name,o!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,o!==""&&(s.name=o)}function os(s,i,o){(i!=="number"||An(s.ownerDocument)!==s)&&(o==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+o&&(s.defaultValue=""+o))}var $t=Array.isArray;function Cn(s,i,o,c){if(s=s.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=i.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&c&&(s[o].defaultSelected=!0)}else{for(o=""+Ae(o),i=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Ar(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Hi(s,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(n(92));if($t(o)){if(1<o.length)throw Error(n(93));o=o[0]}i=o}i==null&&(i=""),o=i}s._wrapperState={initialValue:Ae(o)}}function $i(s,i){var o=Ae(i.value),c=Ae(i.defaultValue);o!=null&&(o=""+o,o!==s.value&&(s.value=o),i.defaultValue==null&&s.defaultValue!==o&&(s.defaultValue=o)),c!=null&&(s.defaultValue=""+c)}function Du(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Lu(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gn(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Lu(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Nn,Cr=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,c,m){MSApp.execUnsafeLocalFunction(function(){return s(i,o,c,m)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Nn=Nn||document.createElement("div"),Nn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Nn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Nr(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pu=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(s){Pu.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),zt[i]=zt[s]})});function Mu(s,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||zt.hasOwnProperty(s)&&zt[s]?(""+i).trim():i+"px"}function Fu(s,i){s=s.style;for(var o in i)if(i.hasOwnProperty(o)){var c=o.indexOf("--")===0,m=Mu(o,i[o],c);o==="float"&&(o="cssFloat"),c?s.setProperty(o,m):s[o]=m}}var zi=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zs(s,i){if(i){if(zi[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function qi(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=null;function Wi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yi=null,kr=null,Ke=null;function Nt(s){if(s=fa(s)){if(typeof Yi!="function")throw Error(n(280));var i=s.stateNode;i&&(i=so(i),Yi(s.stateNode,s.type,i))}}function kt(s){kr?Ke?Ke.push(s):Ke=[s]:kr=s}function kn(){if(kr){var s=kr,i=Ke;if(Ke=kr=null,Nt(s),i)for(s=0;s<i.length;s++)Nt(i[s])}}function Bt(s,i){return s(i)}function It(){}var qt=!1;function dr(s,i,o){if(qt)return s(i,o);qt=!0;try{return Bt(s,i,o)}finally{qt=!1,(kr!==null||Ke!==null)&&(It(),kn())}}function Xe(s,i){var o=s.stateNode;if(o===null)return null;var c=so(o);if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(n(231,i,typeof o));return o}var mn=!1;if(d)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{mn=!1}function In(s,i,o,c,m,E,_,N,R){var j=Array.prototype.slice.call(arguments,3);try{i.apply(o,j)}catch(Q){this.onError(Q)}}var Rn=!1,Kn=null,un=!1,fr=null,Vi={onError:function(s){Rn=!0,Kn=s}};function Py(s,i,o,c,m,E,_,N,R){Rn=!1,Kn=null,In.apply(Vi,arguments)}function My(s,i,o,c,m,E,_,N,R){if(Py.apply(this,arguments),Rn){if(Rn){var j=Kn;Rn=!1,Kn=null}else throw Error(n(198));un||(un=!0,fr=j)}}function ls(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,i.flags&4098&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function Gh(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Kh(s){if(ls(s)!==s)throw Error(n(188))}function Fy(s){var i=s.alternate;if(!i){if(i=ls(s),i===null)throw Error(n(188));return i!==s?null:s}for(var o=s,c=i;;){var m=o.return;if(m===null)break;var E=m.alternate;if(E===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===E.child){for(E=m.child;E;){if(E===o)return Kh(m),s;if(E===c)return Kh(m),i;E=E.sibling}throw Error(n(188))}if(o.return!==c.return)o=m,c=E;else{for(var _=!1,N=m.child;N;){if(N===o){_=!0,o=m,c=E;break}if(N===c){_=!0,c=m,o=E;break}N=N.sibling}if(!_){for(N=E.child;N;){if(N===o){_=!0,o=E,c=m;break}if(N===c){_=!0,c=E,o=m;break}N=N.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?s:i}function Xh(s){return s=Fy(s),s!==null?Jh(s):null}function Jh(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Jh(s);if(i!==null)return i;s=s.sibling}return null}var Zh=t.unstable_scheduleCallback,e0=t.unstable_cancelCallback,By=t.unstable_shouldYield,Uy=t.unstable_requestPaint,st=t.unstable_now,jy=t.unstable_getCurrentPriorityLevel,tc=t.unstable_ImmediatePriority,t0=t.unstable_UserBlockingPriority,Bu=t.unstable_NormalPriority,Hy=t.unstable_LowPriority,n0=t.unstable_IdlePriority,Uu=null,Xn=null;function $y(s){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Uu,s,void 0,(s.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:Wy,zy=Math.log,qy=Math.LN2;function Wy(s){return s>>>=0,s===0?32:31-(zy(s)/qy|0)|0}var ju=64,Hu=4194304;function Qi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $u(s,i){var o=s.pendingLanes;if(o===0)return 0;var c=0,m=s.suspendedLanes,E=s.pingedLanes,_=o&268435455;if(_!==0){var N=_&~m;N!==0?c=Qi(N):(E&=_,E!==0&&(c=Qi(E)))}else _=o&~m,_!==0?c=Qi(_):E!==0&&(c=Qi(E));if(c===0)return 0;if(i!==0&&i!==c&&!(i&m)&&(m=c&-c,E=i&-i,m>=E||m===16&&(E&4194240)!==0))return i;if(c&4&&(c|=o&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=c;0<i;)o=31-On(i),m=1<<o,c|=s[o],i&=~m;return c}function Yy(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vy(s,i){for(var o=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,E=s.pendingLanes;0<E;){var _=31-On(E),N=1<<_,R=m[_];R===-1?(!(N&o)||N&c)&&(m[_]=Yy(N,i)):R<=i&&(s.expiredLanes|=N),E&=~N}}function nc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function r0(){var s=ju;return ju<<=1,!(ju&4194240)&&(ju=64),s}function rc(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function Gi(s,i,o){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-On(i),s[i]=o}function Qy(s,i){var o=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var c=s.eventTimes;for(s=s.expirationTimes;0<o;){var m=31-On(o),E=1<<m;i[m]=0,c[m]=-1,s[m]=-1,o&=~E}}function sc(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var c=31-On(o),m=1<<c;m&i|s[c]&i&&(s[c]|=i),o&=~m}}var Ue=0;function s0(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var i0,ic,a0,u0,o0,ac=!1,zu=[],Ir=null,Rr=null,Or=null,Ki=new Map,Xi=new Map,Dr=[],Gy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l0(s,i){switch(s){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Ki.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(i.pointerId)}}function Ji(s,i,o,c,m,E){return s===null||s.nativeEvent!==E?(s={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:E,targetContainers:[m]},i!==null&&(i=fa(i),i!==null&&ic(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function Ky(s,i,o,c,m){switch(i){case"focusin":return Ir=Ji(Ir,s,i,o,c,m),!0;case"dragenter":return Rr=Ji(Rr,s,i,o,c,m),!0;case"mouseover":return Or=Ji(Or,s,i,o,c,m),!0;case"pointerover":var E=m.pointerId;return Ki.set(E,Ji(Ki.get(E)||null,s,i,o,c,m)),!0;case"gotpointercapture":return E=m.pointerId,Xi.set(E,Ji(Xi.get(E)||null,s,i,o,c,m)),!0}return!1}function c0(s){var i=cs(s.target);if(i!==null){var o=ls(i);if(o!==null){if(i=o.tag,i===13){if(i=Gh(o),i!==null){s.blockedOn=i,o0(s.priority,function(){a0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function qu(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=oc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);qs=c,o.target.dispatchEvent(c),qs=null}else return i=fa(o),i!==null&&ic(i),s.blockedOn=o,!1;i.shift()}return!0}function d0(s,i,o){qu(s)&&o.delete(i)}function Xy(){ac=!1,Ir!==null&&qu(Ir)&&(Ir=null),Rr!==null&&qu(Rr)&&(Rr=null),Or!==null&&qu(Or)&&(Or=null),Ki.forEach(d0),Xi.forEach(d0)}function Zi(s,i){s.blockedOn===i&&(s.blockedOn=null,ac||(ac=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xy)))}function ea(s){function i(m){return Zi(m,s)}if(0<zu.length){Zi(zu[0],s);for(var o=1;o<zu.length;o++){var c=zu[o];c.blockedOn===s&&(c.blockedOn=null)}}for(Ir!==null&&Zi(Ir,s),Rr!==null&&Zi(Rr,s),Or!==null&&Zi(Or,s),Ki.forEach(i),Xi.forEach(i),o=0;o<Dr.length;o++)c=Dr[o],c.blockedOn===s&&(c.blockedOn=null);for(;0<Dr.length&&(o=Dr[0],o.blockedOn===null);)c0(o),o.blockedOn===null&&Dr.shift()}var Ws=U.ReactCurrentBatchConfig,Wu=!0;function Jy(s,i,o,c){var m=Ue,E=Ws.transition;Ws.transition=null;try{Ue=1,uc(s,i,o,c)}finally{Ue=m,Ws.transition=E}}function Zy(s,i,o,c){var m=Ue,E=Ws.transition;Ws.transition=null;try{Ue=4,uc(s,i,o,c)}finally{Ue=m,Ws.transition=E}}function uc(s,i,o,c){if(Wu){var m=oc(s,i,o,c);if(m===null)Sc(s,i,c,Yu,o),l0(s,c);else if(Ky(m,s,i,o,c))c.stopPropagation();else if(l0(s,c),i&4&&-1<Gy.indexOf(s)){for(;m!==null;){var E=fa(m);if(E!==null&&i0(E),E=oc(s,i,o,c),E===null&&Sc(s,i,c,Yu,o),E===m)break;m=E}m!==null&&c.stopPropagation()}else Sc(s,i,c,null,o)}}var Yu=null;function oc(s,i,o,c){if(Yu=null,s=Wi(c),s=cs(s),s!==null)if(i=ls(s),i===null)s=null;else if(o=i.tag,o===13){if(s=Gh(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Yu=s,null}function f0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jy()){case tc:return 1;case t0:return 4;case Bu:case Hy:return 16;case n0:return 536870912;default:return 16}default:return 16}}var Lr=null,lc=null,Vu=null;function h0(){if(Vu)return Vu;var s,i=lc,o=i.length,c,m="value"in Lr?Lr.value:Lr.textContent,E=m.length;for(s=0;s<o&&i[s]===m[s];s++);var _=o-s;for(c=1;c<=_&&i[o-c]===m[E-c];c++);return Vu=m.slice(s,1<c?1-c:void 0)}function Qu(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Gu(){return!0}function p0(){return!1}function on(s){function i(o,c,m,E,_){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=E,this.target=_,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(o=s[N],this[N]=o?o(E):E[N]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Gu:p0,this.isPropagationStopped=p0,this}return ne(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),i}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=on(Ys),ta=ne({},Ys,{view:0,detail:0}),eT=on(ta),dc,fc,na,Ku=ne({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==na&&(na&&s.type==="mousemove"?(dc=s.screenX-na.screenX,fc=s.screenY-na.screenY):fc=dc=0,na=s),dc)},movementY:function(s){return"movementY"in s?s.movementY:fc}}),m0=on(Ku),tT=ne({},Ku,{dataTransfer:0}),nT=on(tT),rT=ne({},ta,{relatedTarget:0}),hc=on(rT),sT=ne({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),iT=on(sT),aT=ne({},Ys,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),uT=on(aT),oT=ne({},Ys,{data:0}),g0=on(oT),lT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fT(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=dT[s])?!!i[s]:!1}function pc(){return fT}var hT=ne({},ta,{key:function(s){if(s.key){var i=lT[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Qu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cT[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(s){return s.type==="keypress"?Qu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),pT=on(hT),mT=ne({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E0=on(mT),gT=ne({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),ET=on(gT),bT=ne({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),yT=on(bT),TT=ne({},Ku,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_T=on(TT),xT=[9,13,27,32],mc=d&&"CompositionEvent"in window,ra=null;d&&"documentMode"in document&&(ra=document.documentMode);var wT=d&&"TextEvent"in window&&!ra,b0=d&&(!mc||ra&&8<ra&&11>=ra),y0=" ",T0=!1;function _0(s,i){switch(s){case"keyup":return xT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Vs=!1;function vT(s,i){switch(s){case"compositionend":return x0(i);case"keypress":return i.which!==32?null:(T0=!0,y0);case"textInput":return s=i.data,s===y0&&T0?null:s;default:return null}}function ST(s,i){if(Vs)return s==="compositionend"||!mc&&_0(s,i)?(s=h0(),Vu=lc=Lr=null,Vs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b0&&i.locale!=="ko"?null:i.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w0(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!AT[s.type]:i==="textarea"}function v0(s,i,o,c){kt(c),i=to(i,"onChange"),0<i.length&&(o=new cc("onChange","change",null,o,c),s.push({event:o,listeners:i}))}var sa=null,ia=null;function CT(s){$0(s,0)}function Xu(s){var i=Js(s);if(sn(i))return s}function NT(s,i){if(s==="change")return i}var S0=!1;if(d){var gc;if(d){var Ec="oninput"in document;if(!Ec){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),Ec=typeof A0.oninput=="function"}gc=Ec}else gc=!1;S0=gc&&(!document.documentMode||9<document.documentMode)}function C0(){sa&&(sa.detachEvent("onpropertychange",N0),ia=sa=null)}function N0(s){if(s.propertyName==="value"&&Xu(ia)){var i=[];v0(i,ia,s,Wi(s)),dr(CT,i)}}function kT(s,i,o){s==="focusin"?(C0(),sa=i,ia=o,sa.attachEvent("onpropertychange",N0)):s==="focusout"&&C0()}function IT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xu(ia)}function RT(s,i){if(s==="click")return Xu(i)}function OT(s,i){if(s==="input"||s==="change")return Xu(i)}function DT(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Dn=typeof Object.is=="function"?Object.is:DT;function aa(s,i){if(Dn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!f.call(i,m)||!Dn(s[m],i[m]))return!1}return!0}function k0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function I0(s,i){var o=k0(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=i&&c>=i)return{node:o,offset:i-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=k0(o)}}function R0(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?R0(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function O0(){for(var s=window,i=An();i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=An(s.document)}return i}function bc(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function LT(s){var i=O0(),o=s.focusedElem,c=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&R0(o.ownerDocument.documentElement,o)){if(c!==null&&bc(o)){if(i=c.start,s=c.end,s===void 0&&(s=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(s,o.value.length);else if(s=(i=o.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var m=o.textContent.length,E=Math.min(c.start,m);c=c.end===void 0?E:Math.min(c.end,m),!s.extend&&E>c&&(m=c,c=E,E=m),m=I0(o,E);var _=I0(o,c);m&&_&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),s.removeAllRanges(),E>c?(s.addRange(i),s.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),s.addRange(i)))}}for(i=[],s=o;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)s=i[o],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var PT=d&&"documentMode"in document&&11>=document.documentMode,Qs=null,yc=null,ua=null,Tc=!1;function D0(s,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Tc||Qs==null||Qs!==An(c)||(c=Qs,"selectionStart"in c&&bc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ua&&aa(ua,c)||(ua=c,c=to(yc,"onSelect"),0<c.length&&(i=new cc("onSelect","select",null,i,o),s.push({event:i,listeners:c}),i.target=Qs)))}function Ju(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var Gs={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},_c={},L0={};d&&(L0=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Zu(s){if(_c[s])return _c[s];if(!Gs[s])return s;var i=Gs[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in L0)return _c[s]=i[o];return s}var P0=Zu("animationend"),M0=Zu("animationiteration"),F0=Zu("animationstart"),B0=Zu("transitionend"),U0=new Map,j0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(s,i){U0.set(s,i),u(i,[s])}for(var xc=0;xc<j0.length;xc++){var wc=j0[xc],MT=wc.toLowerCase(),FT=wc[0].toUpperCase()+wc.slice(1);Pr(MT,"on"+FT)}Pr(P0,"onAnimationEnd"),Pr(M0,"onAnimationIteration"),Pr(F0,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(B0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function H0(s,i,o){var c=s.type||"unknown-event";s.currentTarget=o,My(c,i,void 0,s),s.currentTarget=null}function $0(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],m=c.event;c=c.listeners;e:{var E=void 0;if(i)for(var _=c.length-1;0<=_;_--){var N=c[_],R=N.instance,j=N.currentTarget;if(N=N.listener,R!==E&&m.isPropagationStopped())break e;H0(m,N,j),E=R}else for(_=0;_<c.length;_++){if(N=c[_],R=N.instance,j=N.currentTarget,N=N.listener,R!==E&&m.isPropagationStopped())break e;H0(m,N,j),E=R}}}if(un)throw s=fr,un=!1,fr=null,s}function We(s,i){var o=i[Rc];o===void 0&&(o=i[Rc]=new Set);var c=s+"__bubble";o.has(c)||(z0(i,s,2,!1),o.add(c))}function vc(s,i,o){var c=0;i&&(c|=4),z0(o,s,c,i)}var eo="_reactListening"+Math.random().toString(36).slice(2);function la(s){if(!s[eo]){s[eo]=!0,r.forEach(function(o){o!=="selectionchange"&&(BT.has(o)||vc(o,!1,s),vc(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[eo]||(i[eo]=!0,vc("selectionchange",!1,i))}}function z0(s,i,o,c){switch(f0(i)){case 1:var m=Jy;break;case 4:m=Zy;break;default:m=uc}o=m.bind(null,i,o,s),m=void 0,!mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(i,o,{capture:!0,passive:m}):s.addEventListener(i,o,!0):m!==void 0?s.addEventListener(i,o,{passive:m}):s.addEventListener(i,o,!1)}function Sc(s,i,o,c,m){var E=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var N=c.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(_===4)for(_=c.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===m||R.nodeType===8&&R.parentNode===m))return;_=_.return}for(;N!==null;){if(_=cs(N),_===null)return;if(R=_.tag,R===5||R===6){c=E=_;continue e}N=N.parentNode}}c=c.return}dr(function(){var j=E,Q=Wi(o),K=[];e:{var V=U0.get(s);if(V!==void 0){var re=cc,ae=s;switch(s){case"keypress":if(Qu(o)===0)break e;case"keydown":case"keyup":re=pT;break;case"focusin":ae="focus",re=hc;break;case"focusout":ae="blur",re=hc;break;case"beforeblur":case"afterblur":re=hc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=m0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=nT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=ET;break;case P0:case M0:case F0:re=iT;break;case B0:re=yT;break;case"scroll":re=eT;break;case"wheel":re=_T;break;case"copy":case"cut":case"paste":re=uT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E0}var ue=(i&4)!==0,it=!ue&&s==="scroll",M=ue?V!==null?V+"Capture":null:V;ue=[];for(var D=j,B;D!==null;){B=D;var J=B.stateNode;if(B.tag===5&&J!==null&&(B=J,M!==null&&(J=Xe(D,M),J!=null&&ue.push(ca(D,J,B)))),it)break;D=D.return}0<ue.length&&(V=new re(V,ae,null,o,Q),K.push({event:V,listeners:ue}))}}if(!(i&7)){e:{if(V=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",V&&o!==qs&&(ae=o.relatedTarget||o.fromElement)&&(cs(ae)||ae[hr]))break e;if((re||V)&&(V=Q.window===Q?Q:(V=Q.ownerDocument)?V.defaultView||V.parentWindow:window,re?(ae=o.relatedTarget||o.toElement,re=j,ae=ae?cs(ae):null,ae!==null&&(it=ls(ae),ae!==it||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=j),re!==ae)){if(ue=m0,J="onMouseLeave",M="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(ue=E0,J="onPointerLeave",M="onPointerEnter",D="pointer"),it=re==null?V:Js(re),B=ae==null?V:Js(ae),V=new ue(J,D+"leave",re,o,Q),V.target=it,V.relatedTarget=B,J=null,cs(Q)===j&&(ue=new ue(M,D+"enter",ae,o,Q),ue.target=B,ue.relatedTarget=it,J=ue),it=J,re&&ae)t:{for(ue=re,M=ae,D=0,B=ue;B;B=Ks(B))D++;for(B=0,J=M;J;J=Ks(J))B++;for(;0<D-B;)ue=Ks(ue),D--;for(;0<B-D;)M=Ks(M),B--;for(;D--;){if(ue===M||M!==null&&ue===M.alternate)break t;ue=Ks(ue),M=Ks(M)}ue=null}else ue=null;re!==null&&q0(K,V,re,ue,!1),ae!==null&&it!==null&&q0(K,it,ae,ue,!0)}}e:{if(V=j?Js(j):window,re=V.nodeName&&V.nodeName.toLowerCase(),re==="select"||re==="input"&&V.type==="file")var oe=NT;else if(w0(V))if(S0)oe=OT;else{oe=IT;var de=kT}else(re=V.nodeName)&&re.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(oe=RT);if(oe&&(oe=oe(s,j))){v0(K,oe,o,Q);break e}de&&de(s,V,j),s==="focusout"&&(de=V._wrapperState)&&de.controlled&&V.type==="number"&&os(V,"number",V.value)}switch(de=j?Js(j):window,s){case"focusin":(w0(de)||de.contentEditable==="true")&&(Qs=de,yc=j,ua=null);break;case"focusout":ua=yc=Qs=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,D0(K,o,Q);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":D0(K,o,Q)}var fe;if(mc)e:{switch(s){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Vs?_0(s,o)&&(ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(ge="onCompositionStart");ge&&(b0&&o.locale!=="ko"&&(Vs||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Vs&&(fe=h0()):(Lr=Q,lc="value"in Lr?Lr.value:Lr.textContent,Vs=!0)),de=to(j,ge),0<de.length&&(ge=new g0(ge,s,null,o,Q),K.push({event:ge,listeners:de}),fe?ge.data=fe:(fe=x0(o),fe!==null&&(ge.data=fe)))),(fe=wT?vT(s,o):ST(s,o))&&(j=to(j,"onBeforeInput"),0<j.length&&(Q=new g0("onBeforeInput","beforeinput",null,o,Q),K.push({event:Q,listeners:j}),Q.data=fe))}$0(K,i)})}function ca(s,i,o){return{instance:s,listener:i,currentTarget:o}}function to(s,i){for(var o=i+"Capture",c=[];s!==null;){var m=s,E=m.stateNode;m.tag===5&&E!==null&&(m=E,E=Xe(s,o),E!=null&&c.unshift(ca(s,E,m)),E=Xe(s,i),E!=null&&c.push(ca(s,E,m))),s=s.return}return c}function Ks(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function q0(s,i,o,c,m){for(var E=i._reactName,_=[];o!==null&&o!==c;){var N=o,R=N.alternate,j=N.stateNode;if(R!==null&&R===c)break;N.tag===5&&j!==null&&(N=j,m?(R=Xe(o,E),R!=null&&_.unshift(ca(o,R,N))):m||(R=Xe(o,E),R!=null&&_.push(ca(o,R,N)))),o=o.return}_.length!==0&&s.push({event:i,listeners:_})}var UT=/\r\n?/g,jT=/\u0000|\uFFFD/g;function W0(s){return(typeof s=="string"?s:""+s).replace(UT,`
`).replace(jT,"")}function no(s,i,o){if(i=W0(i),W0(s)!==i&&o)throw Error(n(425))}function ro(){}var Ac=null,Cc=null;function Nc(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kc=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,$T=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(s){return Y0.resolve(null).then(s).catch(zT)}:kc;function zT(s){setTimeout(function(){throw s})}function Ic(s,i){var o=i,c=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(c===0){s.removeChild(m),ea(i);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=m}while(o);ea(i)}function Mr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function V0(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return s;i--}else o==="/$"&&i++}s=s.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Xs,da="__reactProps$"+Xs,hr="__reactContainer$"+Xs,Rc="__reactEvents$"+Xs,qT="__reactListeners$"+Xs,WT="__reactHandles$"+Xs;function cs(s){var i=s[Jn];if(i)return i;for(var o=s.parentNode;o;){if(i=o[hr]||o[Jn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=V0(s);s!==null;){if(o=s[Jn])return o;s=V0(s)}return i}s=o,o=s.parentNode}return null}function fa(s){return s=s[Jn]||s[hr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Js(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function so(s){return s[da]||null}var Oc=[],Zs=-1;function Fr(s){return{current:s}}function Ye(s){0>Zs||(s.current=Oc[Zs],Oc[Zs]=null,Zs--)}function He(s,i){Zs++,Oc[Zs]=s.current,s.current=i}var Br={},Ot=Fr(Br),Wt=Fr(!1),ds=Br;function ei(s,i){var o=s.type.contextTypes;if(!o)return Br;var c=s.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var m={},E;for(E in o)m[E]=i[E];return c&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=m),m}function Yt(s){return s=s.childContextTypes,s!=null}function io(){Ye(Wt),Ye(Ot)}function Q0(s,i,o){if(Ot.current!==Br)throw Error(n(168));He(Ot,i),He(Wt,o)}function G0(s,i,o){var c=s.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var m in c)if(!(m in i))throw Error(n(108,Me(s)||"Unknown",m));return ne({},o,c)}function ao(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Br,ds=Ot.current,He(Ot,s),He(Wt,Wt.current),!0}function K0(s,i,o){var c=s.stateNode;if(!c)throw Error(n(169));o?(s=G0(s,i,ds),c.__reactInternalMemoizedMergedChildContext=s,Ye(Wt),Ye(Ot),He(Ot,s)):Ye(Wt),He(Wt,o)}var pr=null,uo=!1,Dc=!1;function X0(s){pr===null?pr=[s]:pr.push(s)}function YT(s){uo=!0,X0(s)}function Ur(){if(!Dc&&pr!==null){Dc=!0;var s=0,i=Ue;try{var o=pr;for(Ue=1;s<o.length;s++){var c=o[s];do c=c(!0);while(c!==null)}pr=null,uo=!1}catch(m){throw pr!==null&&(pr=pr.slice(s+1)),Zh(tc,Ur),m}finally{Ue=i,Dc=!1}}return null}var ti=[],ni=0,oo=null,lo=0,gn=[],En=0,fs=null,mr=1,gr="";function hs(s,i){ti[ni++]=lo,ti[ni++]=oo,oo=s,lo=i}function J0(s,i,o){gn[En++]=mr,gn[En++]=gr,gn[En++]=fs,fs=s;var c=mr;s=gr;var m=32-On(c)-1;c&=~(1<<m),o+=1;var E=32-On(i)+m;if(30<E){var _=m-m%5;E=(c&(1<<_)-1).toString(32),c>>=_,m-=_,mr=1<<32-On(i)+m|o<<m|c,gr=E+s}else mr=1<<E|o<<m|c,gr=s}function Lc(s){s.return!==null&&(hs(s,1),J0(s,1,0))}function Pc(s){for(;s===oo;)oo=ti[--ni],ti[ni]=null,lo=ti[--ni],ti[ni]=null;for(;s===fs;)fs=gn[--En],gn[En]=null,gr=gn[--En],gn[En]=null,mr=gn[--En],gn[En]=null}var ln=null,cn=null,Ve=!1,Ln=null;function Z0(s,i){var o=_n(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=s,i=s.deletions,i===null?(s.deletions=[o],s.flags|=16):i.push(o)}function ep(s,i){switch(s.tag){case 5:var o=s.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,ln=s,cn=Mr(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,ln=s,cn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=fs!==null?{id:mr,overflow:gr}:null,s.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=_n(18,null,null,0),o.stateNode=i,o.return=s,s.child=o,ln=s,cn=null,!0):!1;default:return!1}}function Mc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Fc(s){if(Ve){var i=cn;if(i){var o=i;if(!ep(s,i)){if(Mc(s))throw Error(n(418));i=Mr(o.nextSibling);var c=ln;i&&ep(s,i)?Z0(c,o):(s.flags=s.flags&-4097|2,Ve=!1,ln=s)}}else{if(Mc(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ve=!1,ln=s}}}function tp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ln=s}function co(s){if(s!==ln)return!1;if(!Ve)return tp(s),Ve=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Nc(s.type,s.memoizedProps)),i&&(i=cn)){if(Mc(s))throw np(),Error(n(418));for(;i;)Z0(s,i),i=Mr(i.nextSibling)}if(tp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"){if(i===0){cn=Mr(s.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}s=s.nextSibling}cn=null}}else cn=ln?Mr(s.stateNode.nextSibling):null;return!0}function np(){for(var s=cn;s;)s=Mr(s.nextSibling)}function ri(){cn=ln=null,Ve=!1}function Bc(s){Ln===null?Ln=[s]:Ln.push(s)}var VT=U.ReactCurrentBatchConfig;function ha(s,i,o){if(s=o.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,s));var m=c,E=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===E?i.ref:(i=function(_){var N=m.refs;_===null?delete N[E]:N[E]=_},i._stringRef=E,i)}if(typeof s!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,s))}return s}function fo(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function rp(s){var i=s._init;return i(s._payload)}function sp(s){function i(M,D){if(s){var B=M.deletions;B===null?(M.deletions=[D],M.flags|=16):B.push(D)}}function o(M,D){if(!s)return null;for(;D!==null;)i(M,D),D=D.sibling;return null}function c(M,D){for(M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function m(M,D){return M=Vr(M,D),M.index=0,M.sibling=null,M}function E(M,D,B){return M.index=B,s?(B=M.alternate,B!==null?(B=B.index,B<D?(M.flags|=2,D):B):(M.flags|=2,D)):(M.flags|=1048576,D)}function _(M){return s&&M.alternate===null&&(M.flags|=2),M}function N(M,D,B,J){return D===null||D.tag!==6?(D=kd(B,M.mode,J),D.return=M,D):(D=m(D,B),D.return=M,D)}function R(M,D,B,J){var oe=B.type;return oe===se?Q(M,D,B.props.children,J,B.key):D!==null&&(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===lt&&rp(oe)===D.type)?(J=m(D,B.props),J.ref=ha(M,D,B),J.return=M,J):(J=Mo(B.type,B.key,B.props,null,M.mode,J),J.ref=ha(M,D,B),J.return=M,J)}function j(M,D,B,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Id(B,M.mode,J),D.return=M,D):(D=m(D,B.children||[]),D.return=M,D)}function Q(M,D,B,J,oe){return D===null||D.tag!==7?(D=_s(B,M.mode,J,oe),D.return=M,D):(D=m(D,B),D.return=M,D)}function K(M,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return D=kd(""+D,M.mode,B),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case W:return B=Mo(D.type,D.key,D.props,null,M.mode,B),B.ref=ha(M,null,D),B.return=M,B;case ee:return D=Id(D,M.mode,B),D.return=M,D;case lt:var J=D._init;return K(M,J(D._payload),B)}if($t(D)||le(D))return D=_s(D,M.mode,B,null),D.return=M,D;fo(M,D)}return null}function V(M,D,B,J){var oe=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return oe!==null?null:N(M,D,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case W:return B.key===oe?R(M,D,B,J):null;case ee:return B.key===oe?j(M,D,B,J):null;case lt:return oe=B._init,V(M,D,oe(B._payload),J)}if($t(B)||le(B))return oe!==null?null:Q(M,D,B,J,null);fo(M,B)}return null}function re(M,D,B,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return M=M.get(B)||null,N(D,M,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case W:return M=M.get(J.key===null?B:J.key)||null,R(D,M,J,oe);case ee:return M=M.get(J.key===null?B:J.key)||null,j(D,M,J,oe);case lt:var de=J._init;return re(M,D,B,de(J._payload),oe)}if($t(J)||le(J))return M=M.get(B)||null,Q(D,M,J,oe,null);fo(D,J)}return null}function ae(M,D,B,J){for(var oe=null,de=null,fe=D,ge=D=0,gt=null;fe!==null&&ge<B.length;ge++){fe.index>ge?(gt=fe,fe=null):gt=fe.sibling;var Pe=V(M,fe,B[ge],J);if(Pe===null){fe===null&&(fe=gt);break}s&&fe&&Pe.alternate===null&&i(M,fe),D=E(Pe,D,ge),de===null?oe=Pe:de.sibling=Pe,de=Pe,fe=gt}if(ge===B.length)return o(M,fe),Ve&&hs(M,ge),oe;if(fe===null){for(;ge<B.length;ge++)fe=K(M,B[ge],J),fe!==null&&(D=E(fe,D,ge),de===null?oe=fe:de.sibling=fe,de=fe);return Ve&&hs(M,ge),oe}for(fe=c(M,fe);ge<B.length;ge++)gt=re(fe,M,ge,B[ge],J),gt!==null&&(s&&gt.alternate!==null&&fe.delete(gt.key===null?ge:gt.key),D=E(gt,D,ge),de===null?oe=gt:de.sibling=gt,de=gt);return s&&fe.forEach(function(Qr){return i(M,Qr)}),Ve&&hs(M,ge),oe}function ue(M,D,B,J){var oe=le(B);if(typeof oe!="function")throw Error(n(150));if(B=oe.call(B),B==null)throw Error(n(151));for(var de=oe=null,fe=D,ge=D=0,gt=null,Pe=B.next();fe!==null&&!Pe.done;ge++,Pe=B.next()){fe.index>ge?(gt=fe,fe=null):gt=fe.sibling;var Qr=V(M,fe,Pe.value,J);if(Qr===null){fe===null&&(fe=gt);break}s&&fe&&Qr.alternate===null&&i(M,fe),D=E(Qr,D,ge),de===null?oe=Qr:de.sibling=Qr,de=Qr,fe=gt}if(Pe.done)return o(M,fe),Ve&&hs(M,ge),oe;if(fe===null){for(;!Pe.done;ge++,Pe=B.next())Pe=K(M,Pe.value,J),Pe!==null&&(D=E(Pe,D,ge),de===null?oe=Pe:de.sibling=Pe,de=Pe);return Ve&&hs(M,ge),oe}for(fe=c(M,fe);!Pe.done;ge++,Pe=B.next())Pe=re(fe,M,ge,Pe.value,J),Pe!==null&&(s&&Pe.alternate!==null&&fe.delete(Pe.key===null?ge:Pe.key),D=E(Pe,D,ge),de===null?oe=Pe:de.sibling=Pe,de=Pe);return s&&fe.forEach(function(S_){return i(M,S_)}),Ve&&hs(M,ge),oe}function it(M,D,B,J){if(typeof B=="object"&&B!==null&&B.type===se&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case W:e:{for(var oe=B.key,de=D;de!==null;){if(de.key===oe){if(oe=B.type,oe===se){if(de.tag===7){o(M,de.sibling),D=m(de,B.props.children),D.return=M,M=D;break e}}else if(de.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===lt&&rp(oe)===de.type){o(M,de.sibling),D=m(de,B.props),D.ref=ha(M,de,B),D.return=M,M=D;break e}o(M,de);break}else i(M,de);de=de.sibling}B.type===se?(D=_s(B.props.children,M.mode,J,B.key),D.return=M,M=D):(J=Mo(B.type,B.key,B.props,null,M.mode,J),J.ref=ha(M,D,B),J.return=M,M=J)}return _(M);case ee:e:{for(de=B.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){o(M,D.sibling),D=m(D,B.children||[]),D.return=M,M=D;break e}else{o(M,D);break}else i(M,D);D=D.sibling}D=Id(B,M.mode,J),D.return=M,M=D}return _(M);case lt:return de=B._init,it(M,D,de(B._payload),J)}if($t(B))return ae(M,D,B,J);if(le(B))return ue(M,D,B,J);fo(M,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,D!==null&&D.tag===6?(o(M,D.sibling),D=m(D,B),D.return=M,M=D):(o(M,D),D=kd(B,M.mode,J),D.return=M,M=D),_(M)):o(M,D)}return it}var si=sp(!0),ip=sp(!1),ho=Fr(null),po=null,ii=null,Uc=null;function jc(){Uc=ii=po=null}function Hc(s){var i=ho.current;Ye(ho),s._currentValue=i}function $c(s,i,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===o)break;s=s.return}}function ai(s,i){po=s,Uc=ii=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&i&&(Vt=!0),s.firstContext=null)}function bn(s){var i=s._currentValue;if(Uc!==s)if(s={context:s,memoizedValue:i,next:null},ii===null){if(po===null)throw Error(n(308));ii=s,po.dependencies={lanes:0,firstContext:s}}else ii=ii.next=s;return i}var ps=null;function zc(s){ps===null?ps=[s]:ps.push(s)}function ap(s,i,o,c){var m=i.interleaved;return m===null?(o.next=o,zc(i)):(o.next=m.next,m.next=o),i.interleaved=o,Er(s,c)}function Er(s,i){s.lanes|=i;var o=s.alternate;for(o!==null&&(o.lanes|=i),o=s,s=s.return;s!==null;)s.childLanes|=i,o=s.alternate,o!==null&&(o.childLanes|=i),o=s,s=s.return;return o.tag===3?o.stateNode:null}var jr=!1;function qc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function up(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function br(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Hr(s,i,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,De&2){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,Er(s,o)}return m=c.interleaved,m===null?(i.next=i,zc(c)):(i.next=m.next,m.next=i),c.interleaved=i,Er(s,o)}function mo(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,sc(s,o)}}function op(s,i){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,E=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};E===null?m=E=_:E=E.next=_,o=o.next}while(o!==null);E===null?m=E=i:E=E.next=i}else m=E=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:E,shared:c.shared,effects:c.effects},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}function go(s,i,o,c){var m=s.updateQueue;jr=!1;var E=m.firstBaseUpdate,_=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var R=N,j=R.next;R.next=null,_===null?E=j:_.next=j,_=R;var Q=s.alternate;Q!==null&&(Q=Q.updateQueue,N=Q.lastBaseUpdate,N!==_&&(N===null?Q.firstBaseUpdate=j:N.next=j,Q.lastBaseUpdate=R))}if(E!==null){var K=m.baseState;_=0,Q=j=R=null,N=E;do{var V=N.lane,re=N.eventTime;if((c&V)===V){Q!==null&&(Q=Q.next={eventTime:re,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ae=s,ue=N;switch(V=i,re=o,ue.tag){case 1:if(ae=ue.payload,typeof ae=="function"){K=ae.call(re,K,V);break e}K=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ue.payload,V=typeof ae=="function"?ae.call(re,K,V):ae,V==null)break e;K=ne({},K,V);break e;case 2:jr=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,V=m.effects,V===null?m.effects=[N]:V.push(N))}else re={eventTime:re,lane:V,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Q===null?(j=Q=re,R=K):Q=Q.next=re,_|=V;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;V=N,N=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);if(Q===null&&(R=K),m.baseState=R,m.firstBaseUpdate=j,m.lastBaseUpdate=Q,i=m.shared.interleaved,i!==null){m=i;do _|=m.lane,m=m.next;while(m!==i)}else E===null&&(m.shared.lanes=0);Es|=_,s.lanes=_,s.memoizedState=K}}function lp(s,i,o){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var c=s[i],m=c.callback;if(m!==null){if(c.callback=null,c=o,typeof m!="function")throw Error(n(191,m));m.call(c)}}}var pa={},Zn=Fr(pa),ma=Fr(pa),ga=Fr(pa);function ms(s){if(s===pa)throw Error(n(174));return s}function Wc(s,i){switch(He(ga,i),He(ma,s),He(Zn,pa),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Gn(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Gn(i,s)}Ye(Zn),He(Zn,i)}function ui(){Ye(Zn),Ye(ma),Ye(ga)}function cp(s){ms(ga.current);var i=ms(Zn.current),o=Gn(i,s.type);i!==o&&(He(ma,s),He(Zn,o))}function Yc(s){ma.current===s&&(Ye(Zn),Ye(ma))}var Je=Fr(0);function Eo(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vc=[];function Qc(){for(var s=0;s<Vc.length;s++)Vc[s]._workInProgressVersionPrimary=null;Vc.length=0}var bo=U.ReactCurrentDispatcher,Gc=U.ReactCurrentBatchConfig,gs=0,Ze=null,ct=null,pt=null,yo=!1,Ea=!1,ba=0,QT=0;function Dt(){throw Error(n(321))}function Kc(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Dn(s[o],i[o]))return!1;return!0}function Xc(s,i,o,c,m,E){if(gs=E,Ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,bo.current=s===null||s.memoizedState===null?JT:ZT,s=o(c,m),Ea){E=0;do{if(Ea=!1,ba=0,25<=E)throw Error(n(301));E+=1,pt=ct=null,i.updateQueue=null,bo.current=e_,s=o(c,m)}while(Ea)}if(bo.current=xo,i=ct!==null&&ct.next!==null,gs=0,pt=ct=Ze=null,yo=!1,i)throw Error(n(300));return s}function Jc(){var s=ba!==0;return ba=0,s}function er(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ze.memoizedState=pt=s:pt=pt.next=s,pt}function yn(){if(ct===null){var s=Ze.alternate;s=s!==null?s.memoizedState:null}else s=ct.next;var i=pt===null?Ze.memoizedState:pt.next;if(i!==null)pt=i,ct=s;else{if(s===null)throw Error(n(310));ct=s,s={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},pt===null?Ze.memoizedState=pt=s:pt=pt.next=s}return pt}function ya(s,i){return typeof i=="function"?i(s):i}function Zc(s){var i=yn(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=s;var c=ct,m=c.baseQueue,E=o.pending;if(E!==null){if(m!==null){var _=m.next;m.next=E.next,E.next=_}c.baseQueue=m=E,o.pending=null}if(m!==null){E=m.next,c=c.baseState;var N=_=null,R=null,j=E;do{var Q=j.lane;if((gs&Q)===Q)R!==null&&(R=R.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:s(c,j.action);else{var K={lane:Q,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};R===null?(N=R=K,_=c):R=R.next=K,Ze.lanes|=Q,Es|=Q}j=j.next}while(j!==null&&j!==E);R===null?_=c:R.next=N,Dn(c,i.memoizedState)||(Vt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=R,o.lastRenderedState=c}if(s=o.interleaved,s!==null){m=s;do E=m.lane,Ze.lanes|=E,Es|=E,m=m.next;while(m!==s)}else m===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function ed(s){var i=yn(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=s;var c=o.dispatch,m=o.pending,E=i.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do E=s(E,_.action),_=_.next;while(_!==m);Dn(E,i.memoizedState)||(Vt=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),o.lastRenderedState=E}return[E,c]}function dp(){}function fp(s,i){var o=Ze,c=yn(),m=i(),E=!Dn(c.memoizedState,m);if(E&&(c.memoizedState=m,Vt=!0),c=c.queue,td(mp.bind(null,o,c,s),[s]),c.getSnapshot!==i||E||pt!==null&&pt.memoizedState.tag&1){if(o.flags|=2048,Ta(9,pp.bind(null,o,c,m,i),void 0,null),mt===null)throw Error(n(349));gs&30||hp(o,i,m)}return m}function hp(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function pp(s,i,o,c){i.value=o,i.getSnapshot=c,gp(i)&&Ep(s)}function mp(s,i,o){return o(function(){gp(i)&&Ep(s)})}function gp(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Dn(s,o)}catch{return!0}}function Ep(s){var i=Er(s,1);i!==null&&Bn(i,s,1,-1)}function bp(s){var i=er();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:s},i.queue=s,s=s.dispatch=XT.bind(null,Ze,s),[i.memoizedState,s]}function Ta(s,i,o,c){return s={tag:s,create:i,destroy:o,deps:c,next:null},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.lastEffect=s.next=s):(o=i.lastEffect,o===null?i.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,i.lastEffect=s)),s}function yp(){return yn().memoizedState}function To(s,i,o,c){var m=er();Ze.flags|=s,m.memoizedState=Ta(1|i,o,void 0,c===void 0?null:c)}function _o(s,i,o,c){var m=yn();c=c===void 0?null:c;var E=void 0;if(ct!==null){var _=ct.memoizedState;if(E=_.destroy,c!==null&&Kc(c,_.deps)){m.memoizedState=Ta(i,o,E,c);return}}Ze.flags|=s,m.memoizedState=Ta(1|i,o,E,c)}function Tp(s,i){return To(8390656,8,s,i)}function td(s,i){return _o(2048,8,s,i)}function _p(s,i){return _o(4,2,s,i)}function xp(s,i){return _o(4,4,s,i)}function wp(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function vp(s,i,o){return o=o!=null?o.concat([s]):null,_o(4,4,wp.bind(null,i,s),o)}function nd(){}function Sp(s,i){var o=yn();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&Kc(i,c[1])?c[0]:(o.memoizedState=[s,i],s)}function Ap(s,i){var o=yn();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&Kc(i,c[1])?c[0]:(s=s(),o.memoizedState=[s,i],s)}function Cp(s,i,o){return gs&21?(Dn(o,i)||(o=r0(),Ze.lanes|=o,Es|=o,s.baseState=!0),i):(s.baseState&&(s.baseState=!1,Vt=!0),s.memoizedState=o)}function GT(s,i){var o=Ue;Ue=o!==0&&4>o?o:4,s(!0);var c=Gc.transition;Gc.transition={};try{s(!1),i()}finally{Ue=o,Gc.transition=c}}function Np(){return yn().memoizedState}function KT(s,i,o){var c=Wr(s);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},kp(s))Ip(i,o);else if(o=ap(s,i,o,c),o!==null){var m=jt();Bn(o,s,c,m),Rp(o,i,c)}}function XT(s,i,o){var c=Wr(s),m={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(kp(s))Ip(i,m);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var _=i.lastRenderedState,N=E(_,o);if(m.hasEagerState=!0,m.eagerState=N,Dn(N,_)){var R=i.interleaved;R===null?(m.next=m,zc(i)):(m.next=R.next,R.next=m),i.interleaved=m;return}}catch{}finally{}o=ap(s,i,m,c),o!==null&&(m=jt(),Bn(o,s,c,m),Rp(o,i,c))}}function kp(s){var i=s.alternate;return s===Ze||i!==null&&i===Ze}function Ip(s,i){Ea=yo=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function Rp(s,i,o){if(o&4194240){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,sc(s,o)}}var xo={readContext:bn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},JT={readContext:bn,useCallback:function(s,i){return er().memoizedState=[s,i===void 0?null:i],s},useContext:bn,useEffect:Tp,useImperativeHandle:function(s,i,o){return o=o!=null?o.concat([s]):null,To(4194308,4,wp.bind(null,i,s),o)},useLayoutEffect:function(s,i){return To(4194308,4,s,i)},useInsertionEffect:function(s,i){return To(4,2,s,i)},useMemo:function(s,i){var o=er();return i=i===void 0?null:i,s=s(),o.memoizedState=[s,i],s},useReducer:function(s,i,o){var c=er();return i=o!==void 0?o(i):i,c.memoizedState=c.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},c.queue=s,s=s.dispatch=KT.bind(null,Ze,s),[c.memoizedState,s]},useRef:function(s){var i=er();return s={current:s},i.memoizedState=s},useState:bp,useDebugValue:nd,useDeferredValue:function(s){return er().memoizedState=s},useTransition:function(){var s=bp(!1),i=s[0];return s=GT.bind(null,s[1]),er().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,o){var c=Ze,m=er();if(Ve){if(o===void 0)throw Error(n(407));o=o()}else{if(o=i(),mt===null)throw Error(n(349));gs&30||hp(c,i,o)}m.memoizedState=o;var E={value:o,getSnapshot:i};return m.queue=E,Tp(mp.bind(null,c,E,s),[s]),c.flags|=2048,Ta(9,pp.bind(null,c,E,o,i),void 0,null),o},useId:function(){var s=er(),i=mt.identifierPrefix;if(Ve){var o=gr,c=mr;o=(c&~(1<<32-On(c)-1)).toString(32)+o,i=":"+i+"R"+o,o=ba++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=QT++,i=":"+i+"r"+o.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},ZT={readContext:bn,useCallback:Sp,useContext:bn,useEffect:td,useImperativeHandle:vp,useInsertionEffect:_p,useLayoutEffect:xp,useMemo:Ap,useReducer:Zc,useRef:yp,useState:function(){return Zc(ya)},useDebugValue:nd,useDeferredValue:function(s){var i=yn();return Cp(i,ct.memoizedState,s)},useTransition:function(){var s=Zc(ya)[0],i=yn().memoizedState;return[s,i]},useMutableSource:dp,useSyncExternalStore:fp,useId:Np,unstable_isNewReconciler:!1},e_={readContext:bn,useCallback:Sp,useContext:bn,useEffect:td,useImperativeHandle:vp,useInsertionEffect:_p,useLayoutEffect:xp,useMemo:Ap,useReducer:ed,useRef:yp,useState:function(){return ed(ya)},useDebugValue:nd,useDeferredValue:function(s){var i=yn();return ct===null?i.memoizedState=s:Cp(i,ct.memoizedState,s)},useTransition:function(){var s=ed(ya)[0],i=yn().memoizedState;return[s,i]},useMutableSource:dp,useSyncExternalStore:fp,useId:Np,unstable_isNewReconciler:!1};function Pn(s,i){if(s&&s.defaultProps){i=ne({},i),s=s.defaultProps;for(var o in s)i[o]===void 0&&(i[o]=s[o]);return i}return i}function rd(s,i,o,c){i=s.memoizedState,o=o(c,i),o=o==null?i:ne({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var wo={isMounted:function(s){return(s=s._reactInternals)?ls(s)===s:!1},enqueueSetState:function(s,i,o){s=s._reactInternals;var c=jt(),m=Wr(s),E=br(c,m);E.payload=i,o!=null&&(E.callback=o),i=Hr(s,E,m),i!==null&&(Bn(i,s,m,c),mo(i,s,m))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var c=jt(),m=Wr(s),E=br(c,m);E.tag=1,E.payload=i,o!=null&&(E.callback=o),i=Hr(s,E,m),i!==null&&(Bn(i,s,m,c),mo(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=jt(),c=Wr(s),m=br(o,c);m.tag=2,i!=null&&(m.callback=i),i=Hr(s,m,c),i!==null&&(Bn(i,s,c,o),mo(i,s,c))}};function Op(s,i,o,c,m,E,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,E,_):i.prototype&&i.prototype.isPureReactComponent?!aa(o,c)||!aa(m,E):!0}function Dp(s,i,o){var c=!1,m=Br,E=i.contextType;return typeof E=="object"&&E!==null?E=bn(E):(m=Yt(i)?ds:Ot.current,c=i.contextTypes,E=(c=c!=null)?ei(s,m):Br),i=new i(o,E),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=wo,s.stateNode=i,i._reactInternals=s,c&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=E),i}function Lp(s,i,o,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==s&&wo.enqueueReplaceState(i,i.state,null)}function sd(s,i,o,c){var m=s.stateNode;m.props=o,m.state=s.memoizedState,m.refs={},qc(s);var E=i.contextType;typeof E=="object"&&E!==null?m.context=bn(E):(E=Yt(i)?ds:Ot.current,m.context=ei(s,E)),m.state=s.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(rd(s,i,E,o),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&wo.enqueueReplaceState(m,m.state,null),go(s,o,m,c),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function oi(s,i){try{var o="",c=i;do o+=Se(c),c=c.return;while(c);var m=o}catch(E){m=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:i,stack:m,digest:null}}function id(s,i,o){return{value:s,source:null,stack:o??null,digest:i??null}}function ad(s,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var t_=typeof WeakMap=="function"?WeakMap:Map;function Pp(s,i,o){o=br(-1,o),o.tag=3,o.payload={element:null};var c=i.value;return o.callback=function(){Io||(Io=!0,_d=c),ad(s,i)},o}function Mp(s,i,o){o=br(-1,o),o.tag=3;var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var m=i.value;o.payload=function(){return c(m)},o.callback=function(){ad(s,i)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(o.callback=function(){ad(s,i),typeof c!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),o}function Fp(s,i,o){var c=s.pingCache;if(c===null){c=s.pingCache=new t_;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(m.add(o),s=m_.bind(null,s,i,o),i.then(s,s))}function Bp(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Up(s,i,o,c,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===i?s.flags|=65536:(s.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=br(-1,1),i.tag=2,Hr(o,i,1))),o.lanes|=1),s)}var n_=U.ReactCurrentOwner,Vt=!1;function Ut(s,i,o,c){i.child=s===null?ip(i,null,o,c):si(i,s.child,o,c)}function jp(s,i,o,c,m){o=o.render;var E=i.ref;return ai(i,m),c=Xc(s,i,o,c,E,m),o=Jc(),s!==null&&!Vt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,yr(s,i,m)):(Ve&&o&&Lc(i),i.flags|=1,Ut(s,i,c,m),i.child)}function Hp(s,i,o,c,m){if(s===null){var E=o.type;return typeof E=="function"&&!Nd(E)&&E.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=E,$p(s,i,E,c,m)):(s=Mo(o.type,null,c,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(E=s.child,!(s.lanes&m)){var _=E.memoizedProps;if(o=o.compare,o=o!==null?o:aa,o(_,c)&&s.ref===i.ref)return yr(s,i,m)}return i.flags|=1,s=Vr(E,c),s.ref=i.ref,s.return=i,i.child=s}function $p(s,i,o,c,m){if(s!==null){var E=s.memoizedProps;if(aa(E,c)&&s.ref===i.ref)if(Vt=!1,i.pendingProps=c=E,(s.lanes&m)!==0)s.flags&131072&&(Vt=!0);else return i.lanes=s.lanes,yr(s,i,m)}return ud(s,i,o,c,m)}function zp(s,i,o){var c=i.pendingProps,m=c.children,E=s!==null?s.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(ci,dn),dn|=o;else{if(!(o&1073741824))return s=E!==null?E.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,He(ci,dn),dn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=E!==null?E.baseLanes:o,He(ci,dn),dn|=c}else E!==null?(c=E.baseLanes|o,i.memoizedState=null):c=o,He(ci,dn),dn|=c;return Ut(s,i,m,o),i.child}function qp(s,i){var o=i.ref;(s===null&&o!==null||s!==null&&s.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function ud(s,i,o,c,m){var E=Yt(o)?ds:Ot.current;return E=ei(i,E),ai(i,m),o=Xc(s,i,o,c,E,m),c=Jc(),s!==null&&!Vt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,yr(s,i,m)):(Ve&&c&&Lc(i),i.flags|=1,Ut(s,i,o,m),i.child)}function Wp(s,i,o,c,m){if(Yt(o)){var E=!0;ao(i)}else E=!1;if(ai(i,m),i.stateNode===null)So(s,i),Dp(i,o,c),sd(i,o,c,m),c=!0;else if(s===null){var _=i.stateNode,N=i.memoizedProps;_.props=N;var R=_.context,j=o.contextType;typeof j=="object"&&j!==null?j=bn(j):(j=Yt(o)?ds:Ot.current,j=ei(i,j));var Q=o.getDerivedStateFromProps,K=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function";K||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==c||R!==j)&&Lp(i,_,c,j),jr=!1;var V=i.memoizedState;_.state=V,go(i,c,_,m),R=i.memoizedState,N!==c||V!==R||Wt.current||jr?(typeof Q=="function"&&(rd(i,o,Q,c),R=i.memoizedState),(N=jr||Op(i,o,N,c,V,R,j))?(K||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=R),_.props=c,_.state=R,_.context=j,c=N):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,up(s,i),N=i.memoizedProps,j=i.type===i.elementType?N:Pn(i.type,N),_.props=j,K=i.pendingProps,V=_.context,R=o.contextType,typeof R=="object"&&R!==null?R=bn(R):(R=Yt(o)?ds:Ot.current,R=ei(i,R));var re=o.getDerivedStateFromProps;(Q=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==K||V!==R)&&Lp(i,_,c,R),jr=!1,V=i.memoizedState,_.state=V,go(i,c,_,m);var ae=i.memoizedState;N!==K||V!==ae||Wt.current||jr?(typeof re=="function"&&(rd(i,o,re,c),ae=i.memoizedState),(j=jr||Op(i,o,j,c,V,ae,R)||!1)?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ae,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ae,R)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===s.memoizedProps&&V===s.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&V===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ae),_.props=c,_.state=ae,_.context=R,c=j):(typeof _.componentDidUpdate!="function"||N===s.memoizedProps&&V===s.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&V===s.memoizedState||(i.flags|=1024),c=!1)}return od(s,i,o,c,E,m)}function od(s,i,o,c,m,E){qp(s,i);var _=(i.flags&128)!==0;if(!c&&!_)return m&&K0(i,o,!1),yr(s,i,E);c=i.stateNode,n_.current=i;var N=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,s!==null&&_?(i.child=si(i,s.child,null,E),i.child=si(i,null,N,E)):Ut(s,i,N,E),i.memoizedState=c.state,m&&K0(i,o,!0),i.child}function Yp(s){var i=s.stateNode;i.pendingContext?Q0(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Q0(s,i.context,!1),Wc(s,i.containerInfo)}function Vp(s,i,o,c,m){return ri(),Bc(m),i.flags|=256,Ut(s,i,o,c),i.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function cd(s){return{baseLanes:s,cachePool:null,transitions:null}}function Qp(s,i,o){var c=i.pendingProps,m=Je.current,E=!1,_=(i.flags&128)!==0,N;if((N=_)||(N=s!==null&&s.memoizedState===null?!1:(m&2)!==0),N?(E=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),He(Je,m&1),s===null)return Fc(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(i.mode&1?s.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,s=c.fallback,E?(c=i.mode,E=i.child,_={mode:"hidden",children:_},!(c&1)&&E!==null?(E.childLanes=0,E.pendingProps=_):E=Fo(_,c,0,null),s=_s(s,c,o,null),E.return=i,s.return=i,E.sibling=s,i.child=E,i.child.memoizedState=cd(o),i.memoizedState=ld,s):dd(i,_));if(m=s.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return r_(s,i,_,c,N,m,o);if(E){E=c.fallback,_=i.mode,m=s.child,N=m.sibling;var R={mode:"hidden",children:c.children};return!(_&1)&&i.child!==m?(c=i.child,c.childLanes=0,c.pendingProps=R,i.deletions=null):(c=Vr(m,R),c.subtreeFlags=m.subtreeFlags&14680064),N!==null?E=Vr(N,E):(E=_s(E,_,o,null),E.flags|=2),E.return=i,c.return=i,c.sibling=E,i.child=c,c=E,E=i.child,_=s.child.memoizedState,_=_===null?cd(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},E.memoizedState=_,E.childLanes=s.childLanes&~o,i.memoizedState=ld,c}return E=s.child,s=E.sibling,c=Vr(E,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=o),c.return=i,c.sibling=null,s!==null&&(o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)),i.child=c,i.memoizedState=null,c}function dd(s,i){return i=Fo({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function vo(s,i,o,c){return c!==null&&Bc(c),si(i,s.child,null,o),s=dd(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function r_(s,i,o,c,m,E,_){if(o)return i.flags&256?(i.flags&=-257,c=id(Error(n(422))),vo(s,i,_,c)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(E=c.fallback,m=i.mode,c=Fo({mode:"visible",children:c.children},m,0,null),E=_s(E,m,_,null),E.flags|=2,c.return=i,E.return=i,c.sibling=E,i.child=c,i.mode&1&&si(i,s.child,null,_),i.child.memoizedState=cd(_),i.memoizedState=ld,E);if(!(i.mode&1))return vo(s,i,_,null);if(m.data==="$!"){if(c=m.nextSibling&&m.nextSibling.dataset,c)var N=c.dgst;return c=N,E=Error(n(419)),c=id(E,c,void 0),vo(s,i,_,c)}if(N=(_&s.childLanes)!==0,Vt||N){if(c=mt,c!==null){switch(_&-_){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(c.suspendedLanes|_)?0:m,m!==0&&m!==E.retryLane&&(E.retryLane=m,Er(s,m),Bn(c,s,m,-1))}return Cd(),c=id(Error(n(421))),vo(s,i,_,c)}return m.data==="$?"?(i.flags|=128,i.child=s.child,i=g_.bind(null,s),m._reactRetry=i,null):(s=E.treeContext,cn=Mr(m.nextSibling),ln=i,Ve=!0,Ln=null,s!==null&&(gn[En++]=mr,gn[En++]=gr,gn[En++]=fs,mr=s.id,gr=s.overflow,fs=i),i=dd(i,c.children),i.flags|=4096,i)}function Gp(s,i,o){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),$c(s.return,i,o)}function fd(s,i,o,c,m){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=m)}function Kp(s,i,o){var c=i.pendingProps,m=c.revealOrder,E=c.tail;if(Ut(s,i,c.children,o),c=Je.current,c&2)c=c&1|2,i.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gp(s,o,i);else if(s.tag===19)Gp(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}if(He(Je,c),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(o=i.child,m=null;o!==null;)s=o.alternate,s!==null&&Eo(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),fd(i,!1,m,o,E);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&Eo(s)===null){i.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}fd(i,!0,o,null,E);break;case"together":fd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function So(s,i){!(i.mode&1)&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function yr(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),Es|=i.lanes,!(o&i.childLanes))return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,o=Vr(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Vr(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function s_(s,i,o){switch(i.tag){case 3:Yp(i),ri();break;case 5:cp(i);break;case 1:Yt(i.type)&&ao(i);break;case 4:Wc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,m=i.memoizedProps.value;He(ho,c._currentValue),c._currentValue=m;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(He(Je,Je.current&1),i.flags|=128,null):o&i.child.childLanes?Qp(s,i,o):(He(Je,Je.current&1),s=yr(s,i,o),s!==null?s.sibling:null);He(Je,Je.current&1);break;case 19:if(c=(o&i.childLanes)!==0,s.flags&128){if(c)return Kp(s,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),He(Je,Je.current),c)break;return null;case 22:case 23:return i.lanes=0,zp(s,i,o)}return yr(s,i,o)}var Xp,hd,Jp,Zp;Xp=function(s,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)s.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},hd=function(){},Jp=function(s,i,o,c){var m=s.memoizedProps;if(m!==c){s=i.stateNode,ms(Zn.current);var E=null;switch(o){case"input":m=an(s,m),c=an(s,c),E=[];break;case"select":m=ne({},m,{value:void 0}),c=ne({},c,{value:void 0}),E=[];break;case"textarea":m=Ar(s,m),c=Ar(s,c),E=[];break;default:typeof m.onClick!="function"&&typeof c.onClick=="function"&&(s.onclick=ro)}zs(o,c);var _;o=null;for(j in m)if(!c.hasOwnProperty(j)&&m.hasOwnProperty(j)&&m[j]!=null)if(j==="style"){var N=m[j];for(_ in N)N.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?E||(E=[]):(E=E||[]).push(j,null));for(j in c){var R=c[j];if(N=m?.[j],c.hasOwnProperty(j)&&R!==N&&(R!=null||N!=null))if(j==="style")if(N){for(_ in N)!N.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in R)R.hasOwnProperty(_)&&N[_]!==R[_]&&(o||(o={}),o[_]=R[_])}else o||(E||(E=[]),E.push(j,o)),o=R;else j==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,N=N?N.__html:void 0,R!=null&&N!==R&&(E=E||[]).push(j,R)):j==="children"?typeof R!="string"&&typeof R!="number"||(E=E||[]).push(j,""+R):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(a.hasOwnProperty(j)?(R!=null&&j==="onScroll"&&We("scroll",s),E||N===R||(E=[])):(E=E||[]).push(j,R))}o&&(E=E||[]).push("style",o);var j=E;(i.updateQueue=j)&&(i.flags|=4)}},Zp=function(s,i,o,c){o!==c&&(i.flags|=4)};function _a(s,i){if(!Ve)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Lt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(i)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&14680064,c|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=o,i}function i_(s,i,o){var c=i.pendingProps;switch(Pc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Yt(i.type)&&io(),Lt(i),null;case 3:return c=i.stateNode,ui(),Ye(Wt),Ye(Ot),Qc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(co(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Ln!==null&&(vd(Ln),Ln=null))),hd(s,i),Lt(i),null;case 5:Yc(i);var m=ms(ga.current);if(o=i.type,s!==null&&i.stateNode!=null)Jp(s,i,o,c,m),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(n(166));return Lt(i),null}if(s=ms(Zn.current),co(i)){c=i.stateNode,o=i.type;var E=i.memoizedProps;switch(c[Jn]=i,c[da]=E,s=(i.mode&1)!==0,o){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(m=0;m<oa.length;m++)We(oa[m],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":lr(c,E),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!E.multiple},We("invalid",c);break;case"textarea":Hi(c,E),We("invalid",c)}zs(o,E),m=null;for(var _ in E)if(E.hasOwnProperty(_)){var N=E[_];_==="children"?typeof N=="string"?c.textContent!==N&&(E.suppressHydrationWarning!==!0&&no(c.textContent,N,s),m=["children",N]):typeof N=="number"&&c.textContent!==""+N&&(E.suppressHydrationWarning!==!0&&no(c.textContent,N,s),m=["children",""+N]):a.hasOwnProperty(_)&&N!=null&&_==="onScroll"&&We("scroll",c)}switch(o){case"input":Qn(c),ji(c,E,!0);break;case"textarea":Qn(c),Du(c);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(c.onclick=ro)}c=m,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Lu(o)),s==="http://www.w3.org/1999/xhtml"?o==="script"?(s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof c.is=="string"?s=_.createElement(o,{is:c.is}):(s=_.createElement(o),o==="select"&&(_=s,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):s=_.createElementNS(s,o),s[Jn]=i,s[da]=c,Xp(s,i,!1,!1),i.stateNode=s;e:{switch(_=qi(o,c),o){case"dialog":We("cancel",s),We("close",s),m=c;break;case"iframe":case"object":case"embed":We("load",s),m=c;break;case"video":case"audio":for(m=0;m<oa.length;m++)We(oa[m],s);m=c;break;case"source":We("error",s),m=c;break;case"img":case"image":case"link":We("error",s),We("load",s),m=c;break;case"details":We("toggle",s),m=c;break;case"input":lr(s,c),m=an(s,c),We("invalid",s);break;case"option":m=c;break;case"select":s._wrapperState={wasMultiple:!!c.multiple},m=ne({},c,{value:void 0}),We("invalid",s);break;case"textarea":Hi(s,c),m=Ar(s,c),We("invalid",s);break;default:m=c}zs(o,m),N=m;for(E in N)if(N.hasOwnProperty(E)){var R=N[E];E==="style"?Fu(s,R):E==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Cr(s,R)):E==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&Nr(s,R):typeof R=="number"&&Nr(s,""+R):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?R!=null&&E==="onScroll"&&We("scroll",s):R!=null&&F(s,E,R,_))}switch(o){case"input":Qn(s),ji(s,c,!1);break;case"textarea":Qn(s),Du(s);break;case"option":c.value!=null&&s.setAttribute("value",""+Ae(c.value));break;case"select":s.multiple=!!c.multiple,E=c.value,E!=null?Cn(s,!!c.multiple,E,!1):c.defaultValue!=null&&Cn(s,!!c.multiple,c.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=ro)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Lt(i),null;case 6:if(s&&i.stateNode!=null)Zp(s,i,s.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(o=ms(ga.current),ms(Zn.current),co(i)){if(c=i.stateNode,o=i.memoizedProps,c[Jn]=i,(E=c.nodeValue!==o)&&(s=ln,s!==null))switch(s.tag){case 3:no(c.nodeValue,o,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&no(c.nodeValue,o,(s.mode&1)!==0)}E&&(i.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Jn]=i,i.stateNode=c}return Lt(i),null;case 13:if(Ye(Je),c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ve&&cn!==null&&i.mode&1&&!(i.flags&128))np(),ri(),i.flags|=98560,E=!1;else if(E=co(i),c!==null&&c.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=i.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Jn]=i}else ri(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Lt(i),E=!1}else Ln!==null&&(vd(Ln),Ln=null),E=!0;if(!E)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(c=c!==null,c!==(s!==null&&s.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(s===null||Je.current&1?dt===0&&(dt=3):Cd())),i.updateQueue!==null&&(i.flags|=4),Lt(i),null);case 4:return ui(),hd(s,i),s===null&&la(i.stateNode.containerInfo),Lt(i),null;case 10:return Hc(i.type._context),Lt(i),null;case 17:return Yt(i.type)&&io(),Lt(i),null;case 19:if(Ye(Je),E=i.memoizedState,E===null)return Lt(i),null;if(c=(i.flags&128)!==0,_=E.rendering,_===null)if(c)_a(E,!1);else{if(dt!==0||s!==null&&s.flags&128)for(s=i.child;s!==null;){if(_=Eo(s),_!==null){for(i.flags|=128,_a(E,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=o,o=i.child;o!==null;)E=o,s=c,E.flags&=14680066,_=E.alternate,_===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=_.childLanes,E.lanes=_.lanes,E.child=_.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=_.memoizedProps,E.memoizedState=_.memoizedState,E.updateQueue=_.updateQueue,E.type=_.type,s=_.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o=o.sibling;return He(Je,Je.current&1|2),i.child}s=s.sibling}E.tail!==null&&st()>di&&(i.flags|=128,c=!0,_a(E,!1),i.lanes=4194304)}else{if(!c)if(s=Eo(_),s!==null){if(i.flags|=128,c=!0,o=s.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),_a(E,!0),E.tail===null&&E.tailMode==="hidden"&&!_.alternate&&!Ve)return Lt(i),null}else 2*st()-E.renderingStartTime>di&&o!==1073741824&&(i.flags|=128,c=!0,_a(E,!1),i.lanes=4194304);E.isBackwards?(_.sibling=i.child,i.child=_):(o=E.last,o!==null?o.sibling=_:i.child=_,E.last=_)}return E.tail!==null?(i=E.tail,E.rendering=i,E.tail=i.sibling,E.renderingStartTime=st(),i.sibling=null,o=Je.current,He(Je,c?o&1|2:o&1),i):(Lt(i),null);case 22:case 23:return Ad(),c=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?dn&1073741824&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function a_(s,i){switch(Pc(i),i.tag){case 1:return Yt(i.type)&&io(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return ui(),Ye(Wt),Ye(Ot),Qc(),s=i.flags,s&65536&&!(s&128)?(i.flags=s&-65537|128,i):null;case 5:return Yc(i),null;case 13:if(Ye(Je),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ri()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Ye(Je),null;case 4:return ui(),null;case 10:return Hc(i.type._context),null;case 22:case 23:return Ad(),null;case 24:return null;default:return null}}var Ao=!1,Pt=!1,u_=typeof WeakSet=="function"?WeakSet:Set,ie=null;function li(s,i){var o=s.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){rt(s,i,c)}else o.current=null}function pd(s,i,o){try{o()}catch(c){rt(s,i,c)}}var em=!1;function o_(s,i){if(Ac=Wu,s=O0(),bc(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,E=c.focusNode;c=c.focusOffset;try{o.nodeType,E.nodeType}catch{o=null;break e}var _=0,N=-1,R=-1,j=0,Q=0,K=s,V=null;t:for(;;){for(var re;K!==o||m!==0&&K.nodeType!==3||(N=_+m),K!==E||c!==0&&K.nodeType!==3||(R=_+c),K.nodeType===3&&(_+=K.nodeValue.length),(re=K.firstChild)!==null;)V=K,K=re;for(;;){if(K===s)break t;if(V===o&&++j===m&&(N=_),V===E&&++Q===c&&(R=_),(re=K.nextSibling)!==null)break;K=V,V=K.parentNode}K=re}o=N===-1||R===-1?null:{start:N,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cc={focusedElem:s,selectionRange:o},Wu=!1,ie=i;ie!==null;)if(i=ie,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ie=s;else for(;ie!==null;){i=ie;try{var ae=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ue=ae.memoizedProps,it=ae.memoizedState,M=i.stateNode,D=M.getSnapshotBeforeUpdate(i.elementType===i.type?ue:Pn(i.type,ue),it);M.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){rt(i,i.return,J)}if(s=i.sibling,s!==null){s.return=i.return,ie=s;break}ie=i.return}return ae=em,em=!1,ae}function xa(s,i,o){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&s)===s){var E=m.destroy;m.destroy=void 0,E!==void 0&&pd(i,o,E)}m=m.next}while(m!==c)}}function Co(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&s)===s){var c=o.create;o.destroy=c()}o=o.next}while(o!==i)}}function md(s){var i=s.ref;if(i!==null){var o=s.stateNode;switch(s.tag){case 5:s=o;break;default:s=o}typeof i=="function"?i(s):i.current=s}}function tm(s){var i=s.alternate;i!==null&&(s.alternate=null,tm(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Jn],delete i[da],delete i[Rc],delete i[qT],delete i[WT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function nm(s){return s.tag===5||s.tag===3||s.tag===4}function rm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||nm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function gd(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(s,i):o.insertBefore(s,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(s,o)):(i=o,i.appendChild(s)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ro));else if(c!==4&&(s=s.child,s!==null))for(gd(s,i,o),s=s.sibling;s!==null;)gd(s,i,o),s=s.sibling}function Ed(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(c!==4&&(s=s.child,s!==null))for(Ed(s,i,o),s=s.sibling;s!==null;)Ed(s,i,o),s=s.sibling}var xt=null,Mn=!1;function $r(s,i,o){for(o=o.child;o!==null;)sm(s,i,o),o=o.sibling}function sm(s,i,o){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Uu,o)}catch{}switch(o.tag){case 5:Pt||li(o,i);case 6:var c=xt,m=Mn;xt=null,$r(s,i,o),xt=c,Mn=m,xt!==null&&(Mn?(s=xt,o=o.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):xt.removeChild(o.stateNode));break;case 18:xt!==null&&(Mn?(s=xt,o=o.stateNode,s.nodeType===8?Ic(s.parentNode,o):s.nodeType===1&&Ic(s,o),ea(s)):Ic(xt,o.stateNode));break;case 4:c=xt,m=Mn,xt=o.stateNode.containerInfo,Mn=!0,$r(s,i,o),xt=c,Mn=m;break;case 0:case 11:case 14:case 15:if(!Pt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){m=c=c.next;do{var E=m,_=E.destroy;E=E.tag,_!==void 0&&(E&2||E&4)&&pd(o,i,_),m=m.next}while(m!==c)}$r(s,i,o);break;case 1:if(!Pt&&(li(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(N){rt(o,i,N)}$r(s,i,o);break;case 21:$r(s,i,o);break;case 22:o.mode&1?(Pt=(c=Pt)||o.memoizedState!==null,$r(s,i,o),Pt=c):$r(s,i,o);break;default:$r(s,i,o)}}function im(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var o=s.stateNode;o===null&&(o=s.stateNode=new u_),i.forEach(function(c){var m=E_.bind(null,s,c);o.has(c)||(o.add(c),c.then(m,m))})}}function Fn(s,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];try{var E=s,_=i,N=_;e:for(;N!==null;){switch(N.tag){case 5:xt=N.stateNode,Mn=!1;break e;case 3:xt=N.stateNode.containerInfo,Mn=!0;break e;case 4:xt=N.stateNode.containerInfo,Mn=!0;break e}N=N.return}if(xt===null)throw Error(n(160));sm(E,_,m),xt=null,Mn=!1;var R=m.alternate;R!==null&&(R.return=null),m.return=null}catch(j){rt(m,i,j)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)am(i,s),i=i.sibling}function am(s,i){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Fn(i,s),tr(s),c&4){try{xa(3,s,s.return),Co(3,s)}catch(ue){rt(s,s.return,ue)}try{xa(5,s,s.return)}catch(ue){rt(s,s.return,ue)}}break;case 1:Fn(i,s),tr(s),c&512&&o!==null&&li(o,o.return);break;case 5:if(Fn(i,s),tr(s),c&512&&o!==null&&li(o,o.return),s.flags&32){var m=s.stateNode;try{Nr(m,"")}catch(ue){rt(s,s.return,ue)}}if(c&4&&(m=s.stateNode,m!=null)){var E=s.memoizedProps,_=o!==null?o.memoizedProps:E,N=s.type,R=s.updateQueue;if(s.updateQueue=null,R!==null)try{N==="input"&&E.type==="radio"&&E.name!=null&&cr(m,E),qi(N,_);var j=qi(N,E);for(_=0;_<R.length;_+=2){var Q=R[_],K=R[_+1];Q==="style"?Fu(m,K):Q==="dangerouslySetInnerHTML"?Cr(m,K):Q==="children"?Nr(m,K):F(m,Q,K,j)}switch(N){case"input":$s(m,E);break;case"textarea":$i(m,E);break;case"select":var V=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!E.multiple;var re=E.value;re!=null?Cn(m,!!E.multiple,re,!1):V!==!!E.multiple&&(E.defaultValue!=null?Cn(m,!!E.multiple,E.defaultValue,!0):Cn(m,!!E.multiple,E.multiple?[]:"",!1))}m[da]=E}catch(ue){rt(s,s.return,ue)}}break;case 6:if(Fn(i,s),tr(s),c&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,E=s.memoizedProps;try{m.nodeValue=E}catch(ue){rt(s,s.return,ue)}}break;case 3:if(Fn(i,s),tr(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ea(i.containerInfo)}catch(ue){rt(s,s.return,ue)}break;case 4:Fn(i,s),tr(s);break;case 13:Fn(i,s),tr(s),m=s.child,m.flags&8192&&(E=m.memoizedState!==null,m.stateNode.isHidden=E,!E||m.alternate!==null&&m.alternate.memoizedState!==null||(Td=st())),c&4&&im(s);break;case 22:if(Q=o!==null&&o.memoizedState!==null,s.mode&1?(Pt=(j=Pt)||Q,Fn(i,s),Pt=j):Fn(i,s),tr(s),c&8192){if(j=s.memoizedState!==null,(s.stateNode.isHidden=j)&&!Q&&s.mode&1)for(ie=s,Q=s.child;Q!==null;){for(K=ie=Q;ie!==null;){switch(V=ie,re=V.child,V.tag){case 0:case 11:case 14:case 15:xa(4,V,V.return);break;case 1:li(V,V.return);var ae=V.stateNode;if(typeof ae.componentWillUnmount=="function"){c=V,o=V.return;try{i=c,ae.props=i.memoizedProps,ae.state=i.memoizedState,ae.componentWillUnmount()}catch(ue){rt(c,o,ue)}}break;case 5:li(V,V.return);break;case 22:if(V.memoizedState!==null){lm(K);continue}}re!==null?(re.return=V,ie=re):lm(K)}Q=Q.sibling}e:for(Q=null,K=s;;){if(K.tag===5){if(Q===null){Q=K;try{m=K.stateNode,j?(E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(N=K.stateNode,R=K.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,N.style.display=Mu("display",_))}catch(ue){rt(s,s.return,ue)}}}else if(K.tag===6){if(Q===null)try{K.stateNode.nodeValue=j?"":K.memoizedProps}catch(ue){rt(s,s.return,ue)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===s)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===s)break e;for(;K.sibling===null;){if(K.return===null||K.return===s)break e;Q===K&&(Q=null),K=K.return}Q===K&&(Q=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Fn(i,s),tr(s),c&4&&im(s);break;case 21:break;default:Fn(i,s),tr(s)}}function tr(s){var i=s.flags;if(i&2){try{e:{for(var o=s.return;o!==null;){if(nm(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var m=c.stateNode;c.flags&32&&(Nr(m,""),c.flags&=-33);var E=rm(s);Ed(s,E,m);break;case 3:case 4:var _=c.stateNode.containerInfo,N=rm(s);gd(s,N,_);break;default:throw Error(n(161))}}catch(R){rt(s,s.return,R)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function l_(s,i,o){ie=s,um(s)}function um(s,i,o){for(var c=(s.mode&1)!==0;ie!==null;){var m=ie,E=m.child;if(m.tag===22&&c){var _=m.memoizedState!==null||Ao;if(!_){var N=m.alternate,R=N!==null&&N.memoizedState!==null||Pt;N=Ao;var j=Pt;if(Ao=_,(Pt=R)&&!j)for(ie=m;ie!==null;)_=ie,R=_.child,_.tag===22&&_.memoizedState!==null?cm(m):R!==null?(R.return=_,ie=R):cm(m);for(;E!==null;)ie=E,um(E),E=E.sibling;ie=m,Ao=N,Pt=j}om(s)}else m.subtreeFlags&8772&&E!==null?(E.return=m,ie=E):om(s)}}function om(s){for(;ie!==null;){var i=ie;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Pt||Co(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Pt)if(o===null)c.componentDidMount();else{var m=i.elementType===i.type?o.memoizedProps:Pn(i.type,o.memoizedProps);c.componentDidUpdate(m,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var E=i.updateQueue;E!==null&&lp(i,E,c);break;case 3:var _=i.updateQueue;if(_!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}lp(i,_,o)}break;case 5:var N=i.stateNode;if(o===null&&i.flags&4){o=N;var R=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var j=i.alternate;if(j!==null){var Q=j.memoizedState;if(Q!==null){var K=Q.dehydrated;K!==null&&ea(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pt||i.flags&512&&md(i)}catch(V){rt(i,i.return,V)}}if(i===s){ie=null;break}if(o=i.sibling,o!==null){o.return=i.return,ie=o;break}ie=i.return}}function lm(s){for(;ie!==null;){var i=ie;if(i===s){ie=null;break}var o=i.sibling;if(o!==null){o.return=i.return,ie=o;break}ie=i.return}}function cm(s){for(;ie!==null;){var i=ie;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Co(4,i)}catch(R){rt(i,o,R)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var m=i.return;try{c.componentDidMount()}catch(R){rt(i,m,R)}}var E=i.return;try{md(i)}catch(R){rt(i,E,R)}break;case 5:var _=i.return;try{md(i)}catch(R){rt(i,_,R)}}}catch(R){rt(i,i.return,R)}if(i===s){ie=null;break}var N=i.sibling;if(N!==null){N.return=i.return,ie=N;break}ie=i.return}}var c_=Math.ceil,No=U.ReactCurrentDispatcher,bd=U.ReactCurrentOwner,Tn=U.ReactCurrentBatchConfig,De=0,mt=null,ut=null,wt=0,dn=0,ci=Fr(0),dt=0,wa=null,Es=0,ko=0,yd=0,va=null,Qt=null,Td=0,di=1/0,Tr=null,Io=!1,_d=null,zr=null,Ro=!1,qr=null,Oo=0,Sa=0,xd=null,Do=-1,Lo=0;function jt(){return De&6?st():Do!==-1?Do:Do=st()}function Wr(s){return s.mode&1?De&2&&wt!==0?wt&-wt:VT.transition!==null?(Lo===0&&(Lo=r0()),Lo):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:f0(s.type)),s):1}function Bn(s,i,o,c){if(50<Sa)throw Sa=0,xd=null,Error(n(185));Gi(s,o,c),(!(De&2)||s!==mt)&&(s===mt&&(!(De&2)&&(ko|=o),dt===4&&Yr(s,wt)),Gt(s,c),o===1&&De===0&&!(i.mode&1)&&(di=st()+500,uo&&Ur()))}function Gt(s,i){var o=s.callbackNode;Vy(s,i);var c=$u(s,s===mt?wt:0);if(c===0)o!==null&&e0(o),s.callbackNode=null,s.callbackPriority=0;else if(i=c&-c,s.callbackPriority!==i){if(o!=null&&e0(o),i===1)s.tag===0?YT(fm.bind(null,s)):X0(fm.bind(null,s)),$T(function(){!(De&6)&&Ur()}),o=null;else{switch(s0(c)){case 1:o=tc;break;case 4:o=t0;break;case 16:o=Bu;break;case 536870912:o=n0;break;default:o=Bu}o=Tm(o,dm.bind(null,s))}s.callbackPriority=i,s.callbackNode=o}}function dm(s,i){if(Do=-1,Lo=0,De&6)throw Error(n(327));var o=s.callbackNode;if(fi()&&s.callbackNode!==o)return null;var c=$u(s,s===mt?wt:0);if(c===0)return null;if(c&30||c&s.expiredLanes||i)i=Po(s,c);else{i=c;var m=De;De|=2;var E=pm();(mt!==s||wt!==i)&&(Tr=null,di=st()+500,ys(s,i));do try{h_();break}catch(N){hm(s,N)}while(!0);jc(),No.current=E,De=m,ut!==null?i=0:(mt=null,wt=0,i=dt)}if(i!==0){if(i===2&&(m=nc(s),m!==0&&(c=m,i=wd(s,m))),i===1)throw o=wa,ys(s,0),Yr(s,c),Gt(s,st()),o;if(i===6)Yr(s,c);else{if(m=s.current.alternate,!(c&30)&&!d_(m)&&(i=Po(s,c),i===2&&(E=nc(s),E!==0&&(c=E,i=wd(s,E))),i===1))throw o=wa,ys(s,0),Yr(s,c),Gt(s,st()),o;switch(s.finishedWork=m,s.finishedLanes=c,i){case 0:case 1:throw Error(n(345));case 2:Ts(s,Qt,Tr);break;case 3:if(Yr(s,c),(c&130023424)===c&&(i=Td+500-st(),10<i)){if($u(s,0)!==0)break;if(m=s.suspendedLanes,(m&c)!==c){jt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=kc(Ts.bind(null,s,Qt,Tr),i);break}Ts(s,Qt,Tr);break;case 4:if(Yr(s,c),(c&4194240)===c)break;for(i=s.eventTimes,m=-1;0<c;){var _=31-On(c);E=1<<_,_=i[_],_>m&&(m=_),c&=~E}if(c=m,c=st()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*c_(c/1960))-c,10<c){s.timeoutHandle=kc(Ts.bind(null,s,Qt,Tr),c);break}Ts(s,Qt,Tr);break;case 5:Ts(s,Qt,Tr);break;default:throw Error(n(329))}}}return Gt(s,st()),s.callbackNode===o?dm.bind(null,s):null}function wd(s,i){var o=va;return s.current.memoizedState.isDehydrated&&(ys(s,i).flags|=256),s=Po(s,i),s!==2&&(i=Qt,Qt=o,i!==null&&vd(i)),s}function vd(s){Qt===null?Qt=s:Qt.push.apply(Qt,s)}function d_(s){for(var i=s;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var m=o[c],E=m.getSnapshot;m=m.value;try{if(!Dn(E(),m))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yr(s,i){for(i&=~yd,i&=~ko,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var o=31-On(i),c=1<<o;s[o]=-1,i&=~c}}function fm(s){if(De&6)throw Error(n(327));fi();var i=$u(s,0);if(!(i&1))return Gt(s,st()),null;var o=Po(s,i);if(s.tag!==0&&o===2){var c=nc(s);c!==0&&(i=c,o=wd(s,c))}if(o===1)throw o=wa,ys(s,0),Yr(s,i),Gt(s,st()),o;if(o===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Ts(s,Qt,Tr),Gt(s,st()),null}function Sd(s,i){var o=De;De|=1;try{return s(i)}finally{De=o,De===0&&(di=st()+500,uo&&Ur())}}function bs(s){qr!==null&&qr.tag===0&&!(De&6)&&fi();var i=De;De|=1;var o=Tn.transition,c=Ue;try{if(Tn.transition=null,Ue=1,s)return s()}finally{Ue=c,Tn.transition=o,De=i,!(De&6)&&Ur()}}function Ad(){dn=ci.current,Ye(ci)}function ys(s,i){s.finishedWork=null,s.finishedLanes=0;var o=s.timeoutHandle;if(o!==-1&&(s.timeoutHandle=-1,HT(o)),ut!==null)for(o=ut.return;o!==null;){var c=o;switch(Pc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&io();break;case 3:ui(),Ye(Wt),Ye(Ot),Qc();break;case 5:Yc(c);break;case 4:ui();break;case 13:Ye(Je);break;case 19:Ye(Je);break;case 10:Hc(c.type._context);break;case 22:case 23:Ad()}o=o.return}if(mt=s,ut=s=Vr(s.current,null),wt=dn=i,dt=0,wa=null,yd=ko=Es=0,Qt=va=null,ps!==null){for(i=0;i<ps.length;i++)if(o=ps[i],c=o.interleaved,c!==null){o.interleaved=null;var m=c.next,E=o.pending;if(E!==null){var _=E.next;E.next=m,c.next=_}o.pending=c}ps=null}return s}function hm(s,i){do{var o=ut;try{if(jc(),bo.current=xo,yo){for(var c=Ze.memoizedState;c!==null;){var m=c.queue;m!==null&&(m.pending=null),c=c.next}yo=!1}if(gs=0,pt=ct=Ze=null,Ea=!1,ba=0,bd.current=null,o===null||o.return===null){dt=1,wa=i,ut=null;break}e:{var E=s,_=o.return,N=o,R=i;if(i=wt,N.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=R,Q=N,K=Q.tag;if(!(Q.mode&1)&&(K===0||K===11||K===15)){var V=Q.alternate;V?(Q.updateQueue=V.updateQueue,Q.memoizedState=V.memoizedState,Q.lanes=V.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var re=Bp(_);if(re!==null){re.flags&=-257,Up(re,_,N,E,i),re.mode&1&&Fp(E,j,i),i=re,R=j;var ae=i.updateQueue;if(ae===null){var ue=new Set;ue.add(R),i.updateQueue=ue}else ae.add(R);break e}else{if(!(i&1)){Fp(E,j,i),Cd();break e}R=Error(n(426))}}else if(Ve&&N.mode&1){var it=Bp(_);if(it!==null){!(it.flags&65536)&&(it.flags|=256),Up(it,_,N,E,i),Bc(oi(R,N));break e}}E=R=oi(R,N),dt!==4&&(dt=2),va===null?va=[E]:va.push(E),E=_;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var M=Pp(E,R,i);op(E,M);break e;case 1:N=R;var D=E.type,B=E.stateNode;if(!(E.flags&128)&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(zr===null||!zr.has(B)))){E.flags|=65536,i&=-i,E.lanes|=i;var J=Mp(E,N,i);op(E,J);break e}}E=E.return}while(E!==null)}gm(o)}catch(oe){i=oe,ut===o&&o!==null&&(ut=o=o.return);continue}break}while(!0)}function pm(){var s=No.current;return No.current=xo,s===null?xo:s}function Cd(){(dt===0||dt===3||dt===2)&&(dt=4),mt===null||!(Es&268435455)&&!(ko&268435455)||Yr(mt,wt)}function Po(s,i){var o=De;De|=2;var c=pm();(mt!==s||wt!==i)&&(Tr=null,ys(s,i));do try{f_();break}catch(m){hm(s,m)}while(!0);if(jc(),De=o,No.current=c,ut!==null)throw Error(n(261));return mt=null,wt=0,dt}function f_(){for(;ut!==null;)mm(ut)}function h_(){for(;ut!==null&&!By();)mm(ut)}function mm(s){var i=ym(s.alternate,s,dn);s.memoizedProps=s.pendingProps,i===null?gm(s):ut=i,bd.current=null}function gm(s){var i=s;do{var o=i.alternate;if(s=i.return,i.flags&32768){if(o=a_(o,i),o!==null){o.flags&=32767,ut=o;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{dt=6,ut=null;return}}else if(o=i_(o,i,dn),o!==null){ut=o;return}if(i=i.sibling,i!==null){ut=i;return}ut=i=s}while(i!==null);dt===0&&(dt=5)}function Ts(s,i,o){var c=Ue,m=Tn.transition;try{Tn.transition=null,Ue=1,p_(s,i,o,c)}finally{Tn.transition=m,Ue=c}return null}function p_(s,i,o,c){do fi();while(qr!==null);if(De&6)throw Error(n(327));o=s.finishedWork;var m=s.finishedLanes;if(o===null)return null;if(s.finishedWork=null,s.finishedLanes=0,o===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=o.lanes|o.childLanes;if(Qy(s,E),s===mt&&(ut=mt=null,wt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Ro||(Ro=!0,Tm(Bu,function(){return fi(),null})),E=(o.flags&15990)!==0,o.subtreeFlags&15990||E){E=Tn.transition,Tn.transition=null;var _=Ue;Ue=1;var N=De;De|=4,bd.current=null,o_(s,o),am(o,s),LT(Cc),Wu=!!Ac,Cc=Ac=null,s.current=o,l_(o),Uy(),De=N,Ue=_,Tn.transition=E}else s.current=o;if(Ro&&(Ro=!1,qr=s,Oo=m),E=s.pendingLanes,E===0&&(zr=null),$y(o.stateNode),Gt(s,st()),i!==null)for(c=s.onRecoverableError,o=0;o<i.length;o++)m=i[o],c(m.value,{componentStack:m.stack,digest:m.digest});if(Io)throw Io=!1,s=_d,_d=null,s;return Oo&1&&s.tag!==0&&fi(),E=s.pendingLanes,E&1?s===xd?Sa++:(Sa=0,xd=s):Sa=0,Ur(),null}function fi(){if(qr!==null){var s=s0(Oo),i=Tn.transition,o=Ue;try{if(Tn.transition=null,Ue=16>s?16:s,qr===null)var c=!1;else{if(s=qr,qr=null,Oo=0,De&6)throw Error(n(331));var m=De;for(De|=4,ie=s.current;ie!==null;){var E=ie,_=E.child;if(ie.flags&16){var N=E.deletions;if(N!==null){for(var R=0;R<N.length;R++){var j=N[R];for(ie=j;ie!==null;){var Q=ie;switch(Q.tag){case 0:case 11:case 15:xa(8,Q,E)}var K=Q.child;if(K!==null)K.return=Q,ie=K;else for(;ie!==null;){Q=ie;var V=Q.sibling,re=Q.return;if(tm(Q),Q===j){ie=null;break}if(V!==null){V.return=re,ie=V;break}ie=re}}}var ae=E.alternate;if(ae!==null){var ue=ae.child;if(ue!==null){ae.child=null;do{var it=ue.sibling;ue.sibling=null,ue=it}while(ue!==null)}}ie=E}}if(E.subtreeFlags&2064&&_!==null)_.return=E,ie=_;else e:for(;ie!==null;){if(E=ie,E.flags&2048)switch(E.tag){case 0:case 11:case 15:xa(9,E,E.return)}var M=E.sibling;if(M!==null){M.return=E.return,ie=M;break e}ie=E.return}}var D=s.current;for(ie=D;ie!==null;){_=ie;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,ie=B;else e:for(_=D;ie!==null;){if(N=ie,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:Co(9,N)}}catch(oe){rt(N,N.return,oe)}if(N===_){ie=null;break e}var J=N.sibling;if(J!==null){J.return=N.return,ie=J;break e}ie=N.return}}if(De=m,Ur(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Uu,s)}catch{}c=!0}return c}finally{Ue=o,Tn.transition=i}}return!1}function Em(s,i,o){i=oi(o,i),i=Pp(s,i,1),s=Hr(s,i,1),i=jt(),s!==null&&(Gi(s,1,i),Gt(s,i))}function rt(s,i,o){if(s.tag===3)Em(s,s,o);else for(;i!==null;){if(i.tag===3){Em(i,s,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(zr===null||!zr.has(c))){s=oi(o,s),s=Mp(i,s,1),i=Hr(i,s,1),s=jt(),i!==null&&(Gi(i,1,s),Gt(i,s));break}}i=i.return}}function m_(s,i,o){var c=s.pingCache;c!==null&&c.delete(i),i=jt(),s.pingedLanes|=s.suspendedLanes&o,mt===s&&(wt&o)===o&&(dt===4||dt===3&&(wt&130023424)===wt&&500>st()-Td?ys(s,0):yd|=o),Gt(s,i)}function bm(s,i){i===0&&(s.mode&1?(i=Hu,Hu<<=1,!(Hu&130023424)&&(Hu=4194304)):i=1);var o=jt();s=Er(s,i),s!==null&&(Gi(s,i,o),Gt(s,o))}function g_(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),bm(s,o)}function E_(s,i){var o=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=s.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(i),bm(s,o)}var ym;ym=function(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps||Wt.current)Vt=!0;else{if(!(s.lanes&o)&&!(i.flags&128))return Vt=!1,s_(s,i,o);Vt=!!(s.flags&131072)}else Vt=!1,Ve&&i.flags&1048576&&J0(i,lo,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;So(s,i),s=i.pendingProps;var m=ei(i,Ot.current);ai(i,o),m=Xc(null,i,c,s,m,o);var E=Jc();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Yt(c)?(E=!0,ao(i)):E=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,qc(i),m.updater=wo,i.stateNode=m,m._reactInternals=i,sd(i,c,s,o),i=od(null,i,c,!0,E,o)):(i.tag=0,Ve&&E&&Lc(i),Ut(null,i,m,o),i=i.child),i;case 16:c=i.elementType;e:{switch(So(s,i),s=i.pendingProps,m=c._init,c=m(c._payload),i.type=c,m=i.tag=y_(c),s=Pn(c,s),m){case 0:i=ud(null,i,c,s,o);break e;case 1:i=Wp(null,i,c,s,o);break e;case 11:i=jp(null,i,c,s,o);break e;case 14:i=Hp(null,i,c,Pn(c.type,s),o);break e}throw Error(n(306,c,""))}return i;case 0:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Pn(c,m),ud(s,i,c,m,o);case 1:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Pn(c,m),Wp(s,i,c,m,o);case 3:e:{if(Yp(i),s===null)throw Error(n(387));c=i.pendingProps,E=i.memoizedState,m=E.element,up(s,i),go(i,c,null,o);var _=i.memoizedState;if(c=_.element,E.isDehydrated)if(E={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=E,i.memoizedState=E,i.flags&256){m=oi(Error(n(423)),i),i=Vp(s,i,c,o,m);break e}else if(c!==m){m=oi(Error(n(424)),i),i=Vp(s,i,c,o,m);break e}else for(cn=Mr(i.stateNode.containerInfo.firstChild),ln=i,Ve=!0,Ln=null,o=ip(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ri(),c===m){i=yr(s,i,o);break e}Ut(s,i,c,o)}i=i.child}return i;case 5:return cp(i),s===null&&Fc(i),c=i.type,m=i.pendingProps,E=s!==null?s.memoizedProps:null,_=m.children,Nc(c,m)?_=null:E!==null&&Nc(c,E)&&(i.flags|=32),qp(s,i),Ut(s,i,_,o),i.child;case 6:return s===null&&Fc(i),null;case 13:return Qp(s,i,o);case 4:return Wc(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=si(i,null,c,o):Ut(s,i,c,o),i.child;case 11:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Pn(c,m),jp(s,i,c,m,o);case 7:return Ut(s,i,i.pendingProps,o),i.child;case 8:return Ut(s,i,i.pendingProps.children,o),i.child;case 12:return Ut(s,i,i.pendingProps.children,o),i.child;case 10:e:{if(c=i.type._context,m=i.pendingProps,E=i.memoizedProps,_=m.value,He(ho,c._currentValue),c._currentValue=_,E!==null)if(Dn(E.value,_)){if(E.children===m.children&&!Wt.current){i=yr(s,i,o);break e}}else for(E=i.child,E!==null&&(E.return=i);E!==null;){var N=E.dependencies;if(N!==null){_=E.child;for(var R=N.firstContext;R!==null;){if(R.context===c){if(E.tag===1){R=br(-1,o&-o),R.tag=2;var j=E.updateQueue;if(j!==null){j=j.shared;var Q=j.pending;Q===null?R.next=R:(R.next=Q.next,Q.next=R),j.pending=R}}E.lanes|=o,R=E.alternate,R!==null&&(R.lanes|=o),$c(E.return,o,i),N.lanes|=o;break}R=R.next}}else if(E.tag===10)_=E.type===i.type?null:E.child;else if(E.tag===18){if(_=E.return,_===null)throw Error(n(341));_.lanes|=o,N=_.alternate,N!==null&&(N.lanes|=o),$c(_,o,i),_=E.sibling}else _=E.child;if(_!==null)_.return=E;else for(_=E;_!==null;){if(_===i){_=null;break}if(E=_.sibling,E!==null){E.return=_.return,_=E;break}_=_.return}E=_}Ut(s,i,m.children,o),i=i.child}return i;case 9:return m=i.type,c=i.pendingProps.children,ai(i,o),m=bn(m),c=c(m),i.flags|=1,Ut(s,i,c,o),i.child;case 14:return c=i.type,m=Pn(c,i.pendingProps),m=Pn(c.type,m),Hp(s,i,c,m,o);case 15:return $p(s,i,i.type,i.pendingProps,o);case 17:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Pn(c,m),So(s,i),i.tag=1,Yt(c)?(s=!0,ao(i)):s=!1,ai(i,o),Dp(i,c,m),sd(i,c,m,o),od(null,i,c,!0,s,o);case 19:return Kp(s,i,o);case 22:return zp(s,i,o)}throw Error(n(156,i.tag))};function Tm(s,i){return Zh(s,i)}function b_(s,i,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(s,i,o,c){return new b_(s,i,o,c)}function Nd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function y_(s){if(typeof s=="function")return Nd(s)?1:0;if(s!=null){if(s=s.$$typeof,s===tt)return 11;if(s===Ct)return 14}return 2}function Vr(s,i){var o=s.alternate;return o===null?(o=_n(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&14680064,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o}function Mo(s,i,o,c,m,E){var _=2;if(c=s,typeof s=="function")Nd(s)&&(_=1);else if(typeof s=="string")_=5;else e:switch(s){case se:return _s(o.children,m,E,i);case Z:_=8,m|=8;break;case ce:return s=_n(12,o,i,m|2),s.elementType=ce,s.lanes=E,s;case qe:return s=_n(13,o,i,m),s.elementType=qe,s.lanes=E,s;case nt:return s=_n(19,o,i,m),s.elementType=nt,s.lanes=E,s;case ke:return Fo(o,m,E,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ve:_=10;break e;case Ie:_=9;break e;case tt:_=11;break e;case Ct:_=14;break e;case lt:_=16,c=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=_n(_,o,i,m),i.elementType=s,i.type=c,i.lanes=E,i}function _s(s,i,o,c){return s=_n(7,s,c,i),s.lanes=o,s}function Fo(s,i,o,c){return s=_n(22,s,c,i),s.elementType=ke,s.lanes=o,s.stateNode={isHidden:!1},s}function kd(s,i,o){return s=_n(6,s,null,i),s.lanes=o,s}function Id(s,i,o){return i=_n(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function T_(s,i,o,c,m){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rc(0),this.expirationTimes=rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.identifierPrefix=c,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Rd(s,i,o,c,m,E,_,N,R){return s=new T_(s,i,o,N,R),i===1?(i=1,E===!0&&(i|=8)):i=0,E=_n(3,null,null,i),s.current=E,E.stateNode=s,E.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(E),s}function __(s,i,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:c==null?null:""+c,children:s,containerInfo:i,implementation:o}}function _m(s){if(!s)return Br;s=s._reactInternals;e:{if(ls(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Yt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var o=s.type;if(Yt(o))return G0(s,o,i)}return i}function xm(s,i,o,c,m,E,_,N,R){return s=Rd(o,c,!0,s,m,E,_,N,R),s.context=_m(null),o=s.current,c=jt(),m=Wr(o),E=br(c,m),E.callback=i??null,Hr(o,E,m),s.current.lanes=m,Gi(s,m,c),Gt(s,c),s}function Bo(s,i,o,c){var m=i.current,E=jt(),_=Wr(m);return o=_m(o),i.context===null?i.context=o:i.pendingContext=o,i=br(E,_),i.payload={element:s},c=c===void 0?null:c,c!==null&&(i.callback=c),s=Hr(m,i,_),s!==null&&(Bn(s,m,_,E),mo(s,m,_)),_}function Uo(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function wm(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function Od(s,i){wm(s,i),(s=s.alternate)&&wm(s,i)}var vm=typeof reportError=="function"?reportError:function(s){console.error(s)};function Dd(s){this._internalRoot=s}jo.prototype.render=Dd.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Bo(s,i,null,null)},jo.prototype.unmount=Dd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;bs(function(){Bo(null,s,null,null)}),i[hr]=null}};function jo(s){this._internalRoot=s}jo.prototype.unstable_scheduleHydration=function(s){if(s){var i=u0();s={blockedOn:null,target:s,priority:i};for(var o=0;o<Dr.length&&i!==0&&i<Dr[o].priority;o++);Dr.splice(o,0,s),o===0&&c0(s)}};function Ld(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ho(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Sm(){}function x_(s,i,o,c,m){if(m){if(typeof c=="function"){var E=c;c=function(){var j=Uo(_);E.call(j)}}var _=xm(i,c,s,0,null,!1,!1,"",Sm);return s._reactRootContainer=_,s[hr]=_.current,la(s.nodeType===8?s.parentNode:s),bs(),_}for(;m=s.lastChild;)s.removeChild(m);if(typeof c=="function"){var N=c;c=function(){var j=Uo(R);N.call(j)}}var R=Rd(s,0,!1,null,null,!1,!1,"",Sm);return s._reactRootContainer=R,s[hr]=R.current,la(s.nodeType===8?s.parentNode:s),bs(function(){Bo(i,R,o,c)}),R}function $o(s,i,o,c,m){var E=o._reactRootContainer;if(E){var _=E;if(typeof m=="function"){var N=m;m=function(){var R=Uo(_);N.call(R)}}Bo(i,_,s,m)}else _=x_(o,i,s,m,c);return Uo(_)}i0=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var o=Qi(i.pendingLanes);o!==0&&(sc(i,o|1),Gt(i,st()),!(De&6)&&(di=st()+500,Ur()))}break;case 13:bs(function(){var c=Er(s,1);if(c!==null){var m=jt();Bn(c,s,1,m)}}),Od(s,1)}},ic=function(s){if(s.tag===13){var i=Er(s,134217728);if(i!==null){var o=jt();Bn(i,s,134217728,o)}Od(s,134217728)}},a0=function(s){if(s.tag===13){var i=Wr(s),o=Er(s,i);if(o!==null){var c=jt();Bn(o,s,i,c)}Od(s,i)}},u0=function(){return Ue},o0=function(s,i){var o=Ue;try{return Ue=s,i()}finally{Ue=o}},Yi=function(s,i,o){switch(i){case"input":if($s(s,o),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==s&&c.form===s.form){var m=so(c);if(!m)throw Error(n(90));sn(c),$s(c,m)}}}break;case"textarea":$i(s,o);break;case"select":i=o.value,i!=null&&Cn(s,!!o.multiple,i,!1)}},Bt=Sd,It=bs;var w_={usingClientEntryPoint:!1,Events:[fa,Js,so,kt,kn,Sd]},Aa={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v_={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Xh(s),s===null?null:s.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{Uu=zo.inject(v_),Xn=zo}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w_,Kt.createPortal=function(s,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ld(i))throw Error(n(200));return __(s,i,null,o)},Kt.createRoot=function(s,i){if(!Ld(s))throw Error(n(299));var o=!1,c="",m=vm;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Rd(s,1,!1,null,null,o,!1,c,m),s[hr]=i.current,la(s.nodeType===8?s.parentNode:s),new Dd(i)},Kt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Xh(i),s=s===null?null:s.stateNode,s},Kt.flushSync=function(s){return bs(s)},Kt.hydrate=function(s,i,o){if(!Ho(i))throw Error(n(200));return $o(null,s,i,!0,o)},Kt.hydrateRoot=function(s,i,o){if(!Ld(s))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,m=!1,E="",_=vm;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(E=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),i=xm(i,null,s,1,o??null,m,!1,E,_),s[hr]=i.current,la(s),c)for(s=0;s<c.length;s++)o=c[s],m=o._getVersion,m=m(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,m]:i.mutableSourceEagerHydrationData.push(o,m);return new jo(i)},Kt.render=function(s,i,o){if(!Ho(i))throw Error(n(200));return $o(null,s,i,!1,o)},Kt.unmountComponentAtNode=function(s){if(!Ho(s))throw Error(n(40));return s._reactRootContainer?(bs(function(){$o(null,null,s,!1,function(){s._reactRootContainer=null,s[hr]=null})}),!0):!1},Kt.unstable_batchedUpdates=Sd,Kt.unstable_renderSubtreeIntoContainer=function(s,i,o,c){if(!Ho(o))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return $o(s,i,o,!1,c)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var Dm;function C1(){if(Dm)return Fd.exports;Dm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fd.exports=O_(),Fd.exports}var Lm;function D_(){if(Lm)return qo;Lm=1;var e=C1();return qo.createRoot=e.createRoot,qo.hydrateRoot=e.hydrateRoot,qo}var L_=D_(),Na={},Pm;function P_(){if(Pm)return Na;Pm=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.parse=l,Na.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,v){const w=new u,C=x.length;if(C<2)return w;const k=v?.decode||g;let O=0;do{const H=x.indexOf("=",O);if(H===-1)break;const F=x.indexOf(";",O),U=F===-1?C:F;if(H>U){O=x.lastIndexOf(";",H-1)+1;continue}const W=d(x,O,H),ee=f(x,H,W),se=x.slice(W,ee);if(w[se]===void 0){let Z=d(x,H+1,U),ce=f(x,U,Z);const ve=k(x.slice(Z,ce));w[se]=ve}O=U+1}while(O<C);return w}function d(x,v,w){do{const C=x.charCodeAt(v);if(C!==32&&C!==9)return v}while(++v<w);return w}function f(x,v,w){for(;v>w;){const C=x.charCodeAt(--v);if(C!==32&&C!==9)return v+1}return w}function h(x,v,w){const C=w?.encode||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const k=C(v);if(!t.test(k))throw new TypeError(`argument val is invalid: ${v}`);let O=x+"="+k;if(!w)return O;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);O+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);O+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);O+="; Path="+w.path}if(w.expires){if(!y(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);O+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(O+="; HttpOnly"),w.secure&&(O+="; Secure"),w.partitioned&&(O+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return O}function g(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function y(x){return a.call(x)==="[object Date]"}return Na}P_();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mm="popstate";function M_(e={}){function t(r,a){let{pathname:u,search:l,hash:d}=r.location;return mf("",{pathname:u,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:au(a)}return B_(t,n,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function F_(){return Math.random().toString(36).substring(2,10)}function Fm(e,t){return{usr:e.state,key:e.key,idx:t}}function mf(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ci(t):t,state:n,key:t&&t.key||r||F_()}}function au({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ci(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function B_(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:u=!1}=r,l=a.history,d="POP",f=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function y(){d="POP";let k=g(),O=k==null?null:k-h;h=k,f&&f({action:d,location:C.location,delta:O})}function x(k,O){d="PUSH";let H=mf(C.location,k,O);h=g()+1;let F=Fm(H,h),U=C.createHref(H);try{l.pushState(F,"",U)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(U)}u&&f&&f({action:d,location:C.location,delta:1})}function v(k,O){d="REPLACE";let H=mf(C.location,k,O);h=g();let F=Fm(H,h),U=C.createHref(H);l.replaceState(F,"",U),u&&f&&f({action:d,location:C.location,delta:0})}function w(k){let O=a.location.origin!=="null"?a.location.origin:a.location.href,H=typeof k=="string"?k:au(k);return H=H.replace(/ $/,"%20"),Ge(O,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,O)}let C={get action(){return d},get location(){return e(a,l)},listen(k){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Mm,y),f=k,()=>{a.removeEventListener(Mm,y),f=null}},createHref(k){return t(a,k)},createURL:w,encodeLocation(k){let O=w(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:v,go(k){return l.go(k)}};return C}function N1(e,t,n="/"){return U_(e,t,n,!1)}function U_(e,t,n,r){let a=typeof t=="string"?Ci(t):t,u=ss(a.pathname||"/",n);if(u==null)return null;let l=k1(e);j_(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=X_(u);d=G_(l[f],h,r)}return d}function k1(e,t=[],n=[],r=""){let a=(u,l,d)=>{let f={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:l,route:u};f.relativePath.startsWith("/")&&(Ge(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=vr([r,f.relativePath]),g=n.concat(f);u.children&&u.children.length>0&&(Ge(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),k1(u.children,t,g,h)),!(u.path==null&&!u.index)&&t.push({path:h,score:V_(h,u.index),routesMeta:g})};return e.forEach((u,l)=>{if(u.path===""||!u.path?.includes("?"))a(u,l);else for(let d of I1(u.path))a(u,l,d)}),t}function I1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return a?[u,""]:[u];let l=I1(r.join("/")),d=[];return d.push(...l.map(f=>f===""?u:[u,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function j_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Q_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var H_=/^:[\w-]+$/,$_=3,z_=2,q_=1,W_=10,Y_=-2,Bm=e=>e==="*";function V_(e,t){let n=e.split("/"),r=n.length;return n.some(Bm)&&(r+=Y_),t&&(r+=z_),n.filter(a=>!Bm(a)).reduce((a,u)=>a+(H_.test(u)?$_:u===""?q_:W_),r)}function Q_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function G_(e,t,n=!1){let{routesMeta:r}=e,a={},u="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,g=u==="/"?t:t.slice(u.length)||"/",y=dl({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),x=f.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=dl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),l.push({params:a,pathname:vr([u,y.pathname]),pathnameBase:t2(vr([u,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(u=vr([u,y.pathnameBase]))}return l}function dl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=K_(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let u=a[0],l=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:y},x)=>{if(g==="*"){let w=d[x]||"";l=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const v=d[x];return y&&!v?h[g]=void 0:h[g]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:l,pattern:e}}function K_(e,t=!1,n=!0){jn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function X_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ss(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function J_(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ci(e):e;return{pathname:n?n.startsWith("/")?n:Z_(n,t):t,search:n2(r),hash:r2(a)}}function Z_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function jd(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jf(e){let t=e2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Zf(e,t,n,r=!1){let a;typeof e=="string"?a=Ci(e):(a={...e},Ge(!a.pathname||!a.pathname.includes("?"),jd("?","pathname","search",a)),Ge(!a.pathname||!a.pathname.includes("#"),jd("#","pathname","hash",a)),Ge(!a.search||!a.search.includes("#"),jd("#","search","hash",a)));let u=e===""||a.pathname==="",l=u?"/":a.pathname,d;if(l==null)d=n;else{let y=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;a.pathname=x.join("/")}d=y>=0?t[y]:"/"}let f=J_(a,d),h=l&&l!=="/"&&l.endsWith("/"),g=(u||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var vr=e=>e.join("/").replace(/\/\/+/g,"/"),t2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function s2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var R1=["POST","PUT","PATCH","DELETE"];new Set(R1);var i2=["GET",...R1];new Set(i2);var Ni=T.createContext(null);Ni.displayName="DataRouter";var Rl=T.createContext(null);Rl.displayName="DataRouterState";var O1=T.createContext({isTransitioning:!1});O1.displayName="ViewTransition";var a2=T.createContext(new Map);a2.displayName="Fetchers";var u2=T.createContext(null);u2.displayName="Await";var $n=T.createContext(null);$n.displayName="Navigation";var bu=T.createContext(null);bu.displayName="Location";var zn=T.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var eh=T.createContext(null);eh.displayName="RouteError";function o2(e,{relative:t}={}){Ge(ki(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext($n),{hash:a,pathname:u,search:l}=yu(e,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:vr([n,u])),r.createHref({pathname:d,search:l,hash:a})}function ki(){return T.useContext(bu)!=null}function qn(){return Ge(ki(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(bu).location}var D1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L1(e){T.useContext($n).static||T.useLayoutEffect(e)}function Wn(){let{isDataRoute:e}=T.useContext(zn);return e?_2():l2()}function l2(){Ge(ki(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Ni),{basename:t,navigator:n}=T.useContext($n),{matches:r}=T.useContext(zn),{pathname:a}=qn(),u=JSON.stringify(Jf(r)),l=T.useRef(!1);return L1(()=>{l.current=!0}),T.useCallback((f,h={})=>{if(jn(l.current,D1),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=Zf(f,JSON.parse(u),a,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:vr([t,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[t,n,u,a,e])}T.createContext(null);function Ol(){let{matches:e}=T.useContext(zn),t=e[e.length-1];return t?t.params:{}}function yu(e,{relative:t}={}){let{matches:n}=T.useContext(zn),{pathname:r}=qn(),a=JSON.stringify(Jf(n));return T.useMemo(()=>Zf(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function c2(e,t){return P1(e,t)}function P1(e,t,n,r){Ge(ki(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext($n),{matches:u}=T.useContext(zn),l=u[u.length-1],d=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let O=g&&g.path||"";M1(f,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=qn(),x;if(t){let O=typeof t=="string"?Ci(t):t;Ge(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),x=O}else x=y;let v=x.pathname||"/",w=v;if(h!=="/"){let O=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(O.length).join("/")}let C=N1(e,{pathname:w});jn(g||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),jn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=m2(C&&C.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:vr([h,a.encodeLocation?a.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:vr([h,a.encodeLocation?a.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,n,r);return t&&k?T.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function d2(){let e=T2(),t=s2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:u},"ErrorBoundary")," or"," ",T.createElement("code",{style:u},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:a},n):null,l)}var f2=T.createElement(d2,null),h2=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(zn.Provider,{value:this.props.routeContext},T.createElement(eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p2({routeContext:e,match:t,children:n}){let r=T.useContext(Ni);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(zn.Provider,{value:e},n)}function m2(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,u=n?.errors;if(u!=null){let f=a.findIndex(h=>h.route.id&&u?.[h.route.id]!==void 0);Ge(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:g,errors:y}=n,x=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||x){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,g)=>{let y,x=!1,v=null,w=null;n&&(y=u&&h.route.id?u[h.route.id]:void 0,v=h.route.errorElement||f2,l&&(d<0&&g===0?(M1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):d===g&&(x=!0,w=h.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,g+1)),k=()=>{let O;return y?O=v:x?O=w:h.route.Component?O=T.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=f,T.createElement(p2,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:O})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?T.createElement(h2,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):k()},null)}function th(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(e){let t=T.useContext(Ni);return Ge(t,th(e)),t}function E2(e){let t=T.useContext(Rl);return Ge(t,th(e)),t}function b2(e){let t=T.useContext(zn);return Ge(t,th(e)),t}function nh(e){let t=b2(e),n=t.matches[t.matches.length-1];return Ge(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function y2(){return nh("useRouteId")}function T2(){let e=T.useContext(eh),t=E2("useRouteError"),n=nh("useRouteError");return e!==void 0?e:t.errors?.[n]}function _2(){let{router:e}=g2("useNavigate"),t=nh("useNavigate"),n=T.useRef(!1);return L1(()=>{n.current=!0}),T.useCallback(async(a,u={})=>{jn(n.current,D1),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...u}))},[e,t])}var Um={};function M1(e,t,n){!t&&!Um[e]&&(Um[e]=!0,jn(!1,n))}T.memo(x2);function x2({routes:e,future:t,state:n}){return P1(e,void 0,n,t)}function jm({to:e,replace:t,state:n,relative:r}){Ge(ki(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext($n);jn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=T.useContext(zn),{pathname:l}=qn(),d=Wn(),f=Zf(e,Jf(u),l,r==="path"),h=JSON.stringify(f);return T.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:r})},[d,h,r,t,n]),null}function Ht(e){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:u=!1}){Ge(!ki(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:l,navigator:a,static:u,future:{}}),[l,a,u]);typeof n=="string"&&(n=Ci(n));let{pathname:f="/",search:h="",hash:g="",state:y=null,key:x="default"}=n,v=T.useMemo(()=>{let w=ss(f,l);return w==null?null:{location:{pathname:w,search:h,hash:g,state:y,key:x},navigationType:r}},[l,f,h,g,y,x,r]);return jn(v!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:T.createElement($n.Provider,{value:d},T.createElement(bu.Provider,{children:t,value:v}))}function v2({children:e,location:t}){return c2(gf(e),t)}function gf(e,t=[]){let n=[];return T.Children.forEach(e,(r,a)=>{if(!T.isValidElement(r))return;let u=[...t,a];if(r.type===T.Fragment){n.push.apply(n,gf(r.props.children,u));return}Ge(r.type===Ht,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=gf(r.props.children,u)),n.push(l)}),n}var rl="get",sl="application/x-www-form-urlencoded";function Dl(e){return e!=null&&typeof e.tagName=="string"}function S2(e){return Dl(e)&&e.tagName.toLowerCase()==="button"}function A2(e){return Dl(e)&&e.tagName.toLowerCase()==="form"}function C2(e){return Dl(e)&&e.tagName.toLowerCase()==="input"}function N2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k2(e,t){return e.button===0&&(!t||t==="_self")&&!N2(e)}var Wo=null;function I2(){if(Wo===null)try{new FormData(document.createElement("form"),0),Wo=!1}catch{Wo=!0}return Wo}var R2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hd(e){return e!=null&&!R2.has(e)?(jn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):e}function O2(e,t){let n,r,a,u,l;if(A2(e)){let d=e.getAttribute("action");r=d?ss(d,t):null,n=e.getAttribute("method")||rl,a=Hd(e.getAttribute("enctype"))||sl,u=new FormData(e)}else if(S2(e)||C2(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?ss(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||rl,a=Hd(e.getAttribute("formenctype"))||Hd(d.getAttribute("enctype"))||sl,u=new FormData(d,e),!I2()){let{name:h,type:g,value:y}=e;if(g==="image"){let x=h?`${h}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else h&&u.append(h,y)}}else{if(Dl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rl,r=null,a=sl,l=e}return u&&a==="text/plain"&&(l=u,u=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:u,body:l}}function rh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function D2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function P2(e,t,n){let r=await Promise.all(e.map(async a=>{let u=t.routes[a.route.id];if(u){let l=await D2(u,n);return l.links?l.links():[]}return[]}));return U2(r.flat(1).filter(L2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hm(e,t,n,r,a,u){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return u==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):u==="data"?t.filter((f,h)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function M2(e,t){return F2(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function F2(e){return[...new Set(e)]}function B2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function U2(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let u=JSON.stringify(B2(a));return n.has(u)||(n.add(u),r.push({key:u,link:a})),r},[])}function j2(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function H2(){let e=T.useContext(Ni);return rh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $2(){let e=T.useContext(Rl);return rh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sh=T.createContext(void 0);sh.displayName="FrameworkContext";function F1(){let e=T.useContext(sh);return rh(e,"You must render this element inside a <HydratedRouter> element"),e}function z2(e,t){let n=T.useContext(sh),[r,a]=T.useState(!1),[u,l]=T.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=t,x=T.useRef(null);T.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let C=O=>{O.forEach(H=>{l(H.isIntersecting)})},k=new IntersectionObserver(C,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[e]),T.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let v=()=>{a(!0)},w=()=>{a(!1),l(!1)};return n?e!=="intent"?[u,x,{}]:[u,x,{onFocus:ka(d,v),onBlur:ka(f,w),onMouseEnter:ka(h,v),onMouseLeave:ka(g,w),onTouchStart:ka(y,v)}]:[!1,x,{}]}function ka(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function q2({page:e,...t}){let{router:n}=H2(),r=T.useMemo(()=>N1(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(Y2,{page:e,matches:r,...t}):null}function W2(e){let{manifest:t,routeModules:n}=F1(),[r,a]=T.useState([]);return T.useEffect(()=>{let u=!1;return P2(e,t,n).then(l=>{u||a(l)}),()=>{u=!0}},[e,t,n]),r}function Y2({page:e,matches:t,...n}){let r=qn(),{manifest:a,routeModules:u}=F1(),{loaderData:l,matches:d}=$2(),f=T.useMemo(()=>Hm(e,t,d,a,r,"data"),[e,t,d,a,r]),h=T.useMemo(()=>Hm(e,t,d,a,r,"assets"),[e,t,d,a,r]),g=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(t.forEach(k=>{let O=a.routes[k.route.id];!O||!O.hasLoader||(!f.some(H=>H.route.id===k.route.id)&&k.route.id in l&&u[k.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:v.add(k.route.id))}),v.size===0)return[];let C=j2(e);return w&&v.size>0&&C.searchParams.set("_routes",t.filter(k=>v.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[l,r,a,f,t,e,u]),y=T.useMemo(()=>M2(h,a),[h,a]),x=W2(h);return T.createElement(T.Fragment,null,g.map(v=>T.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),y.map(v=>T.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),x.map(({key:v,link:w})=>T.createElement("link",{key:v,...w})))}function V2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var B1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B1&&(window.__reactRouterVersion="7.1.3")}catch{}function Q2({basename:e,children:t,window:n}){let r=T.useRef();r.current==null&&(r.current=M_({window:n,v5Compat:!0}));let a=r.current,[u,l]=T.useState({action:a.action,location:a.location}),d=T.useCallback(f=>{T.startTransition(()=>l(f))},[l]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.createElement(w2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a})}var U1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:u,replace:l,state:d,target:f,to:h,preventScrollReset:g,viewTransition:y,...x},v){let{basename:w}=T.useContext($n),C=typeof h=="string"&&U1.test(h),k,O=!1;if(typeof h=="string"&&C&&(k=h,B1))try{let ce=new URL(window.location.href),ve=h.startsWith("//")?new URL(ce.protocol+h):new URL(h),Ie=ss(ve.pathname,w);ve.origin===ce.origin&&Ie!=null?h=Ie+ve.search+ve.hash:O=!0}catch{jn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=o2(h,{relative:a}),[F,U,W]=z2(r,x),ee=J2(h,{replace:l,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:y});function se(ce){t&&t(ce),ce.defaultPrevented||ee(ce)}let Z=T.createElement("a",{...x,...W,href:k||H,onClick:O||u?t:se,ref:V2(v,U),target:f,"data-discover":!C&&n==="render"?"true":void 0});return F&&!C?T.createElement(T.Fragment,null,Z,T.createElement(q2,{page:H})):Z});Tt.displayName="Link";var G2=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:u,to:l,viewTransition:d,children:f,...h},g){let y=yu(l,{relative:h.relative}),x=qn(),v=T.useContext(Rl),{navigator:w,basename:C}=T.useContext($n),k=v!=null&&rx(y)&&d===!0,O=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,H=x.pathname,F=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(H=H.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&C&&(F=ss(F,C)||F);const U=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let W=H===O||!a&&H.startsWith(O)&&H.charAt(U)==="/",ee=F!=null&&(F===O||!a&&F.startsWith(O)&&F.charAt(O.length)==="/"),se={isActive:W,isPending:ee,isTransitioning:k},Z=W?t:void 0,ce;typeof r=="function"?ce=r(se):ce=[r,W?"active":null,ee?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ve=typeof u=="function"?u(se):u;return T.createElement(Tt,{...h,"aria-current":Z,className:ce,ref:g,style:ve,to:l,viewTransition:d},typeof f=="function"?f(se):f)});G2.displayName="NavLink";var K2=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:u,method:l=rl,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:y,...x},v)=>{let w=tx(),C=nx(d,{relative:h}),k=l.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&U1.test(d),H=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let U=F.nativeEvent.submitter,W=U?.getAttribute("formmethod")||l;w(U||F.currentTarget,{fetcherKey:t,method:W,navigate:n,replace:a,state:u,relative:h,preventScrollReset:g,viewTransition:y})};return T.createElement("form",{ref:v,method:k,action:C,onSubmit:r?f:H,...x,"data-discover":!O&&e==="render"?"true":void 0})});K2.displayName="Form";function X2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j1(e){let t=T.useContext(Ni);return Ge(t,X2(e)),t}function J2(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:u,viewTransition:l}={}){let d=Wn(),f=qn(),h=yu(e,{relative:u});return T.useCallback(g=>{if(k2(g,t)){g.preventDefault();let y=n!==void 0?n:au(f)===au(h);d(e,{replace:y,state:r,preventScrollReset:a,relative:u,viewTransition:l})}},[f,d,h,n,r,t,e,a,u,l])}var Z2=0,ex=()=>`__${String(++Z2)}__`;function tx(){let{router:e}=j1("useSubmit"),{basename:t}=T.useContext($n),n=y2();return T.useCallback(async(r,a={})=>{let{action:u,method:l,encType:d,formData:f,body:h}=O2(r,t);if(a.navigate===!1){let g=a.fetcherKey||ex();await e.fetch(g,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function nx(e,{relative:t}={}){let{basename:n}=T.useContext($n),r=T.useContext(zn);Ge(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),u={...yu(e||".",{relative:t})},l=qn();if(e==null){u.search=l.search;let d=new URLSearchParams(u.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();u.search=g?`?${g}`:""}}return(!e||e===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:vr([n,u.pathname])),au(u)}function rx(e,t={}){let n=T.useContext(O1);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=j1("useViewTransitionState"),a=yu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=ss(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ss(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dl(a.pathname,l)!=null||dl(a.pathname,u)!=null}new TextEncoder;var Wa=C1();const sx="modulepreload",ix=function(e){return"/elysia/"+e},$m={},Ti=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");a=Promise.allSettled(n.map(f=>{if(f=ix(f),f in $m)return;$m[f]=!0;const h=f.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":sx,h||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),h)return new Promise((x,v)=>{y.addEventListener("load",x),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return a.then(l=>{for(const d of l||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})},ax=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ti(async()=>{const{default:r}=await Promise.resolve().then(()=>Ii);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ih extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ux extends ih{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ox extends ih{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lx extends ih{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ef;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ef||(Ef={}));var cx=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class dx{constructor(t,{headers:n={},customFetch:r,region:a=Ef.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=ax(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return cx(this,void 0,void 0,function*(){try{const{headers:a,method:u,body:l}=n;let d={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let h;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(d["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(d["Content-Type"]="application/json",h=JSON.stringify(l)));const g=yield this.fetch(`${this.url}/${t}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:h}).catch(w=>{throw new ux(w)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new ox(g);if(!g.ok)throw new lx(g);let x=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return x==="application/json"?v=yield g.json():x==="application/octet-stream"?v=yield g.blob():x==="text/event-stream"?v=g:x==="multipart/form-data"?v=yield g.formData():v=yield g.text(),{data:v,error:null}}catch(a){return{data:null,error:a}}})}}var vt={},Ia={},Ra={},Oa={},Da={},La={},fx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_i=fx();const hx=_i.fetch,H1=_i.fetch.bind(_i),$1=_i.Headers,px=_i.Request,mx=_i.Response,Ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:$1,Request:px,Response:mx,default:H1,fetch:hx},Symbol.toStringTag,{value:"Module"})),gx=A_(Ii);var Yo={},zm;function z1(){if(zm)return Yo;zm=1,Object.defineProperty(Yo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Yo.default=e,Yo}var qm;function q1(){if(qm)return La;qm=1;var e=La.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(La,"__esModule",{value:!0});const t=e(gx),n=e(z1());class r{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,l){return this.headers=Object.assign({},this.headers),this.headers[u]=l,this}then(u,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var g,y,x;let v=null,w=null,C=null,k=h.status,O=h.statusText;if(h.ok){if(this.method!=="HEAD"){const W=await h.text();W===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=W:w=JSON.parse(W))}const F=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),U=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");F&&U&&U.length>1&&(C=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,C=null,k=406,O="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const F=await h.text();try{v=JSON.parse(F),Array.isArray(v)&&h.status===404&&(w=[],v=null,k=200,O="OK")}catch{h.status===404&&F===""?(k=204,O="No Content"):v={message:F}}if(v&&this.isMaybeSingle&&(!((x=v?.details)===null||x===void 0)&&x.includes("0 rows"))&&(v=null,k=200,O="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:w,count:C,status:k,statusText:O}});return this.shouldThrowOnError||(f=f.catch(h=>{var g,y,x;return{error:{message:`${(g=h?.name)!==null&&g!==void 0?g:"FetchError"}: ${h?.message}`,details:`${(y=h?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(x=h?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(u,l)}}return La.default=r,La}var Wm;function W1(){if(Wm)return Da;Wm=1;var e=Da.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Da,"__esModule",{value:!0});const t=e(q1());class n extends t.default{select(a){let u=!1;const l=(a??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:u=!0,nullsFirst:l,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${a}.${u?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:u,referencedTable:l=u}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,u,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(h,`${u-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:u=!1,settings:l=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var g;const y=[a?"analyze":null,u?"verbose":null,l?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${x}"; options=${y};`,h==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Da.default=n,Da}var Ym;function ah(){if(Ym)return Oa;Ym=1;var e=Oa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oa,"__esModule",{value:!0});const t=e(W1());class n extends t.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}in(a,u){const l=Array.from(new Set(u)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:l,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${h}.${u}`),this}match(a){return Object.entries(a).forEach(([u,l])=>{this.url.searchParams.append(u,`eq.${l}`)}),this}not(a,u,l){return this.url.searchParams.append(a,`not.${u}.${l}`),this}or(a,{foreignTable:u,referencedTable:l=u}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,u,l){return this.url.searchParams.append(a,`${u}.${l}`),this}}return Oa.default=n,Oa}var Vm;function Y1(){if(Vm)return Ra;Vm=1;var e=Ra.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ra,"__esModule",{value:!0});const t=e(ah());class n{constructor(a,{headers:u={},schema:l,fetch:d}){this.url=a,this.headers=u,this.schema=l,this.fetch=d}select(a,{head:u=!1,count:l}={}){const d=u?"HEAD":"GET";let f=!1;const h=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",h),l&&(this.headers.Prefer=`count=${l}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:u,defaultToNull:l=!0}={}){const d="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),u&&f.push(`count=${u}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const h=a.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(h.length>0){const g=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:u,ignoreDuplicates:l=!1,count:d,defaultToNull:f=!0}={}){const h="POST",g=[`resolution=${l?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const y=a.reduce((x,v)=>x.concat(Object.keys(v)),[]);if(y.length>0){const x=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:u}={}){const l="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),u&&d.push(`count=${u}`),this.headers.Prefer=d.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const u="DELETE",l=[];return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ra.default=n,Ra}var Pa={},Ma={},Qm;function Ex(){return Qm||(Qm=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.version=void 0,Ma.version="0.0.0-automated"),Ma}var Gm;function bx(){if(Gm)return Pa;Gm=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.DEFAULT_HEADERS=void 0;const e=Ex();return Pa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Pa}var Km;function yx(){if(Km)return Ia;Km=1;var e=Ia.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ia,"__esModule",{value:!0});const t=e(Y1()),n=e(ah()),r=bx();class a{constructor(l,{headers:d={},schema:f,fetch:h}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),d),this.schemaName=f,this.fetch=h}from(l){const d=new URL(`${this.url}/${l}`);return new t.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,d={},{head:f=!1,get:h=!1,count:g}={}){let y;const x=new URL(`${this.url}/rpc/${l}`);let v;f||h?(y=f?"HEAD":"GET",Object.entries(d).filter(([C,k])=>k!==void 0).map(([C,k])=>[C,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([C,k])=>{x.searchParams.append(C,k)})):(y="POST",v=d);const w=Object.assign({},this.headers);return g&&(w.Prefer=`count=${g}`),new n.default({method:y,url:x,headers:w,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return Ia.default=a,Ia}var Xm;function Tx(){if(Xm)return vt;Xm=1;var e=vt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(vt,"__esModule",{value:!0}),vt.PostgrestError=vt.PostgrestBuilder=vt.PostgrestTransformBuilder=vt.PostgrestFilterBuilder=vt.PostgrestQueryBuilder=vt.PostgrestClient=void 0;const t=e(yx());vt.PostgrestClient=t.default;const n=e(Y1());vt.PostgrestQueryBuilder=n.default;const r=e(ah());vt.PostgrestFilterBuilder=r.default;const a=e(W1());vt.PostgrestTransformBuilder=a.default;const u=e(q1());vt.PostgrestBuilder=u.default;const l=e(z1());return vt.PostgrestError=l.default,vt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:u.default,PostgrestError:l.default},vt}var _x=Tx();const xx=Kf(_x),{PostgrestClient:wx,PostgrestQueryBuilder:wD,PostgrestFilterBuilder:vD,PostgrestTransformBuilder:SD,PostgrestBuilder:AD,PostgrestError:CD}=xx,vx="2.11.2",Sx={"X-Client-Info":`realtime-js/${vx}`},Ax="1.0.0",V1=1e4,Cx=1e3;var Ei;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ei||(Ei={}));var fn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fn||(fn={}));var Un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Un||(Un={}));var bf;(function(e){e.websocket="websocket"})(bf||(bf={}));var Ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ns||(Ns={}));class Nx{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),u=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+a));l=l+a;const f=r.decode(t.slice(l,l+u));l=l+u;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class Q1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})($e||($e={}));const Jm=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((u,l)=>(u[l]=kx(l,e,t,a),u),{})},kx=(e,t,n,r)=>{const a=t.find(d=>d.name===e),u=a?.type,l=n[e];return u&&!r.includes(u)?G1(u,l):yf(l)},G1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Dx(t,n)}switch(e){case $e.bool:return Ix(t);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return Rx(t);case $e.json:case $e.jsonb:return Ox(t);case $e.timestamp:return Lx(t);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return yf(t);default:return yf(t)}},yf=e=>e,Ix=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Rx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ox=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Dx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let u;const l=e.slice(1,n);try{u=JSON.parse("["+l+"]")}catch{u=l?l.split(","):[]}return u.map(d=>G1(t,d))}return e},Lx=e=>typeof e=="string"?e.replace(" ","T"):e,K1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class $d{constructor(t,n,r={},a=V1){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Zm||(Zm={}));class Qa{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:u,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qa.syncState(this.state,a,u,l),this.pendingDiffs.forEach(f=>{this.state=Qa.syncDiff(this.state,f,u,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},a=>{const{onJoin:u,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Qa.syncDiff(this.state,a,u,l),d())}),this.onJoin((a,u,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:l})}),this.onLeave((a,u,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const u=this.cloneDeep(t),l=this.transformState(n),d={},f={};return this.map(u,(h,g)=>{l[h]||(f[h]=g)}),this.map(l,(h,g)=>{const y=u[h];if(y){const x=g.map(k=>k.presence_ref),v=y.map(k=>k.presence_ref),w=g.filter(k=>v.indexOf(k.presence_ref)<0),C=y.filter(k=>x.indexOf(k.presence_ref)<0);w.length>0&&(d[h]=w),C.length>0&&(f[h]=C)}else d[h]=g}),this.syncDiff(u,{joins:d,leaves:f},r,a)}static syncDiff(t,n,r,a){const{joins:u,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(u,(d,f)=>{var h;const g=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),g.length>0){const y=t[d].map(v=>v.presence_ref),x=g.filter(v=>y.indexOf(v.presence_ref)<0);t[d].unshift(...x)}r(d,g,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const g=f.map(y=>y.presence_ref);h=h.filter(y=>g.indexOf(y.presence_ref)<0),t[d]=h,a(d,h,f),h.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(eg||(eg={}));var tg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tg||(tg={}));var xr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xr||(xr={}));class uh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $d(this,Un.join,this.params,this.timeout),this.rejoinTimer=new Q1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Un.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Qa(this),this.broadcastEndpointURL=K1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:l,private:d}}=this.params;this._onError(g=>t?.(xr.CHANNEL_ERROR,g)),this._onClose(()=>t?.(xr.CLOSED));const f={},h={broadcast:u,presence:l,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&a!==void 0?a:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){t?.(xr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,v=(y=x?.length)!==null&&y!==void 0?y:0,w=[];for(let C=0;C<v;C++){const k=x[C],{filter:{event:O,schema:H,table:F,filter:U}}=k,W=g&&g[C];if(W&&W.event===O&&W.schema===H&&W.table===F&&W.filter===U)w.push(Object.assign(Object.assign({},k),{id:W.id}));else{this.unsubscribe(),t?.(xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(xr.SUBSCRIBED);return}}).receive("error",g=>{t?.(xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var l,d,f;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&u("ok"),h.receive("ok",()=>u("ok")),h.receive("error",()=>u("error")),h.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new $d(this,Un.leave,{},t);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const a=new AbortController,u=setTimeout(()=>a.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(u),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new $d(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,u;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:g}=Un;if(r&&[d,f,h,g].indexOf(l)>=0&&r!==this._joinRef())return;let x=this._onMessage(l,n,r);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var w,C,k;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(C=v.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(v=>v.callback(x,r)):(u=this.bindings[l])===null||u===void 0||u.filter(v=>{var w,C,k,O,H,F;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const U=v.id,W=(w=v.filter)===null||w===void 0?void 0:w.event;return U&&((C=n.ids)===null||C===void 0?void 0:C.includes(U))&&(W==="*"||W?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const U=(H=(O=v?.filter)===null||O===void 0?void 0:O.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return U==="*"||U===((F=n?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof x=="object"&&"ids"in x){const w=x.data,{schema:C,table:k,commit_timestamp:O,type:H,errors:F}=w;x=Object.assign(Object.assign({},{schema:C,table:k,commit_timestamp:O,eventType:H,new:{},old:{},errors:F}),this._getPayloadRecords(w))}v.callback(x,r)})}_isClosed(){return this.state===fn.closed}_isJoined(){return this.state===fn.joined}_isJoining(){return this.state===fn.joining}_isLeaving(){return this.state===fn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),u={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&uh.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Un.close,{},t)}_onError(t){this._on(Un.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Jm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Jm(t.columns,t.old_record)),n}}const Px=()=>{},Mx=typeof WebSocket<"u",Fx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bx{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Sx,this.params={},this.timeout=V1,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Px,this.conn=null,this.sendBuffer=[],this.serializer=new Nx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let l;return u?l=u:typeof fetch>"u"?l=(...d)=>Ti(async()=>{const{default:f}=await Promise.resolve().then(()=>Ii);return{default:f}},void 0).then(({default:f})=>f(...d)):l=fetch,(...d)=>l(...d)},this.endPoint=`${t}/${bf.websocket}`,this.httpEndpoint=K1(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n?.encode?n.encode:(u,l)=>l(JSON.stringify(u)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Q1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Mx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ux(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ti(async()=>{const{default:t}=await import("./browser-DKfgyUEd.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ax}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ei.connecting:return Ns.Connecting;case Ei.open:return Ns.Open;case Ei.closing:return Ns.Closing;default:return Ns.Closed}}isConnected(){return this.connectionState()===Ns.Open}channel(t,n={config:{}}){const r=new uh(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:a,ref:u}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${u})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(Un.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Cx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:u,ref:l}=n;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${r} ${a} ${l&&"("+l+")"||""}`,u),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,u,l)),this.stateChangeCallbacks.message.forEach(d=>d(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Un.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Fx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ux{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ei.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class oh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function bt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jx extends oh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Tf extends oh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Hx=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const X1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ti(async()=>{const{default:r}=await Promise.resolve().then(()=>Ii);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},$x=()=>Hx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ti(()=>Promise.resolve().then(()=>Ii),void 0)).Response:Response}),_f=e=>{if(Array.isArray(e))return e.map(n=>_f(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[a]=_f(r)}),t};var Fs=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const zd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zx=(e,t,n)=>Fs(void 0,void 0,void 0,function*(){const r=yield $x();e instanceof r&&!n?.noResolveJson?e.json().then(a=>{t(new jx(zd(a),e.status||500))}).catch(a=>{t(new Tf(zd(a),a))}):t(new Tf(zd(e),e))}),qx=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function Tu(e,t,n,r,a,u){return Fs(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,qx(t,r,a,u)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>zx(f,d,r))})})}function fl(e,t,n,r){return Fs(this,void 0,void 0,function*(){return Tu(e,"GET",t,n,r)})}function Jr(e,t,n,r,a){return Fs(this,void 0,void 0,function*(){return Tu(e,"POST",t,r,a,n)})}function Wx(e,t,n,r,a){return Fs(this,void 0,void 0,function*(){return Tu(e,"PUT",t,r,a,n)})}function Yx(e,t,n,r){return Fs(this,void 0,void 0,function*(){return Tu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function J1(e,t,n,r,a){return Fs(this,void 0,void 0,function*(){return Tu(e,"DELETE",t,r,a,n)})}var Xt=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const Vx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ng={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qx{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=X1(a)}uploadOrUpdate(t,n,r,a){return Xt(this,void 0,void 0,function*(){try{let u;const l=Object.assign(Object.assign({},ng),a);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),f&&u.append("metadata",this.encodeMetadata(f)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",l.cacheControl),f&&u.append("metadata",this.encodeMetadata(f))):(u=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const h=this._removeEmptyFolders(n),g=this._getFinalPath(h),y=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:u,headers:d},l?.duplex?{duplex:l.duplex}:{})),x=yield y.json();return y.ok?{data:{path:h,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(u){if(bt(u))return{data:null,error:u};throw u}})}upload(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return Xt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),l=this._getFinalPath(u),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:ng.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const y=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:g}),x=yield y.json();return y.ok?{data:{path:u,fullPath:x.Key},error:null}:{data:null,error:x}}catch(f){if(bt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Xt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const u=yield Jr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),l=new URL(this.url+u.url),d=l.searchParams.get("token");if(!d)throw new oh("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}copy(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return Xt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),u=yield Jr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${l}`)},{data:u,error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return Xt(this,void 0,void 0,function*(){try{const a=yield Jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${u}`):null})),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}download(t,n){return Xt(this,void 0,void 0,function*(){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),l=u?`?${u}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield fl(this.fetch,`${this.url}/${a}/${d}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(bt(d))return{data:null,error:d};throw d}})}info(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield fl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_f(r),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}exists(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Yx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(bt(r)&&r instanceof Tf){const a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&a.push(u);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&a.push(f);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${h}`)}}}remove(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield J1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Vx),n),{prefix:t||""});return{data:yield Jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Gx="2.7.1",Kx={"X-Client-Info":`storage-js/${Gx}`};var hi=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class Xx{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Kx),n),this.fetch=X1(r)}listBuckets(){return hi(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(bt(t))return{data:null,error:t};throw t}})}getBucket(t){return hi(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return hi(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return hi(this,void 0,void 0,function*(){try{return{data:yield Wx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return hi(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return hi(this,void 0,void 0,function*(){try{return{data:yield J1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}}class Jx extends Xx{constructor(t,n={},r){super(t,n,r)}from(t){return new Qx(this.url,this.headers,t,this.fetch)}}const Zx="2.48.0";let Ya="";typeof Deno<"u"?Ya="deno":typeof document<"u"?Ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ya="react-native":Ya="node";const ew={"X-Client-Info":`supabase-js-${Ya}/${Zx}`},tw={headers:ew},nw={schema:"public"},rw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sw={};var iw=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const aw=e=>{let t;return e?t=e:typeof fetch>"u"?t=H1:t=fetch,(...n)=>t(...n)},uw=()=>typeof Headers>"u"?$1:Headers,ow=(e,t,n)=>{const r=aw(n),a=uw();return(u,l)=>iw(void 0,void 0,void 0,function*(){var d;const f=(d=yield t())!==null&&d!==void 0?d:e;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(u,Object.assign(Object.assign({},l),{headers:h}))})};var lw=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};function cw(e){return e.replace(/\/$/,"")}function dw(e,t){const{db:n,auth:r,realtime:a,global:u}=e,{db:l,auth:d,realtime:f,global:h}=t,g={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},d),r),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign({},h),u),accessToken:()=>lw(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const Z1="2.67.3",fw="http://localhost:9999",hw="supabase.auth.token",pw={"X-Client-Info":`gotrue-js/${Z1}`},rg=10,xf="X-Supabase-Api-Version",eE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function mw(e){return Math.round(Date.now()/1e3)+e}function gw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rr=()=>typeof window<"u"&&typeof document<"u",xs={tested:!1,writable:!1},Ga=()=>{if(!rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xs.tested)return xs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xs.tested=!0,xs.writable=!0}catch{xs.tested=!0,xs.writable=!1}return xs.writable};function Ew(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,u)=>{t[u]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const tE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ti(async()=>{const{default:r}=await Promise.resolve().then(()=>Ii);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},bw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nE=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qo=async(e,t)=>{await e.removeItem(t)};function yw(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,a,u,l,d,f,h,g=0;for(e=e.replace("-","+").replace("_","/");g<e.length;)l=t.indexOf(e.charAt(g++)),d=t.indexOf(e.charAt(g++)),f=t.indexOf(e.charAt(g++)),h=t.indexOf(e.charAt(g++)),r=l<<2|d>>4,a=(d&15)<<4|f>>2,u=(f&3)<<6|h,n=n+String.fromCharCode(r),f!=64&&a!=0&&(n=n+String.fromCharCode(a)),h!=64&&u!=0&&(n=n+String.fromCharCode(u));return n}class Ll{constructor(){this.promise=new Ll.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ll.promiseConstructor=Promise;function sg(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(yw(r))}async function Tw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _w(e,t){return new Promise((r,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const l=await e(u);if(!t(u,null,l)){r(l);return}}catch(l){if(!t(u,l)){a(l);return}}})()})}function xw(e){return("0"+e.toString(16)).substr(-2)}function ww(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let u=0;u<56;u++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,xw).join("")}async function vw(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}function Sw(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Aw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await vw(e);return Sw(n)}async function pi(e,t,n=!1){const r=ww();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await nE(e,`${t}-code-verifier`,a);const u=await Aw(r);return[u,r===u?"plain":"s256"]}const Cw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nw(e){const t=e.headers.get(xf);if(!t||!t.match(Cw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class lh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function we(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kw extends lh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Iw(e){return we(e)&&e.name==="AuthApiError"}class rE extends lh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Bs extends lh{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Gr extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rw(e){return we(e)&&e.name==="AuthSessionMissingError"}class qd extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Go extends Bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ko extends Bs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ow(e){return we(e)&&e.name==="AuthImplicitGrantRedirectError"}class ig extends Bs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wf extends Bs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Wd(e){return we(e)&&e.name==="AuthRetryableFetchError"}class ag extends Bs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Dw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lw=[502,503,504];async function ug(e){var t;if(!bw(e))throw new wf(Cs(e),0);if(Lw.includes(e.status))throw new wf(Cs(e),e.status);let n;try{n=await e.json()}catch(u){throw new rE(Cs(u),u)}let r;const a=Nw(e);if(a&&a.getTime()>=eE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ag(Cs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Gr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,l)=>u&&typeof l=="string",!0))throw new ag(Cs(n),e.status,n.weak_password.reasons);throw new kw(Cs(n),e.status||500,r)}const Pw=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function Re(e,t,n,r){var a;const u=Object.assign({},r?.headers);u[xf]||(u[xf]=eE["2024-01-01"].name),r?.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const l=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await Mw(e,t,n+d,{headers:u,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function Mw(e,t,n,r,a,u){const l=Pw(t,r,a,u);let d;try{d=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new wf(Cs(f),0)}if(d.ok||await ug(d),r?.noResolveJson)return d;try{return await d.json()}catch(f){await ug(f)}}function Kr(e){var t;let n=null;jw(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=mw(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function og(e){const t=Kr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ts(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Fw(e){return{data:e,error:null}}function Bw(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:u}=e,l=Dw(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:u},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function Uw(e){return e}function jw(e){return e.access_token&&e.refresh_token&&e.expires_in}var Hw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class $w{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=tE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ts})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Hw(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Bw,redirectTo:n?.redirectTo})}catch(n){if(we(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ts})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,u,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},g=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(u=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Uw});if(g.error)throw g.error;const y=await g.json(),x=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(w=>{const C=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);h[`${k}Page`]=C}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(we(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ts})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ts})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ts})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}}const zw={getItem:e=>Ga()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ga()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ga()&&globalThis.localStorage.removeItem(e)}};function lg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function qw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mi={debug:!!(globalThis&&Ga()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ww extends sE{}async function Yw(e,t,n){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ww(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(mi.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}qw();const Vw={url:fw,storageKey:hw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Fa=30*1e3,cg=3;async function dg(e,t,n){return await n()}class uu{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=uu.nextInstanceID,uu.nextInstanceID+=1,this.instanceID>0&&rr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Vw),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new $w({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=tE(a.fetch),this.lock=a.lock||dg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:rr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Yw:this.lock=dg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Ga()?this.storage=zw:(this.memoryStorage={},this.storage=lg(this.memoryStorage)):(this.memoryStorage={},this.storage=lg(this.memoryStorage)),rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Z1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Ew(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),rr()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:u}=await this._getSessionFromURL(n,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Ow(u)){const f=(t=u.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:l,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return we(n)?{error:n}:{error:new rE("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const u=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Kr}),{data:l,error:d}=u;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(u){if(we(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var n,r,a;try{let u;if("email"in t){const{email:g,password:y,options:x}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await pi(this.storage,this.storageKey)),u=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:g,password:y,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:v,code_challenge_method:w},xform:Kr})}else if("phone"in t){const{phone:g,password:y,options:x}=t;u=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(a=x?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Kr})}else throw new Go("You must provide either an email or phone number and a password");const{data:l,error:d}=u;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(u){if(we(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let n;if("email"in t){const{email:u,password:l,options:d}=t;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:og})}else if("phone"in t){const{phone:u,password:l,options:d}=t;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:og})}else throw new Go("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new qd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Vo(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:u,error:l}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kr});if(await Qo(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new qd}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:l})}catch(u){if(we(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:u,nonce:l}=t,d=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:u,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Kr}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new qd}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,u,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await pi(this.storage,this.storageKey));const{error:y}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:g}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(u=f?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:g}}throw new Go("You must provide either an email or phone number.")}catch(d){if(we(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let a,u;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,u=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:Kr});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let u=null,l=null;return this.flowType==="pkce"&&([u,l]=await pi(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:l}),headers:this.headers,xform:Fw})}catch(u){if(we(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Gr;const{error:a}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(we(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:u}=t,{error:l}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:a,options:u}=t,{data:l,error:d}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Go("You must provide either an email or phone number and a type")}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Vo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,g)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,g))})}return{data:{session:t},error:null}}const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ts}):await this._useSession(async n=>{var r,a,u;const{data:l,error:d}=n;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gr}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:ts})})}catch(n){if(we(n))return Rw(n)&&(await this._removeSession(),await Qo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:u}=r;if(u)throw u;if(!a.session)throw new Gr;const l=a.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await pi(this.storage,this.storageKey));const{data:h,error:g}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:ts});if(g)throw g;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return sg(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gr;const n=Date.now()/1e3;let r=n,a=!0,u=null;const l=sg(t.access_token);if(l.exp&&(r=l.exp,a=r<=n),a){const{session:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;u={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(we(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Gr;const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(we(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!rr())throw new Ko("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ko(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ig("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ko("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ig("No code detected.");const{data:H,error:F}=await this._exchangeCodeForSession(t.code);if(F)throw F;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:u,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!u||!d||!l||!h)throw new Ko("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(d);let x=g+y;f&&(x=parseInt(f));const v=x-g;v*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${y}s`);const w=x-y;g-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,x,g):g-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,x,g);const{data:C,error:k}=await this._getUser(u);if(k)throw k;const O={provider_token:r,provider_refresh_token:a,access_token:u,expires_in:y,expires_at:x,refresh_token:l,token_type:h,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(r){if(we(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Vo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:u}=n;if(u)return{error:u};const l=(r=a.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(Iw(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Qo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=gw(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:u},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await pi(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(we(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async u=>{var l,d,f,h,g;const{data:y,error:x}=u;if(x)throw x;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",v,{headers:this.headers,jwt:(g=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return rr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(we(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:u,error:l}=n;if(l)throw l;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _w(async a=>(a>0&&await Tw(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kr})),(a,u)=>{const l=200*Math.pow(2,a);return u&&Wd(u)&&Date.now()+l-r<Fa})}catch(r){if(this._debug(n,"error",r),we(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),rr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Vo(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),u=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<a+rg;if(this._debug(n,`session has${u?"":" not"} expired with margin of ${rg}s`),u){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),Wd(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ll;const{data:u,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!u.session)throw new Gr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={session:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(a,"error",u),we(u)){const l={session:null,error:u};return Wd(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const u=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){u.push(f)}});if(await Promise.all(l),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nE(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Qo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fa}ms, refresh threshold is ${cg} ticks`),a<=cg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,l]=await pi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(d.toString())}if(r?.queryParams){const u=new URLSearchParams(r.queryParams);a.push(u.toString())}return r?.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;return u?{data:null,error:u}:await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:u,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:h}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;if(u)return{data:null,error:u};const{data:l,error:d}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})})}catch(n){if(we(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;return u?{data:null,error:u}:await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(we(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],a=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),u=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:a,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:u}=t;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(a.access_token);let d=null;l.aal&&(d=l.aal);let f=d;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const g=l.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}}uu.nextInstanceID=0;const Qw=uu;class Gw extends Qw{constructor(t){super(t)}}var Kw=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class Xw{constructor(t,n,r){var a,u,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const d=cw(t);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:nw,realtime:sw,auth:Object.assign(Object.assign({},rw),{storageKey:f}),global:tw},g=dw(r??{},h);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=ow(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new wx(`${d}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new dx(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Kw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:u,flowType:l,lock:d,debug:f},h,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gw({url:this.authUrl,headers:Object.assign(Object.assign({},y),h),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:l,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Bx(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jw=(e,t,n)=>new Xw(e,t,n),Zw="https://bbosgvxsamxhzjgzxiuz.supabase.co",ev="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJib3NndnhzYW14aHpqZ3p4aXV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU4NjQyNzEsImV4cCI6MjA1MTQ0MDI3MX0.xA3GJjaAzNVlddpCnHhvKOjDDxNXexY67yCqxi1GtYA",Te=Jw(Zw,ev),tv=async(e,t,n="")=>{try{let r=Te.from("recipe_search").select("*",{count:"exact"}).range(e,e+t-1);n&&(r=r.or(`title.ilike.%${n}%,description.ilike.%${n}%,ingredients_text.ilike.%${n}%`));const{data:a,count:u,error:l}=await r;if(l)throw new Error("Failed to fetch recipes.");return{data:a,count:u}}catch{return null}},nv=async(e,t)=>{try{let n=Te.from("recipes").select(`
          *,
          ingredients(id, sort_number, value),
          steps(id, sort_number, value),
          recipe_shares(permission)
        `).eq("id",e);t?n=n.or(`is_public.eq.true,user_id.eq.${t}`):n=n.eq("is_public",!0);const{data:r,error:a}=await n.maybeSingle();if(a)throw new Error("Failed to fetch recipe details.");return{...r,total_time:r.prep_time+r.cook_time||0,ingredients:r.ingredients.sort((u,l)=>u.sort_number-l.sort_number).map(u=>({...u,isActive:!0})),steps:r.steps.sort((u,l)=>u.sort_number-l.sort_number).map(u=>({...u,isActive:!0})),can_edit:r.user_id===t||r.recipe_shares&&r.recipe_shares.permission==="edit"}}catch(n){return console.error("Error fetching recipe details:",n.message),null}},rv=async(e,t,n)=>{try{let r=e;if(e){const h={};if(["title","description","prep_time","cook_time","img_url","original_recipe_url"].forEach(g=>{t[g]&&(h[g]=t[g])}),Object.keys(h).length>0){const{error:g}=await Te.from("recipes").update(h).eq("id",e);if(g)throw new Error(`Failed to update recipe: ${g.message}`)}}else{const{data:h,error:g}=await Te.from("recipes").insert([{title:t.title,description:t.description,servings:t.servings,prep_time:t.prep_time,cook_time:t.cook_time,img_url:t.img_url,original_recipe_url:t.img_url,user_id:n}]).select().single();if(g)throw new Error(`Failed to insert new recipe: ${g.message}`);r=h.id}const a=[],u=t.ingredients?.filter(h=>!h.isActive).map(h=>h.id)||[],l=t.ingredients?.filter(h=>h.isActive).map((h,g)=>({id:h.id,sort_number:g+1,recipe_id:r,value:h.value}))||[];u.length&&a.push(Te.from("ingredients").delete().in("id",u)),l.length&&a.push(Te.from("ingredients").upsert(l,{onConflict:"id"}));const d=t.steps?.filter(h=>!h.isActive).map(h=>h.id)||[],f=t.steps?.filter(h=>h.isActive).map((h,g)=>({id:h.id,recipe_id:r,sort_number:g+1,value:h.value}))||[];return d.length&&a.push(Te.from("steps").delete().in("id",d)),f.length&&a.push(Te.from("steps").upsert(f,{onConflict:"id"})),await Promise.all(a),{success:!0,recipeId:r}}catch(r){throw console.error("Error updating or inserting recipe:",r.message),r}},sv=async e=>{try{const{error:t}=await Te.from("recipes").delete().eq("id",e);if(t)throw new Error("Failed to delete recipe.")}catch(t){throw console.error("Error deleting recipe:",t.message),t}},xi={fetchRecipeList:tv,fetchRecipeDetails:nv,upsertRecipe:rv,deleteRecipe:sv};function iv(){const[e,t]=T.useState(0),[n]=T.useState(10),[r,a]=T.useState([]),[u,l]=T.useState(!1),[d,f]=T.useState(0),[h,g]=T.useState(!0);return{recipes:r,loading:u,hasMore:h,totalCount:d,loadMoreRecipes:async()=>{if(!(u||!h)){l(!0);try{const x=await xi.fetchRecipeList(e,n);if(!x)throw new Error("Something went wrong. Please try again.");x.data.length===0?g(!1):(a(v=>[...v,...x.data]),t(v=>v+x.data.length)),f(x.count||0),l(!1)}catch(x){console.error("Error fetching Tag recipes:",x.message)}finally{l(!1)}}}}}const Us=({message:e="Loading...",isLarge:t=!0,className:n=""})=>b.jsxs("div",{className:`flex items-center justify-center space-x-2 ${n}`,children:[b.jsxs("svg",{className:`animate-spin text-blue-500 ${t?"h-10 w-10":"h-5 w-5"}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l-3 3 3-3z"})]}),b.jsx("span",{children:e})]}),_u=({message:e})=>b.jsx("div",{className:"text-center text-gray-500 p-4 border border-gray-200 rounded-lg",children:e}),ch=({title:e,description:t,img_url:n})=>b.jsxs(b.Fragment,{children:[n&&b.jsx("img",{src:n,alt:e,className:"w-full h-32 object-cover rounded-t-lg"}),b.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-b-lg shadow-md p-4 hover:shadow-lg transition-shadow-xs ${n?"":"rounded-t-lg"}`,children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-leaf-green-100 mb-2",children:e}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t})]})]});function av(){const{recipes:e,loading:t,hasMore:n,loadMoreRecipes:r}=iv(),a=T.useRef(null);r();const u=T.useCallback(()=>{n&&!t&&r()},[n,t,r]);return T.useEffect(()=>{const l=new IntersectionObserver(d=>{d[0].isIntersecting&&u()},{threshold:.5});return a.current&&l.observe(a.current),()=>l.disconnect()},[u]),b.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col justify-center items-center text-center transition-all duration-300",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-leaf-green-100 mb-6",children:"Explore Recipes"}),e.length===0&&!t?b.jsx(_u,{message:"No recipes found. Add some delicious ones to get started!"}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:e.map(l=>b.jsx(Tt,{to:`/recipes/${l.id}`,children:b.jsx(ch,{title:l.title,description:l.description,img_url:l.img_url},l.id)},l.id))}),t&&b.jsx(Us,{className:"mt-6"}),!n&&!t&&b.jsx("div",{className:"text-gray-500 mt-6 animate-fade-in",children:"Youve reached the end! No more recipes to load."}),n&&b.jsx("div",{ref:a,className:"h-1"})]})}function uv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const ov=T.forwardRef(uv);function lv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const cv=T.forwardRef(lv);function dv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const iE=T.forwardRef(dv);function fv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}const aE=T.forwardRef(fv);function hv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"}))}const uE=T.forwardRef(hv);function pv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const oE=T.forwardRef(pv);function mv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"}))}const gv=T.forwardRef(mv);function Ev({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const bv=T.forwardRef(Ev);function yv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Tv=T.forwardRef(yv);function _v({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const xv=T.forwardRef(_v);function wv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))}const vv=T.forwardRef(wv);function Sv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Av=T.forwardRef(Sv);function Cv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Nv=T.forwardRef(Cv);function kv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Iv=T.forwardRef(kv);function Rv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ov=T.forwardRef(Rv);function Dv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Lv=T.forwardRef(Dv);function Pv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Mv=T.forwardRef(Pv),Fv={success:b.jsx(bv,{className:"w-6 h-6 text-green-500"}),error:b.jsx(Lv,{className:"w-6 h-6 text-red-500"}),info:b.jsx(Av,{className:"w-6 h-6 text-blue-500"}),warning:b.jsx(Tv,{className:"w-6 h-6 text-yellow-500"})},Bv=({id:e,message:t,type:n,onClose:r})=>b.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg shadow-md border-l-4
                transition-all duration-300
                dark:bg-gray-800 dark:text-gray-200 bg-white text-gray-800
                ${{success:"border-green-500",error:"border-red-500",info:"border-blue-500",warning:"border-yellow-500"}[n]}
            `,children:[Fv[n],b.jsx("span",{children:t}),b.jsx("button",{onClick:()=>r(e),className:"ml-auto",children:b.jsx(oE,{className:"w-5 h-5 dark:text-gray-400 dark:hover:text-gray-200 text-gray-500 hover:text-gray-700"})})]}),lE=T.createContext(null);function Uv({children:e}){const[t,n]=T.useState([]),r=T.useCallback(l=>{n(d=>d.filter(f=>f.id!==l))},[]),a=T.useCallback((l="Something went wrong. Please try again.",d="success",f=3e3)=>{const h=Date.now();n(g=>[...g,{id:h,message:l,type:d}]),setTimeout(()=>r(h),f)},[r]),u=T.useMemo(()=>({success:(l,d)=>a(l,"success",d),error:(l,d)=>a(l,"error",d),info:(l,d)=>a(l,"info",d),warning:(l,d)=>a(l,"warning",d)}),[a]);return b.jsxs(lE.Provider,{value:u,children:[e,b.jsx("div",{className:"fixed top-5 right-5 z-50 flex flex-col space-y-2",children:t.map(l=>b.jsx(Bv,{...l,onClose:()=>r(l.id)},l.id))})]})}function or(){const e=T.useContext(lE);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const ze=({type:e="button",btnType:t="primary",onClick:n,children:r,isLoading:a=!1,className:u="",disabled:l=!1,...d})=>{const g=`flex gap-2 justify-center items-center font-medium px-4 py-2 text-center transition focus:outline-hidden ${{primary:"text-white bg-leaf-green-700 dark:bg-leaf-green-600 hover:bg-leaf-green-800 dark:hover:bg-leaf-green-800 rounded-lg",secondary:"text-leaf-green-600 dark:text-leaf-green-100 border border-leaf-green-600 dark:border-leaf-green-100 hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 rounded-lg",delete:"text-red-500 border border-red-500 hover:text-white hover:bg-red-500 rounded-lg",dismissable:"text-gray-800 border border-gray-300 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",dropdown:"w-full text-leaf-green-600 dark:text-leaf-green-100 px-4 py-2 text-center hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 transition focus:outline-hidden rounded-none"}[t]||""} ${l||a?"opacity-50 cursor-not-allowed":""} ${u}`;return b.jsxs("button",{type:e,className:g,disabled:l||a,onClick:!l&&!a?n:void 0,...d,children:[a&&b.jsx(Us,{isLarge:!1}),r]})},wi=({icon:e,onClick:t=()=>{},disabled:n=!1,className:r="",title:a="",attributes:u={},listeners:l={},...d})=>b.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),t(f)},className:`inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 ${r}`,disabled:n,title:a,...u,...l,...d,children:e}),cE=({onClick:e})=>{const[t,n]=T.useState(!1);return b.jsx(wi,{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),title:"Delete",icon:t?b.jsx(uE,{className:"w-6 h-6 text-red-500"}):b.jsx(Ov,{className:"w-6 h-6 text-gray-500"})})},dh=({isReadOnly:e=!1,title:t="tag",onClick:n,btnClass:r="",disabled:a=!1,...u})=>b.jsxs("button",{type:"button",className:`flex gap-2 justify-center items-center font-medium px-2 py-1 text-center transition focus:outline-hidden text-leaf-green-600 dark:text-leaf-green-100 border border-leaf-green-600 dark:border-leaf-green-100 hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 rounded-lg ${e?"opacity-50 cursor-not-allowed":""} ${r}`,disabled:e||a,"aria-label":`${!e&&"Remove "}${t}`,onClick:e?void 0:n,...u,children:[b.jsx("small",{children:t}),!e&&b.jsx(Mv,{className:"w-3 h-3"})]}),jv=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[a,u]=T.useState(!1),l=or(),d=Wn(),f=async h=>{h.preventDefault(),u(!0);const{error:g}=await Te.auth.signInWithPassword({email:e,password:n});g?l.error(g.message):d("/"),u(!1)};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold text-leaf-green-600 dark:text-white mb-4 text-center",children:"Sign In"}),b.jsxs("form",{onSubmit:f,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:h=>t(h.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"password",id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:h=>r(h.target.value),required:!0}),b.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"})]}),b.jsx("div",{className:"mb-2 text-right",children:b.jsx(Tt,{to:"/forgot-password",children:"Forgot password?"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(ze,{type:"submit",isLoading:a,className:"w-full",children:"Sign In"}),b.jsx(Tt,{to:"/register",children:b.jsx(ze,{btnType:"secondary",className:"w-full",children:"Register"})})]})]})]})})},Hv=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[a,u]=T.useState(!1),l=or(),d=Wn(),f=async h=>{h.preventDefault(),u(!0);const{error:g}=await Te.auth.signUp({email:e,password:n});g?l.error(g.message):(l.success("Registration successful! A confirmation link has been sent to your email."),d("/")),u(!1)};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-leaf-green-600 dark:text-white text-center",children:"Register"}),b.jsxs("form",{onSubmit:f,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:h=>t(h.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"password",id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:h=>r(h.target.value),required:!0}),b.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(ze,{type:"submit",isLoading:a,className:"w-full",children:"Register"}),b.jsx(Tt,{to:"/sign-in",children:b.jsx(ze,{btnType:"secondary",className:"w-full",children:"Back to Sign In"})})]})]})]})})},$v=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(!1),a=or(),u=async l=>{if(l.preventDefault(),!e){a.error("Please enter your email.");return}r(!0);const{error:d}=await Te.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/elysia/reset-password`});r(!1),d?a.error(d.message):a.success("Password reset link sent to your email!")};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-center text-leaf-green-600 dark:text-white",children:"Reset Password"}),b.jsxs("form",{onSubmit:u,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:l=>t(l.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(ze,{type:"submit",isLoading:n,className:"w-full",children:n?"Sending...":"Send Reset Link"}),b.jsx(Tt,{to:"/sign-in",children:b.jsx(ze,{btnType:"secondary",className:"w-full",children:"Back to Sign In"})})]})]})]})})},zv=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[a,u]=T.useState(!1),[l,d]=T.useState(""),f=or(),h=Wn(),g=async y=>{if(y.preventDefault(),d(""),e.length<6){d("Password must be at least 6 characters long.");return}if(e!==n){d("Passwords do not match.");return}u(!0);const{error:x}=await Te.auth.updateUser({password:e});u(!1),x?f.error(x.message):(f.success("Password updated successfully! You can now sign in."),h("/sign-in"))};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Reset Password"}),b.jsxs("form",{onSubmit:g,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"new-password",id:"new-password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:y=>t(y.target.value),required:!0}),b.jsx("label",{htmlFor:"new-password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"New Password"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"confirm-password",id:"confirm-password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:y=>r(y.target.value),required:!0}),b.jsx("label",{htmlFor:"confirm-password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Confirm Password"})]}),l&&b.jsx("p",{className:"text-red-500 text-sm mb-4",children:l}),b.jsx(ze,{type:"submit",isLoading:a,className:"w-full",children:"Reset Password"})]})]})})},dE=T.createContext(void 0),qv=({children:e})=>{const[t,n]=T.useState(null);return T.useEffect(()=>{(async()=>{const{data:{session:u}}=await Te.auth.getSession();n(u?.user||null)})();const{data:{subscription:a}}=Te.auth.onAuthStateChange((u,l)=>{n(l?.user||null)});return()=>{a?.unsubscribe()}},[]),b.jsx(dE.Provider,{value:{user:t},children:e})},Ri=()=>{const e=T.useContext(dE);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function ws({children:e}){const{user:t}=Ri();return t?window.location.pathname==="/elysia/sign-in"?b.jsx(jm,{to:"/"}):b.jsx(b.Fragment,{children:e}):window.location.pathname==="/elysia/sign-in"?b.jsx(b.Fragment,{children:e}):b.jsx(jm,{to:"/sign-in"})}const fE=T.createContext(void 0),Wv=({children:e})=>{const[t,n]=T.useState(()=>typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches),r=()=>{n(a=>!a)};return T.useEffect(()=>{const a=document.documentElement;t?a.classList.add("dark"):a.classList.remove("dark")},[t]),b.jsx(fE.Provider,{value:{isDarkMode:t,toggleDarkMode:r},children:e})},hE=()=>{const e=T.useContext(fE);if(!e)throw new Error("useDarkMode must be used within a DarkModeProvider");return e};function pE(e,t){return function(){return e.apply(t,arguments)}}const{toString:Yv}=Object.prototype,{getPrototypeOf:fh}=Object,Pl=(e=>t=>{const n=Yv.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yn=e=>(e=e.toLowerCase(),t=>Pl(t)===e),Ml=e=>t=>typeof t===e,{isArray:Oi}=Array,ou=Ml("undefined");function Vv(e){return e!==null&&!ou(e)&&e.constructor!==null&&!ou(e.constructor)&&pn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const mE=Yn("ArrayBuffer");function Qv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&mE(e.buffer),t}const Gv=Ml("string"),pn=Ml("function"),gE=Ml("number"),Fl=e=>e!==null&&typeof e=="object",Kv=e=>e===!0||e===!1,il=e=>{if(Pl(e)!=="object")return!1;const t=fh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xv=Yn("Date"),Jv=Yn("File"),Zv=Yn("Blob"),eS=Yn("FileList"),tS=e=>Fl(e)&&pn(e.pipe),nS=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||pn(e.append)&&((t=Pl(e))==="formdata"||t==="object"&&pn(e.toString)&&e.toString()==="[object FormData]"))},rS=Yn("URLSearchParams"),[sS,iS,aS,uS]=["ReadableStream","Request","Response","Headers"].map(Yn),oS=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Oi(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;let d;for(r=0;r<l;r++)d=u[r],t.call(null,e[d],d,e)}}function EE(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Is=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bE=e=>!ou(e)&&e!==Is;function vf(){const{caseless:e}=bE(this)&&this||{},t={},n=(r,a)=>{const u=e&&EE(t,a)||a;il(t[u])&&il(r)?t[u]=vf(t[u],r):il(r)?t[u]=vf({},r):Oi(r)?t[u]=r.slice():t[u]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&xu(arguments[r],n);return t}const lS=(e,t,n,{allOwnKeys:r}={})=>(xu(t,(a,u)=>{n&&pn(a)?e[u]=pE(a,n):e[u]=a},{allOwnKeys:r}),e),cS=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dS=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},fS=(e,t,n,r)=>{let a,u,l;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),u=a.length;u-- >0;)l=a[u],(!r||r(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=n!==!1&&fh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},hS=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},pS=e=>{if(!e)return null;if(Oi(e))return e;let t=e.length;if(!gE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},mS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fh(Uint8Array)),gS=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const u=a.value;t.call(e,u[0],u[1])}},ES=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},bS=Yn("HTMLFormElement"),yS=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),fg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),TS=Yn("RegExp"),yE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xu(n,(a,u)=>{let l;(l=t(a,u,e))!==!1&&(r[u]=l||a)}),Object.defineProperties(e,r)},_S=e=>{yE(e,(t,n)=>{if(pn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(pn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xS=(e,t)=>{const n={},r=a=>{a.forEach(u=>{n[u]=!0})};return Oi(e)?r(e):r(String(e).split(t)),n},wS=()=>{},vS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Yd="abcdefghijklmnopqrstuvwxyz",hg="0123456789",TE={DIGIT:hg,ALPHA:Yd,ALPHA_DIGIT:Yd+Yd.toUpperCase()+hg},SS=(e=16,t=TE.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function AS(e){return!!(e&&pn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const CS=e=>{const t=new Array(10),n=(r,a)=>{if(Fl(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const u=Oi(r)?[]:{};return xu(r,(l,d)=>{const f=n(l,a+1);!ou(f)&&(u[d]=f)}),t[a]=void 0,u}}return r};return n(e,0)},NS=Yn("AsyncFunction"),kS=e=>e&&(Fl(e)||pn(e))&&pn(e.then)&&pn(e.catch),_E=((e,t)=>e?setImmediate:t?((n,r)=>(Is.addEventListener("message",({source:a,data:u})=>{a===Is&&u===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Is.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",pn(Is.postMessage)),IS=typeof queueMicrotask<"u"?queueMicrotask.bind(Is):typeof process<"u"&&process.nextTick||_E,z={isArray:Oi,isArrayBuffer:mE,isBuffer:Vv,isFormData:nS,isArrayBufferView:Qv,isString:Gv,isNumber:gE,isBoolean:Kv,isObject:Fl,isPlainObject:il,isReadableStream:sS,isRequest:iS,isResponse:aS,isHeaders:uS,isUndefined:ou,isDate:Xv,isFile:Jv,isBlob:Zv,isRegExp:TS,isFunction:pn,isStream:tS,isURLSearchParams:rS,isTypedArray:mS,isFileList:eS,forEach:xu,merge:vf,extend:lS,trim:oS,stripBOM:cS,inherits:dS,toFlatObject:fS,kindOf:Pl,kindOfTest:Yn,endsWith:hS,toArray:pS,forEachEntry:gS,matchAll:ES,isHTMLForm:bS,hasOwnProperty:fg,hasOwnProp:fg,reduceDescriptors:yE,freezeMethods:_S,toObjectSet:xS,toCamelCase:yS,noop:wS,toFiniteNumber:vS,findKey:EE,global:Is,isContextDefined:bE,ALPHABET:TE,generateString:SS,isSpecCompliantForm:AS,toJSONObject:CS,isAsyncFn:NS,isThenable:kS,setImmediate:_E,asap:IS};function xe(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}z.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const xE=xe.prototype,wE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wE[e]={value:e}});Object.defineProperties(xe,wE);Object.defineProperty(xE,"isAxiosError",{value:!0});xe.from=(e,t,n,r,a,u)=>{const l=Object.create(xE);return z.toFlatObject(e,l,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),xe.call(l,e.message,t,n,r,a),l.cause=e,l.name=e.name,u&&Object.assign(l,u),l};const RS=null;function Sf(e){return z.isPlainObject(e)||z.isArray(e)}function vE(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function pg(e,t,n){return e?e.concat(t).map(function(a,u){return a=vE(a),!n&&u?"["+a+"]":a}).join(n?".":""):t}function OS(e){return z.isArray(e)&&!e.some(Sf)}const DS=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function Bl(e,t,n){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,k){return!z.isUndefined(k[C])});const r=n.metaTokens,a=n.visitor||g,u=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(a))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(z.isDate(w))return w.toISOString();if(!f&&z.isBlob(w))throw new xe("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(w)||z.isTypedArray(w)?f&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,C,k){let O=w;if(w&&!k&&typeof w=="object"){if(z.endsWith(C,"{}"))C=r?C:C.slice(0,-2),w=JSON.stringify(w);else if(z.isArray(w)&&OS(w)||(z.isFileList(w)||z.endsWith(C,"[]"))&&(O=z.toArray(w)))return C=vE(C),O.forEach(function(F,U){!(z.isUndefined(F)||F===null)&&t.append(l===!0?pg([C],U,u):l===null?C:C+"[]",h(F))}),!1}return Sf(w)?!0:(t.append(pg(k,C,u),h(w)),!1)}const y=[],x=Object.assign(DS,{defaultVisitor:g,convertValue:h,isVisitable:Sf});function v(w,C){if(!z.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+C.join("."));y.push(w),z.forEach(w,function(O,H){(!(z.isUndefined(O)||O===null)&&a.call(t,O,z.isString(H)?H.trim():H,C,x))===!0&&v(O,C?C.concat(H):[H])}),y.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return v(e),t}function mg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function hh(e,t){this._pairs=[],e&&Bl(e,this,t)}const SE=hh.prototype;SE.append=function(t,n){this._pairs.push([t,n])};SE.toString=function(t){const n=t?function(r){return t.call(this,r,mg)}:mg;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function LS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AE(e,t,n){if(!t)return e;const r=n&&n.encode||LS;z.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let u;if(a?u=a(t,n):u=z.isURLSearchParams(t)?t.toString():new hh(t,n).toString(r),u){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class gg{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(r){r!==null&&t(r)})}}const CE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PS=typeof URLSearchParams<"u"?URLSearchParams:hh,MS=typeof FormData<"u"?FormData:null,FS=typeof Blob<"u"?Blob:null,BS={isBrowser:!0,classes:{URLSearchParams:PS,FormData:MS,Blob:FS},protocols:["http","https","file","blob","url","data"]},ph=typeof window<"u"&&typeof document<"u",Af=typeof navigator=="object"&&navigator||void 0,US=ph&&(!Af||["ReactNative","NativeScript","NS"].indexOf(Af.product)<0),jS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HS=ph&&window.location.href||"http://localhost",$S=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ph,hasStandardBrowserEnv:US,hasStandardBrowserWebWorkerEnv:jS,navigator:Af,origin:HS},Symbol.toStringTag,{value:"Module"})),Mt={...$S,...BS};function zS(e,t){return Bl(e,new Mt.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,u){return Mt.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function qS(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function WS(e){const t={},n=Object.keys(e);let r;const a=n.length;let u;for(r=0;r<a;r++)u=n[r],t[u]=e[u];return t}function NE(e){function t(n,r,a,u){let l=n[u++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),f=u>=n.length;return l=!l&&z.isArray(a)?a.length:l,f?(z.hasOwnProp(a,l)?a[l]=[a[l],r]:a[l]=r,!d):((!a[l]||!z.isObject(a[l]))&&(a[l]=[]),t(n,r,a[l],u)&&z.isArray(a[l])&&(a[l]=WS(a[l])),!d)}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,(r,a)=>{t(qS(r),a,n,0)}),n}return null}function YS(e,t,n){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const wu={transitional:CE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,u=z.isObject(t);if(u&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return a?JSON.stringify(NE(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zS(t,this.formSerializer).toString();if((d=z.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Bl(d?{"files[]":t}:t,f&&new f,this.formSerializer)}}return u||a?(n.setContentType("application/json",!1),YS(t)):t}],transformResponse:[function(t){const n=this.transitional||wu.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(r&&!this.responseType||a)){const l=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?xe.from(d,xe.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mt.classes.FormData,Blob:Mt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{wu.headers[e]={}});const VS=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QS=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),r=l.substring(a+1).trim(),!(!n||t[n]&&VS[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Eg=Symbol("internals");function Ba(e){return e&&String(e).trim().toLowerCase()}function al(e){return e===!1||e==null?e:z.isArray(e)?e.map(al):String(e)}function GS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const KS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vd(e,t,n,r,a){if(z.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!z.isString(t)){if(z.isString(r))return t.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(t)}}function XS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function JS(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,u,l){return this[r].call(this,t,a,u,l)},configurable:!0})})}class nn{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function u(d,f,h){const g=Ba(f);if(!g)throw new Error("header name must be a non-empty string");const y=z.findKey(a,g);(!y||a[y]===void 0||h===!0||h===void 0&&a[y]!==!1)&&(a[y||f]=al(d))}const l=(d,f)=>z.forEach(d,(h,g)=>u(h,g,f));if(z.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(z.isString(t)&&(t=t.trim())&&!KS(t))l(QS(t),n);else if(z.isHeaders(t))for(const[d,f]of t.entries())u(f,d,r);else t!=null&&u(n,t,r);return this}get(t,n){if(t=Ba(t),t){const r=z.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return GS(a);if(z.isFunction(n))return n.call(this,a,r);if(z.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ba(t),t){const r=z.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Vd(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function u(l){if(l=Ba(l),l){const d=z.findKey(r,l);d&&(!n||Vd(r,r[d],d,n))&&(delete r[d],a=!0)}}return z.isArray(t)?t.forEach(u):u(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const u=n[r];(!t||Vd(this,this[u],u,t,!0))&&(delete this[u],a=!0)}return a}normalize(t){const n=this,r={};return z.forEach(this,(a,u)=>{const l=z.findKey(r,u);if(l){n[l]=al(a),delete n[u];return}const d=t?XS(u):String(u).trim();d!==u&&delete n[u],n[d]=al(a),r[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return z.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Eg]=this[Eg]={accessors:{}}).accessors,a=this.prototype;function u(l){const d=Ba(l);r[d]||(JS(a,l),r[d]=!0)}return z.isArray(t)?t.forEach(u):u(t),this}}nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(nn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});z.freezeMethods(nn);function Qd(e,t){const n=this||wu,r=t||n,a=nn.from(r.headers);let u=r.data;return z.forEach(e,function(d){u=d.call(n,u,a.normalize(),t?t.status:void 0)}),a.normalize(),u}function kE(e){return!!(e&&e.__CANCEL__)}function Di(e,t,n){xe.call(this,e??"canceled",xe.ERR_CANCELED,t,n),this.name="CanceledError"}z.inherits(Di,xe,{__CANCEL__:!0});function IE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new xe("Request failed with status code "+n.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ZS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eA(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,u=0,l;return t=t!==void 0?t:1e3,function(f){const h=Date.now(),g=r[u];l||(l=h),n[a]=f,r[a]=h;let y=u,x=0;for(;y!==a;)x+=n[y++],y=y%e;if(a=(a+1)%e,a===u&&(u=(u+1)%e),h-l<t)return;const v=g&&h-g;return v?Math.round(x*1e3/v):void 0}}function tA(e,t){let n=0,r=1e3/t,a,u;const l=(h,g=Date.now())=>{n=g,a=null,u&&(clearTimeout(u),u=null),e.apply(null,h)};return[(...h)=>{const g=Date.now(),y=g-n;y>=r?l(h,g):(a=h,u||(u=setTimeout(()=>{u=null,l(a)},r-y)))},()=>a&&l(a)]}const hl=(e,t,n=3)=>{let r=0;const a=eA(50,250);return tA(u=>{const l=u.loaded,d=u.lengthComputable?u.total:void 0,f=l-r,h=a(f),g=l<=d;r=l;const y={loaded:l,total:d,progress:d?l/d:void 0,bytes:f,rate:h||void 0,estimated:h&&d&&g?(d-l)/h:void 0,event:u,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(y)},n)},bg=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},yg=e=>(...t)=>z.asap(()=>e(...t)),nA=Mt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Mt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Mt.origin),Mt.navigator&&/(msie|trident)/i.test(Mt.navigator.userAgent)):()=>!0,rA=Mt.hasStandardBrowserEnv?{write(e,t,n,r,a,u){const l=[e+"="+encodeURIComponent(t)];z.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),z.isString(r)&&l.push("path="+r),z.isString(a)&&l.push("domain="+a),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function iA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function RE(e,t){return e&&!sA(t)?iA(e,t):t}const Tg=e=>e instanceof nn?{...e}:e;function Ls(e,t){t=t||{};const n={};function r(h,g,y,x){return z.isPlainObject(h)&&z.isPlainObject(g)?z.merge.call({caseless:x},h,g):z.isPlainObject(g)?z.merge({},g):z.isArray(g)?g.slice():g}function a(h,g,y,x){if(z.isUndefined(g)){if(!z.isUndefined(h))return r(void 0,h,y,x)}else return r(h,g,y,x)}function u(h,g){if(!z.isUndefined(g))return r(void 0,g)}function l(h,g){if(z.isUndefined(g)){if(!z.isUndefined(h))return r(void 0,h)}else return r(void 0,g)}function d(h,g,y){if(y in t)return r(h,g);if(y in e)return r(void 0,h)}const f={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,g,y)=>a(Tg(h),Tg(g),y,!0)};return z.forEach(Object.keys(Object.assign({},e,t)),function(g){const y=f[g]||a,x=y(e[g],t[g],g);z.isUndefined(x)&&y!==d||(n[g]=x)}),n}const OE=e=>{const t=Ls({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:u,headers:l,auth:d}=t;t.headers=l=nn.from(l),t.url=AE(RE(t.baseURL,t.url),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let f;if(z.isFormData(n)){if(Mt.hasStandardBrowserEnv||Mt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((f=l.getContentType())!==!1){const[h,...g]=f?f.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...g].join("; "))}}if(Mt.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(t)),r||r!==!1&&nA(t.url))){const h=a&&u&&rA.read(u);h&&l.set(a,h)}return t},aA=typeof XMLHttpRequest<"u",uA=aA&&function(e){return new Promise(function(n,r){const a=OE(e);let u=a.data;const l=nn.from(a.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:h}=a,g,y,x,v,w;function C(){v&&v(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let k=new XMLHttpRequest;k.open(a.method.toUpperCase(),a.url,!0),k.timeout=a.timeout;function O(){if(!k)return;const F=nn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),W={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:F,config:e,request:k};IE(function(se){n(se),C()},function(se){r(se),C()},W),k=null}"onloadend"in k?k.onloadend=O:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(O)},k.onabort=function(){k&&(r(new xe("Request aborted",xe.ECONNABORTED,e,k)),k=null)},k.onerror=function(){r(new xe("Network Error",xe.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let U=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const W=a.transitional||CE;a.timeoutErrorMessage&&(U=a.timeoutErrorMessage),r(new xe(U,W.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,e,k)),k=null},u===void 0&&l.setContentType(null),"setRequestHeader"in k&&z.forEach(l.toJSON(),function(U,W){k.setRequestHeader(W,U)}),z.isUndefined(a.withCredentials)||(k.withCredentials=!!a.withCredentials),d&&d!=="json"&&(k.responseType=a.responseType),h&&([x,w]=hl(h,!0),k.addEventListener("progress",x)),f&&k.upload&&([y,v]=hl(f),k.upload.addEventListener("progress",y),k.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(g=F=>{k&&(r(!F||F.type?new Di(null,e,k):F),k.abort(),k=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const H=ZS(a.url);if(H&&Mt.protocols.indexOf(H)===-1){r(new xe("Unsupported protocol "+H+":",xe.ERR_BAD_REQUEST,e));return}k.send(u||null)})},oA=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const u=function(h){if(!a){a=!0,d();const g=h instanceof Error?h:this.reason;r.abort(g instanceof xe?g:new Di(g instanceof Error?g.message:g))}};let l=t&&setTimeout(()=>{l=null,u(new xe(`timeout ${t} of ms exceeded`,xe.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(u):h.removeEventListener("abort",u)}),e=null)};e.forEach(h=>h.addEventListener("abort",u));const{signal:f}=r;return f.unsubscribe=()=>z.asap(d),f}},lA=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},cA=async function*(e,t){for await(const n of dA(e))yield*lA(n,t)},dA=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},_g=(e,t,n,r)=>{const a=cA(e,t);let u=0,l,d=f=>{l||(l=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:h,value:g}=await a.next();if(h){d(),f.close();return}let y=g.byteLength;if(n){let x=u+=y;n(x)}f.enqueue(new Uint8Array(g))}catch(h){throw d(h),h}},cancel(f){return d(f),a.return()}},{highWaterMark:2})},Ul=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",DE=Ul&&typeof ReadableStream=="function",fA=Ul&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),LE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},hA=DE&&LE(()=>{let e=!1;const t=new Request(Mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),xg=64*1024,Cf=DE&&LE(()=>z.isReadableStream(new Response("").body)),pl={stream:Cf&&(e=>e.body)};Ul&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!pl[t]&&(pl[t]=z.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new xe(`Response type '${t}' is not supported`,xe.ERR_NOT_SUPPORT,r)})})})(new Response);const pA=async e=>{if(e==null)return 0;if(z.isBlob(e))return e.size;if(z.isSpecCompliantForm(e))return(await new Request(Mt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(z.isArrayBufferView(e)||z.isArrayBuffer(e))return e.byteLength;if(z.isURLSearchParams(e)&&(e=e+""),z.isString(e))return(await fA(e)).byteLength},mA=async(e,t)=>{const n=z.toFiniteNumber(e.getContentLength());return n??pA(t)},gA=Ul&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:u,timeout:l,onDownloadProgress:d,onUploadProgress:f,responseType:h,headers:g,withCredentials:y="same-origin",fetchOptions:x}=OE(e);h=h?(h+"").toLowerCase():"text";let v=oA([a,u&&u.toAbortSignal()],l),w;const C=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let k;try{if(f&&hA&&n!=="get"&&n!=="head"&&(k=await mA(g,r))!==0){let W=new Request(t,{method:"POST",body:r,duplex:"half"}),ee;if(z.isFormData(r)&&(ee=W.headers.get("content-type"))&&g.setContentType(ee),W.body){const[se,Z]=bg(k,hl(yg(f)));r=_g(W.body,xg,se,Z)}}z.isString(y)||(y=y?"include":"omit");const O="credentials"in Request.prototype;w=new Request(t,{...x,signal:v,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:O?y:void 0});let H=await fetch(w);const F=Cf&&(h==="stream"||h==="response");if(Cf&&(d||F&&C)){const W={};["status","statusText","headers"].forEach(ce=>{W[ce]=H[ce]});const ee=z.toFiniteNumber(H.headers.get("content-length")),[se,Z]=d&&bg(ee,hl(yg(d),!0))||[];H=new Response(_g(H.body,xg,se,()=>{Z&&Z(),C&&C()}),W)}h=h||"text";let U=await pl[z.findKey(pl,h)||"text"](H,e);return!F&&C&&C(),await new Promise((W,ee)=>{IE(W,ee,{data:U,headers:nn.from(H.headers),status:H.status,statusText:H.statusText,config:e,request:w})})}catch(O){throw C&&C(),O&&O.name==="TypeError"&&/fetch/i.test(O.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,e,w),{cause:O.cause||O}):xe.from(O,O&&O.code,e,w)}}),Nf={http:RS,xhr:uA,fetch:gA};z.forEach(Nf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const wg=e=>`- ${e}`,EA=e=>z.isFunction(e)||e===null||e===!1,PE={getAdapter:e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let u=0;u<t;u++){n=e[u];let l;if(r=n,!EA(n)&&(r=Nf[(l=String(n)).toLowerCase()],r===void 0))throw new xe(`Unknown adapter '${l}'`);if(r)break;a[l||"#"+u]=r}if(!r){const u=Object.entries(a).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=t?u.length>1?`since :
`+u.map(wg).join(`
`):" "+wg(u[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Nf};function Gd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Di(null,e)}function vg(e){return Gd(e),e.headers=nn.from(e.headers),e.data=Qd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),PE.getAdapter(e.adapter||wu.adapter)(e).then(function(r){return Gd(e),r.data=Qd.call(e,e.transformResponse,r),r.headers=nn.from(r.headers),r},function(r){return kE(r)||(Gd(e),r&&r.response&&(r.response.data=Qd.call(e,e.transformResponse,r.response),r.response.headers=nn.from(r.response.headers))),Promise.reject(r)})}const ME="1.7.9",jl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{jl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Sg={};jl.transitional=function(t,n,r){function a(u,l){return"[Axios v"+ME+"] Transitional option '"+u+"'"+l+(r?". "+r:"")}return(u,l,d)=>{if(t===!1)throw new xe(a(l," has been removed"+(n?" in "+n:"")),xe.ERR_DEPRECATED);return n&&!Sg[l]&&(Sg[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,l,d):!0}};jl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function bA(e,t,n){if(typeof e!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const u=r[a],l=t[u];if(l){const d=e[u],f=d===void 0||l(d,u,e);if(f!==!0)throw new xe("option "+u+" must be "+f,xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xe("Unknown option "+u,xe.ERR_BAD_OPTION)}}const ul={assertOptions:bA,validators:jl},nr=ul.validators;class Rs{constructor(t){this.defaults=t,this.interceptors={request:new gg,response:new gg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ls(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:u}=n;r!==void 0&&ul.assertOptions(r,{silentJSONParsing:nr.transitional(nr.boolean),forcedJSONParsing:nr.transitional(nr.boolean),clarifyTimeoutError:nr.transitional(nr.boolean)},!1),a!=null&&(z.isFunction(a)?n.paramsSerializer={serialize:a}:ul.assertOptions(a,{encode:nr.function,serialize:nr.function},!0)),ul.assertOptions(n,{baseUrl:nr.spelling("baseURL"),withXsrfToken:nr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=u&&z.merge(u.common,u[n.method]);u&&z.forEach(["delete","get","head","post","put","patch","common"],w=>{delete u[w]}),n.headers=nn.concat(l,u);const d=[];let f=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(f=f&&C.synchronous,d.unshift(C.fulfilled,C.rejected))});const h=[];this.interceptors.response.forEach(function(C){h.push(C.fulfilled,C.rejected)});let g,y=0,x;if(!f){const w=[vg.bind(this),void 0];for(w.unshift.apply(w,d),w.push.apply(w,h),x=w.length,g=Promise.resolve(n);y<x;)g=g.then(w[y++],w[y++]);return g}x=d.length;let v=n;for(y=0;y<x;){const w=d[y++],C=d[y++];try{v=w(v)}catch(k){C.call(this,k);break}}try{g=vg.call(this,v)}catch(w){return Promise.reject(w)}for(y=0,x=h.length;y<x;)g=g.then(h[y++],h[y++]);return g}getUri(t){t=Ls(this.defaults,t);const n=RE(t.baseURL,t.url);return AE(n,t.params,t.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(t){Rs.prototype[t]=function(n,r){return this.request(Ls(r||{},{method:t,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(t){function n(r){return function(u,l,d){return this.request(Ls(d||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:l}))}}Rs.prototype[t]=n(),Rs.prototype[t+"Form"]=n(!0)});class mh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(a=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](a);r._listeners=null}),this.promise.then=a=>{let u;const l=new Promise(d=>{r.subscribe(d),u=d}).then(a);return l.cancel=function(){r.unsubscribe(u)},l},t(function(u,l,d){r.reason||(r.reason=new Di(u,l,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new mh(function(a){t=a}),cancel:t}}}function yA(e){return function(n){return e.apply(null,n)}}function TA(e){return z.isObject(e)&&e.isAxiosError===!0}const kf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kf).forEach(([e,t])=>{kf[t]=e});function FE(e){const t=new Rs(e),n=pE(Rs.prototype.request,t);return z.extend(n,Rs.prototype,t,{allOwnKeys:!0}),z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return FE(Ls(e,a))},n}const ot=FE(wu);ot.Axios=Rs;ot.CanceledError=Di;ot.CancelToken=mh;ot.isCancel=kE;ot.VERSION=ME;ot.toFormData=Bl;ot.AxiosError=xe;ot.Cancel=ot.CanceledError;ot.all=function(t){return Promise.all(t)};ot.spread=yA;ot.isAxiosError=TA;ot.mergeConfig=Ls;ot.AxiosHeaders=nn;ot.formToJSON=e=>NE(z.isHTMLForm(e)?new FormData(e):e);ot.getAdapter=PE.getAdapter;ot.HttpStatusCode=kf;ot.default=ot;var Be;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(Be||(Be={}));function _A(e){return e.type===Be.Tag||e.type===Be.Script||e.type===Be.Style}const xA=Be.Root,wA=Be.Text,vA=Be.Directive,SA=Be.Comment,AA=Be.Script,CA=Be.Style,NA=Be.Tag,kA=Be.CDATA,IA=Be.Doctype;class BE{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return cu(this,t)}}class gh extends BE{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class lu extends gh{constructor(){super(...arguments),this.type=Be.Text}get nodeType(){return 3}}class Eh extends gh{constructor(){super(...arguments),this.type=Be.Comment}get nodeType(){return 8}}class bh extends gh{constructor(t,n){super(n),this.name=t,this.type=Be.Directive}get nodeType(){return 1}}class yh extends BE{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class UE extends yh{constructor(){super(...arguments),this.type=Be.CDATA}get nodeType(){return 4}}class Ps extends yh{constructor(){super(...arguments),this.type=Be.Root}get nodeType(){return 9}}class Th extends yh{constructor(t,n,r=[],a=t==="script"?Be.Script:t==="style"?Be.Style:Be.Tag){super(r),this.name=t,this.attribs=n,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,r;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[t]}})}}function Ee(e){return _A(e)}function Hl(e){return e.type===Be.CDATA}function ar(e){return e.type===Be.Text}function $l(e){return e.type===Be.Comment}function If(e){return e.type===Be.Directive}function is(e){return e.type===Be.Root}function at(e){return Object.prototype.hasOwnProperty.call(e,"children")}function cu(e,t=!1){let n;if(ar(e))n=new lu(e.data);else if($l(e))n=new Eh(e.data);else if(Ee(e)){const r=t?Kd(e.children):[],a=new Th(e.name,{...e.attribs},r);r.forEach(u=>u.parent=a),e.namespace!=null&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=a}else if(Hl(e)){const r=t?Kd(e.children):[],a=new UE(r);r.forEach(u=>u.parent=a),n=a}else if(is(e)){const r=t?Kd(e.children):[],a=new Ps(r);r.forEach(u=>u.parent=a),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else if(If(e)){const r=new bh(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function Kd(e){const t=e.map(n=>cu(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const Ag={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class RA{constructor(t,n,r){this.dom=[],this.root=new Ps(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=Ag),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??Ag,this.elementCB=r??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new Ps(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const r=this.options.xmlMode?Be.Tag:void 0,a=new Th(t,n,void 0,r);this.addNode(a),this.tagStack.push(a)}ontext(t){const{lastNode:n}=this;if(n&&n.type===Be.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new lu(t);this.addNode(r),this.lastNode=r}}oncomment(t){if(this.lastNode&&this.lastNode.type===Be.Comment){this.lastNode.data+=t;return}const n=new Eh(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new lu(""),n=new UE([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const r=new bh(t,n);this.addNode(r)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),r&&(t.prev=r,r.next=t),t.parent=n,this.lastNode=null}}const _h=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),jE=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Xd;const OA=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Rf=(Xd=String.fromCodePoint)!==null&&Xd!==void 0?Xd:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function DA(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=OA.get(e))!==null&&t!==void 0?t:e}var _t;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(_t||(_t={}));const LA=32;var ns;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ns||(ns={}));function Of(e){return e>=_t.ZERO&&e<=_t.NINE}function PA(e){return e>=_t.UPPER_A&&e<=_t.UPPER_F||e>=_t.LOWER_A&&e<=_t.LOWER_F}function MA(e){return e>=_t.UPPER_A&&e<=_t.UPPER_Z||e>=_t.LOWER_A&&e<=_t.LOWER_Z||Of(e)}function FA(e){return e===_t.EQUALS||MA(e)}var Et;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Et||(Et={}));var vn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(vn||(vn={}));class xh{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Et.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=vn.Strict}startEntity(t){this.decodeMode=t,this.state=Et.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Et.EntityStart:return t.charCodeAt(n)===_t.NUM?(this.state=Et.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Et.NamedEntity,this.stateNamedEntity(t,n));case Et.NumericStart:return this.stateNumericStart(t,n);case Et.NumericDecimal:return this.stateNumericDecimal(t,n);case Et.NumericHex:return this.stateNumericHex(t,n);case Et.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|LA)===_t.LOWER_X?(this.state=Et.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Et.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const u=r-n;this.result=this.result*Math.pow(a,u)+parseInt(t.substr(n,u),a),this.consumed+=u}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Of(a)||PA(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Of(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===_t.SEMI)this.consumed+=1;else if(this.decodeMode===vn.Strict)return 0;return this.emitCodePoint(DA(this.result),this.consumed),this.errors&&(t!==_t.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],u=(a&ns.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const l=t.charCodeAt(n);if(this.treeIndex=BA(r,a,this.treeIndex+Math.max(1,u),l),this.treeIndex<0)return this.result===0||this.decodeMode===vn.Attribute&&(u===0||FA(l))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],u=(a&ns.VALUE_LENGTH)>>14,u!==0){if(l===_t.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==vn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&ns.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~ns.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case Et.NamedEntity:return this.result!==0&&(this.decodeMode!==vn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Et.NumericDecimal:return this.emitNumericEntity(0,2);case Et.NumericHex:return this.emitNumericEntity(0,3);case Et.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Et.EntityStart:return 0}}}function HE(e){let t="";const n=new xh(e,r=>t+=Rf(r));return function(a,u){let l=0,d=0;for(;(d=a.indexOf("&",d))>=0;){t+=a.slice(l,d),n.startEntity(u);const h=n.write(a,d+1);if(h<0){l=d+n.end();break}l=d+h,d=h===0?l+1:l}const f=t+a.slice(l);return t="",f}}function BA(e,t,n,r){const a=(t&ns.BRANCH_LENGTH)>>7,u=t&ns.JUMP_TABLE;if(a===0)return u!==0&&r===u?n:-1;if(u){const f=r-u;return f<0||f>=a?-1:e[n+f]-1}let l=n,d=l+a-1;for(;l<=d;){const f=l+d>>>1,h=e[f];if(h<r)l=f+1;else if(h>r)d=f-1;else return e[f+a]}return-1}HE(_h);HE(jE);const Cg=/["&'<>$\x80-\uFFFF]/g,UA=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),jA=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function $E(e){let t="",n=0,r;for(;(r=Cg.exec(e))!==null;){const a=r.index,u=e.charCodeAt(a),l=UA.get(u);l!==void 0?(t+=e.substring(n,a)+l,n=a+1):(t+=`${e.substring(n,a)}&#x${jA(e,a).toString(16)};`,n=Cg.lastIndex+=+((u&64512)===55296))}return t+e.substr(n)}function zE(e,t){return function(r){let a,u=0,l="";for(;a=e.exec(r);)u!==a.index&&(l+=r.substring(u,a.index)),l+=t.get(a[0].charCodeAt(0)),u=a.index+1;return l+r.substring(u)}}const qE=zE(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),WE=zE(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),HA=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),$A=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),zA=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function qA(e){return e.replace(/"/g,"&quot;")}function WA(e,t){var n;if(!e)return;const r=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?qA:t.xmlMode||t.encodeEntities!=="utf8"?$E:qE;return Object.keys(e).map(a=>{var u,l;const d=(u=e[a])!==null&&u!==void 0?u:"";return t.xmlMode==="foreign"&&(a=(l=$A.get(a))!==null&&l!==void 0?l:a),!t.emptyAttrs&&!t.xmlMode&&d===""?a:`${a}="${r(d)}"`}).join(" ")}const Ng=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function zl(e,t={}){const n="length"in e?e:[e];let r="";for(let a=0;a<n.length;a++)r+=YA(n[a],t);return r}function YA(e,t){switch(e.type){case xA:return zl(e.children,t);case IA:case vA:return KA(e);case SA:return ZA(e);case kA:return JA(e);case AA:case CA:case NA:return GA(e,t);case wA:return XA(e,t)}}const VA=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),QA=new Set(["svg","math"]);function GA(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=HA.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&VA.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&QA.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const a=WA(e.attribs,t);return a&&(r+=` ${a}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&Ng.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=zl(e.children,t)),(t.xmlMode||!Ng.has(e.name))&&(r+=`</${e.name}>`)),r}function KA(e){return`<${e.data}>`}function XA(e,t){var n;let r=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&zA.has(e.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?$E(r):WE(r)),r}function JA(e){return`<![CDATA[${e.children[0].data}]]>`}function ZA(e){return`<!--${e.data}-->`}function YE(e,t){return zl(e,t)}function eC(e,t){return at(e)?e.children.map(n=>YE(n,t)).join(""):""}function ol(e){return Array.isArray(e)?e.map(ol).join(""):Ee(e)?e.name==="br"?`
`:ol(e.children):Hl(e)?ol(e.children):ar(e)?e.data:""}function vi(e){return Array.isArray(e)?e.map(vi).join(""):at(e)&&!$l(e)?vi(e.children):ar(e)?e.data:""}function ml(e){return Array.isArray(e)?e.map(ml).join(""):at(e)&&(e.type===Be.Tag||Hl(e))?ml(e.children):ar(e)?e.data:""}function ql(e){return at(e)?e.children:[]}function VE(e){return e.parent||null}function QE(e){const t=VE(e);if(t!=null)return ql(t);const n=[e];let{prev:r,next:a}=e;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;a!=null;)n.push(a),{next:a}=a;return n}function tC(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function nC(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function rC(e){return e.name}function wh(e){let{next:t}=e;for(;t!==null&&!Ee(t);)({next:t}=t);return t}function vh(e){let{prev:t}=e;for(;t!==null&&!Ee(t);)({prev:t}=t);return t}function js(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function sC(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const a=t.parent=e.parent;if(a){const u=a.children;u[u.lastIndexOf(e)]=t,e.parent=null}}function iC(e,t){if(js(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function aC(e,t){js(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const a=n.children;a.splice(a.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function uC(e,t){if(js(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function oC(e,t){js(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function vu(e,t,n=!0,r=1/0){return Sh(e,Array.isArray(t)?t:[t],n,r)}function Sh(e,t,n,r){const a=[],u=[Array.isArray(t)?t:[t]],l=[0];for(;;){if(l[0]>=u[0].length){if(l.length===1)return a;u.shift(),l.shift();continue}const d=u[0][l[0]++];if(e(d)&&(a.push(d),--r<=0))return a;n&&at(d)&&d.children.length>0&&(l.unshift(0),u.unshift(d.children))}}function lC(e,t){return t.find(e)}function Ah(e,t,n=!0){const r=Array.isArray(t)?t:[t];for(let a=0;a<r.length;a++){const u=r[a];if(Ee(u)&&e(u))return u;if(n&&at(u)&&u.children.length>0){const l=Ah(e,u.children,!0);if(l)return l}}return null}function GE(e,t){return(Array.isArray(t)?t:[t]).some(n=>Ee(n)&&e(n)||at(n)&&GE(e,n.children))}function cC(e,t){const n=[],r=[Array.isArray(t)?t:[t]],a=[0];for(;;){if(a[0]>=r[0].length){if(r.length===1)return n;r.shift(),a.shift();continue}const u=r[0][a[0]++];Ee(u)&&e(u)&&n.push(u),at(u)&&u.children.length>0&&(a.unshift(0),r.unshift(u.children))}}const gl={tag_name(e){return typeof e=="function"?t=>Ee(t)&&e(t.name):e==="*"?Ee:t=>Ee(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>ar(t)&&e(t.data):t=>ar(t)&&t.data===e}};function Ch(e,t){return typeof t=="function"?n=>Ee(n)&&t(n.attribs[e]):n=>Ee(n)&&n.attribs[e]===t}function dC(e,t){return n=>e(n)||t(n)}function KE(e){const t=Object.keys(e).map(n=>{const r=e[n];return Object.prototype.hasOwnProperty.call(gl,n)?gl[n](r):Ch(n,r)});return t.length===0?null:t.reduce(dC)}function fC(e,t){const n=KE(e);return n?n(t):!0}function hC(e,t,n,r=1/0){const a=KE(e);return a?vu(a,t,n,r):[]}function pC(e,t,n=!0){return Array.isArray(t)||(t=[t]),Ah(Ch("id",e),t,n)}function Li(e,t,n=!0,r=1/0){return vu(gl.tag_name(e),t,n,r)}function mC(e,t,n=!0,r=1/0){return vu(Ch("class",e),t,n,r)}function gC(e,t,n=!0,r=1/0){return vu(gl.tag_type(e),t,n,r)}function EC(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0){e.splice(t,1);continue}for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var xn;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(xn||(xn={}));function XE(e,t){const n=[],r=[];if(e===t)return 0;let a=at(e)?e:e.parent;for(;a;)n.unshift(a),a=a.parent;for(a=at(t)?t:t.parent;a;)r.unshift(a),a=a.parent;const u=Math.min(n.length,r.length);let l=0;for(;l<u&&n[l]===r[l];)l++;if(l===0)return xn.DISCONNECTED;const d=n[l-1],f=d.children,h=n[l],g=r[l];return f.indexOf(h)>f.indexOf(g)?d===t?xn.FOLLOWING|xn.CONTAINED_BY:xn.FOLLOWING:d===e?xn.PRECEDING|xn.CONTAINS:xn.PRECEDING}function Pi(e){return e=e.filter((t,n,r)=>!r.includes(t,n+1)),e.sort((t,n)=>{const r=XE(t,n);return r&xn.PRECEDING?-1:r&xn.FOLLOWING?1:0}),e}function bC(e){const t=El(wC,e);return t?t.name==="feed"?yC(t):TC(t):null}function yC(e){var t;const n=e.children,r={type:"atom",items:Li("entry",n).map(l=>{var d;const{children:f}=l,h={media:JE(f)};Zt(h,"id","id",f),Zt(h,"title","title",f);const g=(d=El("link",f))===null||d===void 0?void 0:d.attribs.href;g&&(h.link=g);const y=rs("summary",f)||rs("content",f);y&&(h.description=y);const x=rs("updated",f);return x&&(h.pubDate=new Date(x)),h})};Zt(r,"id","id",n),Zt(r,"title","title",n);const a=(t=El("link",n))===null||t===void 0?void 0:t.attribs.href;a&&(r.link=a),Zt(r,"description","subtitle",n);const u=rs("updated",n);return u&&(r.updated=new Date(u)),Zt(r,"author","email",n,!0),r}function TC(e){var t,n;const r=(n=(t=El("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],a={type:e.name.substr(0,3),id:"",items:Li("item",e.children).map(l=>{const{children:d}=l,f={media:JE(d)};Zt(f,"id","guid",d),Zt(f,"title","title",d),Zt(f,"link","link",d),Zt(f,"description","description",d);const h=rs("pubDate",d)||rs("dc:date",d);return h&&(f.pubDate=new Date(h)),f})};Zt(a,"title","title",r),Zt(a,"link","link",r),Zt(a,"description","description",r);const u=rs("lastBuildDate",r);return u&&(a.updated=new Date(u)),Zt(a,"author","managingEditor",r,!0),a}const _C=["url","type","lang"],xC=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function JE(e){return Li("media:content",e).map(t=>{const{attribs:n}=t,r={medium:n.medium,isDefault:!!n.isDefault};for(const a of _C)n[a]&&(r[a]=n[a]);for(const a of xC)n[a]&&(r[a]=parseInt(n[a],10));return n.expression&&(r.expression=n.expression),r})}function El(e,t){return Li(e,t,!0,1)[0]}function rs(e,t,n=!1){return vi(Li(e,t,n,1)).trim()}function Zt(e,t,n,r,a=!1){const u=rs(n,r,a);u&&(e[t]=u)}function wC(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}const Wl=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return xn},append:aC,appendChild:iC,compareDocumentPosition:XE,existsOne:GE,filter:vu,find:Sh,findAll:cC,findOne:Ah,findOneChild:lC,getAttributeValue:tC,getChildren:ql,getElementById:pC,getElements:hC,getElementsByClassName:mC,getElementsByTagName:Li,getElementsByTagType:gC,getFeed:bC,getInnerHTML:eC,getName:rC,getOuterHTML:YE,getParent:VE,getSiblings:QE,getText:ol,hasAttrib:nC,hasChildren:at,innerText:ml,isCDATA:Hl,isComment:$l,isDocument:is,isTag:Ee,isText:ar,nextElementSibling:wh,prepend:oC,prependChild:uC,prevElementSibling:vh,removeElement:js,removeSubsets:EC,replaceElement:sC,testElement:fC,textContent:vi,uniqueSort:Pi},Symbol.toStringTag,{value:"Module"})),vC={_useHtmlParser2:!1};function Df(e,t){if(!e)return t??vC;const n={_useHtmlParser2:!!e.xmlMode,...t,...e};return e.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,e.xml!==!0&&Object.assign(n,e.xml)):e.xmlMode&&(n._useHtmlParser2=!0),n}function ZE(e,t,n){return e?e(t??e._root.children,null,void 0,n).toString():""}function SC(e,t){return typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function AC(e,t){const n=SC(e)?(t=e,void 0):e,r={...this===null||this===void 0?void 0:this._options,...Df(t)};return ZE(this,n,r)}function CC(e){const t={...this._options,xmlMode:!0};return ZE(this,e,t)}function du(e){const t=e??(this?this.root():[]);let n="";for(let r=0;r<t.length;r++)n+=vi(t[r]);return n}function NC(e,t,n=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t);const r=this.load(e,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function kC(){return this(this._root)}function eb(e,t){if(t===e)return!1;let n=t;for(;n&&n!==n.parent;)if(n=n.parent,n===e)return!0;return!1}function IC(e){return this.root().extract(e)}function RC(e,t){if(!kg(e)||!kg(t))return;let n=e.length;const r=+t.length;for(let a=0;a<r;a++)e[n++]=t[a];return e.length=n,e}function kg(e){if(Array.isArray(e))return!0;if(typeof e!="object"||e===null||!("length"in e)||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}const OC=Object.freeze(Object.defineProperty({__proto__:null,contains:eb,extract:IC,html:AC,merge:RC,parseHTML:NC,root:kC,text:du,xml:CC},Symbol.toStringTag,{value:"Module"}));function Sr(e){return e.cheerio!=null}function DC(e){return e.replace(/[._-](\w|$)/g,(t,n)=>n.toUpperCase())}function LC(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function et(e,t){const n=e.length;for(let r=0;r<n;r++)t(e[r],r);return e}var ks;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(ks||(ks={}));function Lf(e){const t=e.indexOf("<");if(t<0||t>e.length-3)return!1;const n=e.charCodeAt(t+1);return(n>=ks.LowerA&&n<=ks.LowerZ||n>=ks.UpperA&&n<=ks.UpperZ||n===ks.Exclamation)&&e.includes(">",t+2)}const fu=Object.prototype.hasOwnProperty,hu=/\s+/,Pf="data-",Nh=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,PC=/^{[^]*}$|^\[[^]*]$/;function bl(e,t,n){var r;if(!(!e||!Ee(e))){if((r=e.attribs)!==null&&r!==void 0||(e.attribs={}),!t)return e.attribs;if(fu.call(e.attribs,t))return!n&&Nh.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return du(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function bi(e,t,n){n===null?nb(e,t):e.attribs[t]=`${n}`}function MC(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return et(this,(n,r)=>{Ee(n)&&bi(n,e,t.call(n,r,n.attribs[e]))})}return et(this,n=>{if(Ee(n))if(typeof e=="object")for(const r of Object.keys(e)){const a=e[r];bi(n,r,a)}else bi(n,e,t)})}return arguments.length>1?this:bl(this[0],e,this.options.xmlMode)}function Ig(e,t,n){return t in e?e[t]:!n&&Nh.test(t)?bl(e,t,!1)!==void 0:bl(e,t,n)}function Jd(e,t,n,r){t in e?e[t]=n:bi(e,t,!r&&Nh.test(t)?n?"":null:`${n}`)}function FC(e,t){var n;if(typeof e=="string"&&t===void 0){const r=this[0];if(!r||!Ee(r))return;switch(e){case"style":{const a=this.css(),u=Object.keys(a);for(let l=0;l<u.length;l++)a[l]=u[l];return a.length=u.length,a}case"tagName":case"nodeName":return r.name.toUpperCase();case"href":case"src":{const a=(n=r.attribs)===null||n===void 0?void 0:n[e];return typeof URL<"u"&&(e==="href"&&(r.tagName==="a"||r.tagName==="link")||e==="src"&&(r.tagName==="img"||r.tagName==="iframe"||r.tagName==="audio"||r.tagName==="video"||r.tagName==="source"))&&a!==void 0&&this.options.baseURI?new URL(a,this.options.baseURI).href:a}case"innerText":return ml(r);case"textContent":return vi(r);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Ig(r,e,this.options.xmlMode)}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new TypeError("Bad combination of arguments.");return et(this,(r,a)=>{Ee(r)&&Jd(r,e,t.call(r,a,Ig(r,e,this.options.xmlMode)),this.options.xmlMode)})}return et(this,r=>{if(Ee(r))if(typeof e=="object")for(const a of Object.keys(e)){const u=e[a];Jd(r,a,u,this.options.xmlMode)}else Jd(r,e,t,this.options.xmlMode)})}}function Rg(e,t,n){var r;(r=e.data)!==null&&r!==void 0||(e.data={}),typeof t=="object"?Object.assign(e.data,t):typeof t=="string"&&n!==void 0&&(e.data[t]=n)}function BC(e){for(const t of Object.keys(e.attribs)){if(!t.startsWith(Pf))continue;const n=DC(t.slice(Pf.length));fu.call(e.data,n)||(e.data[n]=tb(e.attribs[t]))}return e.data}function UC(e,t){const n=Pf+LC(t),r=e.data;if(fu.call(r,t))return r[t];if(fu.call(e.attribs,n))return r[t]=tb(e.attribs[n])}function tb(e){if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;const t=Number(e);if(e===String(t))return t;if(PC.test(e))try{return JSON.parse(e)}catch{}return e}function jC(e,t){var n;const r=this[0];if(!r||!Ee(r))return;const a=r;return(n=a.data)!==null&&n!==void 0||(a.data={}),e==null?BC(a):typeof e=="object"||t!==void 0?(et(this,u=>{Ee(u)&&(typeof e=="object"?Rg(u,e):Rg(u,e,t))}),this):UC(a,e)}function HC(e){const t=arguments.length===0,n=this[0];if(!n||!Ee(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":{const r=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");const a=typeof e=="object"?e:[e];for(const u of a)this.find(`option[value="${u}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(a=>du(a.children)):r.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function nb(e,t){!e.attribs||!fu.call(e.attribs,t)||delete e.attribs[t]}function yl(e){return e?e.trim().split(hu):[]}function $C(e){const t=yl(e);for(const n of t)et(this,r=>{Ee(r)&&nb(r,n)});return this}function zC(e){return this.toArray().some(t=>{const n=Ee(t)&&t.attribs.class;let r=-1;if(n&&e.length>0)for(;(r=n.indexOf(e,r+1))>-1;){const a=r+e.length;if((r===0||hu.test(n[r-1]))&&(a===n.length||hu.test(n[a])))return!0}return!1})}function rb(e){if(typeof e=="function")return et(this,(r,a)=>{if(Ee(r)){const u=r.attribs.class||"";rb.call([r],e.call(r,a,u))}});if(!e||typeof e!="string")return this;const t=e.split(hu),n=this.length;for(let r=0;r<n;r++){const a=this[r];if(!Ee(a))continue;const u=bl(a,"class",!1);if(u){let l=` ${u} `;for(const d of t){const f=`${d} `;l.includes(` ${f}`)||(l+=f)}bi(a,"class",l.trim())}else bi(a,"class",t.join(" ").trim())}return this}function sb(e){if(typeof e=="function")return et(this,(a,u)=>{Ee(a)&&sb.call([a],e.call(a,u,a.attribs.class||""))});const t=yl(e),n=t.length,r=arguments.length===0;return et(this,a=>{if(Ee(a))if(r)a.attribs.class="";else{const u=yl(a.attribs.class);let l=!1;for(let d=0;d<n;d++){const f=u.indexOf(t[d]);f>=0&&(u.splice(f,1),l=!0,d--)}l&&(a.attribs.class=u.join(" "))}})}function ib(e,t){if(typeof e=="function")return et(this,(l,d)=>{Ee(l)&&ib.call([l],e.call(l,d,l.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;const n=e.split(hu),r=n.length,a=typeof t=="boolean"?t?1:-1:0,u=this.length;for(let l=0;l<u;l++){const d=this[l];if(!Ee(d))continue;const f=yl(d.attribs.class);for(let h=0;h<r;h++){const g=f.indexOf(n[h]);a>=0&&g<0?f.push(n[h]):a<=0&&g>=0&&f.splice(g,1)}d.attribs.class=f.join(" ")}return this}const qC=Object.freeze(Object.defineProperty({__proto__:null,addClass:rb,attr:MC,data:jC,hasClass:zC,prop:FC,removeAttr:$C,removeClass:sb,toggleClass:ib,val:HC},Symbol.toStringTag,{value:"Module"}));var he;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(he||(he={}));var ht;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(ht||(ht={}));const Og=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,WC=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,YC=new Map([[126,ht.Element],[94,ht.Start],[36,ht.End],[42,ht.Any],[33,ht.Not],[124,ht.Hyphen]]),VC=new Set(["has","not","matches","is","where","host","host-context"]);function Ka(e){switch(e.type){case he.Adjacent:case he.Child:case he.Descendant:case he.Parent:case he.Sibling:case he.ColumnCombinator:return!0;default:return!1}}const QC=new Set(["contains","icontains"]);function GC(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Ua(e){return e.replace(WC,GC)}function Zd(e){return e===39||e===34}function Dg(e){return e===32||e===9||e===10||e===12||e===13}function Yl(e){const t=[],n=ab(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function ab(e,t,n){let r=[];function a(x){const v=t.slice(n+x).match(Og);if(!v)throw new Error(`Expected name, found ${t.slice(n)}`);const[w]=v;return n+=x+w.length,Ua(w)}function u(x){for(n+=x;n<t.length&&Dg(t.charCodeAt(n));)n++}function l(){n+=1;const x=n;let v=1;for(;v>0&&n<t.length;n++)t.charCodeAt(n)===40&&!d(n)?v++:t.charCodeAt(n)===41&&!d(n)&&v--;if(v)throw new Error("Parenthesis not matched");return Ua(t.slice(x,n-1))}function d(x){let v=0;for(;t.charCodeAt(--x)===92;)v++;return(v&1)===1}function f(){if(r.length>0&&Ka(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function h(x){if(r.length>0&&r[r.length-1].type===he.Descendant){r[r.length-1].type=x;return}f(),r.push({type:x})}function g(x,v){r.push({type:he.Attribute,name:x,action:v,value:a(1),namespace:null,ignoreCase:"quirks"})}function y(){if(r.length&&r[r.length-1].type===he.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");e.push(r)}if(u(0),t.length===n)return n;e:for(;n<t.length;){const x=t.charCodeAt(n);switch(x){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==he.Descendant)&&(f(),r.push({type:he.Descendant})),u(1);break}case 62:{h(he.Child),u(1);break}case 60:{h(he.Parent),u(1);break}case 126:{h(he.Sibling),u(1);break}case 43:{h(he.Adjacent),u(1);break}case 46:{g("class",ht.Element);break}case 35:{g("id",ht.Equals);break}case 91:{u(1);let v,w=null;t.charCodeAt(n)===124?v=a(1):t.startsWith("*|",n)?(w="*",v=a(2)):(v=a(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(w=v,v=a(1))),u(0);let C=ht.Exists;const k=YC.get(t.charCodeAt(n));if(k){if(C=k,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");u(2)}else t.charCodeAt(n)===61&&(C=ht.Equals,u(1));let O="",H=null;if(C!=="exists"){if(Zd(t.charCodeAt(n))){const W=t.charCodeAt(n);let ee=n+1;for(;ee<t.length&&(t.charCodeAt(ee)!==W||d(ee));)ee+=1;if(t.charCodeAt(ee)!==W)throw new Error("Attribute value didn't end");O=Ua(t.slice(n+1,ee)),n=ee+1}else{const W=n;for(;n<t.length&&(!Dg(t.charCodeAt(n))&&t.charCodeAt(n)!==93||d(n));)n+=1;O=Ua(t.slice(W,n))}u(0);const U=t.charCodeAt(n)|32;U===115?(H=!1,u(1)):U===105&&(H=!0,u(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const F={type:he.Attribute,name:v,action:C,value:O,namespace:w,ignoreCase:H};r.push(F);break}case 58:{if(t.charCodeAt(n+1)===58){r.push({type:he.PseudoElement,name:a(2).toLowerCase(),data:t.charCodeAt(n)===40?l():null});continue}const v=a(1).toLowerCase();let w=null;if(t.charCodeAt(n)===40)if(VC.has(v)){if(Zd(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${v} cannot be quoted`);if(w=[],n=ab(w,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${v} (${t})`);n+=1}else{if(w=l(),QC.has(v)){const C=w.charCodeAt(0);C===w.charCodeAt(w.length-1)&&Zd(C)&&(w=w.slice(1,-1))}w=Ua(w)}r.push({type:he.Pseudo,name:v,data:w});break}case 44:{y(),r=[],u(1);break}default:{if(t.startsWith("/*",n)){const C=t.indexOf("*/",n+2);if(C<0)throw new Error("Comment was not terminated");n=C+2,r.length===0&&u(0);break}let v=null,w;if(x===42)n+=1,w="*";else if(x===124){if(w="",t.charCodeAt(n+1)===124){h(he.ColumnCombinator),u(2);break}}else if(Og.test(t.slice(n)))w=a(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(v=w,t.charCodeAt(n+1)===42?(w="*",n+=2):w=a(1)),r.push(w==="*"?{type:he.Universal,namespace:v}:{type:he.Tag,name:w,namespace:v})}}}return y(),n}var ef,Lg;function KC(){return Lg||(Lg=1,ef={trueFunc:function(){return!0},falseFunc:function(){return!1}}),ef}var Tl=KC();const Ne=Kf(Tl),ub=new Map([[he.Universal,50],[he.Tag,30],[he.Attribute,1],[he.Pseudo,0]]);function kh(e){return!ub.has(e.type)}const XC=new Map([[ht.Exists,10],[ht.Equals,8],[ht.Not,7],[ht.Start,6],[ht.End,6],[ht.Any,5]]);function JC(e){const t=e.map(ob);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let a=n-1;a>=0&&r<t[a];a--){const u=e[a+1];e[a+1]=e[a],e[a]=u,t[a+1]=t[a],t[a]=r}}}function ob(e){var t,n;let r=(t=ub.get(e.type))!==null&&t!==void 0?t:-1;return e.type===he.Attribute?(r=(n=XC.get(e.action))!==null&&n!==void 0?n:4,e.action===ht.Equals&&e.name==="id"&&(r=9),e.ignoreCase&&(r>>=1)):e.type===he.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map(a=>Math.min(...a.map(ob)))),r<0&&(r=0)):r=2:r=3),r}const ZC=/[-[\]{}()*+?.,\\^$|#\s]/g;function Pg(e){return e.replace(ZC,"\\$&")}const e3=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function vs(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&e3.has(e.name)}const t3={equals(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;return vs(t,n)?(u=u.toLowerCase(),l=>{const d=r.getAttributeValue(l,a);return d!=null&&d.length===u.length&&d.toLowerCase()===u&&e(l)}):l=>r.getAttributeValue(l,a)===u&&e(l)},hyphen(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=u.length;return vs(t,n)?(u=u.toLowerCase(),function(f){const h=r.getAttributeValue(f,a);return h!=null&&(h.length===l||h.charAt(l)==="-")&&h.substr(0,l).toLowerCase()===u&&e(f)}):function(f){const h=r.getAttributeValue(f,a);return h!=null&&(h.length===l||h.charAt(l)==="-")&&h.substr(0,l)===u&&e(f)}},element(e,t,n){const{adapter:r}=n,{name:a,value:u}=t;if(/\s/.test(u))return Ne.falseFunc;const l=new RegExp(`(?:^|\\s)${Pg(u)}(?:$|\\s)`,vs(t,n)?"i":"");return function(f){const h=r.getAttributeValue(f,a);return h!=null&&h.length>=u.length&&l.test(h)&&e(f)}},exists(e,{name:t},{adapter:n}){return r=>n.hasAttrib(r,t)&&e(r)},start(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=u.length;return l===0?Ne.falseFunc:vs(t,n)?(u=u.toLowerCase(),d=>{const f=r.getAttributeValue(d,a);return f!=null&&f.length>=l&&f.substr(0,l).toLowerCase()===u&&e(d)}):d=>{var f;return!!(!((f=r.getAttributeValue(d,a))===null||f===void 0)&&f.startsWith(u))&&e(d)}},end(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=-u.length;return l===0?Ne.falseFunc:vs(t,n)?(u=u.toLowerCase(),d=>{var f;return((f=r.getAttributeValue(d,a))===null||f===void 0?void 0:f.substr(l).toLowerCase())===u&&e(d)}):d=>{var f;return!!(!((f=r.getAttributeValue(d,a))===null||f===void 0)&&f.endsWith(u))&&e(d)}},any(e,t,n){const{adapter:r}=n,{name:a,value:u}=t;if(u==="")return Ne.falseFunc;if(vs(t,n)){const l=new RegExp(Pg(u),"i");return function(f){const h=r.getAttributeValue(f,a);return h!=null&&h.length>=u.length&&l.test(h)&&e(f)}}return l=>{var d;return!!(!((d=r.getAttributeValue(l,a))===null||d===void 0)&&d.includes(u))&&e(l)}},not(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;return u===""?l=>!!r.getAttributeValue(l,a)&&e(l):vs(t,n)?(u=u.toLowerCase(),l=>{const d=r.getAttributeValue(l,a);return(d==null||d.length!==u.length||d.toLowerCase()!==u)&&e(l)}):l=>r.getAttributeValue(l,a)!==u&&e(l)}},n3=new Set([9,10,12,13,32]),Mg=48,r3=57;function s3(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,r=u(),a=l();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=r*(a??1),d(),t<e.length?(r=u(),d(),a=l()):r=a=0),a===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*a];function u(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function l(){const f=t;let h=0;for(;t<e.length&&e.charCodeAt(t)>=Mg&&e.charCodeAt(t)<=r3;)h=h*10+(e.charCodeAt(t)-Mg),t++;return t===f?null:h}function d(){for(;t<e.length&&n3.has(e.charCodeAt(t));)t++}}function i3(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return Ne.falseFunc;if(t===-1)return u=>u<=n;if(t===0)return u=>u===n;if(t===1)return n<0?Ne.trueFunc:u=>u>=n;const r=Math.abs(t),a=(n%r+r)%r;return t>1?u=>u>=n&&u%r===a:u=>u<=n&&u%r===a}function Xo(e){return i3(s3(e))}function Jo(e,t){return n=>{const r=t.getParent(n);return r!=null&&t.isTag(r)&&e(n)}}const Mf={contains(e,t,{adapter:n}){return function(a){return e(a)&&n.getText(a).includes(t)}},icontains(e,t,{adapter:n}){const r=t.toLowerCase();return function(u){return e(u)&&n.getText(u).toLowerCase().includes(r)}},"nth-child"(e,t,{adapter:n,equals:r}){const a=Xo(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?Jo(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=0;h<d.length&&!r(l,d[h]);h++)n.isTag(d[h])&&f++;return a(f)&&e(l)}},"nth-last-child"(e,t,{adapter:n,equals:r}){const a=Xo(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?Jo(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=d.length-1;h>=0&&!r(l,d[h]);h--)n.isTag(d[h])&&f++;return a(f)&&e(l)}},"nth-of-type"(e,t,{adapter:n,equals:r}){const a=Xo(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?Jo(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=0;h<d.length;h++){const g=d[h];if(r(l,g))break;n.isTag(g)&&n.getName(g)===n.getName(l)&&f++}return a(f)&&e(l)}},"nth-last-of-type"(e,t,{adapter:n,equals:r}){const a=Xo(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?Jo(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=d.length-1;h>=0;h--){const g=d[h];if(r(l,g))break;n.isTag(g)&&n.getName(g)===n.getName(l)&&f++}return a(f)&&e(l)}},root(e,t,{adapter:n}){return r=>{const a=n.getParent(r);return(a==null||!n.isTag(a))&&e(r)}},scope(e,t,n,r){const{equals:a}=n;return!r||r.length===0?Mf.root(e,t,n):r.length===1?u=>a(r[0],u)&&e(u):u=>r.includes(u)&&e(u)},hover:tf("isHovered"),visited:tf("isVisited"),active:tf("isActive")};function tf(e){return function(n,r,{adapter:a}){const u=a[e];return typeof u!="function"?Ne.falseFunc:function(d){return u(d)&&n(d)}}}const Fg={empty(e,{adapter:t}){return!t.getChildren(e).some(n=>t.isTag(n)||t.getText(n)!=="")},"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const r=t.getSiblings(e).find(a=>t.isTag(a));return r!=null&&n(e,r)},"last-child"(e,{adapter:t,equals:n}){const r=t.getSiblings(e);for(let a=r.length-1;a>=0;a--){if(n(e,r[a]))return!0;if(t.isTag(r[a]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),a=t.getName(e);for(let u=0;u<r.length;u++){const l=r[u];if(n(e,l))return!0;if(t.isTag(l)&&t.getName(l)===a)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),a=t.getName(e);for(let u=r.length-1;u>=0;u--){const l=r[u];if(n(e,l))return!0;if(t.isTag(l)&&t.getName(l)===a)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const r=t.getName(e);return t.getSiblings(e).every(a=>n(e,a)||!t.isTag(a)||t.getName(a)!==r)},"only-child"(e,{adapter:t,equals:n}){return t.getSiblings(e).every(r=>n(e,r)||!t.isTag(r))}};function Bg(e,t,n,r){if(n===null){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const a3={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},lb={};function u3(e,t){return e===Ne.falseFunc?Ne.falseFunc:n=>t.isTag(n)&&e(n)}function cb(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function Ff(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const nf=(e,t,n,r,a)=>{const u=a(t,Ff(n),r);return u===Ne.trueFunc?e:u===Ne.falseFunc?Ne.falseFunc:l=>u(l)&&e(l)},rf={is:nf,matches:nf,where:nf,not(e,t,n,r,a){const u=a(t,Ff(n),r);return u===Ne.falseFunc?e:u===Ne.trueFunc?Ne.falseFunc:l=>!u(l)&&e(l)},has(e,t,n,r,a){const{adapter:u}=n,l=Ff(n);l.relativeSelector=!0;const d=t.some(g=>g.some(kh))?[lb]:void 0,f=a(t,l,d);if(f===Ne.falseFunc)return Ne.falseFunc;const h=u3(f,u);if(d&&f!==Ne.trueFunc){const{shouldTestNextSiblings:g=!1}=f;return y=>{if(!e(y))return!1;d[0]=y;const x=u.getChildren(y),v=g?[...x,...cb(y,u)]:x;return u.existsOne(h,v)}}return g=>e(g)&&u.existsOne(h,u.getChildren(g))}};function o3(e,t,n,r,a){var u;const{name:l,data:d}=t;if(Array.isArray(d)){if(!(l in rf))throw new Error(`Unknown pseudo-class :${l}(${d})`);return rf[l](e,d,n,r,a)}const f=(u=n.pseudos)===null||u===void 0?void 0:u[l],h=typeof f=="string"?f:a3[l];if(typeof h=="string"){if(d!=null)throw new Error(`Pseudo ${l} doesn't have any arguments`);const g=Yl(h);return rf.is(e,g,n,r,a)}if(typeof f=="function")return Bg(f,l,d,1),g=>f(g,d)&&e(g);if(l in Mf)return Mf[l](e,d,n,r);if(l in Fg){const g=Fg[l];return Bg(g,l,d,2),y=>g(y,n,d)&&e(y)}throw new Error(`Unknown pseudo-class :${l}`)}function sf(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function l3(e,t,n,r,a){const{adapter:u,equals:l}=n;switch(t.type){case he.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case he.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case he.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),t3[t.action](e,t,n)}case he.Pseudo:return o3(e,t,n,r,a);case he.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:d}=t;return(!n.xmlMode||n.lowerCaseTags)&&(d=d.toLowerCase()),function(h){return u.getName(h)===d&&e(h)}}case he.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(h){let g=h;for(;g=sf(g,u);)if(e(g))return!0;return!1};const d=new WeakSet;return function(h){let g=h;for(;g=sf(g,u);)if(!d.has(g)){if(u.isTag(g)&&e(g))return!0;d.add(g)}return!1}}case"_flexibleDescendant":return function(f){let h=f;do if(e(h))return!0;while(h=sf(h,u));return!1};case he.Parent:return function(f){return u.getChildren(f).some(h=>u.isTag(h)&&e(h))};case he.Child:return function(f){const h=u.getParent(f);return h!=null&&u.isTag(h)&&e(h)};case he.Sibling:return function(f){const h=u.getSiblings(f);for(let g=0;g<h.length;g++){const y=h[g];if(l(f,y))break;if(u.isTag(y)&&e(y))return!0}return!1};case he.Adjacent:return u.prevElementSibling?function(f){const h=u.prevElementSibling(f);return h!=null&&e(h)}:function(f){const h=u.getSiblings(f);let g;for(let y=0;y<h.length;y++){const x=h[y];if(l(f,x))break;u.isTag(x)&&(g=x)}return!!g&&e(g)};case he.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function db(e){return e.type===he.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(db)))}const c3={type:he.Descendant},d3={type:"_flexibleDescendant"},f3={type:he.Pseudo,name:"scope",data:null};function h3(e,{adapter:t},n){const r=!!n?.every(a=>{const u=t.isTag(a)&&t.getParent(a);return a===lb||u&&t.isTag(u)});for(const a of e){if(!(a.length>0&&kh(a[0])&&a[0].type!==he.Descendant))if(r&&!a.some(db))a.unshift(c3);else continue;a.unshift(f3)}}function fb(e,t,n){var r;e.forEach(JC),n=(r=t.context)!==null&&r!==void 0?r:n;const a=Array.isArray(n),u=n&&(Array.isArray(n)?n:[n]);if(t.relativeSelector!==!1)h3(e,t,u);else if(e.some(f=>f.length>0&&kh(f[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let l=!1;const d=e.map(f=>{if(f.length>=2){const[h,g]=f;h.type!==he.Pseudo||h.name!=="scope"||(a&&g.type===he.Descendant?f[1]=d3:(g.type===he.Adjacent||g.type===he.Sibling)&&(l=!0))}return p3(f,t,u)}).reduce(m3,Ne.falseFunc);return d.shouldTestNextSiblings=l,d}function p3(e,t,n){var r;return e.reduce((a,u)=>a===Ne.falseFunc?Ne.falseFunc:l3(a,u,t,n,fb),(r=t.rootFunc)!==null&&r!==void 0?r:Ne.trueFunc)}function m3(e,t){return t===Ne.falseFunc||e===Ne.trueFunc?e:e===Ne.falseFunc||t===Ne.trueFunc?t:function(r){return e(r)||t(r)}}const hb=(e,t)=>e===t,g3={adapter:Wl,equals:hb};function E3(e){var t,n,r,a;const u=e??g3;return(t=u.adapter)!==null&&t!==void 0||(u.adapter=Wl),(n=u.equals)!==null&&n!==void 0||(u.equals=(a=(r=u.adapter)===null||r===void 0?void 0:r.equals)!==null&&a!==void 0?a:hb),u}function b3(e){return function(n,r,a){const u=E3(r);return e(n,u,a)}}const Ih=b3(fb);function pb(e,t,n=!1){return n&&(e=y3(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function y3(e,t){const n=Array.isArray(e)?e.slice(0):[e],r=n.length;for(let a=0;a<r;a++){const u=cb(n[a],t);n.push(...u)}return n}const T3=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function _l(e){return e.type!=="pseudo"?!1:T3.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(_l)):!1}function _3(e,t,n){const r=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function x3(e){for(;e.parent;)e=e.parent;return e}function Rh(e){const t=[],n=[];for(const r of e)r.some(_l)?t.push(r):n.push(r);return[n,t]}const w3={type:he.Universal,namespace:null},v3={type:he.Pseudo,name:"scope",data:null};function mb(e,t,n={}){return gb([e],t,n)}function gb(e,t,n={}){if(typeof t=="function")return e.some(t);const[r,a]=Rh(Yl(t));return r.length>0&&e.some(Ih(r,n))||a.some(u=>yb(u,e,n).length>0)}function S3(e,t,n,r){const a=typeof n=="string"?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(a)&&Math.abs(a)<t.length?[a<0?t[t.length+a]:t[a]]:[];case"gt":return isFinite(a)?t.slice(a+1):[];case"even":return t.filter((u,l)=>l%2===0);case"odd":return t.filter((u,l)=>l%2===1);case"not":{const u=new Set(bb(n,t,r));return t.filter(l=>!u.has(l))}}}function Eb(e,t,n={}){return bb(Yl(e),t,n)}function bb(e,t,n){if(t.length===0)return[];const[r,a]=Rh(e);let u;if(r.length){const l=Uf(t,r,n);if(a.length===0)return l;l.length&&(u=new Set(l))}for(let l=0;l<a.length&&u?.size!==t.length;l++){const d=a[l];if((u?t.filter(g=>Ee(g)&&!u.has(g)):t).length===0)break;const h=yb(d,t,n);if(h.length)if(u)h.forEach(g=>u.add(g));else{if(l===a.length-1)return h;u=new Set(h)}}return typeof u<"u"?u.size===t.length?t:t.filter(l=>u.has(l)):[]}function yb(e,t,n){var r;if(e.some(Ka)){const a=(r=n.root)!==null&&r!==void 0?r:x3(t[0]),u={...n,context:t,relativeSelector:!1};return e.push(v3),xl(a,e,u,!0,t.length)}return xl(t,e,n,!1,t.length)}function A3(e,t,n={},r=1/0){if(typeof e=="function")return Tb(t,e);const[a,u]=Rh(Yl(e)),l=u.map(d=>xl(t,d,n,!0,r));return a.length&&l.push(Bf(t,a,n,r)),l.length===0?[]:l.length===1?l[0]:Pi(l.reduce((d,f)=>[...d,...f]))}function xl(e,t,n,r,a){const u=t.findIndex(_l),l=t.slice(0,u),d=t[u],f=t.length-1===u?a:1/0,h=_3(d.name,d.data,f);if(h===0)return[];const y=(l.length===0&&!Array.isArray(e)?ql(e).filter(Ee):l.length===0?(Array.isArray(e)?e:[e]).filter(Ee):r||l.some(Ka)?Bf(e,[l],n,h):Uf(e,[l],n)).slice(0,h);let x=S3(d.name,y,d.data,n);if(x.length===0||t.length===u+1)return x;const v=t.slice(u+1),w=v.some(Ka);if(w){if(Ka(v[0])){const{type:C}=v[0];(C===he.Sibling||C===he.Adjacent)&&(x=pb(x,Wl,!0)),v.unshift(w3)}n={...n,relativeSelector:!1,rootFunc:C=>x.includes(C)}}else n.rootFunc&&n.rootFunc!==Tl.trueFunc&&(n={...n,rootFunc:Tl.trueFunc});return v.some(_l)?xl(x,v,n,!1,a):w?Bf(x,[v],n,a):Uf(x,[v],n)}function Bf(e,t,n,r){const a=Ih(t,n,e);return Tb(e,a,r)}function Tb(e,t,n=1/0){const r=pb(e,Wl,t.shouldTestNextSiblings);return Sh(a=>Ee(a)&&t(a),r,!0,n)}function Uf(e,t,n){const r=(Array.isArray(e)?e:[e]).filter(Ee);if(r.length===0)return r;const a=Ih(t,n);return a===Tl.trueFunc?r:r.filter(a)}const C3=/^\s*[+~]/;function N3(e){if(!e)return this._make([]);if(typeof e!="string"){const t=Sr(e)?e.toArray():[e],n=this.toArray();return this._make(t.filter(r=>n.some(a=>eb(a,r))))}return this._findBySelector(e,Number.POSITIVE_INFINITY)}function k3(e,t){var n;const r=this.toArray(),a=C3.test(e)?r:this.children().toArray(),u={context:r,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(A3(e,a,u,t))}function Oh(e){return function(t,...n){return function(r){var a;let u=e(t,this);return r&&(u=Ph(u,r,this.options.xmlMode,(a=this._root)===null||a===void 0?void 0:a[0])),this._make(this.length>1&&u.length>1?n.reduce((l,d)=>d(l),u):u)}}}const Su=Oh((e,t)=>{let n=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a.length>0&&(n=n.concat(a))}return n}),Dh=Oh((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a!==null&&n.push(a)}return n});function Lh(e,...t){let n=null;const r=Oh((a,u)=>{const l=[];return et(u,d=>{for(let f;(f=a(d))&&!n?.(f,l.length);d=f)l.push(f)}),l})(e,...t);return function(a,u){n=typeof a=="string"?d=>mb(d,a,this.options):a?Au(a):null;const l=r.call(this,u);return n=null,l}}function Mi(e){return e.length>1?Array.from(new Set(e)):e}const I3=Dh(({parent:e})=>e&&!is(e)?e:null,Mi),R3=Su(e=>{const t=[];for(;e.parent&&!is(e.parent);)t.push(e.parent),e=e.parent;return t},Pi,e=>e.reverse()),O3=Lh(({parent:e})=>e&&!is(e)?e:null,Pi,e=>e.reverse());function D3(e){var t;const n=[];if(!e)return this._make(n);const r={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},a=typeof e=="string"?u=>mb(u,e,r):Au(e);return et(this,u=>{for(u&&!is(u)&&!Ee(u)&&(u=u.parent);u&&Ee(u);){if(a(u,0)){n.includes(u)||n.push(u);break}u=u.parent}}),this._make(n)}const L3=Dh(e=>wh(e)),P3=Su(e=>{const t=[];for(;e.next;)e=e.next,Ee(e)&&t.push(e);return t},Mi),M3=Lh(e=>wh(e),Mi),F3=Dh(e=>vh(e)),B3=Su(e=>{const t=[];for(;e.prev;)e=e.prev,Ee(e)&&t.push(e);return t},Mi),U3=Lh(e=>vh(e),Mi),j3=Su(e=>QE(e).filter(t=>Ee(t)&&t!==e),Pi),H3=Su(e=>ql(e).filter(Ee),Mi);function $3(){const e=this.toArray().reduce((t,n)=>at(n)?t.concat(n.children):t,[]);return this._make(e)}function z3(e){let t=0;const n=this.length;for(;t<n&&e.call(this[t],t,this[t])!==!1;)++t;return this}function q3(e){let t=[];for(let n=0;n<this.length;n++){const r=this[n],a=e.call(r,n,r);a!=null&&(t=t.concat(a))}return this._make(t)}function Au(e){return typeof e=="function"?(t,n)=>e.call(t,n,t):Sr(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function W3(e){var t;return this._make(Ph(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function Ph(e,t,n,r){return typeof t=="string"?Eb(t,e,{xmlMode:n,root:r}):e.filter(Au(t))}function Y3(e){const t=this.toArray();return typeof e=="string"?gb(t.filter(Ee),e,this.options):e?t.some(Au(e)):!1}function V3(e){let t=this.toArray();if(typeof e=="string"){const n=new Set(Eb(e,t,this.options));t=t.filter(r=>!n.has(r))}else{const n=Au(e);t=t.filter((r,a)=>!n(r,a))}return this._make(t)}function Q3(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,n)=>this._make(n).find(e).length>0)}function G3(){return this.length>1?this._make(this[0]):this}function K3(){return this.length>0?this._make(this[this.length-1]):this}function X3(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function J3(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function Z3(){return Array.prototype.slice.call(this)}function eN(e){let t,n;return e==null?(t=this.parent().children(),n=this[0]):typeof e=="string"?(t=this._make(e),n=this[0]):(t=this,n=Sr(e)?e[0]:e),Array.prototype.indexOf.call(t,n)}function tN(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function nN(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function rN(e,t){const n=this._make(e,t),r=Pi([...this.get(),...n.get()]);return this._make(r)}function sN(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}const iN=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:k3,add:rN,addBack:sN,children:H3,closest:D3,contents:$3,each:z3,end:nN,eq:X3,filter:W3,filterArray:Ph,find:N3,first:G3,get:J3,has:Q3,index:eN,is:Y3,last:K3,map:q3,next:L3,nextAll:P3,nextUntil:M3,not:V3,parent:I3,parents:R3,parentsUntil:O3,prev:F3,prevAll:B3,prevUntil:U3,siblings:j3,slice:tN,toArray:Z3},Symbol.toStringTag,{value:"Module"}));function aN(e){return function(n,r,a,u){if(typeof Buffer<"u"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return e(n,r,a,u);const l=n;if(!Array.isArray(l)&&is(l))return l;const d=new Ps([]);return Ms(l,d),d}}function Ms(e,t){const n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(let r=0;r<n.length;r++){const a=n[r];a.parent&&a.parent.children!==n&&js(a),t?(a.prev=n[r-1]||null,a.next=n[r+1]||null):a.prev=a.next=null,a.parent=t}return t}function uN(e,t){if(e==null)return[];if(typeof e=="string")return this._parse(e,this.options,!1,null).children.slice(0);if("length"in e){if(e.length===1)return this._makeDomArray(e[0],t);const n=[];for(let r=0;r<e.length;r++){const a=e[r];if(typeof a=="object"){if(a==null)continue;if(!("length"in a)){n.push(t?cu(a,!0):a);continue}}n.push(...this._makeDomArray(a,t))}return n}return[t?cu(e,!0):e]}function _b(e){return function(...t){const n=this.length-1;return et(this,(r,a)=>{if(!at(r))return;const u=typeof t[0]=="function"?t[0].call(r,a,this._render(r.children)):t,l=this._makeDomArray(u,a<n);e(l,r.children,r)})}}function as(e,t,n,r,a){var u,l;const d=[t,n,...r],f=t===0?null:e[t-1],h=t+n>=e.length?null:e[t+n];for(let g=0;g<r.length;++g){const y=r[g],x=y.parent;if(x){const w=x.children.indexOf(y);w>-1&&(x.children.splice(w,1),a===x&&t>w&&d[0]--)}y.parent=a,y.prev&&(y.prev.next=(u=y.next)!==null&&u!==void 0?u:null),y.next&&(y.next.prev=(l=y.prev)!==null&&l!==void 0?l:null),y.prev=g===0?f:r[g-1],y.next=g===r.length-1?h:r[g+1]}return f&&(f.next=r[0]),h&&(h.prev=r[r.length-1]),e.splice(...d)}function oN(e){return(Sr(e)?e:this._make(e)).append(this),this}function lN(e){return(Sr(e)?e:this._make(e)).prepend(this),this}const cN=_b((e,t,n)=>{as(t,t.length,0,e,n)}),dN=_b((e,t,n)=>{as(t,0,0,e,n)});function xb(e){return function(t){const n=this.length-1,r=this.parents().last();for(let a=0;a<this.length;a++){const u=this[a],l=typeof t=="function"?t.call(u,a,u):typeof t=="string"&&!Lf(t)?r.find(t).clone():t,[d]=this._makeDomArray(l,a<n);if(!d||!at(d))continue;let f=d,h=0;for(;h<f.children.length;){const g=f.children[h];Ee(g)?(f=g,h=0):h++}e(u,f,[d])}return this}}const fN=xb((e,t,n)=>{const{parent:r}=e;if(!r)return;const a=r.children,u=a.indexOf(e);Ms([e],t),as(a,u,0,n,r)}),hN=xb((e,t,n)=>{at(e)&&(Ms(e.children,t),Ms(n,e))});function pN(e){return this.parent(e).not("body").each((t,n)=>{this._make(n).replaceWith(n.children)}),this}function mN(e){const t=this[0];if(t){const n=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t);let r;for(let u=0;u<n.length;u++)n[u].type==="tag"&&(r=n[u]);let a=0;for(;r&&a<r.children.length;){const u=r.children[a];u.type==="tag"?(r=u,a=0):a++}r&&this._make(r).append(this)}return this}function gN(...e){const t=this.length-1;return et(this,(n,r)=>{if(!at(n)||!n.parent)return;const a=n.parent.children,u=a.indexOf(n);if(u<0)return;const l=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,d=this._makeDomArray(l,r<t);as(a,u+1,0,d,n.parent)})}function EN(e){typeof e=="string"&&(e=this._make(e)),this.remove();const t=[];for(const n of this._makeDomArray(e)){const r=this.clone().toArray(),{parent:a}=n;if(!a)continue;const u=a.children,l=u.indexOf(n);l<0||(as(u,l+1,0,r,a),t.push(...r))}return this._make(t)}function bN(...e){const t=this.length-1;return et(this,(n,r)=>{if(!at(n)||!n.parent)return;const a=n.parent.children,u=a.indexOf(n);if(u<0)return;const l=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,d=this._makeDomArray(l,r<t);as(a,u,0,d,n.parent)})}function yN(e){const t=this._make(e);this.remove();const n=[];return et(t,r=>{const a=this.clone().toArray(),{parent:u}=r;if(!u)return;const l=u.children,d=l.indexOf(r);d<0||(as(l,d,0,a,u),n.push(...a))}),this._make(n)}function TN(e){const t=e?this.filter(e):this;return et(t,n=>{js(n),n.prev=n.next=n.parent=null}),this}function _N(e){return et(this,(t,n)=>{const{parent:r}=t;if(!r)return;const a=r.children,u=typeof e=="function"?e.call(t,n,t):e,l=this._makeDomArray(u);Ms(l,null);const d=a.indexOf(t);as(a,d,1,l,r),l.includes(t)||(t.parent=t.prev=t.next=null)})}function xN(){return et(this,e=>{if(at(e)){for(const t of e.children)t.next=t.prev=t.parent=null;e.children.length=0}})}function wN(e){if(e===void 0){const t=this[0];return!t||!at(t)?null:this._render(t.children)}return et(this,t=>{if(!at(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=Sr(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;Ms(n,t)})}function vN(){return this._render(this)}function SN(e){return e===void 0?du(this):typeof e=="function"?et(this,(t,n)=>this._make(t).text(e.call(t,n,du([t])))):et(this,t=>{if(!at(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=new lu(`${e}`);Ms(n,t)})}function AN(){const e=Array.prototype.map.call(this.get(),n=>cu(n,!0)),t=new Ps(e);for(const n of e)n.parent=t;return this._make(e)}const CN=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:uN,after:gN,append:cN,appendTo:oN,before:bN,clone:AN,empty:xN,html:wN,insertAfter:EN,insertBefore:yN,prepend:dN,prependTo:lN,remove:TN,replaceWith:_N,text:SN,toString:vN,unwrap:pN,wrap:fN,wrapAll:mN,wrapInner:hN},Symbol.toStringTag,{value:"Module"}));function NN(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return et(this,(n,r)=>{Ee(n)&&wb(n,e,t,r)});if(this.length!==0)return vb(this[0],e)}function wb(e,t,n,r){if(typeof t=="string"){const a=vb(e),u=typeof n=="function"?n.call(e,r,a[t]):n;u===""?delete a[t]:u!=null&&(a[t]=u),e.attribs.style=kN(a)}else if(typeof t=="object"){const a=Object.keys(t);for(let u=0;u<a.length;u++){const l=a[u];wb(e,l,t[l],u)}}}function vb(e,t){if(!e||!Ee(e))return;const n=IN(e.attribs.style);if(typeof t=="string")return n[t];if(Array.isArray(t)){const r={};for(const a of t)n[a]!=null&&(r[a]=n[a]);return r}return n}function kN(e){return Object.keys(e).reduce((t,n)=>`${t}${t?" ":""}${n}: ${e[n]};`,"")}function IN(e){if(e=(e||"").trim(),!e)return{};const t={};let n;for(const r of e.split(";")){const a=r.indexOf(":");if(a<1||a===r.length-1){const u=r.trimEnd();u.length>0&&n!==void 0&&(t[n]+=`;${u}`)}else n=r.slice(0,a).trim(),t[n]=r.slice(a+1).trim()}return t}const RN=Object.freeze(Object.defineProperty({__proto__:null,css:NN},Symbol.toStringTag,{value:"Module"})),Ug="input,select,textarea,keygen",ON=/%20/g,jg=/\r?\n/g;function DN(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(ON,"+")}function LN(){return this.map((e,t)=>{const n=this._make(t);return Ee(t)&&t.name==="form"?n.find(Ug).toArray():n.filter(Ug).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var n;const r=this._make(t),a=r.attr("name"),u=(n=r.val())!==null&&n!==void 0?n:"";return Array.isArray(u)?u.map(l=>({name:a,value:l.replace(jg,`\r
`)})):{name:a,value:u.replace(jg,`\r
`)}}).toArray()}const PN=Object.freeze(Object.defineProperty({__proto__:null,serialize:DN,serializeArray:LN},Symbol.toStringTag,{value:"Module"}));function MN(e){var t;return typeof e=="string"?{selector:e,value:"textContent"}:{selector:e.selector,value:(t=e.value)!==null&&t!==void 0?t:"textContent"}}function FN(e){const t={};for(const n in e){const r=e[n],a=Array.isArray(r),{selector:u,value:l}=MN(a?r[0]:r),d=typeof l=="function"?l:typeof l=="string"?f=>this._make(f).prop(l):f=>this._make(f).extract(l);if(a)t[n]=this._findBySelector(u,Number.POSITIVE_INFINITY).map((f,h)=>d(h,n,t)).get();else{const f=this._findBySelector(u,1);t[n]=f.length>0?d(f[0],n,t):void 0}}return t}const BN=Object.freeze(Object.defineProperty({__proto__:null,extract:FN},Symbol.toStringTag,{value:"Module"}));class Cu{constructor(t,n,r){if(this.length=0,this.options=r,this._root=n,t){for(let a=0;a<t.length;a++)this[a]=t[a];this.length=t.length}}}Cu.prototype.cheerio="[cheerio object]";Cu.prototype.splice=Array.prototype.splice;Cu.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(Cu.prototype,qC,iN,CN,RN,PN,BN);function UN(e,t){return function n(r,a,u=!0){if(r==null)throw new Error("cheerio.load() expects a string");const l=Df(a),d=e(r,l,u,null);class f extends Cu{_make(y,x){const v=h(y,x);return v.prevObject=this,v}_parse(y,x,v,w){return e(y,x,v,w)}_render(y){return t(y,this.options)}}function h(g,y,x=d,v){if(g&&Sr(g))return g;const w=Df(v,l),C=typeof x=="string"?[e(x,w,!1,null)]:"length"in x?x:[x],k=Sr(C)?C:new f(C,null,w);if(k._root=k,!g)return new f(void 0,k,w);const O=typeof g=="string"&&Lf(g)?e(g,w,!1,null).children:jN(g)?[g]:Array.isArray(g)?g:void 0,H=new f(O,k,w);if(O)return H;if(typeof g!="string")throw new TypeError("Unexpected type of selector");let F=g;const U=y?typeof y=="string"?Lf(y)?new f([e(y,w,!1,null)],k,w):(F=`${y} ${F}`,k):Sr(y)?y:new f(Array.isArray(y)?y:[y],k,w):k;return U?U.find(F):H}return Object.assign(h,OC,{load:n,_root:d,_options:l,fn:f.prototype,prototype:f.prototype}),h}}function jN(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}const HN=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qe="";var S;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(S||(S={}));const Jt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Sb(e){return e>=55296&&e<=57343}function $N(e){return e>=56320&&e<=57343}function zN(e,t){return(e-55296)*1024+9216+t}function Ab(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Cb(e){return e>=64976&&e<=65007||HN.has(e)}var $;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})($||($={}));const qN=65536;class WN{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=qN,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:a,offset:u}=this,l=a+n,d=u+n;return{code:t,startLine:r,endLine:r,startCol:l,endCol:l,startOffset:d,endOffset:d}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if($N(n))return this.pos++,this._addGap(),zN(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,S.EOF;return this._err($.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,S.EOF;const r=this.html.charCodeAt(n);return r===S.CARRIAGE_RETURN?S.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,S.EOF;let t=this.html.charCodeAt(this.pos);return t===S.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,S.LINE_FEED):t===S.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Sb(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===S.LINE_FEED||t===S.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Ab(t)?this._err($.controlCharacterInInputStream):Cb(t)&&this._err($.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Le;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Le||(Le={}));function Nb(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}var Y;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Y||(Y={}));var Os;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Os||(Os={}));var hn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(hn||(hn={}));var P;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(P||(P={}));var p;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(p||(p={}));const YN=new Map([[P.A,p.A],[P.ADDRESS,p.ADDRESS],[P.ANNOTATION_XML,p.ANNOTATION_XML],[P.APPLET,p.APPLET],[P.AREA,p.AREA],[P.ARTICLE,p.ARTICLE],[P.ASIDE,p.ASIDE],[P.B,p.B],[P.BASE,p.BASE],[P.BASEFONT,p.BASEFONT],[P.BGSOUND,p.BGSOUND],[P.BIG,p.BIG],[P.BLOCKQUOTE,p.BLOCKQUOTE],[P.BODY,p.BODY],[P.BR,p.BR],[P.BUTTON,p.BUTTON],[P.CAPTION,p.CAPTION],[P.CENTER,p.CENTER],[P.CODE,p.CODE],[P.COL,p.COL],[P.COLGROUP,p.COLGROUP],[P.DD,p.DD],[P.DESC,p.DESC],[P.DETAILS,p.DETAILS],[P.DIALOG,p.DIALOG],[P.DIR,p.DIR],[P.DIV,p.DIV],[P.DL,p.DL],[P.DT,p.DT],[P.EM,p.EM],[P.EMBED,p.EMBED],[P.FIELDSET,p.FIELDSET],[P.FIGCAPTION,p.FIGCAPTION],[P.FIGURE,p.FIGURE],[P.FONT,p.FONT],[P.FOOTER,p.FOOTER],[P.FOREIGN_OBJECT,p.FOREIGN_OBJECT],[P.FORM,p.FORM],[P.FRAME,p.FRAME],[P.FRAMESET,p.FRAMESET],[P.H1,p.H1],[P.H2,p.H2],[P.H3,p.H3],[P.H4,p.H4],[P.H5,p.H5],[P.H6,p.H6],[P.HEAD,p.HEAD],[P.HEADER,p.HEADER],[P.HGROUP,p.HGROUP],[P.HR,p.HR],[P.HTML,p.HTML],[P.I,p.I],[P.IMG,p.IMG],[P.IMAGE,p.IMAGE],[P.INPUT,p.INPUT],[P.IFRAME,p.IFRAME],[P.KEYGEN,p.KEYGEN],[P.LABEL,p.LABEL],[P.LI,p.LI],[P.LINK,p.LINK],[P.LISTING,p.LISTING],[P.MAIN,p.MAIN],[P.MALIGNMARK,p.MALIGNMARK],[P.MARQUEE,p.MARQUEE],[P.MATH,p.MATH],[P.MENU,p.MENU],[P.META,p.META],[P.MGLYPH,p.MGLYPH],[P.MI,p.MI],[P.MO,p.MO],[P.MN,p.MN],[P.MS,p.MS],[P.MTEXT,p.MTEXT],[P.NAV,p.NAV],[P.NOBR,p.NOBR],[P.NOFRAMES,p.NOFRAMES],[P.NOEMBED,p.NOEMBED],[P.NOSCRIPT,p.NOSCRIPT],[P.OBJECT,p.OBJECT],[P.OL,p.OL],[P.OPTGROUP,p.OPTGROUP],[P.OPTION,p.OPTION],[P.P,p.P],[P.PARAM,p.PARAM],[P.PLAINTEXT,p.PLAINTEXT],[P.PRE,p.PRE],[P.RB,p.RB],[P.RP,p.RP],[P.RT,p.RT],[P.RTC,p.RTC],[P.RUBY,p.RUBY],[P.S,p.S],[P.SCRIPT,p.SCRIPT],[P.SEARCH,p.SEARCH],[P.SECTION,p.SECTION],[P.SELECT,p.SELECT],[P.SOURCE,p.SOURCE],[P.SMALL,p.SMALL],[P.SPAN,p.SPAN],[P.STRIKE,p.STRIKE],[P.STRONG,p.STRONG],[P.STYLE,p.STYLE],[P.SUB,p.SUB],[P.SUMMARY,p.SUMMARY],[P.SUP,p.SUP],[P.TABLE,p.TABLE],[P.TBODY,p.TBODY],[P.TEMPLATE,p.TEMPLATE],[P.TEXTAREA,p.TEXTAREA],[P.TFOOT,p.TFOOT],[P.TD,p.TD],[P.TH,p.TH],[P.THEAD,p.THEAD],[P.TITLE,p.TITLE],[P.TR,p.TR],[P.TRACK,p.TRACK],[P.TT,p.TT],[P.U,p.U],[P.UL,p.UL],[P.SVG,p.SVG],[P.VAR,p.VAR],[P.WBR,p.WBR],[P.XMP,p.XMP]]);function Vl(e){var t;return(t=YN.get(e))!==null&&t!==void 0?t:p.UNKNOWN}const X=p,VN={[Y.HTML]:new Set([X.ADDRESS,X.APPLET,X.AREA,X.ARTICLE,X.ASIDE,X.BASE,X.BASEFONT,X.BGSOUND,X.BLOCKQUOTE,X.BODY,X.BR,X.BUTTON,X.CAPTION,X.CENTER,X.COL,X.COLGROUP,X.DD,X.DETAILS,X.DIR,X.DIV,X.DL,X.DT,X.EMBED,X.FIELDSET,X.FIGCAPTION,X.FIGURE,X.FOOTER,X.FORM,X.FRAME,X.FRAMESET,X.H1,X.H2,X.H3,X.H4,X.H5,X.H6,X.HEAD,X.HEADER,X.HGROUP,X.HR,X.HTML,X.IFRAME,X.IMG,X.INPUT,X.LI,X.LINK,X.LISTING,X.MAIN,X.MARQUEE,X.MENU,X.META,X.NAV,X.NOEMBED,X.NOFRAMES,X.NOSCRIPT,X.OBJECT,X.OL,X.P,X.PARAM,X.PLAINTEXT,X.PRE,X.SCRIPT,X.SECTION,X.SELECT,X.SOURCE,X.STYLE,X.SUMMARY,X.TABLE,X.TBODY,X.TD,X.TEMPLATE,X.TEXTAREA,X.TFOOT,X.TH,X.THEAD,X.TITLE,X.TR,X.TRACK,X.UL,X.WBR,X.XMP]),[Y.MATHML]:new Set([X.MI,X.MO,X.MN,X.MS,X.MTEXT,X.ANNOTATION_XML]),[Y.SVG]:new Set([X.TITLE,X.FOREIGN_OBJECT,X.DESC]),[Y.XLINK]:new Set,[Y.XML]:new Set,[Y.XMLNS]:new Set},jf=new Set([X.H1,X.H2,X.H3,X.H4,X.H5,X.H6]),QN=new Set([P.STYLE,P.SCRIPT,P.XMP,P.IFRAME,P.NOEMBED,P.NOFRAMES,P.PLAINTEXT]);function GN(e,t){return QN.has(e)||t&&e===P.NOSCRIPT}var A;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(A||(A={}));const tn={DATA:A.DATA,RCDATA:A.RCDATA,RAWTEXT:A.RAWTEXT,SCRIPT_DATA:A.SCRIPT_DATA,PLAINTEXT:A.PLAINTEXT,CDATA_SECTION:A.CDATA_SECTION};function KN(e){return e>=S.DIGIT_0&&e<=S.DIGIT_9}function Va(e){return e>=S.LATIN_CAPITAL_A&&e<=S.LATIN_CAPITAL_Z}function XN(e){return e>=S.LATIN_SMALL_A&&e<=S.LATIN_SMALL_Z}function Xr(e){return XN(e)||Va(e)}function Hg(e){return Xr(e)||KN(e)}function Zo(e){return e+32}function kb(e){return e===S.SPACE||e===S.LINE_FEED||e===S.TABULATION||e===S.FORM_FEED}function $g(e){return kb(e)||e===S.SOLIDUS||e===S.GREATER_THAN_SIGN}function JN(e){return e===S.NULL?$.nullCharacterReference:e>1114111?$.characterReferenceOutsideUnicodeRange:Sb(e)?$.surrogateCharacterReference:Cb(e)?$.noncharacterCharacterReference:Ab(e)||e===S.CARRIAGE_RETURN?$.controlCharacterReference:null}let ZN=class{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=A.DATA,this.returnState=A.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new WN(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new xh(_h,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err($.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err($.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=JN(r);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Le.START_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Le.END_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Le.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Le.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Nb(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err($.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Vl(t.tagName),t.type===Le.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err($.endTagWithAttributes),t.selfClosing&&this._err($.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Le.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Le.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Le.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Le.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=kb(t)?Le.WHITESPACE_CHARACTER:t===S.NULL?Le.NULL_CHARACTER:Le.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Le.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=A.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?vn.Attribute:vn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===A.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===A.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===A.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case A.DATA:{this._stateData(t);break}case A.RCDATA:{this._stateRcdata(t);break}case A.RAWTEXT:{this._stateRawtext(t);break}case A.SCRIPT_DATA:{this._stateScriptData(t);break}case A.PLAINTEXT:{this._statePlaintext(t);break}case A.TAG_OPEN:{this._stateTagOpen(t);break}case A.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case A.TAG_NAME:{this._stateTagName(t);break}case A.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case A.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case A.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case A.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case A.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case A.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case A.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case A.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case A.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case A.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case A.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case A.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case A.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case A.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case A.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case A.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case A.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case A.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case A.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case A.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case A.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case A.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case A.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case A.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case A.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case A.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case A.BOGUS_COMMENT:{this._stateBogusComment(t);break}case A.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case A.COMMENT_START:{this._stateCommentStart(t);break}case A.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case A.COMMENT:{this._stateComment(t);break}case A.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case A.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case A.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case A.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case A.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case A.COMMENT_END:{this._stateCommentEnd(t);break}case A.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case A.DOCTYPE:{this._stateDoctype(t);break}case A.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case A.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case A.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case A.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case A.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case A.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case A.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case A.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case A.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case A.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case A.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case A.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case A.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case A.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case A.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case A.CDATA_SECTION:{this._stateCdataSection(t);break}case A.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case A.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case A.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case A.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case S.LESS_THAN_SIGN:{this.state=A.TAG_OPEN;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitCodePoint(t);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case S.AMPERSAND:{this._startCharacterReference();break}case S.LESS_THAN_SIGN:{this.state=A.RCDATA_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case S.LESS_THAN_SIGN:{this.state=A.RAWTEXT_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Xr(t))this._createStartTagToken(),this.state=A.TAG_NAME,this._stateTagName(t);else switch(t){case S.EXCLAMATION_MARK:{this.state=A.MARKUP_DECLARATION_OPEN;break}case S.SOLIDUS:{this.state=A.END_TAG_OPEN;break}case S.QUESTION_MARK:{this._err($.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=A.BOGUS_COMMENT,this._stateBogusComment(t);break}case S.EOF:{this._err($.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err($.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=A.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Xr(t))this._createEndTagToken(),this.state=A.TAG_NAME,this._stateTagName(t);else switch(t){case S.GREATER_THAN_SIGN:{this._err($.missingEndTagName),this.state=A.DATA;break}case S.EOF:{this._err($.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err($.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=A.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.BEFORE_ATTRIBUTE_NAME;break}case S.SOLIDUS:{this.state=A.SELF_CLOSING_START_TAG;break}case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentTagToken();break}case S.NULL:{this._err($.unexpectedNullCharacter),n.tagName+=Qe;break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Va(t)?Zo(t):t)}}_stateRcdataLessThanSign(t){t===S.SOLIDUS?this.state=A.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=A.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Xr(t)?(this.state=A.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=A.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=A.BEFORE_ATTRIBUTE_NAME,!1;case S.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=A.SELF_CLOSING_START_TAG,!1;case S.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=A.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=A.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===S.SOLIDUS?this.state=A.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=A.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Xr(t)?(this.state=A.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=A.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=A.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case S.SOLIDUS:{this.state=A.SCRIPT_DATA_END_TAG_OPEN;break}case S.EXCLAMATION_MARK:{this.state=A.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=A.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Xr(t)?(this.state=A.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=A.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=A.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===S.HYPHEN_MINUS?(this.state=A.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=A.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===S.HYPHEN_MINUS?(this.state=A.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=A.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case S.HYPHEN_MINUS:{this.state=A.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case S.HYPHEN_MINUS:{this.state=A.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=A.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=A.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case S.HYPHEN_MINUS:{this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.GREATER_THAN_SIGN:{this.state=A.SCRIPT_DATA,this._emitChars(">");break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=A.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=A.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===S.SOLIDUS?this.state=A.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Xr(t)?(this._emitChars("<"),this.state=A.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=A.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Xr(t)?(this.state=A.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=A.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=A.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Jt.SCRIPT,!1)&&$g(this.preprocessor.peek(Jt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Jt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=A.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case S.HYPHEN_MINUS:{this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case S.HYPHEN_MINUS:{this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case S.HYPHEN_MINUS:{this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.GREATER_THAN_SIGN:{this.state=A.SCRIPT_DATA,this._emitChars(">");break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===S.SOLIDUS?(this.state=A.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Jt.SCRIPT,!1)&&$g(this.preprocessor.peek(Jt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Jt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=A.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.SOLIDUS:case S.GREATER_THAN_SIGN:case S.EOF:{this.state=A.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case S.EQUALS_SIGN:{this._err($.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=A.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=A.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:case S.SOLIDUS:case S.GREATER_THAN_SIGN:case S.EOF:{this._leaveAttrName(),this.state=A.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case S.EQUALS_SIGN:{this._leaveAttrName(),this.state=A.BEFORE_ATTRIBUTE_VALUE;break}case S.QUOTATION_MARK:case S.APOSTROPHE:case S.LESS_THAN_SIGN:{this._err($.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.name+=Qe;break}default:this.currentAttr.name+=String.fromCodePoint(Va(t)?Zo(t):t)}}_stateAfterAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.SOLIDUS:{this.state=A.SELF_CLOSING_START_TAG;break}case S.EQUALS_SIGN:{this.state=A.BEFORE_ATTRIBUTE_VALUE;break}case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=A.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{this.state=A.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this.state=A.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingAttributeValue),this.state=A.DATA,this.emitCurrentTagToken();break}default:this.state=A.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case S.QUOTATION_MARK:{this.state=A.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case S.APOSTROPHE:{this.state=A.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this._leaveAttrValue(),this.state=A.BEFORE_ATTRIBUTE_NAME;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=A.DATA,this.emitCurrentTagToken();break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case S.QUOTATION_MARK:case S.APOSTROPHE:case S.LESS_THAN_SIGN:case S.EQUALS_SIGN:case S.GRAVE_ACCENT:{this._err($.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this._leaveAttrValue(),this.state=A.BEFORE_ATTRIBUTE_NAME;break}case S.SOLIDUS:{this._leaveAttrValue(),this.state=A.SELF_CLOSING_START_TAG;break}case S.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=A.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._err($.missingWhitespaceBetweenAttributes),this.state=A.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case S.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=A.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._err($.unexpectedSolidusInTag),this.state=A.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentComment(n);break}case S.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case S.NULL:{this._err($.unexpectedNullCharacter),n.data+=Qe;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Jt.DASH_DASH,!0)?(this._createCommentToken(Jt.DASH_DASH.length+1),this.state=A.COMMENT_START):this._consumeSequenceIfMatch(Jt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Jt.DOCTYPE.length+1),this.state=A.DOCTYPE):this._consumeSequenceIfMatch(Jt.CDATA_START,!0)?this.inForeignNode?this.state=A.CDATA_SECTION:(this._err($.cdataInHtmlContent),this._createCommentToken(Jt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=A.BOGUS_COMMENT):this._ensureHibernation()||(this._err($.incorrectlyOpenedComment),this._createCommentToken(2),this.state=A.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case S.HYPHEN_MINUS:{this.state=A.COMMENT_START_DASH;break}case S.GREATER_THAN_SIGN:{this._err($.abruptClosingOfEmptyComment),this.state=A.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=A.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=A.COMMENT_END;break}case S.GREATER_THAN_SIGN:{this._err($.abruptClosingOfEmptyComment),this.state=A.DATA,this.emitCurrentComment(n);break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=A.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=A.COMMENT_END_DASH;break}case S.LESS_THAN_SIGN:{n.data+="<",this.state=A.COMMENT_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.data+=Qe;break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case S.EXCLAMATION_MARK:{n.data+="!",this.state=A.COMMENT_LESS_THAN_SIGN_BANG;break}case S.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=A.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===S.HYPHEN_MINUS?this.state=A.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=A.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===S.HYPHEN_MINUS?this.state=A.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=A.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==S.GREATER_THAN_SIGN&&t!==S.EOF&&this._err($.nestedComment),this.state=A.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=A.COMMENT_END;break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=A.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentComment(n);break}case S.EXCLAMATION_MARK:{this.state=A.COMMENT_END_BANG;break}case S.HYPHEN_MINUS:{n.data+="-";break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=A.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{n.data+="--!",this.state=A.COMMENT_END_DASH;break}case S.GREATER_THAN_SIGN:{this._err($.incorrectlyClosedComment),this.state=A.DATA,this.emitCurrentComment(n);break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=A.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.BEFORE_DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this.state=A.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case S.EOF:{this._err($.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingWhitespaceBeforeDoctypeName),this.state=A.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Va(t))this._createDoctypeToken(String.fromCharCode(Zo(t))),this.state=A.DOCTYPE_NAME;else switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.NULL:{this._err($.unexpectedNullCharacter),this._createDoctypeToken(Qe),this.state=A.DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=A.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.AFTER_DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.NULL:{this._err($.unexpectedNullCharacter),n.name+=Qe;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Va(t)?Zo(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Jt.PUBLIC,!1)?this.state=A.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Jt.SYSTEM,!1)?this.state=A.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.QUOTATION_MARK:{this._err($.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=A.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err($.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=A.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{n.publicId="",this.state=A.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{n.publicId="",this.state=A.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case S.QUOTATION_MARK:{this.state=A.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.publicId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case S.APOSTROPHE:{this.state=A.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.publicId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.QUOTATION_MARK:{this._err($.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err($.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.QUOTATION_MARK:{n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.QUOTATION_MARK:{this._err($.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err($.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case S.QUOTATION_MARK:{this.state=A.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.systemId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case S.APOSTROPHE:{this.state=A.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.systemId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.NULL:{this._err($.unexpectedNullCharacter);break}case S.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case S.RIGHT_SQUARE_BRACKET:{this.state=A.CDATA_SECTION_BRACKET;break}case S.EOF:{this._err($.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===S.RIGHT_SQUARE_BRACKET?this.state=A.CDATA_SECTION_END:(this._emitChars("]"),this.state=A.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case S.GREATER_THAN_SIGN:{this.state=A.DATA;break}case S.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=A.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(S.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Hg(this.preprocessor.peek(1))?A.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Hg(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===S.SEMICOLON&&this._err($.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}};const Ib=new Set([p.DD,p.DT,p.LI,p.OPTGROUP,p.OPTION,p.P,p.RB,p.RP,p.RT,p.RTC]),zg=new Set([...Ib,p.CAPTION,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]),wl=new Set([p.APPLET,p.CAPTION,p.HTML,p.MARQUEE,p.OBJECT,p.TABLE,p.TD,p.TEMPLATE,p.TH]),ek=new Set([...wl,p.OL,p.UL]),tk=new Set([...wl,p.BUTTON]),qg=new Set([p.ANNOTATION_XML,p.MI,p.MN,p.MO,p.MS,p.MTEXT]),Wg=new Set([p.DESC,p.FOREIGN_OBJECT,p.TITLE]),nk=new Set([p.TR,p.TEMPLATE,p.HTML]),rk=new Set([p.TBODY,p.TFOOT,p.THEAD,p.TEMPLATE,p.HTML]),sk=new Set([p.TABLE,p.TEMPLATE,p.HTML]),ik=new Set([p.TD,p.TH]);class ak{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=p.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===p.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Y.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Y.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(jf,Y.HTML)}popUntilTableCellPopped(){this.popUntilPopped(ik,Y.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(sk,Y.HTML)}clearBackToTableBodyContext(){this.clearBackTo(rk,Y.HTML)}clearBackToTableRowContext(){this.clearBackTo(nk,Y.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===p.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===p.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Y.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case Y.SVG:{if(Wg.has(a))return!1;break}case Y.MATHML:{if(qg.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,wl)}hasInListItemScope(t){return this.hasInDynamicScope(t,ek)}hasInButtonScope(t){return this.hasInDynamicScope(t,tk)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Y.HTML:{if(jf.has(n))return!0;if(wl.has(n))return!1;break}case Y.SVG:{if(Wg.has(n))return!1;break}case Y.MATHML:{if(qg.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Y.HTML)switch(this.tagIDs[t]){case p.TBODY:case p.THEAD:case p.TFOOT:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case p.OPTION:case p.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;Ib.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;zg.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&zg.has(this.currentTagId);)this.pop()}}const af=3;var sr;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(sr||(sr={}));const Yg={type:sr.Marker};class uk{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],a=n.length,u=this.treeAdapter.getTagName(t),l=this.treeAdapter.getNamespaceURI(t);for(let d=0;d<this.entries.length;d++){const f=this.entries[d];if(f.type===sr.Marker)break;const{element:h}=f;if(this.treeAdapter.getTagName(h)===u&&this.treeAdapter.getNamespaceURI(h)===l){const g=this.treeAdapter.getAttrList(h);g.length===a&&r.push({idx:d,attrs:g})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<af)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<af)return;const a=new Map(n.map(l=>[l.name,l.value]));let u=0;for(let l=0;l<r.length;l++){const d=r[l];d.attrs.every(f=>a.get(f.name)===f.value)&&(u+=1,u>=af&&this.entries.splice(d.idx,1))}}insertMarker(){this.entries.unshift(Yg)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:sr.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:sr.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Yg);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===sr.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===sr.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===sr.Element&&n.element===t)}}const wr={createDocument(){return{nodeName:"#document",mode:hn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const a=e.childNodes.find(u=>u.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=r;else{const u={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};wr.appendChild(e,u)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(wr.isTextNode(n)){n.value+=t;return}}wr.appendChild(e,wr.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&wr.isTextNode(r)?r.value+=t:wr.insertBefore(e,wr.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Rb="html",ok="about:legacy-compat",lk="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Ob=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],ck=[...Ob,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],dk=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Db=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],fk=[...Db,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Vg(e,t){return t.some(n=>e.startsWith(n))}function hk(e){return e.name===Rb&&e.publicId===null&&(e.systemId===null||e.systemId===ok)}function pk(e){if(e.name!==Rb)return hn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===lk)return hn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),dk.has(n))return hn.QUIRKS;let r=t===null?ck:Ob;if(Vg(n,r))return hn.QUIRKS;if(r=t===null?Db:fk,Vg(n,r))return hn.LIMITED_QUIRKS}return hn.NO_QUIRKS}const Qg={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},mk="definitionurl",gk="definitionURL",Ek=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),bk=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Y.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Y.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Y.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Y.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Y.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Y.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Y.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Y.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Y.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Y.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Y.XMLNS}]]),yk=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Tk=new Set([p.B,p.BIG,p.BLOCKQUOTE,p.BODY,p.BR,p.CENTER,p.CODE,p.DD,p.DIV,p.DL,p.DT,p.EM,p.EMBED,p.H1,p.H2,p.H3,p.H4,p.H5,p.H6,p.HEAD,p.HR,p.I,p.IMG,p.LI,p.LISTING,p.MENU,p.META,p.NOBR,p.OL,p.P,p.PRE,p.RUBY,p.S,p.SMALL,p.SPAN,p.STRONG,p.STRIKE,p.SUB,p.SUP,p.TABLE,p.TT,p.U,p.UL,p.VAR]);function _k(e){const t=e.tagID;return t===p.FONT&&e.attrs.some(({name:r})=>r===Os.COLOR||r===Os.SIZE||r===Os.FACE)||Tk.has(t)}function Lb(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===mk){e.attrs[t].name=gk;break}}function Pb(e){for(let t=0;t<e.attrs.length;t++){const n=Ek.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Mh(e){for(let t=0;t<e.attrs.length;t++){const n=bk.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function xk(e){const t=yk.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Vl(e.tagName))}function wk(e,t){return t===Y.MATHML&&(e===p.MI||e===p.MO||e===p.MN||e===p.MS||e===p.MTEXT)}function vk(e,t,n){if(t===Y.MATHML&&e===p.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Os.ENCODING){const a=n[r].value.toLowerCase();return a===Qg.TEXT_HTML||a===Qg.APPLICATION_XML}}return t===Y.SVG&&(e===p.FOREIGN_OBJECT||e===p.DESC||e===p.TITLE)}function Sk(e,t,n,r){return(!r||r===Y.HTML)&&vk(e,t,n)||(!r||r===Y.MATHML)&&wk(e,t)}const Ak="hidden",Ck=8,Nk=3;var I;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(I||(I={}));const kk={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Mb=new Set([p.TABLE,p.TBODY,p.TFOOT,p.THEAD,p.TR]),Gg={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:wr,onParseError:null};let Fb=class{constructor(t,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=I.INITIAL,this.originalInsertionMode=I.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Gg,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new ZN(this.options,this),this.activeFormattingElements=new uk(this.treeAdapter),this.fragmentContextID=r?Vl(this.treeAdapter.getTagName(r)):p.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new ak(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Gg,...n};t??(t=r.treeAdapter.createElement(P.TEMPLATE,Y.HTML,[]));const a=r.treeAdapter.createElement("documentmock",Y.HTML,[]),u=new this(r,a,t);return u.fragmentContextID===p.TEMPLATE&&u.tmplInsertionModeStack.unshift(I.IN_TEMPLATE),u._initTokenizerForFragmentParsing(),u._insertFakeRootElement(),u._resetInsertionMode(),u._findFormInFragmentContext(),u}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var a;if(!this.onParseError)return;const u=(a=t.location)!==null&&a!==void 0?a:kk,l={code:n,startLine:u.startLine,startCol:u.startCol,startOffset:u.startOffset,endLine:r?u.startLine:u.endLine,endCol:r?u.startCol:u.endCol,endOffset:r?u.startOffset:u.endOffset};this.onParseError(l)}onItemPush(t,n,r){var a,u;(u=(a=this.treeAdapter).onItemPush)===null||u===void 0||u.call(a,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,t,this.openElements.current),n){let u,l;this.openElements.stackTop===0&&this.fragmentContext?(u=this.fragmentContext,l=this.fragmentContextID):{current:u,currentTagId:l}=this.openElements,this._setContextModes(u,l)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Y.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Y.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=I.TEXT}switchToPlaintextParsing(){this.insertionMode=I.TEXT,this.originalInsertionMode=I.IN_BODY,this.tokenizer.state=tn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===P.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Y.HTML))switch(this.fragmentContextID){case p.TITLE:case p.TEXTAREA:{this.tokenizer.state=tn.RCDATA;break}case p.STYLE:case p.XMP:case p.IFRAME:case p.NOEMBED:case p.NOFRAMES:case p.NOSCRIPT:{this.tokenizer.state=tn.RAWTEXT;break}case p.SCRIPT:{this.tokenizer.state=tn.SCRIPT_DATA;break}case p.PLAINTEXT:{this.tokenizer.state=tn.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),t.location){const l=this.treeAdapter.getChildNodes(this.document).find(d=>this.treeAdapter.isDocumentTypeNode(d));l&&this.treeAdapter.setNodeSourceCodeLocation(l,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Y.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Y.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(P.HTML,Y.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,p.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),u=r?a.lastIndexOf(r):a.length,l=a[u-1];if(this.treeAdapter.getNodeSourceCodeLocation(l)){const{endLine:f,endCol:h,endOffset:g}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(l,{endLine:f,endCol:h,endOffset:g})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(l,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(t),u=n.type===Le.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,u)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===p.SVG&&this.treeAdapter.getTagName(n)===P.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Y.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===p.MGLYPH||t.tagID===p.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Y.HTML)}_processToken(t){switch(t.type){case Le.CHARACTER:{this.onCharacter(t);break}case Le.NULL_CHARACTER:{this.onNullCharacter(t);break}case Le.COMMENT:{this.onComment(t);break}case Le.DOCTYPE:{this.onDoctype(t);break}case Le.START_TAG:{this._processStartTag(t);break}case Le.END_TAG:{this.onEndTag(t);break}case Le.EOF:{this.onEof(t);break}case Le.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const a=this.treeAdapter.getNamespaceURI(n),u=this.treeAdapter.getAttrList(n);return Sk(t,a,u,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===sr.Marker||this.openElements.contains(a.element)),r=n<0?t-1:n-1;for(let a=r;a>=0;a--){const u=this.activeFormattingElements.entries[a];this._insertElement(u.token,this.treeAdapter.getNamespaceURI(u.element)),u.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=I.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(p.P),this.openElements.popUntilTagNamePopped(p.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case p.TR:{this.insertionMode=I.IN_ROW;return}case p.TBODY:case p.THEAD:case p.TFOOT:{this.insertionMode=I.IN_TABLE_BODY;return}case p.CAPTION:{this.insertionMode=I.IN_CAPTION;return}case p.COLGROUP:{this.insertionMode=I.IN_COLUMN_GROUP;return}case p.TABLE:{this.insertionMode=I.IN_TABLE;return}case p.BODY:{this.insertionMode=I.IN_BODY;return}case p.FRAMESET:{this.insertionMode=I.IN_FRAMESET;return}case p.SELECT:{this._resetInsertionModeForSelect(t);return}case p.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case p.HTML:{this.insertionMode=this.headElement?I.AFTER_HEAD:I.BEFORE_HEAD;return}case p.TD:case p.TH:{if(t>0){this.insertionMode=I.IN_CELL;return}break}case p.HEAD:{if(t>0){this.insertionMode=I.IN_HEAD;return}break}}this.insertionMode=I.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===p.TEMPLATE)break;if(r===p.TABLE){this.insertionMode=I.IN_SELECT_IN_TABLE;return}}this.insertionMode=I.IN_SELECT}_isElementCausesFosterParenting(t){return Mb.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case p.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Y.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case p.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return VN[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){iI(this,t);return}switch(this.insertionMode){case I.INITIAL:{ja(this,t);break}case I.BEFORE_HTML:{Xa(this,t);break}case I.BEFORE_HEAD:{Ja(this,t);break}case I.IN_HEAD:{Za(this,t);break}case I.IN_HEAD_NO_SCRIPT:{eu(this,t);break}case I.AFTER_HEAD:{tu(this,t);break}case I.IN_BODY:case I.IN_CAPTION:case I.IN_CELL:case I.IN_TEMPLATE:{Ub(this,t);break}case I.TEXT:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{uf(this,t);break}case I.IN_TABLE_TEXT:{Wb(this,t);break}case I.IN_COLUMN_GROUP:{vl(this,t);break}case I.AFTER_BODY:{Sl(this,t);break}case I.AFTER_AFTER_BODY:{ll(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){sI(this,t);return}switch(this.insertionMode){case I.INITIAL:{ja(this,t);break}case I.BEFORE_HTML:{Xa(this,t);break}case I.BEFORE_HEAD:{Ja(this,t);break}case I.IN_HEAD:{Za(this,t);break}case I.IN_HEAD_NO_SCRIPT:{eu(this,t);break}case I.AFTER_HEAD:{tu(this,t);break}case I.TEXT:{this._insertCharacters(t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{uf(this,t);break}case I.IN_COLUMN_GROUP:{vl(this,t);break}case I.AFTER_BODY:{Sl(this,t);break}case I.AFTER_AFTER_BODY:{ll(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Hf(this,t);return}switch(this.insertionMode){case I.INITIAL:case I.BEFORE_HTML:case I.BEFORE_HEAD:case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:case I.IN_BODY:case I.IN_TABLE:case I.IN_CAPTION:case I.IN_COLUMN_GROUP:case I.IN_TABLE_BODY:case I.IN_ROW:case I.IN_CELL:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:case I.IN_TEMPLATE:case I.IN_FRAMESET:case I.AFTER_FRAMESET:{Hf(this,t);break}case I.IN_TABLE_TEXT:{Ha(this,t);break}case I.AFTER_BODY:{Mk(this,t);break}case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{Fk(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case I.INITIAL:{Bk(this,t);break}case I.BEFORE_HEAD:case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:{this._err(t,$.misplacedDoctype);break}case I.IN_TABLE_TEXT:{Ha(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,$.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?aI(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case I.INITIAL:{ja(this,t);break}case I.BEFORE_HTML:{Uk(this,t);break}case I.BEFORE_HEAD:{Hk(this,t);break}case I.IN_HEAD:{Vn(this,t);break}case I.IN_HEAD_NO_SCRIPT:{qk(this,t);break}case I.AFTER_HEAD:{Yk(this,t);break}case I.IN_BODY:{Ft(this,t);break}case I.IN_TABLE:{Si(this,t);break}case I.IN_TABLE_TEXT:{Ha(this,t);break}case I.IN_CAPTION:{$6(this,t);break}case I.IN_COLUMN_GROUP:{Uh(this,t);break}case I.IN_TABLE_BODY:{Kl(this,t);break}case I.IN_ROW:{Xl(this,t);break}case I.IN_CELL:{W6(this,t);break}case I.IN_SELECT:{Qb(this,t);break}case I.IN_SELECT_IN_TABLE:{V6(this,t);break}case I.IN_TEMPLATE:{G6(this,t);break}case I.AFTER_BODY:{X6(this,t);break}case I.IN_FRAMESET:{J6(this,t);break}case I.AFTER_FRAMESET:{eI(this,t);break}case I.AFTER_AFTER_BODY:{nI(this,t);break}case I.AFTER_AFTER_FRAMESET:{rI(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?uI(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case I.INITIAL:{ja(this,t);break}case I.BEFORE_HTML:{jk(this,t);break}case I.BEFORE_HEAD:{$k(this,t);break}case I.IN_HEAD:{zk(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Wk(this,t);break}case I.AFTER_HEAD:{Vk(this,t);break}case I.IN_BODY:{Gl(this,t);break}case I.TEXT:{O6(this,t);break}case I.IN_TABLE:{pu(this,t);break}case I.IN_TABLE_TEXT:{Ha(this,t);break}case I.IN_CAPTION:{z6(this,t);break}case I.IN_COLUMN_GROUP:{q6(this,t);break}case I.IN_TABLE_BODY:{$f(this,t);break}case I.IN_ROW:{Vb(this,t);break}case I.IN_CELL:{Y6(this,t);break}case I.IN_SELECT:{Gb(this,t);break}case I.IN_SELECT_IN_TABLE:{Q6(this,t);break}case I.IN_TEMPLATE:{K6(this,t);break}case I.AFTER_BODY:{Xb(this,t);break}case I.IN_FRAMESET:{Z6(this,t);break}case I.AFTER_FRAMESET:{tI(this,t);break}case I.AFTER_AFTER_BODY:{ll(this,t);break}}}onEof(t){switch(this.insertionMode){case I.INITIAL:{ja(this,t);break}case I.BEFORE_HTML:{Xa(this,t);break}case I.BEFORE_HEAD:{Ja(this,t);break}case I.IN_HEAD:{Za(this,t);break}case I.IN_HEAD_NO_SCRIPT:{eu(this,t);break}case I.AFTER_HEAD:{tu(this,t);break}case I.IN_BODY:case I.IN_TABLE:case I.IN_CAPTION:case I.IN_COLUMN_GROUP:case I.IN_TABLE_BODY:case I.IN_ROW:case I.IN_CELL:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:{zb(this,t);break}case I.TEXT:{D6(this,t);break}case I.IN_TABLE_TEXT:{Ha(this,t);break}case I.IN_TEMPLATE:{Kb(this,t);break}case I.AFTER_BODY:case I.IN_FRAMESET:case I.AFTER_FRAMESET:case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{Bh(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===S.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:case I.TEXT:case I.IN_COLUMN_GROUP:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:case I.IN_FRAMESET:case I.AFTER_FRAMESET:{this._insertCharacters(t);break}case I.IN_BODY:case I.IN_CAPTION:case I.IN_CELL:case I.IN_TEMPLATE:case I.AFTER_BODY:case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{Bb(this,t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{uf(this,t);break}case I.IN_TABLE_TEXT:{qb(this,t);break}}}};function Ik(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):$b(e,t),n}function Rk(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function Ok(e,t,n){let r=t,a=e.openElements.getCommonAncestor(t);for(let u=0,l=a;l!==n;u++,l=a){a=e.openElements.getCommonAncestor(l);const d=e.activeFormattingElements.getElementEntry(l),f=d&&u>=Nk;!d||f?(f&&e.activeFormattingElements.removeEntry(d),e.openElements.remove(l)):(l=Dk(e,d),r===t&&(e.activeFormattingElements.bookmark=d),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(l,r),r=l)}return r}function Dk(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Lk(e,t,n){const r=e.treeAdapter.getTagName(t),a=Vl(r);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const u=e.treeAdapter.getNamespaceURI(t);a===p.TEMPLATE&&u===Y.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Pk(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,u=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,u),e.treeAdapter.appendChild(t,u),e.activeFormattingElements.insertElementAfterBookmark(u,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,u,a.tagID)}function Fh(e,t){for(let n=0;n<Ck;n++){const r=Ik(e,t);if(!r)break;const a=Rk(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;const u=Ok(e,a,r.element),l=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(u),l&&Lk(e,l,u),Pk(e,a,r)}}function Hf(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Mk(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Fk(e,t){e._appendCommentNode(t,e.document)}function Bh(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const u=e.openElements.items[1],l=e.treeAdapter.getNodeSourceCodeLocation(u);l&&!l.endTag&&e._setEndLocation(u,t)}}}}function Bk(e,t){e._setDocumentType(t);const n=t.forceQuirks?hn.QUIRKS:pk(t);hk(t)||e._err(t,$.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=I.BEFORE_HTML}function ja(e,t){e._err(t,$.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,hn.QUIRKS),e.insertionMode=I.BEFORE_HTML,e._processToken(t)}function Uk(e,t){t.tagID===p.HTML?(e._insertElement(t,Y.HTML),e.insertionMode=I.BEFORE_HEAD):Xa(e,t)}function jk(e,t){const n=t.tagID;(n===p.HTML||n===p.HEAD||n===p.BODY||n===p.BR)&&Xa(e,t)}function Xa(e,t){e._insertFakeRootElement(),e.insertionMode=I.BEFORE_HEAD,e._processToken(t)}function Hk(e,t){switch(t.tagID){case p.HTML:{Ft(e,t);break}case p.HEAD:{e._insertElement(t,Y.HTML),e.headElement=e.openElements.current,e.insertionMode=I.IN_HEAD;break}default:Ja(e,t)}}function $k(e,t){const n=t.tagID;n===p.HEAD||n===p.BODY||n===p.HTML||n===p.BR?Ja(e,t):e._err(t,$.endTagWithoutMatchingOpenElement)}function Ja(e,t){e._insertFakeElement(P.HEAD,p.HEAD),e.headElement=e.openElements.current,e.insertionMode=I.IN_HEAD,e._processToken(t)}function Vn(e,t){switch(t.tagID){case p.HTML:{Ft(e,t);break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.TITLE:{e._switchToTextParsing(t,tn.RCDATA);break}case p.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,tn.RAWTEXT):(e._insertElement(t,Y.HTML),e.insertionMode=I.IN_HEAD_NO_SCRIPT);break}case p.NOFRAMES:case p.STYLE:{e._switchToTextParsing(t,tn.RAWTEXT);break}case p.SCRIPT:{e._switchToTextParsing(t,tn.SCRIPT_DATA);break}case p.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=I.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(I.IN_TEMPLATE);break}case p.HEAD:{e._err(t,$.misplacedStartTagForHeadElement);break}default:Za(e,t)}}function zk(e,t){switch(t.tagID){case p.HEAD:{e.openElements.pop(),e.insertionMode=I.AFTER_HEAD;break}case p.BODY:case p.BR:case p.HTML:{Za(e,t);break}case p.TEMPLATE:{Hs(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function Hs(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==p.TEMPLATE&&e._err(t,$.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(p.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,$.endTagWithoutMatchingOpenElement)}function Za(e,t){e.openElements.pop(),e.insertionMode=I.AFTER_HEAD,e._processToken(t)}function qk(e,t){switch(t.tagID){case p.HTML:{Ft(e,t);break}case p.BASEFONT:case p.BGSOUND:case p.HEAD:case p.LINK:case p.META:case p.NOFRAMES:case p.STYLE:{Vn(e,t);break}case p.NOSCRIPT:{e._err(t,$.nestedNoscriptInHead);break}default:eu(e,t)}}function Wk(e,t){switch(t.tagID){case p.NOSCRIPT:{e.openElements.pop(),e.insertionMode=I.IN_HEAD;break}case p.BR:{eu(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function eu(e,t){const n=t.type===Le.EOF?$.openElementsLeftAfterEof:$.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=I.IN_HEAD,e._processToken(t)}function Yk(e,t){switch(t.tagID){case p.HTML:{Ft(e,t);break}case p.BODY:{e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=I.IN_BODY;break}case p.FRAMESET:{e._insertElement(t,Y.HTML),e.insertionMode=I.IN_FRAMESET;break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{e._err(t,$.abandonedHeadElementChild),e.openElements.push(e.headElement,p.HEAD),Vn(e,t),e.openElements.remove(e.headElement);break}case p.HEAD:{e._err(t,$.misplacedStartTagForHeadElement);break}default:tu(e,t)}}function Vk(e,t){switch(t.tagID){case p.BODY:case p.HTML:case p.BR:{tu(e,t);break}case p.TEMPLATE:{Hs(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function tu(e,t){e._insertFakeElement(P.BODY,p.BODY),e.insertionMode=I.IN_BODY,Ql(e,t)}function Ql(e,t){switch(t.type){case Le.CHARACTER:{Ub(e,t);break}case Le.WHITESPACE_CHARACTER:{Bb(e,t);break}case Le.COMMENT:{Hf(e,t);break}case Le.START_TAG:{Ft(e,t);break}case Le.END_TAG:{Gl(e,t);break}case Le.EOF:{zb(e,t);break}}}function Bb(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Ub(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Qk(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Gk(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Kk(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_FRAMESET)}function Xk(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function Jk(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),jf.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Y.HTML)}function Zk(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function e6(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),n||(e.formElement=e.openElements.current))}function t6(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const a=e.openElements.tagIDs[r];if(n===p.LI&&a===p.LI||(n===p.DD||n===p.DT)&&(a===p.DD||a===p.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==p.ADDRESS&&a!==p.DIV&&a!==p.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function n6(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.tokenizer.state=tn.PLAINTEXT}function r6(e,t){e.openElements.hasInScope(p.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1}function s6(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(P.A);n&&(Fh(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function i6(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function a6(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(p.NOBR)&&(Fh(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function u6(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function o6(e,t){e.treeAdapter.getDocumentMode(e.document)!==hn.QUIRKS&&e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=I.IN_TABLE}function jb(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Hb(e){const t=Nb(e,Os.TYPE);return t!=null&&t.toLowerCase()===Ak}function l6(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),Hb(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function c6(e,t){e._appendElement(t,Y.HTML),t.ackSelfClosing=!0}function d6(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function f6(e,t){t.tagName=P.IMG,t.tagID=p.IMG,jb(e,t)}function h6(e,t){e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.tokenizer.state=tn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=I.TEXT}function p6(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,tn.RAWTEXT)}function m6(e,t){e.framesetOk=!1,e._switchToTextParsing(t,tn.RAWTEXT)}function Kg(e,t){e._switchToTextParsing(t,tn.RAWTEXT)}function g6(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===I.IN_TABLE||e.insertionMode===I.IN_CAPTION||e.insertionMode===I.IN_TABLE_BODY||e.insertionMode===I.IN_ROW||e.insertionMode===I.IN_CELL?I.IN_SELECT_IN_TABLE:I.IN_SELECT}function E6(e,t){e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function b6(e,t){e.openElements.hasInScope(p.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Y.HTML)}function y6(e,t){e.openElements.hasInScope(p.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(p.RTC),e._insertElement(t,Y.HTML)}function T6(e,t){e._reconstructActiveFormattingElements(),Lb(t),Mh(t),t.selfClosing?e._appendElement(t,Y.MATHML):e._insertElement(t,Y.MATHML),t.ackSelfClosing=!0}function _6(e,t){e._reconstructActiveFormattingElements(),Pb(t),Mh(t),t.selfClosing?e._appendElement(t,Y.SVG):e._insertElement(t,Y.SVG),t.ackSelfClosing=!0}function Xg(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function Ft(e,t){switch(t.tagID){case p.I:case p.S:case p.B:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.SMALL:case p.STRIKE:case p.STRONG:{i6(e,t);break}case p.A:{s6(e,t);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{Jk(e,t);break}case p.P:case p.DL:case p.OL:case p.UL:case p.DIV:case p.DIR:case p.NAV:case p.MAIN:case p.MENU:case p.ASIDE:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.DETAILS:case p.ADDRESS:case p.ARTICLE:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{Xk(e,t);break}case p.LI:case p.DD:case p.DT:{t6(e,t);break}case p.BR:case p.IMG:case p.WBR:case p.AREA:case p.EMBED:case p.KEYGEN:{jb(e,t);break}case p.HR:{d6(e,t);break}case p.RB:case p.RTC:{b6(e,t);break}case p.RT:case p.RP:{y6(e,t);break}case p.PRE:case p.LISTING:{Zk(e,t);break}case p.XMP:{p6(e,t);break}case p.SVG:{_6(e,t);break}case p.HTML:{Qk(e,t);break}case p.BASE:case p.LINK:case p.META:case p.STYLE:case p.TITLE:case p.SCRIPT:case p.BGSOUND:case p.BASEFONT:case p.TEMPLATE:{Vn(e,t);break}case p.BODY:{Gk(e,t);break}case p.FORM:{e6(e,t);break}case p.NOBR:{a6(e,t);break}case p.MATH:{T6(e,t);break}case p.TABLE:{o6(e,t);break}case p.INPUT:{l6(e,t);break}case p.PARAM:case p.TRACK:case p.SOURCE:{c6(e,t);break}case p.IMAGE:{f6(e,t);break}case p.BUTTON:{r6(e,t);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{u6(e,t);break}case p.IFRAME:{m6(e,t);break}case p.SELECT:{g6(e,t);break}case p.OPTION:case p.OPTGROUP:{E6(e,t);break}case p.NOEMBED:case p.NOFRAMES:{Kg(e,t);break}case p.FRAMESET:{Kk(e,t);break}case p.TEXTAREA:{h6(e,t);break}case p.NOSCRIPT:{e.options.scriptingEnabled?Kg(e,t):Xg(e,t);break}case p.PLAINTEXT:{n6(e,t);break}case p.COL:case p.TH:case p.TD:case p.TR:case p.HEAD:case p.FRAME:case p.TBODY:case p.TFOOT:case p.THEAD:case p.CAPTION:case p.COLGROUP:break;default:Xg(e,t)}}function x6(e,t){if(e.openElements.hasInScope(p.BODY)&&(e.insertionMode=I.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function w6(e,t){e.openElements.hasInScope(p.BODY)&&(e.insertionMode=I.AFTER_BODY,Xb(e,t))}function v6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function S6(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(p.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(p.FORM):n&&e.openElements.remove(n))}function A6(e){e.openElements.hasInButtonScope(p.P)||e._insertFakeElement(P.P,p.P),e._closePElement()}function C6(e){e.openElements.hasInListItemScope(p.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(p.LI),e.openElements.popUntilTagNamePopped(p.LI))}function N6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function k6(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function I6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function R6(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(P.BR,p.BR),e.openElements.pop(),e.framesetOk=!1}function $b(e,t){const n=t.tagName,r=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const u=e.openElements.items[a],l=e.openElements.tagIDs[a];if(r===l&&(r!==p.UNKNOWN||e.treeAdapter.getTagName(u)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(u,l))break}}function Gl(e,t){switch(t.tagID){case p.A:case p.B:case p.I:case p.S:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.NOBR:case p.SMALL:case p.STRIKE:case p.STRONG:{Fh(e,t);break}case p.P:{A6(e);break}case p.DL:case p.UL:case p.OL:case p.DIR:case p.DIV:case p.NAV:case p.PRE:case p.MAIN:case p.MENU:case p.ASIDE:case p.BUTTON:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.ADDRESS:case p.ARTICLE:case p.DETAILS:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.LISTING:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{v6(e,t);break}case p.LI:{C6(e);break}case p.DD:case p.DT:{N6(e,t);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{k6(e);break}case p.BR:{R6(e);break}case p.BODY:{x6(e,t);break}case p.HTML:{w6(e,t);break}case p.FORM:{S6(e);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{I6(e,t);break}case p.TEMPLATE:{Hs(e,t);break}default:$b(e,t)}}function zb(e,t){e.tmplInsertionModeStack.length>0?Kb(e,t):Bh(e,t)}function O6(e,t){var n;t.tagID===p.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function D6(e,t){e._err(t,$.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function uf(e,t){if(Mb.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=I.IN_TABLE_TEXT,t.type){case Le.CHARACTER:{Wb(e,t);break}case Le.WHITESPACE_CHARACTER:{qb(e,t);break}}else Nu(e,t)}function L6(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_CAPTION}function P6(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_COLUMN_GROUP}function M6(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(P.COLGROUP,p.COLGROUP),e.insertionMode=I.IN_COLUMN_GROUP,Uh(e,t)}function F6(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_TABLE_BODY}function B6(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(P.TBODY,p.TBODY),e.insertionMode=I.IN_TABLE_BODY,Kl(e,t)}function U6(e,t){e.openElements.hasInTableScope(p.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function j6(e,t){Hb(t)?e._appendElement(t,Y.HTML):Nu(e,t),t.ackSelfClosing=!0}function H6(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Y.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Si(e,t){switch(t.tagID){case p.TD:case p.TH:case p.TR:{B6(e,t);break}case p.STYLE:case p.SCRIPT:case p.TEMPLATE:{Vn(e,t);break}case p.COL:{M6(e,t);break}case p.FORM:{H6(e,t);break}case p.TABLE:{U6(e,t);break}case p.TBODY:case p.TFOOT:case p.THEAD:{F6(e,t);break}case p.INPUT:{j6(e,t);break}case p.CAPTION:{L6(e,t);break}case p.COLGROUP:{P6(e,t);break}default:Nu(e,t)}}function pu(e,t){switch(t.tagID){case p.TABLE:{e.openElements.hasInTableScope(p.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TABLE),e._resetInsertionMode());break}case p.TEMPLATE:{Hs(e,t);break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:Nu(e,t)}}function Nu(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Ql(e,t),e.fosterParentingEnabled=n}function qb(e,t){e.pendingCharacterTokens.push(t)}function Wb(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ha(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Nu(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Yb=new Set([p.CAPTION,p.COL,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]);function $6(e,t){const n=t.tagID;Yb.has(n)?e.openElements.hasInTableScope(p.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_TABLE,Si(e,t)):Ft(e,t)}function z6(e,t){const n=t.tagID;switch(n){case p.CAPTION:case p.TABLE:{e.openElements.hasInTableScope(p.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_TABLE,n===p.TABLE&&pu(e,t));break}case p.BODY:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:Gl(e,t)}}function Uh(e,t){switch(t.tagID){case p.HTML:{Ft(e,t);break}case p.COL:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.TEMPLATE:{Vn(e,t);break}default:vl(e,t)}}function q6(e,t){switch(t.tagID){case p.COLGROUP:{e.openElements.currentTagId===p.COLGROUP&&(e.openElements.pop(),e.insertionMode=I.IN_TABLE);break}case p.TEMPLATE:{Hs(e,t);break}case p.COL:break;default:vl(e,t)}}function vl(e,t){e.openElements.currentTagId===p.COLGROUP&&(e.openElements.pop(),e.insertionMode=I.IN_TABLE,e._processToken(t))}function Kl(e,t){switch(t.tagID){case p.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_ROW;break}case p.TH:case p.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(P.TR,p.TR),e.insertionMode=I.IN_ROW,Xl(e,t);break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE,Si(e,t));break}default:Si(e,t)}}function $f(e,t){const n=t.tagID;switch(t.tagID){case p.TBODY:case p.TFOOT:case p.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE);break}case p.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE,pu(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:case p.TR:break;default:pu(e,t)}}function Xl(e,t){switch(t.tagID){case p.TH:case p.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_CELL,e.activeFormattingElements.insertMarker();break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,Kl(e,t));break}default:Si(e,t)}}function Vb(e,t){switch(t.tagID){case p.TR:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY);break}case p.TABLE:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,$f(e,t));break}case p.TBODY:case p.TFOOT:case p.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(p.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,$f(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:break;default:pu(e,t)}}function W6(e,t){const n=t.tagID;Yb.has(n)?(e.openElements.hasInTableScope(p.TD)||e.openElements.hasInTableScope(p.TH))&&(e._closeTableCell(),Xl(e,t)):Ft(e,t)}function Y6(e,t){const n=t.tagID;switch(n){case p.TD:case p.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_ROW);break}case p.TABLE:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Vb(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:break;default:Gl(e,t)}}function Qb(e,t){switch(t.tagID){case p.HTML:{Ft(e,t);break}case p.OPTION:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case p.OPTGROUP:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case p.HR:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.INPUT:case p.KEYGEN:case p.TEXTAREA:case p.SELECT:{e.openElements.hasInSelectScope(p.SELECT)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),t.tagID!==p.SELECT&&e._processStartTag(t));break}case p.SCRIPT:case p.TEMPLATE:{Vn(e,t);break}}}function Gb(e,t){switch(t.tagID){case p.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===p.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===p.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop();break}case p.OPTION:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop();break}case p.SELECT:{e.openElements.hasInSelectScope(p.SELECT)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode());break}case p.TEMPLATE:{Hs(e,t);break}}}function V6(e,t){const n=t.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Qb(e,t)}function Q6(e,t){const n=t.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Gb(e,t)}function G6(e,t){switch(t.tagID){case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{Vn(e,t);break}case p.CAPTION:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{e.tmplInsertionModeStack[0]=I.IN_TABLE,e.insertionMode=I.IN_TABLE,Si(e,t);break}case p.COL:{e.tmplInsertionModeStack[0]=I.IN_COLUMN_GROUP,e.insertionMode=I.IN_COLUMN_GROUP,Uh(e,t);break}case p.TR:{e.tmplInsertionModeStack[0]=I.IN_TABLE_BODY,e.insertionMode=I.IN_TABLE_BODY,Kl(e,t);break}case p.TD:case p.TH:{e.tmplInsertionModeStack[0]=I.IN_ROW,e.insertionMode=I.IN_ROW,Xl(e,t);break}default:e.tmplInsertionModeStack[0]=I.IN_BODY,e.insertionMode=I.IN_BODY,Ft(e,t)}}function K6(e,t){t.tagID===p.TEMPLATE&&Hs(e,t)}function Kb(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(p.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Bh(e,t)}function X6(e,t){t.tagID===p.HTML?Ft(e,t):Sl(e,t)}function Xb(e,t){var n;if(t.tagID===p.HTML){if(e.fragmentContext||(e.insertionMode=I.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===p.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Sl(e,t)}function Sl(e,t){e.insertionMode=I.IN_BODY,Ql(e,t)}function J6(e,t){switch(t.tagID){case p.HTML:{Ft(e,t);break}case p.FRAMESET:{e._insertElement(t,Y.HTML);break}case p.FRAME:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.NOFRAMES:{Vn(e,t);break}}}function Z6(e,t){t.tagID===p.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==p.FRAMESET&&(e.insertionMode=I.AFTER_FRAMESET))}function eI(e,t){switch(t.tagID){case p.HTML:{Ft(e,t);break}case p.NOFRAMES:{Vn(e,t);break}}}function tI(e,t){t.tagID===p.HTML&&(e.insertionMode=I.AFTER_AFTER_FRAMESET)}function nI(e,t){t.tagID===p.HTML?Ft(e,t):ll(e,t)}function ll(e,t){e.insertionMode=I.IN_BODY,Ql(e,t)}function rI(e,t){switch(t.tagID){case p.HTML:{Ft(e,t);break}case p.NOFRAMES:{Vn(e,t);break}}}function sI(e,t){t.chars=Qe,e._insertCharacters(t)}function iI(e,t){e._insertCharacters(t),e.framesetOk=!1}function Jb(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Y.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function aI(e,t){if(_k(t))Jb(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Y.MATHML?Lb(t):r===Y.SVG&&(xk(t),Pb(t)),Mh(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function uI(e,t){if(t.tagID===p.P||t.tagID===p.BR){Jb(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Y.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}const oI=new Set([P.AREA,P.BASE,P.BASEFONT,P.BGSOUND,P.BR,P.COL,P.EMBED,P.FRAME,P.HR,P.IMG,P.INPUT,P.KEYGEN,P.LINK,P.META,P.PARAM,P.SOURCE,P.TRACK,P.WBR]);function lI(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===Y.HTML&&oI.has(t.treeAdapter.getTagName(e))}const cI={treeAdapter:wr,scriptingEnabled:!0};function dI(e,t){const n={...cI,...t};return Zb(e,n)}function fI(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===P.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===Y.HTML?t.treeAdapter.getTemplateContent(e):e,a=t.treeAdapter.getChildNodes(r);if(a)for(const u of a)n+=Zb(u,t);return n}function Zb(e,t){return t.treeAdapter.isElementNode(e)?hI(e,t):t.treeAdapter.isTextNode(e)?mI(e,t):t.treeAdapter.isCommentNode(e)?gI(e,t):t.treeAdapter.isDocumentTypeNode(e)?EI(e,t):""}function hI(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${pI(e,t)}>${lI(e,t)?"":`${fI(e,t)}</${n}>`}`}function pI(e,{treeAdapter:t}){let n="";for(const r of t.getAttrList(e)){if(n+=" ",r.namespace)switch(r.namespace){case Y.XML:{n+=`xml:${r.name}`;break}case Y.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case Y.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${qE(r.value)}"`}return n}function mI(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),a=n.getParentNode(e),u=a&&n.isElementNode(a)&&n.getTagName(a);return u&&n.getNamespaceURI(a)===Y.HTML&&GN(u,t.scriptingEnabled)?r:WE(r)}function gI(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function EI(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function bI(e,t){return Fb.parse(e,t)}function yI(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=Fb.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function Jg(e){const t=e.includes('"')?"'":'"';return t+e+t}function TI(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${Jg(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${Jg(n)}`),r}const Zr={isCommentNode:$l,isElementNode:Ee,isTextNode:ar,createDocument(){const e=new Ps([]);return e["x-mode"]=hn.NO_QUIRKS,e},createDocumentFragment(){return new Ps([])},createElement(e,t,n){const r=Object.create(null),a=Object.create(null),u=Object.create(null);for(let d=0;d<n.length;d++){const f=n[d].name;r[f]=n[d].value,a[f]=n[d].namespace,u[f]=n[d].prefix}const l=new Th(e,r,[]);return l.namespace=t,l["x-attribsNamespace"]=a,l["x-attribsPrefix"]=u,l},createCommentNode(e){return new Eh(e)},createTextNode(e){return new lu(e)},appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:a}=n;a&&(a.next=t,t.prev=a),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){Zr.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,n,r){const a=TI(t,n,r);let u=e.children.find(l=>If(l)&&l.name==="!doctype");u?u.data=a??null:(u=new bh("!doctype",a),Zr.appendChild(e,u)),u["x-name"]=t,u["x-publicId"]=n,u["x-systemId"]=r},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&ar(n)?n.data+=t:Zr.appendChild(e,Zr.createTextNode(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&ar(r)?r.data+=t:Zr.insertBefore(e,Zr.createTextNode(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;e.attribs[r]===void 0&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return If(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function _I(e,t,n,r){var a;return(a=t.treeAdapter)!==null&&a!==void 0||(t.treeAdapter=Zr),t.scriptingEnabled!==!1&&(t.scriptingEnabled=!0),n?bI(e,t):yI(r,e,t)}const xI={treeAdapter:Zr};function wI(e){const t="length"in e?e:[e];for(let r=0;r<t.length;r+=1){const a=t[r];is(a)&&Array.prototype.splice.call(t,r,1,...a.children)}let n="";for(let r=0;r<t.length;r+=1){const a=t[r];n+=dI(a,xI)}return n}var pe;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(pe||(pe={}));var G;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(G||(G={}));function _r(e){return e===pe.Space||e===pe.NewLine||e===pe.Tab||e===pe.FormFeed||e===pe.CarriageReturn}function el(e){return e===pe.Slash||e===pe.Gt||_r(e)}function vI(e){return e>=pe.LowerA&&e<=pe.LowerZ||e>=pe.UpperA&&e<=pe.UpperZ}var ir;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(ir||(ir={}));const St={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class SI{constructor({xmlMode:t=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=G.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=G.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new xh(t?jE:_h,(a,u)=>this.emitCodePoint(a,u))}reset(){this.state=G.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=G.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===pe.Lt||!this.decodeEntities&&this.fastForwardTo(pe.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=G.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===pe.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?el(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=G.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===pe.Gt||_r(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===St.TitleEnd?this.decodeEntities&&t===pe.Amp&&this.startEntity():this.fastForwardTo(pe.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===pe.Lt)}stateCDATASequence(t){t===St.Cdata[this.sequenceIndex]?++this.sequenceIndex===St.Cdata.length&&(this.state=G.InCommentLike,this.currentSequence=St.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=G.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===St.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=G.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!el(t):vI(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=G.SpecialStartSequence}stateBeforeTagName(t){if(t===pe.ExclamationMark)this.state=G.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===pe.Questionmark)this.state=G.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=G.InTagName:n===St.ScriptEnd[2]?this.state=G.BeforeSpecialS:n===St.TitleEnd[2]?this.state=G.BeforeSpecialT:this.state=G.InTagName}else t===pe.Slash?this.state=G.BeforeClosingTagName:(this.state=G.Text,this.stateText(t))}stateInTagName(t){el(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=G.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){_r(t)||(t===pe.Gt?this.state=G.Text:(this.state=this.isTagStartChar(t)?G.InClosingTagName:G.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===pe.Gt||_r(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=G.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===pe.Gt||this.fastForwardTo(pe.Gt))&&(this.state=G.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===pe.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=G.InSpecialTag,this.sequenceIndex=0):this.state=G.Text,this.sectionStart=this.index+1):t===pe.Slash?this.state=G.InSelfClosingTag:_r(t)||(this.state=G.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===pe.Gt?(this.cbs.onselfclosingtag(this.index),this.state=G.Text,this.sectionStart=this.index+1,this.isSpecial=!1):_r(t)||(this.state=G.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===pe.Eq||el(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=G.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===pe.Eq?this.state=G.BeforeAttributeValue:t===pe.Slash||t===pe.Gt?(this.cbs.onattribend(ir.NoValue,this.sectionStart),this.sectionStart=-1,this.state=G.BeforeAttributeName,this.stateBeforeAttributeName(t)):_r(t)||(this.cbs.onattribend(ir.NoValue,this.sectionStart),this.state=G.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===pe.DoubleQuote?(this.state=G.InAttributeValueDq,this.sectionStart=this.index+1):t===pe.SingleQuote?(this.state=G.InAttributeValueSq,this.sectionStart=this.index+1):_r(t)||(this.sectionStart=this.index,this.state=G.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===pe.DoubleQuote?ir.Double:ir.Single,this.index+1),this.state=G.BeforeAttributeName):this.decodeEntities&&t===pe.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,pe.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,pe.SingleQuote)}stateInAttributeValueNoQuotes(t){_r(t)||t===pe.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(ir.Unquoted,this.index),this.state=G.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===pe.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===pe.OpeningSquareBracket?(this.state=G.CDATASequence,this.sequenceIndex=0):this.state=t===pe.Dash?G.BeforeComment:G.InDeclaration}stateInDeclaration(t){(t===pe.Gt||this.fastForwardTo(pe.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=G.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===pe.Gt||this.fastForwardTo(pe.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=G.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===pe.Dash?(this.state=G.InCommentLike,this.currentSequence=St.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=G.InDeclaration}stateInSpecialComment(t){(t===pe.Gt||this.fastForwardTo(pe.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=G.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===St.ScriptEnd[3]?this.startSpecial(St.ScriptEnd,4):n===St.StyleEnd[3]?this.startSpecial(St.StyleEnd,4):(this.state=G.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const n=t|32;n===St.TitleEnd[3]?this.startSpecial(St.TitleEnd,4):n===St.TextareaEnd[3]?this.startSpecial(St.TextareaEnd,4):(this.state=G.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=G.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?vn.Strict:this.baseState===G.Text||this.baseState===G.InSpecialTag?vn.Legacy:vn.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===G.Text||this.state===G.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===G.InAttributeValueDq||this.state===G.InAttributeValueSq||this.state===G.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case G.Text:{this.stateText(t);break}case G.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case G.InSpecialTag:{this.stateInSpecialTag(t);break}case G.CDATASequence:{this.stateCDATASequence(t);break}case G.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case G.InAttributeName:{this.stateInAttributeName(t);break}case G.InCommentLike:{this.stateInCommentLike(t);break}case G.InSpecialComment:{this.stateInSpecialComment(t);break}case G.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case G.InTagName:{this.stateInTagName(t);break}case G.InClosingTagName:{this.stateInClosingTagName(t);break}case G.BeforeTagName:{this.stateBeforeTagName(t);break}case G.AfterAttributeName:{this.stateAfterAttributeName(t);break}case G.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case G.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case G.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case G.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case G.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case G.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case G.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case G.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case G.InDeclaration:{this.stateInDeclaration(t);break}case G.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case G.BeforeComment:{this.stateBeforeComment(t);break}case G.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case G.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===G.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===G.InCommentLike?this.currentSequence===St.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===G.InTagName||this.state===G.BeforeAttributeName||this.state===G.BeforeAttributeValue||this.state===G.AfterAttributeName||this.state===G.InAttributeName||this.state===G.InAttributeValueSq||this.state===G.InAttributeValueDq||this.state===G.InAttributeValueNq||this.state===G.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==G.Text&&this.baseState!==G.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const gi=new Set(["input","option","optgroup","select","button","datalist","textarea"]),je=new Set(["p"]),Zg=new Set(["thead","tbody"]),e1=new Set(["dd","dt"]),t1=new Set(["rt","rp"]),AI=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",je],["h1",je],["h2",je],["h3",je],["h4",je],["h5",je],["h6",je],["select",gi],["input",gi],["output",gi],["button",gi],["datalist",gi],["textarea",gi],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",e1],["dt",e1],["address",je],["article",je],["aside",je],["blockquote",je],["details",je],["div",je],["dl",je],["fieldset",je],["figcaption",je],["figure",je],["footer",je],["form",je],["header",je],["hr",je],["main",je],["nav",je],["ol",je],["pre",je],["section",je],["table",je],["ul",je],["rt",t1],["rp",t1],["tbody",Zg],["tfoot",Zg]]),CI=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),n1=new Set(["math","svg"]),r1=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),NI=/\s|\//;class kI{constructor(t,n={}){var r,a,u,l,d,f;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(a=n.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(u=n.recognizeSelfClosing)!==null&&u!==void 0?u:!this.htmlMode,this.tokenizer=new((l=n.Tokenizer)!==null&&l!==void 0?l:SI)(this.options,this),this.foreignContext=[!this.htmlMode],(f=(d=this.cbs).onparserinit)===null||f===void 0||f.call(d,this)}ontext(t,n){var r,a;const u=this.getSlice(t,n);this.endIndex=n-1,(a=(r=this.cbs).ontext)===null||a===void 0||a.call(r,u),this.startIndex=n}ontextentity(t,n){var r,a;this.endIndex=n-1,(a=(r=this.cbs).ontext)===null||a===void 0||a.call(r,Rf(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&CI.has(t)}onopentagname(t,n){this.endIndex=n;let r=this.getSlice(t,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var n,r,a,u;this.openTagStart=this.startIndex,this.tagname=t;const l=this.htmlMode&&AI.get(t);if(l)for(;this.stack.length>0&&l.has(this.stack[0]);){const d=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,d,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(n1.has(t)?this.foreignContext.unshift(!0):r1.has(t)&&this.foreignContext.unshift(!1))),(u=(a=this.cbs).onopentagname)===null||u===void 0||u.call(a,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var r,a,u,l,d,f,h,g;this.endIndex=n;let y=this.getSlice(t,n);if(this.lowerCaseTagNames&&(y=y.toLowerCase()),this.htmlMode&&(n1.has(y)||r1.has(y))&&this.foreignContext.shift(),this.isVoidElement(y))this.htmlMode&&y==="br"&&((l=(u=this.cbs).onopentagname)===null||l===void 0||l.call(u,"br"),(f=(d=this.cbs).onopentag)===null||f===void 0||f.call(d,"br",{},!0),(g=(h=this.cbs).onclosetag)===null||g===void 0||g.call(h,"br",!1));else{const x=this.stack.indexOf(y);if(x!==-1)for(let v=0;v<=x;v++){const w=this.stack.shift();(a=(r=this.cbs).onclosetag)===null||a===void 0||a.call(r,w,v!==x)}else this.htmlMode&&y==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,r;const a=this.tagname;this.endOpenTag(t),this.stack[0]===a&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,a,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const r=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=Rf(t)}onattribend(t,n){var r,a;this.endIndex=n,(a=(r=this.cbs).onattribute)===null||a===void 0||a.call(r,this.attribname,this.attribvalue,t===ir.Double?'"':t===ir.Single?"'":t===ir.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(NI);let r=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${a}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${a}`,`?${r}`)}this.startIndex=n+1}oncomment(t,n,r){var a,u,l,d;this.endIndex=n,(u=(a=this.cbs).oncomment)===null||u===void 0||u.call(a,this.getSlice(t,n-r)),(d=(l=this.cbs).oncommentend)===null||d===void 0||d.call(l),this.startIndex=n+1}oncdata(t,n,r){var a,u,l,d,f,h,g,y,x,v;this.endIndex=n;const w=this.getSlice(t,n-r);!this.htmlMode||this.options.recognizeCDATA?((u=(a=this.cbs).oncdatastart)===null||u===void 0||u.call(a),(d=(l=this.cbs).ontext)===null||d===void 0||d.call(l,w),(h=(f=this.cbs).oncdataend)===null||h===void 0||h.call(f)):((y=(g=this.cbs).oncomment)===null||y===void 0||y.call(g,`[CDATA[${w}]]`),(v=(x=this.cbs).oncommentend)===null||v===void 0||v.call(x)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,r,a;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(r=this.cbs).onparserinit)===null||a===void 0||a.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}}function II(e,t){const n=new RA(void 0,t);return new kI(n,t).end(e),n.root}const RI=aN((e,t,n,r)=>t._useHtmlParser2?II(e,t):_I(e,t,n,r)),OI=UN(RI,(e,t)=>t._useHtmlParser2?zl(e,t):wI(e)),At=[];for(let e=0;e<256;++e)At.push((e+256).toString(16).slice(1));function DI(e,t=0){return(At[e[t+0]]+At[e[t+1]]+At[e[t+2]]+At[e[t+3]]+"-"+At[e[t+4]]+At[e[t+5]]+"-"+At[e[t+6]]+At[e[t+7]]+"-"+At[e[t+8]]+At[e[t+9]]+"-"+At[e[t+10]]+At[e[t+11]]+At[e[t+12]]+At[e[t+13]]+At[e[t+14]]+At[e[t+15]]).toLowerCase()}let of;const LI=new Uint8Array(16);function PI(){if(!of){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");of=crypto.getRandomValues.bind(crypto)}return of(LI)}const MI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s1={randomUUID:MI};function zf(e,t,n){if(s1.randomUUID&&!e)return s1.randomUUID();e=e||{};const r=e.random??e.rng?.()??PI();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,DI(r)}const FI="https://proxy.corsfix.com/?";async function BI(e){function t(a){const u={"":.5,"":.3333333333333333,"":.6666666666666666,"":.25,"":.75,"":.2,"":.4,"":.6,"":.8};return a.replace(/<[^>]*>/g,"").replace(/[^a-zA-Z0-9.\s]/g,"").replace(/[]/g,d=>u[d]||d).trim()}function n(a){return a.replace(/<[^>]*>/g,"").trim()}function r(a){if(!a.length)return 0;const u=a.text().trim(),l=parseInt(u.match(/\d+/)?.[0]||"0");return/hour/i.test(u)?l*60:l}try{const a=encodeURIComponent(e),l=(await ot.get(FI+a)).data,d=OI(l),f=d("meta[property='og:image']").attr("content")||d("meta[name='og:image']").attr("content")||d("meta[itemprop='image']").attr("content")||d('img[class*="recipe-image"]').first().attr("src")||d('img[class*="main-image"]').first().attr("src")||d("img").first().attr("src"),h=d("meta[name='description']").attr("content")||d("meta[property='og:description']").attr("content")||d("meta[name='twitter:description']").attr("content")||d('*[class*="recipe-summary"]')||"",g=h?n(h.replace(/\n/g," ").trim()):"",y=d("h1.recipe-title").text().trim()||d("h1").first().text().trim()||d("h2").first().text().trim()||"Untitled Recipe",x=[];d('ul[class*="ingredients"] li').each((H,F)=>{const U=d(F).html();U&&x.push(t(U))});const v=[];d('ol[class*="instructionsP"] li, ul[class*="instructions"] li').each((H,F)=>{const U=d(F).html();U&&v.push(n(U))});const w=d('*[class*="prep_time"], *[class*="prep-time"]').filter(function(){return/\d+/.test(d(this).text())}),C=d('*[class*="cook_time"], *[class*="cook-time"]').filter(function(){return/\d+/.test(d(this).text())}),k=d('*[class*="servings-with-unit"]').filter(function(){return/\d+/.test(d(this).text())})?.text()?.trim(),O={title:y,description:g,img_url:f,prep_time:r(w),cook_time:r(C),servings:parseInt(k.match(/\d+/)?.[0]||"0"),ingredients:x.map((H,F)=>({id:zf(),value:H,isActive:!0,sort_number:F+1})),steps:v.map((H,F)=>({id:zf(),value:H,isActive:!0,sort_number:F+1})),original_recipe_url:e};return console.log("recipeData",O),O}catch(a){return console.error(`Failed to scrape recipe from ${e}:`,a.message),null}}const UI=({onCancel:e})=>{const[t,n]=T.useState(""),[r,a]=T.useState(""),[u,l]=T.useState(!1),d=Wn(),f=async g=>{try{l(!0);const y=await BI(g);d("/add-new",{state:{recipe:y}}),e(),a("")}catch{a("Failed to fetch the recipe. Please check the URL and try again.")}finally{l(!1)}},h=async g=>{if(g.preventDefault(),!t.trim()){a("URL cannot be empty.");return}await f(t)};return b.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r&&b.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-sm",children:r}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"url",id:"url",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:t,onChange:g=>n(g.target.value)}),b.jsx("label",{htmlFor:"url",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Recipe URL"})]}),b.jsxs("div",{className:"flex justify-end space-x-4",children:[b.jsx(ze,{type:"button",onClick:e,children:"Cancel"}),b.jsx(ze,{type:"submit",isLoading:u,children:"Fetch Recipe"})]})]})},ey=({onClose:e})=>{const[t,n]=T.useState(!1),r=Wn(),a=u=>{u.preventDefault(),r("/add-new"),e()};return b.jsxs("div",{role:"dialog","aria-labelledby":"modal-title","aria-describedby":"modal-description",className:"p-4",children:[b.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:t?"Import Recipe from URL":"Add Recipe"}),t?b.jsx(UI,{onCancel:e}):b.jsxs(b.Fragment,{children:[b.jsx("p",{id:"modal-description",className:"text-gray-600 dark:text-gray-400 mb-6",children:"How would you like to add your recipe?"}),b.jsxs("div",{className:"flex flex-col space-y-4",children:[b.jsx(ze,{onClick:()=>n(!0),"aria-label":"Import recipe from URL",children:"Import from URL"}),b.jsx(ze,{className:"w-full","aria-label":"Manually add a recipe",onClick:a,children:"Manual Input"})]})]})]})};var Ds=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e))(Ds||{});const jI=({size:e=Ds.Medium,onClose:t,children:n})=>{const r=T.useRef(null),u=`relative bg-white dark:bg-gray-800 text-black/90 shadow-lg sm:shadow-xl transition-shadow-xs duration-300 ease-in-out rounded-none sm:rounded-lg flex flex-col overflow-hidden h-screen w-screen ${e===Ds.Large?"max-w-5xl sm:max-w-[1200px] sm:w-[calc(100%-64px)] sm:max-h-[calc(100%-64px)]":"sm:max-w-md sm:w-auto sm:h-auto"} p-6`,l=()=>{r.current&&r.current.querySelectorAll("input, textarea, select").length===0&&t()};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 dark:bg-black/50 z-50",onClick:l,children:b.jsxs("div",{ref:r,className:u,onClick:d=>d.stopPropagation(),children:[b.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:b.jsx(oE,{className:"w-6 h-6",title:"Close Modal"})}),n]})})},HI=({shareWithUser:e})=>{const[t,n]=T.useState(""),[r,a]=T.useState("read"),[u,l]=T.useState(!1),d=T.useRef(null),f=or(),h=[{value:"read",label:"Read-Only"},{value:"edit",label:"Can Edit"}],g=x=>{a(x),l(!1)},y=async()=>{if(!t)return f.error("Please enter a valid email.");e(t,r)};return T.useEffect(()=>{const x=v=>{d.current&&!d.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]),b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-sm font-medium mb-2",children:"Share with a User"}),b.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[b.jsxs("div",{className:"relative z-0 w-full group",children:[b.jsx("input",{type:"email",name:"email",id:"email",placeholder:" ",value:t,onChange:x=>n(x.target.value),className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer"}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative inline-block",ref:d,children:[b.jsxs("button",{onClick:()=>l(!u),className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 flex justify-between",children:[h.find(x=>x.value===r)?.label,b.jsx(cv,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})]}),u&&b.jsx("div",{className:"absolute w-full bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:b.jsx("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:h.map(x=>b.jsx("li",{onClick:()=>g(x.value),children:b.jsx("button",{className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:x.label})},x.value))})})]}),b.jsx(ze,{btnType:"secondary",onClick:y,className:"w-full",children:"Share"})]})]})},ty=({typeOfShare:e,sharedUsers:t,isPublic:n,onTogglePublicShare:r,shareWithUser:a,onRevokeAccess:u,onCopyLink:l,onClose:d})=>b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-lg font-semibold mb-4 min-w-[300px]",children:["Share ",e]}),b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("label",{className:"text-sm",children:"Make Public"}),b.jsx("input",{type:"checkbox",checked:n,onChange:r,className:"peer hidden",id:"custom-checkbox"}),b.jsx("label",{htmlFor:"custom-checkbox",className:`w-5 h-5 flex items-center justify-center border-2 border-gray-400 rounded-md cursor-pointer transition-all 
          peer-checked:bg-blue-500 peer-checked:border-blue-500 
          dark:border-gray-600 dark:peer-checked:bg-blue-400 dark:peer-checked:border-blue-400`,children:b.jsx(ov,{className:`w-4 h-4 text-white ${n?"block":"hidden"}`})})]}),n&&b.jsx(ze,{btnType:"secondary",onClick:l,className:"w-full",children:"Copy Public Link"}),b.jsx("hr",{className:"border-gray-700 my-4"}),b.jsx(HI,{shareWithUser:a}),b.jsx("hr",{className:"border-gray-700 my-4"}),b.jsx("h3",{className:"text-sm font-medium mb-2",children:"Shared Users"}),b.jsx("ul",{className:"space-y-2 mb-4",children:t.map(f=>b.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 rounded-xs gap-2 p-2",children:[b.jsxs("span",{className:"text-gray-700 dark:text-gray-200 text-sm",children:[f.users.email," - ",f.permission]}),b.jsx(cE,{onClick:()=>u(f.id)})]},f.id))}),b.jsx(ze,{onClick:d,className:"w-full",children:"Close"})]}),ny=({onCancelDelete:e,onDelete:t})=>{const[n,r]=T.useState(!1),a=async()=>{r(!0);try{await t()}catch(u){console.error("Delete failed:",u)}finally{r(!1)}};return b.jsxs("div",{className:"text-center p-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Are you sure you want to delete this recipe?"}),b.jsxs("div",{className:"flex justify-center space-x-4 pt-2",children:[b.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",disabled:n,children:"Cancel"}),b.jsxs("button",{onClick:a,disabled:n,className:`flex items-center gap-2 px-4 py-2 font-semibold rounded-lg transition ${n?"bg-red-400 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[n&&b.jsx(Us,{isLarge:!1}),"Delete"]})]})]})},ry=T.createContext(void 0),$I=({children:e})=>{const[t,n]=T.useState(null),[r,a]=T.useState(Ds.Small),u=(d,f=Ds.Small)=>{n(()=>d),a(f)},l=()=>{n(null),a(Ds.Small)};return b.jsxs(ry.Provider,{value:{openModal:u,closeModal:l},children:[e,t&&b.jsx(jI,{onClose:l,size:r,children:t})]})},ku=()=>{const e=T.useContext(ry);if(!e)throw new Error("useModalManager must be used within a ModalManager");return e};function zI(){const{isDarkMode:e,toggleDarkMode:t}=hE(),{user:n}=Ri(),{openModal:r,closeModal:a}=ku(),[u,l]=T.useState(!1),[d,f]=T.useState(null),h=T.useRef(null),g=qn(),y=()=>{l(C=>!C)},x=C=>{h.current&&!h.current.contains(C.target)&&l(!1)},v=()=>{a(),l(!1)},w=()=>{r(b.jsx(ey,{onClose:v}))};return T.useEffect(()=>{f(!!n)},[n]),T.useEffect(()=>(document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}),[]),b.jsx("nav",{className:"bg-white border-gray-200 dark:bg-gray-900",ref:h,children:b.jsxs("div",{className:"max-w-(--breakpoint-xl) flex flex-wrap items-center justify-between mx-auto p-4",children:[b.jsxs(Tt,{to:"/",className:"flex items-center space-x-2 rtl:space-x-reverse",children:[b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-8",alt:"Elysia Logo"}),b.jsx("span",{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-leaf-green-100",children:"Elysia"})]}),b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse gap-2",children:[d&&b.jsx(ze,{className:"hidden md:block",onClick:w,children:"Add New Recipe"}),b.jsx(wi,{onClick:t,title:"Toggle Dark Mode",icon:e?b.jsx(Iv,{className:"w-6 h-6 text-yellow-400"}):b.jsx(Nv,{className:"w-6 h-6 text-gray-800 dark:text-gray-200"})}),b.jsx(wi,{onClick:y,className:"text-gray-500 rounded-lg md:hidden focus:ring-gray-200 dark:text-gray-400","aria-controls":"navbar-cta","aria-expanded":u,title:"Open main menu",icon:b.jsx(gv,{className:"w-6 h-6 text-gray-800 dark:text-gray-200"})})]}),b.jsx("div",{className:`items-center justify-between ${u?"block":"hidden"} w-full md:flex md:w-auto md:order-1`,id:"navbar-cta",children:b.jsxs("div",{className:"flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[u&&d&&b.jsx(ze,{className:"w-full",onClick:w,children:"Add New Recipe"}),b.jsxs("ul",{className:"flex flex-col font-medium md:p-0 mt-4 rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0",children:[b.jsx("li",{children:b.jsx(Tt,{to:"/",children:b.jsx("div",{className:`block py-2 px-3 md:p-0 rounded-sm ${g.pathname==="/"?"text-white bg-leaf-green-700 md:bg-transparent dark:md:text-leaf-green-300 md:text-leaf-green-500":"text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-leaf-green-300 dark:text-leaf-green-100 dark:hover:bg-gray-700  dark:hover:text-leaf-green-300 md:dark:hover:bg-transparent"}`,children:"Home"})})}),b.jsx("li",{children:b.jsx(Tt,{to:"/about",children:b.jsx("div",{className:`block py-2 px-3 md:p-0 rounded-sm ${g.pathname==="/about"?"text-white bg-leaf-green-700 md:bg-transparent dark:md:text-leaf-green-300 md:text-leaf-green-500":"text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-leaf-green-300 dark:text-leaf-green-100 dark:hover:bg-gray-700  dark:hover:text-leaf-green-300 md:dark:hover:bg-transparent"}`,children:"About"})})}),b.jsx("li",{children:b.jsx(Tt,{to:"/collections",children:b.jsx("div",{className:`block py-2 px-3 md:p-0 rounded-sm ${g.pathname==="/collections"?"text-white bg-leaf-green-700 md:bg-transparent dark:md:text-leaf-green-300 md:text-leaf-green-500":"text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-leaf-green-300 dark:text-leaf-green-100 dark:hover:bg-gray-700  dark:hover:text-leaf-green-300 md:dark:hover:bg-transparent"}`,children:"Collections"})})}),d&&b.jsx("li",{children:b.jsx(Tt,{to:"/tags",children:b.jsx("div",{className:`block py-2 px-3 md:p-0 rounded-sm ${g.pathname==="/tags"?"text-white bg-leaf-green-700 md:bg-transparent dark:md:text-leaf-green-300 md:text-leaf-green-500":"text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-leaf-green-300 dark:text-leaf-green-100 dark:hover:bg-gray-700  dark:hover:text-leaf-green-300 md:dark:hover:bg-transparent"}`,children:"Tags"})})})]})]})})]})]})})}const qI=async(e,t,n)=>{try{let r=Te.from("tags").select("*",{count:"exact"}).range(e,e+t-1);n&&(r=r.or(`name.ilike.%${n}%`));const{data:a,count:u,error:l}=await r;if(l)throw new Error("Failed to fetch tags.");return{data:a,count:u}}catch(r){return console.error("Error fetching tag list:",r.message),null}},WI=async(e,t)=>{try{let n=e;if(e){if(Object.keys(t.title).length>0){const{error:r}=await Te.from("tags").update(t).eq("id",e);if(r)throw new Error(`Failed to update tag: ${r.message}`)}}else{const{data:r,error:a}=await Te.from("tags").insert([{name:t.title}]).select().single();if(a)throw new Error(`Failed to insert new tag: ${a.message}`);n=r.id}return{success:!0,tagId:n}}catch(n){throw console.error("Error updating or inserting tag:",n.message),n}},YI=async e=>{try{const{error:t}=await Te.from("tags").delete().eq("id",e);if(t)throw new Error("Failed to delete tag.")}catch(t){throw console.error("Error deleting tag:",t.message),t}},sy={fetchTagList:qI,upsertTag:WI,deleteTag:YI};function VI(){const[e,t]=T.useState(0),[n]=T.useState(10),[r]=T.useState(""),[a,u]=T.useState([]),[l,d]=T.useState(!0),[f,h]=T.useState(!1),[g,y]=T.useState(0);return{tags:a,loading:f,totalCount:g,hasMore:l,loadMoreTags:async()=>{if(!(f||!l)){h(!0);try{const v=await sy.fetchTagList(e,n,r);if(!v)throw new Error("Something went wrong. Please try again.");v.data.length===0?d(!1):(u(w=>[...w,...v.data]),t(w=>w+v.data.length)),y(v.count||0)}catch(v){console.error("Error fetching Tag tags:",v.message)}finally{h(!1)}}}}}function QI(){const{isDarkMode:e}=hE(),{tags:t,loading:n,hasMore:r,loadMoreTags:a}=VI(),u=T.useRef(null),l=T.useRef(null);a();const d=T.useCallback(()=>{r&&!n&&a()},[r,n,a]);return T.useEffect(()=>{const f=new IntersectionObserver(h=>{h[0].isIntersecting&&d()},{threshold:.5});return l.current&&f.observe(l.current),()=>f.disconnect()},[d]),b.jsxs("div",{ref:u,style:{height:"80vh",overflowY:"auto",scrollbarColor:e?"#666 #2c2c2c":"#ccc #f0f0f0"},className:"max-w-5xl mx-auto p-6 flex flex-col items-center text-center transition-all duration-300",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-6",children:"Tags"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:t.map(f=>b.jsx(dh,{isReadOnly:!1,title:f.title},f.id))}),n&&b.jsx(Us,{className:"mt-6"}),!r&&!n&&b.jsx("div",{className:"text-gray-500 mt-6 animate-fade-in",children:"Youve reached the end! No more tags to load."}),r&&b.jsx("div",{ref:l,className:"h-1"})]})}const GI=()=>{const{openModal:e,closeModal:t}=ku(),n=()=>{e(b.jsx(ey,{onClose:t}))};return b.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-center",children:"About Elysia"}),b.jsx("div",{className:"flex flex-row justify-center m-4",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-40",alt:"Elysia Chloratica"})}),b.jsxs("div",{className:"bg-leaf-green-100 p-6 rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-xl font-semibold text-leaf-green-800 mb-3",children:"The Slug That Inspired It All"}),b.jsxs("p",{className:"text-gray-800",children:["Elysia chlorotica is a unique species of sea slug that can perform"," ",b.jsx("strong",{children:"photosynthesis"}),", absorbing energy from the sun like a plant. By incorporating chloroplasts from the algae it eats into its own cells, it becomes ",b.jsx("strong",{children:"self-sustaining"})," and requires less food to survive. This incredible ability mirrors our own journey - by being mindful of what we consume, we empower ourselves to thrive."]})]}),b.jsxs("div",{className:"mt-8 p-6 rounded-lg border border-4 border-dashed border-leaf-green-100 dark:leaf-green-200",children:[b.jsx("h2",{className:"text-xl font-semibold text-leaf-green-800 dark:text-leaf-green-300 mb-3",children:"The Vision Behind Elysia"}),b.jsx("p",{className:"text-gray-800 dark:text-white",children:"Cooking is more than just a necessityit's a way to nourish both body and mind. Our vision is to build a platform where people can explore diverse recipes, develop new skills, and gradually become more self-reliant in the kitchen. Just like Elysia chlorotica adapts and grows by integrating the best of what it consumes, this app allows food lovers to nurture, discover, and evolve their culinary environment."})]}),b.jsx("div",{className:"flex flex-col align-items-center mt-10",children:b.jsx(ze,{onClick:n,children:"Start Your Journey"})})]})},qf=(e,t)=>{if(e===t)return null;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return t;if(Array.isArray(e)&&Array.isArray(t)){const a=t.reduce((u,l,d)=>{const f=e[d];return typeof l=="object"&&l!==null?qf(f,l)!==null&&u.push(l):l!==f&&u.push(l),u},[]);return e.length>t.length?t:a.length>0?a:null}const n={};return new Set([...Object.keys(e),...Object.keys(t)]).forEach(a=>{const u=qf(e[a],t[a]);u!==null&&(n[a]=u)}),Object.keys(n).length>0?n:null},iy=(e,t)=>qf(e,t)||{},KI=async(e,t)=>{try{let n=Te.from("collections").select(`
        id, title, description, img_url, is_public, user_id,
        collection_items!left(
          recipe_id,
          recipes!inner(id, title, description, img_url, user_id, is_public)
        ),
        collection_tagged_recipes!left(
          recipe_id,
          recipes!inner(id, title, description, img_url, user_id, is_public)
        ),
        collection_to_tags!left(
          tag_id,
          tags:tags!collection_to_tags_tag_id_fkey(id, title)
        ),
        collection_shares!left(permission)
        `).eq("id",e);t?n=n.or(`is_public.eq.true,user_id.eq.${t}`):n=n.eq("is_public",!0);const{data:r,error:a}=await n.maybeSingle();if(a)throw new Error("Failed to fetch collection details.");const u=r?.collection_items?.map(h=>h.recipes)||[],l=r?.collection_tagged_recipes?.map(h=>h.recipes)||[],d=Array.from(new Map([...u,...l].map(h=>[h.id,h])).values()),f=r?.collection_to_tags?.flatMap(h=>h.tags)||[];if(!r)throw new Error("no data returned");return{...r,recipes:d,tags:f,can_edit:r.user_id===t||r.collection_shares&&r.collection_shares.some(h=>h.permission==="edit")}}catch(n){return console.error("Error fetching collection details:",n.message),null}},XI=async(e,t,n)=>{try{let r=e;if(e){const a={};if(["title","description","img_url","is_public"].forEach(u=>{t[u]&&(a[u]=t[u])}),Object.keys(a).length>0){const{error:u}=await Te.from("collections").update(a).eq("id",e);if(u)throw new Error(`Failed to update collection: ${u.message}`)}}else{const{data:a,error:u}=await Te.from("collections").insert([{title:t.title,description:t.description,img_url:t.img_url,is_public:t.is_public,user_id:n}]).select("*").single();if(u)throw new Error(`Failed to insert new collection: ${u.message}`);r=a.id}return await JI(r,t.recipes),await ZI(r,t.tags),{success:!0,collectionId:r}}catch(r){throw console.error("Error updating or inserting collection:",r.message),r}},JI=async(e,t)=>{if(await Te.from("collection_items").delete().eq("collection_id",e),t.length>0){const n=t.map(r=>({collection_id:e,recipe_id:r.id}));await Te.from("collection_items").insert(n)}},ZI=async(e,t)=>{if(await Te.from("collection_to_tags").delete().eq("collection_id",e),t.length>0){const n=t.map(r=>({collection_id:e,tag_id:r.id}));await Te.from("collection_to_tags").insert(n)}},eR=async e=>{try{const{error:t}=await Te.from("collections").delete().eq("id",e);if(t)throw new Error("Failed to delete collection.")}catch(t){throw console.error("Error deleting collection:",t.message),t}},Al={fetchCollectionDetails:KI,upsertCollection:XI,deleteCollection:eR},tR=e=>{const t=e.split(".").pop();return`${e.replace(/\.[^/.]+$/,"").toLowerCase().replace(/[^a-z0-9_\-.]/g,"").replace(/\s+/g,"_")}_${Date.now()}_${Math.floor(Math.random()*1e4)}.${t}`},nR=async e=>{try{const t=tR(e.name),{error:n}=await Te.storage.from("elysia_recipe_photo").upload(t,e,{cacheControl:"3600",upsert:!0});if(n)throw new Error(`Error uploading file: ${n.message}`);return ay(t)}catch(t){throw console.error("Error in addPhoto:",t.message),t}},ay=e=>{const{data:t}=Te.storage.from("elysia_recipe_photo").getPublicUrl(e);if(!t)throw new Error("Failed to get public URL");return t.publicUrl},rR=async e=>{const t=e.split("/").slice(-1)[0];return await Te.storage.from("elysia_recipe_photo").remove([t])},i1={addPhoto:nR,getPhotoUrl:ay,deletePhoto:rR},uy=({imgUrl:e,onImgUrlChange:t})=>{const[n,r]=T.useState(!1),[a,u]=T.useState(!1),[l,d]=T.useState(!1),f=T.useRef(null),h=or(),g=async O=>{try{u(!0);const H=await i1.addPhoto(O);t(H)}catch(H){console.error("Error uploading file:",H.message),h.error("Failed to upload file. Please try again.")}finally{u(!1)}},y=async()=>{if(!e){t("");return}try{const{error:O}=await i1.deletePhoto(e);if(O){h.error("Failed to delete file. Please try again.");return}else t("")}catch(O){console.error("Error removing file:",O.message)}},x=O=>{const H=O.target.files?.[0];H&&g(H)},v=()=>{f.current&&f.current.click()},w=O=>{O.preventDefault(),d(!0)},C=O=>{O.preventDefault(),d(!1)},k=O=>{O.preventDefault(),d(!1);const H=O.dataTransfer.files[0];H&&g(H)};return b.jsx("div",{className:`relative w-full max-h-64 rounded-t-lg overflow-hidden ${!e?.length&&"rounded-b-lg"}`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:e?.length?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:e,alt:"Uploaded",className:"w-full h-full object-cover"}),n&&b.jsx("div",{className:"absolute inset-0 bg-gray-800/80 flex items-center justify-center",children:b.jsx("button",{onClick:y,className:"text-white text-2xl hover:text-red-500",children:b.jsx(uE,{className:"w-11 h-11 text-red-500 dark:text-red-600",title:"Delete Image"})})})]}):b.jsxs("div",{className:`border-2 ${l?"border-blue-500 bg-leaf-green-50":"border-dashed border-gray-300"} rounded-t-lg p-6 flex flex-col items-center justify-center ${e?"max-h-64":"rounded-b-lg mb-4"}`,onDragOver:w,onDragLeave:C,onDrop:k,children:[b.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:"Drag & drop a photo here, or click to upload."}),b.jsx(ze,{onClick:v,disabled:a,children:a?"Uploading...":"Upload File"}),b.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:x,className:"hidden"}),b.jsx("div",{className:"mt-4 w-full",children:b.jsx("input",{type:"text",placeholder:"Or paste an image URL",value:e,onChange:O=>t(O.target.value),className:"border border-gray-300 rounded-lg p-2 w-full"})})]})})},oy=({formData:e,onFormChange:t})=>b.jsxs("form",{className:"w-full",children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"title",id:"title",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.title,onChange:n=>t("title",n.target.value),required:!0}),b.jsx("label",{htmlFor:"title",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Title"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("textarea",{name:"description",id:"description",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.description,onChange:n=>t("description",n.target.value),required:!0}),b.jsx("label",{htmlFor:"description",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Description"})]})]}),a1=({inputId:e="multi-select-search",options:t=[],selectedOptions:n=[],setSelectedOptions:r,onSearch:a})=>{const[u,l]=T.useState(!1),[d,f]=T.useState(!1),[h,g]=T.useState([]),[y,x]=T.useState(""),v=T.useRef(null),w=T.useRef(null),C=T.useRef(null);T.useEffect(()=>{g(n.map(F=>F?.id||""))},[n]),T.useEffect(()=>{const F=setTimeout(()=>{a(y)},400);return()=>clearTimeout(F)},[y,a]),T.useEffect(()=>{const F=U=>{v.current&&!v.current.contains(U.target)&&l(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]),T.useEffect(()=>{u&&w.current&&w.current.focus()},[u]),T.useEffect(()=>{if(u&&v.current){const F=v.current.getBoundingClientRect(),U=window.innerHeight-F.bottom;f(U<200)}},[u]);const k=F=>{if(F.id){const U=h.includes(F.id)?n.filter(W=>W.id!==F.id):[...n,F];r(U)}},O=F=>{const U=n.filter(W=>W.id!==F.id);r(U)},H=F=>{F.key==="Backspace"&&y===""&&n.length>0&&O(n[n.length-1]),F.key==="ArrowDown"&&(l(!0),C.current?.focus())};return b.jsxs("div",{className:"relative w-full",ref:v,children:[b.jsx("label",{id:"multi-select-label",className:"sr-only",children:"Select options"}),b.jsxs("div",{className:`border border-gray-300 p-2 cursor-text flex flex-wrap items-center gap-2 ${u?`rounded-${d?"b":"t"}-lg`:"rounded-lg"}`,onClick:()=>l(!0),"aria-haspopup":"listbox","aria-expanded":u,role:"combobox","aria-controls":"multi-select-listbox",children:[n.map(F=>b.jsx(dh,{title:F.title,onClick:U=>{U.stopPropagation(),O(F)}},F.id)),b.jsx("input",{type:"text",id:e,ref:w,placeholder:n.length===0?`Select ${e}...`:"",className:"flex-1 p-1 border-none outline-hidden bg-transparent text-gray-900 dark:text-gray-100",value:y,onChange:F=>x(F.target.value),onKeyDown:H,"aria-labelledby":"multi-select-label"})]}),u&&b.jsxs("div",{ref:C,role:"listbox",tabIndex:0,"aria-labelledby":"multi-select-label",className:`absolute w-full border border-gray-300 bg-white dark:bg-gray-800 shadow-md max-h-40 overflow-y-auto focus:outline-hidden ${d?"bottom-full pb-2 rounded-t-lg":"top-full pt-2 rounded-b-lg"}`,children:[t.length>0?t.map(F=>b.jsx(ze,{btnType:"dropdown",className:F.id&&h.includes(F.id)?"bg-leaf-green-100 dark:text-leaf-green-600":"",onClick:U=>{U.stopPropagation(),k(F)},role:"option","aria-selected":F.id&&h.includes(F.id)?!0:void 0,children:F.title},F.id)):b.jsx("div",{className:"p-2 text-gray-500 dark:text-gray-400",role:"status",children:"No results found"}),t.length>=25&&b.jsx("div",{className:"px-4 py-2 border-t border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-900",children:b.jsx("small",{className:"text-gray-500 dark:text-gray-400",children:"Search results are limited to 25 results."})})]})]})},u1=()=>{const e=Wn(),t=qn(),n=or(),{id:r}=Ol(),{user:a}=Ri(),u=!!r,[l,d]=T.useState(!1),[f,h]=T.useState(""),[g,y]=T.useState([]),[x,v]=T.useState(""),[w,C]=T.useState([]),[k,O]=T.useState(null),[H,F]=T.useState({title:"",description:"",img_url:"",recipes:[],tags:[]}),U=(Z,ce)=>{F(ve=>({...ve,[Z]:ce}))},W=T.useCallback(async()=>{try{const Z=await xi.fetchRecipeList(0,25,f);Z?.data&&y(Z.data)}catch(Z){console.error("Error fetching recipes:",Z)}},[f]),ee=T.useCallback(async()=>{try{const Z=await sy.fetchTagList(0,25,x);Z?.data&&C(Z.data)}catch(Z){console.error("Error fetching tags:",Z)}},[x]);T.useEffect(()=>{if(u){const Z=t.state?.collection;Z&&(F({title:Z.title||"",description:Z.description||"",img_url:Z.img_url||"",recipes:Z.recipes||[],tags:Z.tags||[]}),O(Z))}},[u,t.state?.collection]),T.useEffect(()=>{W()},[W]),T.useEffect(()=>{ee()},[ee]);const se=async Z=>{if(Z.preventDefault(),d(!0),!(!u&&!a?.id))try{if(u){const ce=iy(k,H);if(!ce){n.success("No changes detected."),d(!1);return}await Al.upsertCollection(r,ce),n.success("Collection updated successfully!"),e(`/collections/${r}`)}else{const ce=await Al.upsertCollection("",H,a?.id);n.success("Collection added successfully!"),e(`/collections/${ce.collectionId}`)}}catch(ce){console.error(`Error ${u?"updating":"adding"} collection:`,ce.message),n.error(`Failed to ${u?"update":"add"} collection. Please try again.`)}finally{d(!1)}};return b.jsxs("div",{className:"max-w-2xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-end items-center mb-4 gap-4",children:[b.jsx(ze,{btnType:"dismissable",onClick:()=>e("/collections"),children:"Cancel"}),b.jsx(ze,{onClick:se,isLoading:l,children:u?"Save":"Add"})]}),b.jsx(uy,{imgUrl:H.img_url,onImgUrlChange:Z=>U("img_url",Z)}),b.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md",children:[b.jsx(oy,{formData:H,onFormChange:U}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Recipes",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Recipes"}),b.jsx(a1,{inputId:"Recipes",options:g,selectedOptions:H.recipes,setSelectedOptions:Z=>U("recipes",Z),onSearch:h})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Tags",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Tags"}),b.jsx(a1,{inputId:"Tags",options:w,selectedOptions:H.tags,setSelectedOptions:Z=>U("tags",Z),onSearch:v})]})]})]})};function sR(){const[e,t]=T.useState(0),[n]=T.useState(10),[r,a]=T.useState([]),[u,l]=T.useState(!1),[d,f]=T.useState(0),[h,g]=T.useState(!0);return{collections:r,loading:u,hasMore:h,totalCount:d,loadMoreCollections:async()=>{if(!(u||!h)){l(!0);try{const{data:x,count:v,error:w}=await Te.from("collections").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(e,e+n-1);if(w)throw w;x.length===0?g(!1):(a(C=>[...C,...x]),t(C=>C+x.length)),f(v||0),l(!1)}catch(x){console.error("Error fetching collections:",x.message)}finally{l(!1)}}}}}const iR=()=>{const{collections:e,loading:t,hasMore:n,loadMoreCollections:r}=sR(),a=T.useRef(null);r();const u=T.useCallback(()=>{n&&!t&&r()},[n,t,r]);return T.useEffect(()=>{const l=new IntersectionObserver(d=>{d[0].isIntersecting&&u()},{threshold:.5});return a.current&&l.observe(a.current),()=>l.disconnect()},[u]),b.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col justify-center items-center text-center transition-all duration-300",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-leaf-green-100 mb-4",children:"My Recipe Collections"}),b.jsxs("p",{className:"text-gray-600 mb-6",children:["A collection is like a ",b.jsx("strong",{children:"recipe book"})," where you can"," ",b.jsx("strong",{children:"organize recipes, share them"})," with others, or"," ",b.jsx("strong",{children:"keep them private"}),"."]}),b.jsx(Tt,{to:"add-new",children:b.jsx(ze,{btnType:"primary",className:"mb-6",children:"+ New Collection"})}),t&&b.jsx(Us,{className:"mt-6"}),!t&&e.length===0&&b.jsx(_u,{message:"You don't have any collections yet. Create one now!"}),e.length>0&&b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full mt-6",children:e.map(l=>b.jsx(Tt,{to:`${l.id}`,children:b.jsx(ch,{title:l.title,description:l.description,img_url:l.img_url})},l.id))})]})},ly=({value:e,index:t})=>b.jsx("li",{className:"text-leaf-green-800 dark:text-gray-200 p-2",children:e},t),aR=({ingredients:e})=>b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Ingredients"}),b.jsx("ul",{className:"list-disc pl-6 mb-6",children:e?.map((t,n)=>b.jsx(ly,{value:t.value,index:n},n))})]}),uR=({steps:e})=>b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mt-8 mb-2",children:"Steps"}),e?.length>0&&b.jsx("ol",{className:"list-decimal pl-6 mb-6 text-leaf-green-800 dark:text-gray-300",children:e.map((t,n)=>b.jsx(ly,{value:t.value,index:n},n))})]}),oR=864e5,lR=6e4,cR=36e5,o1=Symbol.for("constructDateFrom");function Ai(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&o1 in e?e[o1](t):e instanceof Date?new e.constructor(t):new Date(t)}function Sn(e,t){return Ai(e,e)}function dR(e,t,n){const r=Sn(e);return isNaN(t)?Ai(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function fR(e,t,n){const r=Sn(e);if(isNaN(t))return Ai(e,NaN);if(!t)return r;const a=r.getDate(),u=Ai(e,r.getTime());u.setMonth(r.getMonth()+t+1,0);const l=u.getDate();return a>=l?u:(r.setFullYear(u.getFullYear(),u.getMonth(),a),r)}function $a(e,t,n){const{years:r=0,months:a=0,weeks:u=0,days:l=0,hours:d=0,minutes:f=0,seconds:h=0}=t,g=Sn(e),y=a||r?fR(g,a+r*12):g,x=l||u?dR(y,l+u*7):y,v=f+d*60,C=(h+v*60)*1e3;return Ai(e,+x+C)}let hR={};function pR(){return hR}function l1(e){const t=Sn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function us(e,...t){const n=Ai.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function c1(e,t){const n=Sn(e);return n.setHours(0,0,0,0),n}function mR(e,t,n){const[r,a]=us(n?.in,e,t),u=c1(r),l=c1(a),d=+u-l1(u),f=+l-l1(l);return Math.round((d-f)/oR)}function nu(e,t){const n=+Sn(e)-+Sn(t);return n<0?-1:n>0?1:n}function gR(e,t,n){const[r,a]=us(n?.in,e,t),u=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return u*12+l}function ER(e,t,n){const[r,a]=us(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function bR(e,t,n){const[r,a]=us(n?.in,e,t),u=d1(r,a),l=Math.abs(mR(r,a));r.setDate(r.getDate()-u*l);const d=+(d1(r,a)===-u),f=u*(l-d);return f===0?0:f}function d1(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function jh(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function yR(e,t,n){const[r,a]=us(n?.in,e,t),u=(+r-+a)/cR;return jh(n?.roundingMethod)(u)}function cy(e,t){return+Sn(e)-+Sn(t)}function TR(e,t,n){const r=cy(e,t)/lR;return jh(n?.roundingMethod)(r)}function _R(e,t){const n=Sn(e);return n.setHours(23,59,59,999),n}function xR(e,t){const n=Sn(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function wR(e,t){const n=Sn(e);return+_R(n)==+xR(n)}function vR(e,t,n){const[r,a,u]=us(n?.in,e,e,t),l=nu(a,u),d=Math.abs(gR(a,u));if(d<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*d);let f=nu(a,u)===-l;wR(r)&&d===1&&nu(r,u)===1&&(f=!1);const h=l*(d-+f);return h===0?0:h}function SR(e,t,n){const r=cy(e,t)/1e3;return jh(n?.roundingMethod)(r)}function AR(e,t,n){const[r,a]=us(n?.in,e,t),u=nu(r,a),l=Math.abs(ER(r,a));r.setFullYear(1584),a.setFullYear(1584);const d=nu(r,a)===-u,f=u*(l-+d);return f===0?0:f}function CR(e,t){const[n,r]=us(e,t.start,t.end);return{start:n,end:r}}const NR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kR=(e,t,n)=>{let r;const a=NR[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function lf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const IR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DR={date:lf({formats:IR,defaultWidth:"full"}),time:lf({formats:RR,defaultWidth:"full"}),dateTime:lf({formats:OR,defaultWidth:"full"})},LR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PR=(e,t,n,r)=>LR[e];function za(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):l;a=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;a=e.values[d]||e.values[l]}const u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}const MR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},UR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$R=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},zR={ordinalNumber:$R,era:za({values:MR,defaultWidth:"wide"}),quarter:za({values:FR,defaultWidth:"wide",argumentCallback:e=>e-1}),month:za({values:BR,defaultWidth:"wide"}),day:za({values:UR,defaultWidth:"wide"}),dayPeriod:za({values:jR,defaultWidth:"wide",formattingValues:HR,defaultFormattingWidth:"wide"})};function qa(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],u=t.match(a);if(!u)return null;const l=u[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?WR(d,y=>y.test(l)):qR(d,y=>y.test(l));let h;h=e.valueCallback?e.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const g=t.slice(l.length);return{value:h,rest:g}}}function qR(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function WR(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function YR(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],u=t.match(e.parsePattern);if(!u)return null;let l=e.valueCallback?e.valueCallback(u[0]):u[0];l=n.valueCallback?n.valueCallback(l):l;const d=t.slice(a.length);return{value:l,rest:d}}}const VR=/^(\d+)(th|st|nd|rd)?/i,QR=/\d+/i,GR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KR={any:[/^b/i,/^(a|c)/i]},XR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JR={any:[/1/i,/2/i,/3/i,/4/i]},ZR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iO={ordinalNumber:YR({matchPattern:VR,parsePattern:QR,valueCallback:e=>parseInt(e,10)}),era:qa({matchPatterns:GR,defaultMatchWidth:"wide",parsePatterns:KR,defaultParseWidth:"any"}),quarter:qa({matchPatterns:XR,defaultMatchWidth:"wide",parsePatterns:JR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qa({matchPatterns:ZR,defaultMatchWidth:"wide",parsePatterns:eO,defaultParseWidth:"any"}),day:qa({matchPatterns:tO,defaultMatchWidth:"wide",parsePatterns:nO,defaultParseWidth:"any"}),dayPeriod:qa({matchPatterns:rO,defaultMatchWidth:"any",parsePatterns:sO,defaultParseWidth:"any"})},aO={code:"en-US",formatDistance:kR,formatLong:DR,formatRelative:PR,localize:zR,match:iO,options:{weekStartsOn:0,firstWeekContainsDate:1}},uO=["years","months","weeks","days","hours","minutes","seconds"];function oO(e,t){const n=pR(),r=t?.locale??n.locale??aO,a=t?.format??uO,u=t?.zero??!1,l=t?.delimiter??" ";return r.formatDistance?a.reduce((f,h)=>{const g=`x${h.replace(/(^.)/,x=>x.toUpperCase())}`,y=e[h];return y!==void 0&&(u||e[h])?f.concat(r.formatDistance(g,y)):f},[]).join(l):""}function lO(e,t){const{start:n,end:r}=CR(t?.in,e),a={},u=AR(r,n);u&&(a.years=u);const l=$a(n,{years:a.years}),d=vR(r,l);d&&(a.months=d);const f=$a(l,{months:a.months}),h=bR(r,f);h&&(a.days=h);const g=$a(f,{days:a.days}),y=yR(r,g);y&&(a.hours=y);const x=$a(g,{hours:a.hours}),v=TR(r,x);v&&(a.minutes=v);const w=$a(x,{minutes:a.minutes}),C=SR(r,w);return C&&(a.seconds=C),a}const f1=e=>{const t=lO({start:0,end:(e||0)*60*1e3});return oO(t,{format:["hours","minutes"]})},cO=({activeTab:e,onTabChange:t})=>b.jsx("div",{className:"block md:hidden mb-4",children:b.jsxs("div",{className:"border-b border-gray-300 dark:border-gray-700 flex",children:[b.jsx("button",{className:`flex-1 p-2 text-lg font-semibold ${e==="ingredients"?"border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100":"text-gray-500"}`,onClick:()=>t("ingredients"),children:"Ingredients"}),b.jsx("button",{className:`flex-1 p-2 text-lg font-semibold ${e==="directions"?"border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100":"text-gray-500"}`,onClick:()=>t("directions"),children:"Directions"})]})});function dO({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const fO=T.forwardRef(dO),hO=({index:e,ingredient:t,isChecked:n,onCheck:r})=>b.jsxs("div",{className:"flex items-start gap-3",onClick:()=>r(e),children:[b.jsx("input",{type:"checkbox",checked:n,onChange:()=>r(e),className:"peer hidden",id:`checkbox-${e}`}),b.jsx("label",{htmlFor:`checkbox-${e}`,className:`w-6 h-6 flex items-center justify-center border-2 border-gray-400 rounded-md cursor-pointer transition-all 
            peer-checked:bg-leaf-green-500 peer-checked:border-leaf-green-500 
            dark:border-gray-600 dark:peer-checked:bg-leaf-green-400 dark:peer-checked:border-leaf-green-400`,children:b.jsx(fO,{className:`w-4 h-4 text-white peer-checked:block ${!n&&"hidden"}`})}),b.jsx("span",{className:`text-lg leading-6 flex-1 transition-all ${n?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-gray-300"}`,children:t.value})]}),dy=({ingredients:e,checkedItems:t,onCheck:n})=>b.jsx("div",{className:"flex flex-col space-y-4",children:e.map((r,a)=>b.jsx(hO,{ingredient:r,index:a,onCheck:n,isChecked:!!t[a]||!1},a))}),fy=({steps:e})=>b.jsx("ol",{className:"list-decimal space-y-4 ml-5 text-gray-800 dark:text-gray-300",children:e.map((t,n)=>b.jsx("li",{className:"text-lg p-2 leading-relaxed",children:t.value},n))}),pO=({recipe:e,checkedItems:t,onCheck:n})=>b.jsxs("div",{className:"hidden md:flex md:flex-row gap-6 w-full",children:[b.jsxs("div",{className:"w-1/3 h-full overflow-y-auto px-4 xs:py-4 border-r border-gray-300 dark:border-leaf-green-100",children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Ingredients"}),b.jsx(dy,{ingredients:e.ingredients,checkedItems:t,onCheck:n})]}),b.jsxs("div",{className:"w-2/3 h-full overflow-y-auto px-4 xs:py-4",children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Directions"}),b.jsx(fy,{steps:e.steps})]})]}),mO=({activeTab:e,recipe:t,checkedItems:n,onCheck:r})=>b.jsx("div",{className:"block md:hidden h-full w-full overflow-y-auto px-4 sm:pt-4",children:e==="ingredients"?b.jsx(dy,{ingredients:t.ingredients,checkedItems:n,onCheck:r}):b.jsx(fy,{steps:t.steps})}),gO=({recipe:e})=>{const[t,n]=T.useState({}),[r,a]=T.useState("ingredients"),u=l=>{n(d=>({...d,[l]:!d[l]}))};return b.jsxs("div",{className:"w-full h-full p-4 pt-[1.5rem]",children:[b.jsx(cO,{activeTab:r,onTabChange:a}),b.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[b.jsx(mO,{activeTab:r,recipe:e,checkedItems:t,onCheck:u}),b.jsx(pO,{recipe:e,checkedItems:t,onCheck:u})]})]})},cf=({label:e,value:t})=>b.jsxs(b.Fragment,{children:[b.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:e}),b.jsx("div",{className:"text-leaf-green-700 dark:text-white",children:b.jsx("strong",{children:t})})]}),EO=({recipe:e})=>{const{openModal:t}=ku(),n=()=>{t(b.jsx(gO,{recipe:e}),Ds.Large)};return b.jsxs("div",{className:"pb-5 pt-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[b.jsx("div",{className:"mb-2",children:b.jsx(cf,{label:"servings",value:e.servings})}),b.jsx("div",{className:"mb-2",children:b.jsx(cf,{label:"prep time",value:f1(e.prep_time)})}),b.jsx("div",{className:"mb-3",children:b.jsx(cf,{label:"total time",value:f1(e.total_time)})}),b.jsxs(ze,{btnType:"secondary",onClick:n,children:["Get Cookin",b.jsx(xv,{className:"h-5 w-5"})]})]})},bO=async e=>{const{data:t,error:n}=await Te.from("recipe_shares").select("id, user_id, permission, users(email)").eq("recipe_id",e);return n?(console.error("Error fetching shared users:",n),[]):t||[]},yO=async e=>{const{data:t,error:n}=await Te.from("recipes").select("is_public").eq("id",e).single();return n?(console.error("Error fetching recipe visibility:",n),!1):t.is_public},TO=async(e,t)=>{const{error:n}=await Te.from("recipes").update({is_public:!t}).eq("id",e);if(n)throw new Error("Failed to update public status.");return!t},_O=async e=>{const{data:t,error:n}=await Te.from("users").select("id, display_name, profile_image").eq("email",e).single();if(n||!t?.id)throw new Error("User not found.");return{...t,display_name:t.display_name||e}},xO=async(e,t,n)=>{const{error:r}=await Te.from("recipe_shares").insert([{recipe_id:e,user_id:t,permission:n}]);if(r)throw new Error("Failed to share recipe.")},wO=async e=>{const{error:t}=await Te.from("recipe_shares").delete().eq("id",e);if(t)throw new Error("Failed to revoke access.")},Ss={fetchRecipeVisibility:yO,fetchSharedUsers:bO,findUserByEmail:_O,revokeUserAccess:wO,shareRecipeWithUser:xO,togglePublicShare:TO},vO=({recipe:e})=>{const[t,n]=T.useState(!1),r=T.useRef(null),a=Wn(),u=or(),{openModal:l,closeModal:d}=ku(),[f,h]=T.useState(e.is_public),[g,y]=T.useState([]),x=()=>{a(`/recipes/${e.id}/edit`,{state:{recipe:e}}),n(!1)},v=()=>l(b.jsx(ny,{onCancelDelete:d,onDelete:F}));T.useEffect(()=>{(async()=>y(await Ss.fetchSharedUsers(e.id)))()},[e.id]);const w=async()=>{try{const U=await Ss.togglePublicShare(e.id,!!e.is_public);h(U),u.success(`Recipe is now ${U?"public":"private"}!`)}catch(U){u.error(U.message)}},C=async(U,W)=>{if(!U)return u.error("Please enter a valid email.");try{const ee=await Ss.findUserByEmail(U);await Ss.shareRecipeWithUser(e.id,ee.id,W),u.success(`Recipe shared with ${ee.display_name} as ${W}.`),y(await Ss.fetchSharedUsers(e.id))}catch(ee){u.error(ee.message)}},k=async U=>{try{await Ss.revokeUserAccess(U),u.success("Access revoked."),y(await Ss.fetchSharedUsers(e.id))}catch(W){u.error(W.message)}},O=()=>{const U=`${window.location.origin}/recipes/${e.id}`;navigator.clipboard.writeText(U),u.success("Public link copied!")},H=()=>{l(b.jsx(ty,{typeOfShare:"Recipe",sharedUsers:g,isPublic:!!f,onTogglePublicShare:w,shareWithUser:C,onRevokeAccess:k,onCopyLink:O,onClose:d}))},F=async()=>{try{await xi.deleteRecipe(e.id),u.success("Recipe deleted successfully!"),d(),a("/")}catch{u.error("Failed to delete recipe. Please try again.")}};return T.useEffect(()=>{const U=W=>{r.current&&!r.current.contains(W.target)&&n(!1)};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[]),b.jsxs("div",{className:"relative inline-block",ref:r,children:[b.jsx(wi,{icon:b.jsx(aE,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),onClick:()=>n(!t),title:"More Options"}),t&&b.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:b.jsxs("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:[b.jsx("li",{children:b.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:x,children:"Edit"})}),b.jsx("li",{children:b.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:v,children:"Delete"})}),b.jsx("li",{children:b.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:H,children:"Share"})})]})})]})},hy=({title:e,description:t})=>b.jsxs(b.Fragment,{children:[b.jsx("h1",{className:"text-3xl font-bold text-leaf-green-900 dark:text-leaf-green-100",children:e}),!!t?.length&&b.jsx("p",{className:"text-leaf-green-800 dark:text-gray-300 mt-4 mb-4",children:t})]}),SO=()=>{const{id:e}=Ol(),{user:t}=Ri(),[n,r]=T.useState(null),[a,u]=T.useState(!0);return T.useEffect(()=>{(async()=>{u(!0);try{const d=await xi.fetchRecipeDetails(e,t?.id);r(d)}finally{u(!1)}})()},[e,t?.id]),a?b.jsx(Us,{className:"mt-40"}):n?b.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-between items-center mb-4",children:[b.jsx(Tt,{to:"/",children:b.jsxs("div",{className:"flex justify-center items-center font-medium text-center text-leaf-green-600 dark:text-leaf-green-100",children:[b.jsx(iE,{"aria-hidden":"true",className:"size-6"}),b.jsx("p",{children:"Recipes"})]})}),b.jsx("div",{className:"flex justify-end gap-2",children:!!t?.id&&b.jsx(vO,{recipe:n})})]}),b.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-6",children:[b.jsxs("div",{className:"w-full md:w-3/4",children:[!!n?.img_url?.length&&b.jsx("div",{className:"relative",children:b.jsx("img",{src:n.img_url,alt:n.title,className:"w-full h-64 object-cover rounded-t-lg"})}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-b-lg p-6 ${!n?.img_url&&"rounded-t-lg"}`,children:[b.jsx(hy,{title:n.title,description:n.description}),b.jsx(aR,{ingredients:n.ingredients}),b.jsx(uR,{steps:n.steps}),n.original_recipe_url&&b.jsx("div",{className:"mx-2",children:b.jsxs("small",{children:["source:",b.jsx("a",{className:"pl-1 italic",href:n.original_recipe_url,children:n.original_recipe_url})]})})]})]}),b.jsx("div",{className:"w-full md:w-1/4",children:b.jsx(EO,{recipe:n})})]})]}):b.jsx(_u,{message:"Recipe not found."})};function AO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const Jl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fi(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Hh(e){return"nodeType"in e}function rn(e){var t,n;return e?Fi(e)?e:Hh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function $h(e){const{Document:t}=rn(e);return e instanceof t}function Iu(e){return Fi(e)?!1:e instanceof rn(e).HTMLElement}function py(e){return e instanceof rn(e).SVGElement}function Bi(e){return e?Fi(e)?e.document:Hh(e)?$h(e)?e:Iu(e)||py(e)?e.ownerDocument:document:document:document}const ur=Jl?T.useLayoutEffect:T.useEffect;function zh(e){const t=T.useRef(e);return ur(()=>{t.current=e}),T.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function CO(){const e=T.useRef(null),t=T.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=T.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function mu(e,t){t===void 0&&(t=[e]);const n=T.useRef(e);return ur(()=>{n.current!==e&&(n.current=e)},t),n}function Ru(e,t){const n=T.useRef();return T.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Cl(e){const t=zh(e),n=T.useRef(null),r=T.useCallback(a=>{a!==n.current&&t?.(a,n.current),n.current=a},[]);return[n,r]}function Wf(e){const t=T.useRef();return T.useEffect(()=>{t.current=e},[e]),t.current}let df={};function Ou(e,t){return T.useMemo(()=>{if(t)return t;const n=df[e]==null?0:df[e]+1;return df[e]=n,e+"-"+n},[e,t])}function my(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((u,l)=>{const d=Object.entries(l);for(const[f,h]of d){const g=u[f];g!=null&&(u[f]=g+e*h)}return u},{...t})}}const yi=my(1),Nl=my(-1);function NO(e){return"clientX"in e&&"clientY"in e}function qh(e){if(!e)return!1;const{KeyboardEvent:t}=rn(e.target);return t&&e instanceof t}function kO(e){if(!e)return!1;const{TouchEvent:t}=rn(e.target);return t&&e instanceof t}function Yf(e){if(kO(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return NO(e)?{x:e.clientX,y:e.clientY}:null}const gu=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[gu.Translate.toString(e),gu.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),h1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function IO(e){return e.matches(h1)?e:e.querySelector(h1)}const RO={display:"none"};function OO(e){let{id:t,value:n}=e;return en.createElement("div",{id:t,style:RO},n)}function DO(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return en.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function LO(){const[e,t]=T.useState("");return{announce:T.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const gy=T.createContext(null);function PO(e){const t=T.useContext(gy);T.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function MO(){const[e]=T.useState(()=>new Set),t=T.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[T.useCallback(r=>{let{type:a,event:u}=r;e.forEach(l=>{var d;return(d=l[a])==null?void 0:d.call(l,u)})},[e]),t]}const FO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},BO={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function UO(e){let{announcements:t=BO,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=FO}=e;const{announce:u,announcement:l}=LO(),d=Ou("DndLiveRegion"),[f,h]=T.useState(!1);if(T.useEffect(()=>{h(!0)},[]),PO(T.useMemo(()=>({onDragStart(y){let{active:x}=y;u(t.onDragStart({active:x}))},onDragMove(y){let{active:x,over:v}=y;t.onDragMove&&u(t.onDragMove({active:x,over:v}))},onDragOver(y){let{active:x,over:v}=y;u(t.onDragOver({active:x,over:v}))},onDragEnd(y){let{active:x,over:v}=y;u(t.onDragEnd({active:x,over:v}))},onDragCancel(y){let{active:x,over:v}=y;u(t.onDragCancel({active:x,over:v}))}}),[u,t])),!f)return null;const g=en.createElement(en.Fragment,null,en.createElement(OO,{id:r,value:a.draggable}),en.createElement(DO,{id:d,announcement:l}));return n?Wa.createPortal(g,n):g}var ft;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ft||(ft={}));function kl(){}const Hn=Object.freeze({x:0,y:0});function jO(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function HO(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function $O(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function zO(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function p1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const qO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=p1(t,t.left,t.top),u=[];for(const l of r){const{id:d}=l,f=n.get(d);if(f){const h=jO(p1(f),a);u.push({id:d,data:{droppableContainer:l,value:h}})}}return u.sort(HO)};function WO(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),u=Math.min(t.top+t.height,e.top+e.height),l=a-r,d=u-n;if(r<a&&n<u){const f=t.width*t.height,h=e.width*e.height,g=l*d,y=g/(f+h-g);return Number(y.toFixed(4))}return 0}const YO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const u of r){const{id:l}=u,d=n.get(l);if(d){const f=WO(d,t);f>0&&a.push({id:l,data:{droppableContainer:u,value:f}})}}return a.sort($O)};function VO(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Ey(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Hn}function QO(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return a.reduce((l,d)=>({...l,top:l.top+e*d.y,bottom:l.bottom+e*d.y,left:l.left+e*d.x,right:l.right+e*d.x}),{...n})}}const GO=QO(1);function KO(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function XO(e,t,n){const r=KO(t);if(!r)return e;const{scaleX:a,scaleY:u,x:l,y:d}=r,f=e.left-l-(1-a)*parseFloat(n),h=e.top-d-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?e.width/a:e.width,y=u?e.height/u:e.height;return{width:g,height:y,top:h,right:f+g,bottom:h+y,left:f}}const JO={ignoreTransform:!1};function Ui(e,t){t===void 0&&(t=JO);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:g}=rn(e).getComputedStyle(e);h&&(n=XO(n,h,g))}const{top:r,left:a,width:u,height:l,bottom:d,right:f}=n;return{top:r,left:a,width:u,height:l,bottom:d,right:f}}function m1(e){return Ui(e,{ignoreTransform:!0})}function ZO(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function e4(e,t){return t===void 0&&(t=rn(e).getComputedStyle(e)),t.position==="fixed"}function t4(e,t){t===void 0&&(t=rn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const u=t[a];return typeof u=="string"?n.test(u):!1})}function Wh(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if($h(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Iu(a)||py(a)||n.includes(a))return n;const u=rn(e).getComputedStyle(a);return a!==e&&t4(a,u)&&n.push(a),e4(a,u)?n:r(a.parentNode)}return e?r(e):n}function by(e){const[t]=Wh(e,1);return t??null}function ff(e){return!Jl||!e?null:Fi(e)?e:Hh(e)?$h(e)||e===Bi(e).scrollingElement?window:Iu(e)?e:null:null}function yy(e){return Fi(e)?e.scrollX:e.scrollLeft}function Ty(e){return Fi(e)?e.scrollY:e.scrollTop}function Vf(e){return{x:yy(e),y:Ty(e)}}var yt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(yt||(yt={}));function _y(e){return!Jl||!e?!1:e===document.scrollingElement}function xy(e){const t={x:0,y:0},n=_y(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,u=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,d=e.scrollLeft>=r.x;return{isTop:a,isLeft:u,isBottom:l,isRight:d,maxScroll:r,minScroll:t}}const n4={x:.2,y:.2};function r4(e,t,n,r,a){let{top:u,left:l,right:d,bottom:f}=n;r===void 0&&(r=10),a===void 0&&(a=n4);const{isTop:h,isBottom:g,isLeft:y,isRight:x}=xy(e),v={x:0,y:0},w={x:0,y:0},C={height:t.height*a.y,width:t.width*a.x};return!h&&u<=t.top+C.height?(v.y=yt.Backward,w.y=r*Math.abs((t.top+C.height-u)/C.height)):!g&&f>=t.bottom-C.height&&(v.y=yt.Forward,w.y=r*Math.abs((t.bottom-C.height-f)/C.height)),!x&&d>=t.right-C.width?(v.x=yt.Forward,w.x=r*Math.abs((t.right-C.width-d)/C.width)):!y&&l<=t.left+C.width&&(v.x=yt.Backward,w.x=r*Math.abs((t.left+C.width-l)/C.width)),{direction:v,speed:w}}function s4(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:l}=window;return{top:0,left:0,right:u,bottom:l,width:u,height:l}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function wy(e){return e.reduce((t,n)=>yi(t,Vf(n)),Hn)}function i4(e){return e.reduce((t,n)=>t+yy(n),0)}function a4(e){return e.reduce((t,n)=>t+Ty(n),0)}function u4(e,t){if(t===void 0&&(t=Ui),!e)return;const{top:n,left:r,bottom:a,right:u}=t(e);by(e)&&(a<=0||u<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const o4=[["x",["left","right"],i4],["y",["top","bottom"],a4]];class Yh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Wh(n),a=wy(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,l,d]of o4)for(const f of l)Object.defineProperty(this,f,{get:()=>{const h=d(r),g=a[u]-h;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ru{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function l4(e){const{EventTarget:t}=rn(e);return e instanceof t?e:Bi(e)}function hf(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var wn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(wn||(wn={}));function g1(e){e.preventDefault()}function c4(e){e.stopPropagation()}var Fe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Fe||(Fe={}));const vy={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter,Fe.Tab]},d4=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Fe.Right:return{...n,x:n.x+25};case Fe.Left:return{...n,x:n.x-25};case Fe.Down:return{...n,y:n.y+25};case Fe.Up:return{...n,y:n.y-25}}};class Sy{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ru(Bi(n)),this.windowListeners=new ru(rn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wn.Resize,this.handleCancel),this.windowListeners.add(wn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&u4(r),n(Hn)}handleKeyDown(t){if(qh(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:u=vy,coordinateGetter:l=d4,scrollBehavior:d="smooth"}=a,{code:f}=t;if(u.end.includes(f)){this.handleEnd(t);return}if(u.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:h}=r.current,g=h?{x:h.left,y:h.top}:Hn;this.referenceCoordinates||(this.referenceCoordinates=g);const y=l(t,{active:n,context:r.current,currentCoordinates:g});if(y){const x=Nl(y,g),v={x:0,y:0},{scrollableAncestors:w}=r.current;for(const C of w){const k=t.code,{isTop:O,isRight:H,isLeft:F,isBottom:U,maxScroll:W,minScroll:ee}=xy(C),se=s4(C),Z={x:Math.min(k===Fe.Right?se.right-se.width/2:se.right,Math.max(k===Fe.Right?se.left:se.left+se.width/2,y.x)),y:Math.min(k===Fe.Down?se.bottom-se.height/2:se.bottom,Math.max(k===Fe.Down?se.top:se.top+se.height/2,y.y))},ce=k===Fe.Right&&!H||k===Fe.Left&&!F,ve=k===Fe.Down&&!U||k===Fe.Up&&!O;if(ce&&Z.x!==y.x){const Ie=C.scrollLeft+x.x,tt=k===Fe.Right&&Ie<=W.x||k===Fe.Left&&Ie>=ee.x;if(tt&&!x.y){C.scrollTo({left:Ie,behavior:d});return}tt?v.x=C.scrollLeft-Ie:v.x=k===Fe.Right?C.scrollLeft-W.x:C.scrollLeft-ee.x,v.x&&C.scrollBy({left:-v.x,behavior:d});break}else if(ve&&Z.y!==y.y){const Ie=C.scrollTop+x.y,tt=k===Fe.Down&&Ie<=W.y||k===Fe.Up&&Ie>=ee.y;if(tt&&!x.x){C.scrollTo({top:Ie,behavior:d});return}tt?v.y=C.scrollTop-Ie:v.y=k===Fe.Down?C.scrollTop-W.y:C.scrollTop-ee.y,v.y&&C.scrollBy({top:-v.y,behavior:d});break}}this.handleMove(t,yi(Nl(y,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Sy.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=vy,onActivation:a}=t,{active:u}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const d=u.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),a?.({event:e.nativeEvent}),!0)}return!1}}];function E1(e){return!!(e&&"distance"in e)}function b1(e){return!!(e&&"delay"in e)}class Vh{constructor(t,n,r){var a;r===void 0&&(r=l4(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:u}=t,{target:l}=u;this.props=t,this.events=n,this.document=Bi(l),this.documentListeners=new ru(this.document),this.listeners=new ru(r),this.windowListeners=new ru(rn(l)),this.initialCoordinates=(a=Yf(u))!=null?a:Hn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(wn.Resize,this.handleCancel),this.windowListeners.add(wn.DragStart,g1),this.windowListeners.add(wn.VisibilityChange,this.handleCancel),this.windowListeners.add(wn.ContextMenu,g1),this.documentListeners.add(wn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(b1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(E1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(wn.Click,c4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:u}=this,{onMove:l,options:{activationConstraint:d}}=u;if(!a)return;const f=(n=Yf(t))!=null?n:Hn,h=Nl(a,f);if(!r&&d){if(E1(d)){if(d.tolerance!=null&&hf(h,d.tolerance))return this.handleCancel();if(hf(h,d.distance))return this.handleStart()}if(b1(d)&&hf(h,d.tolerance))return this.handleCancel();this.handlePending(d,h);return}t.cancelable&&t.preventDefault(),l(f)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const f4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ay extends Vh{constructor(t){const{event:n}=t,r=Bi(n.target);super(t,f4,r)}}Ay.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const h4={move:{name:"mousemove"},end:{name:"mouseup"}};var Qf;(function(e){e[e.RightClick=2]="RightClick"})(Qf||(Qf={}));class p4 extends Vh{constructor(t){super(t,h4,Bi(t.event.target))}}p4.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Qf.RightClick?!1:(r?.({event:n}),!0)}}];const pf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class m4 extends Vh{constructor(t){super(t,pf)}static setup(){return window.addEventListener(pf.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(pf.move.name,t)};function t(){}}}m4.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var su;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(su||(su={}));var Il;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Il||(Il={}));function g4(e){let{acceleration:t,activator:n=su.Pointer,canScroll:r,draggingRect:a,enabled:u,interval:l=5,order:d=Il.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:g,delta:y,threshold:x}=e;const v=b4({delta:y,disabled:!u}),[w,C]=CO(),k=T.useRef({x:0,y:0}),O=T.useRef({x:0,y:0}),H=T.useMemo(()=>{switch(n){case su.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case su.DraggableRect:return a}},[n,a,f]),F=T.useRef(null),U=T.useCallback(()=>{const ee=F.current;if(!ee)return;const se=k.current.x*O.current.x,Z=k.current.y*O.current.y;ee.scrollBy(se,Z)},[]),W=T.useMemo(()=>d===Il.TreeOrder?[...h].reverse():h,[d,h]);T.useEffect(()=>{if(!u||!h.length||!H){C();return}for(const ee of W){if(r?.(ee)===!1)continue;const se=h.indexOf(ee),Z=g[se];if(!Z)continue;const{direction:ce,speed:ve}=r4(ee,Z,H,t,x);for(const Ie of["x","y"])v[Ie][ce[Ie]]||(ve[Ie]=0,ce[Ie]=0);if(ve.x>0||ve.y>0){C(),F.current=ee,w(U,l),k.current=ve,O.current=ce;return}}k.current={x:0,y:0},O.current={x:0,y:0},C()},[t,U,r,C,u,l,JSON.stringify(H),JSON.stringify(v),w,h,W,g,JSON.stringify(x)])}const E4={x:{[yt.Backward]:!1,[yt.Forward]:!1},y:{[yt.Backward]:!1,[yt.Forward]:!1}};function b4(e){let{delta:t,disabled:n}=e;const r=Wf(t);return Ru(a=>{if(n||!r||!a)return E4;const u={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[yt.Backward]:a.x[yt.Backward]||u.x===-1,[yt.Forward]:a.x[yt.Forward]||u.x===1},y:{[yt.Backward]:a.y[yt.Backward]||u.y===-1,[yt.Forward]:a.y[yt.Forward]||u.y===1}}},[n,t,r])}function y4(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Ru(a=>{var u;return t==null?null:(u=r??a)!=null?u:null},[r,t])}function T4(e,t){return T.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,u=a.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...u]},[]),[e,t])}var Eu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Eu||(Eu={}));var Gf;(function(e){e.Optimized="optimized"})(Gf||(Gf={}));const y1=new Map;function _4(e,t){let{dragging:n,dependencies:r,config:a}=t;const[u,l]=T.useState(null),{frequency:d,measure:f,strategy:h}=a,g=T.useRef(e),y=k(),x=mu(y),v=T.useCallback(function(O){O===void 0&&(O=[]),!x.current&&l(H=>H===null?O:H.concat(O.filter(F=>!H.includes(F))))},[x]),w=T.useRef(null),C=Ru(O=>{if(y&&!n)return y1;if(!O||O===y1||g.current!==e||u!=null){const H=new Map;for(let F of e){if(!F)continue;if(u&&u.length>0&&!u.includes(F.id)&&F.rect.current){H.set(F.id,F.rect.current);continue}const U=F.node.current,W=U?new Yh(f(U),U):null;F.rect.current=W,W&&H.set(F.id,W)}return H}return O},[e,u,n,y,f]);return T.useEffect(()=>{g.current=e},[e]),T.useEffect(()=>{y||v()},[n,y]),T.useEffect(()=>{u&&u.length>0&&l(null)},[JSON.stringify(u)]),T.useEffect(()=>{y||typeof d!="number"||w.current!==null||(w.current=setTimeout(()=>{v(),w.current=null},d))},[d,y,v,...r]),{droppableRects:C,measureDroppableContainers:v,measuringScheduled:u!=null};function k(){switch(h){case Eu.Always:return!1;case Eu.BeforeDragging:return n;default:return!n}}}function Cy(e,t){return Ru(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function x4(e,t){return Cy(e,t)}function w4(e){let{callback:t,disabled:n}=e;const r=zh(t),a=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(r)},[r,n]);return T.useEffect(()=>()=>a?.disconnect(),[a]),a}function Zl(e){let{callback:t,disabled:n}=e;const r=zh(t),a=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(r)},[n]);return T.useEffect(()=>()=>a?.disconnect(),[a]),a}function v4(e){return new Yh(Ui(e),e)}function T1(e,t,n){t===void 0&&(t=v4);const[r,a]=T.useState(null);function u(){a(f=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=f??n)!=null?h:null}const g=t(e);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const l=w4({callback(f){if(e)for(const h of f){const{type:g,target:y}=h;if(g==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),d=Zl({callback:u});return ur(()=>{u(),e?(d?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),l?.disconnect())},[e]),r}function S4(e){const t=Cy(e);return Ey(e,t)}const _1=[];function A4(e){const t=T.useRef(e),n=Ru(r=>e?r&&r!==_1&&e&&t.current&&e.parentNode===t.current.parentNode?r:Wh(e):_1,[e]);return T.useEffect(()=>{t.current=e},[e]),n}function C4(e){const[t,n]=T.useState(null),r=T.useRef(e),a=T.useCallback(u=>{const l=ff(u.target);l&&n(d=>d?(d.set(l,Vf(l)),new Map(d)):null)},[]);return T.useEffect(()=>{const u=r.current;if(e!==u){l(u);const d=e.map(f=>{const h=ff(f);return h?(h.addEventListener("scroll",a,{passive:!0}),[h,Vf(h)]):null}).filter(f=>f!=null);n(d.length?new Map(d):null),r.current=e}return()=>{l(e),l(u)};function l(d){d.forEach(f=>{const h=ff(f);h?.removeEventListener("scroll",a)})}},[a,e]),T.useMemo(()=>e.length?t?Array.from(t.values()).reduce((u,l)=>yi(u,l),Hn):wy(e):Hn,[e,t])}function x1(e,t){t===void 0&&(t=[]);const n=T.useRef(null);return T.useEffect(()=>{n.current=null},t),T.useEffect(()=>{const r=e!==Hn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Nl(e,n.current):Hn}function N4(e){T.useEffect(()=>{if(!Jl)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function k4(e,t){return T.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:u}=r;return n[a]=l=>{u(l,t)},n},{}),[e,t])}function Ny(e){return T.useMemo(()=>e?ZO(e):null,[e])}const w1=[];function I4(e,t){t===void 0&&(t=Ui);const[n]=e,r=Ny(n?rn(n):null),[a,u]=T.useState(w1);function l(){u(()=>e.length?e.map(f=>_y(f)?r:new Yh(t(f),f)):w1)}const d=Zl({callback:l});return ur(()=>{d?.disconnect(),l(),e.forEach(f=>d?.observe(f))},[e]),a}function R4(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Iu(t)?t:e}function O4(e){let{measure:t}=e;const[n,r]=T.useState(null),a=T.useCallback(h=>{for(const{target:g}of h)if(Iu(g)){r(y=>{const x=t(g);return y?{...y,width:x.width,height:x.height}:x});break}},[t]),u=Zl({callback:a}),l=T.useCallback(h=>{const g=R4(h);u?.disconnect(),g&&u?.observe(g),r(g?t(g):null)},[t,u]),[d,f]=Cl(l);return T.useMemo(()=>({nodeRef:d,rect:n,setRef:f}),[n,d,f])}const D4=[{sensor:Ay,options:{}},{sensor:Sy,options:{}}],L4={current:{}},cl={draggable:{measure:m1},droppable:{measure:m1,strategy:Eu.WhileDragging,frequency:Gf.Optimized},dragOverlay:{measure:Ui}};class iu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const P4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new iu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:kl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:cl,measureDroppableContainers:kl,windowRect:null,measuringScheduled:!1},M4={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:kl,draggableNodes:new Map,over:null,measureDroppableContainers:kl},ec=T.createContext(M4),ky=T.createContext(P4);function F4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new iu}}}function B4(e,t){switch(t.type){case ft.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ft.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ft.DragEnd:case ft.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ft.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new iu(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case ft.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,u=e.droppable.containers.get(n);if(!u||r!==u.key)return e;const l=new iu(e.droppable.containers);return l.set(n,{...u,disabled:a}),{...e,droppable:{...e.droppable,containers:l}}}case ft.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const u=new iu(e.droppable.containers);return u.delete(n),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function U4(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=T.useContext(ec),u=Wf(r),l=Wf(n?.id);return T.useEffect(()=>{if(!t&&!r&&u&&l!=null){if(!qh(u)||document.activeElement===u.target)return;const d=a.get(l);if(!d)return;const{activatorNode:f,node:h}=d;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[f.current,h.current]){if(!g)continue;const y=IO(g);if(y){y.focus();break}}})}},[r,t,a,l,u]),null}function j4(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,u)=>u({transform:a,...r}),n):n}function H4(e){return T.useMemo(()=>({draggable:{...cl.draggable,...e?.draggable},droppable:{...cl.droppable,...e?.droppable},dragOverlay:{...cl.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function $4(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const u=T.useRef(!1),{x:l,y:d}=typeof a=="boolean"?{x:a,y:a}:a;ur(()=>{if(!l&&!d||!t){u.current=!1;return}if(u.current||!r)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),y=Ey(g,r);if(l||(y.x=0),d||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const x=by(h);x&&x.scrollBy({top:y.y,left:y.x})}},[t,l,d,r,n])}const Iy=T.createContext({...Hn,scaleX:1,scaleY:1});var es;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(es||(es={}));const z4=T.memo(function(t){var n,r,a,u;let{id:l,accessibility:d,autoScroll:f=!0,children:h,sensors:g=D4,collisionDetection:y=YO,measuring:x,modifiers:v,...w}=t;const C=T.useReducer(B4,void 0,F4),[k,O]=C,[H,F]=MO(),[U,W]=T.useState(es.Uninitialized),ee=U===es.Initialized,{draggable:{active:se,nodes:Z,translate:ce},droppable:{containers:ve}}=k,Ie=se!=null?Z.get(se):null,tt=T.useRef({initial:null,translated:null}),qe=T.useMemo(()=>{var Ke;return se!=null?{id:se,data:(Ke=Ie?.data)!=null?Ke:L4,rect:tt}:null},[se,Ie]),nt=T.useRef(null),[Ct,lt]=T.useState(null),[ke,te]=T.useState(null),le=mu(w,Object.values(w)),ne=Ou("DndDescribedBy",l),L=T.useMemo(()=>ve.getEnabled(),[ve]),q=H4(x),{droppableRects:me,measureDroppableContainers:be,measuringScheduled:Se}=_4(L,{dragging:ee,dependencies:[ce.x,ce.y],config:q.droppable}),ye=y4(Z,se),Me=T.useMemo(()=>ke?Yf(ke):null,[ke]),Ae=kr(),Oe=x4(ye,q.draggable.measure);$4({activeNode:se!=null?Z.get(se):null,config:Ae.layoutShiftCompensation,initialRect:Oe,measure:q.draggable.measure});const _e=T1(ye,q.draggable.measure,Oe),Qn=T1(ye?ye.parentElement:null),sn=T.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:Z,draggingNode:null,draggingNodeRect:null,droppableContainers:ve,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),An=ve.getNodeFor((n=sn.current.over)==null?void 0:n.id),an=O4({measure:q.dragOverlay.measure}),lr=(r=an.nodeRef.current)!=null?r:ye,cr=ee?(a=an.rect)!=null?a:_e:null,$s=!!(an.nodeRef.current&&an.rect),ji=S4($s?null:_e),os=Ny(lr?rn(lr):null),$t=A4(ee?An??ye:null),Cn=I4($t),Ar=j4(v,{transform:{x:ce.x-ji.x,y:ce.y-ji.y,scaleX:1,scaleY:1},activatorEvent:ke,active:qe,activeNodeRect:_e,containerNodeRect:Qn,draggingNodeRect:cr,over:sn.current.over,overlayNodeRect:an.rect,scrollableAncestors:$t,scrollableAncestorRects:Cn,windowRect:os}),Hi=Me?yi(Me,ce):null,$i=C4($t),Du=x1($i),Lu=x1($i,[_e]),Gn=yi(Ar,Du),Nn=cr?GO(cr,Ar):null,Cr=qe&&Nn?y({active:qe,collisionRect:Nn,droppableRects:me,droppableContainers:L,pointerCoordinates:Hi}):null,Nr=zO(Cr,"id"),[zt,Pu]=T.useState(null),Mu=$s?Ar:yi(Ar,Lu),Fu=VO(Mu,(u=zt?.rect)!=null?u:null,_e),zi=T.useRef(null),zs=T.useCallback((Ke,Nt)=>{let{sensor:kt,options:kn}=Nt;if(nt.current==null)return;const Bt=Z.get(nt.current);if(!Bt)return;const It=Ke.nativeEvent,qt=new kt({active:nt.current,activeNode:Bt,event:It,options:kn,context:sn,onAbort(Xe){if(!Z.get(Xe))return;const{onDragAbort:Rt}=le.current,In={id:Xe};Rt?.(In),H({type:"onDragAbort",event:In})},onPending(Xe,mn,Rt,In){if(!Z.get(Xe))return;const{onDragPending:Kn}=le.current,un={id:Xe,constraint:mn,initialCoordinates:Rt,offset:In};Kn?.(un),H({type:"onDragPending",event:un})},onStart(Xe){const mn=nt.current;if(mn==null)return;const Rt=Z.get(mn);if(!Rt)return;const{onDragStart:In}=le.current,Rn={activatorEvent:It,active:{id:mn,data:Rt.data,rect:tt}};Wa.unstable_batchedUpdates(()=>{In?.(Rn),W(es.Initializing),O({type:ft.DragStart,initialCoordinates:Xe,active:mn}),H({type:"onDragStart",event:Rn}),lt(zi.current),te(It)})},onMove(Xe){O({type:ft.DragMove,coordinates:Xe})},onEnd:dr(ft.DragEnd),onCancel:dr(ft.DragCancel)});zi.current=qt;function dr(Xe){return async function(){const{active:Rt,collisions:In,over:Rn,scrollAdjustedTranslate:Kn}=sn.current;let un=null;if(Rt&&Kn){const{cancelDrop:fr}=le.current;un={activatorEvent:It,active:Rt,collisions:In,delta:Kn,over:Rn},Xe===ft.DragEnd&&typeof fr=="function"&&await Promise.resolve(fr(un))&&(Xe=ft.DragCancel)}nt.current=null,Wa.unstable_batchedUpdates(()=>{O({type:Xe}),W(es.Uninitialized),Pu(null),lt(null),te(null),zi.current=null;const fr=Xe===ft.DragEnd?"onDragEnd":"onDragCancel";if(un){const Vi=le.current[fr];Vi?.(un),H({type:fr,event:un})}})}}},[Z]),qi=T.useCallback((Ke,Nt)=>(kt,kn)=>{const Bt=kt.nativeEvent,It=Z.get(kn);if(nt.current!==null||!It||Bt.dndKit||Bt.defaultPrevented)return;const qt={active:It};Ke(kt,Nt.options,qt)===!0&&(Bt.dndKit={capturedBy:Nt.sensor},nt.current=kn,zs(kt,Nt))},[Z,zs]),qs=T4(g,qi);N4(g),ur(()=>{_e&&U===es.Initializing&&W(es.Initialized)},[_e,U]),T.useEffect(()=>{const{onDragMove:Ke}=le.current,{active:Nt,activatorEvent:kt,collisions:kn,over:Bt}=sn.current;if(!Nt||!kt)return;const It={active:Nt,activatorEvent:kt,collisions:kn,delta:{x:Gn.x,y:Gn.y},over:Bt};Wa.unstable_batchedUpdates(()=>{Ke?.(It),H({type:"onDragMove",event:It})})},[Gn.x,Gn.y]),T.useEffect(()=>{const{active:Ke,activatorEvent:Nt,collisions:kt,droppableContainers:kn,scrollAdjustedTranslate:Bt}=sn.current;if(!Ke||nt.current==null||!Nt||!Bt)return;const{onDragOver:It}=le.current,qt=kn.get(Nr),dr=qt&&qt.rect.current?{id:qt.id,rect:qt.rect.current,data:qt.data,disabled:qt.disabled}:null,Xe={active:Ke,activatorEvent:Nt,collisions:kt,delta:{x:Bt.x,y:Bt.y},over:dr};Wa.unstable_batchedUpdates(()=>{Pu(dr),It?.(Xe),H({type:"onDragOver",event:Xe})})},[Nr]),ur(()=>{sn.current={activatorEvent:ke,active:qe,activeNode:ye,collisionRect:Nn,collisions:Cr,droppableRects:me,draggableNodes:Z,draggingNode:lr,draggingNodeRect:cr,droppableContainers:ve,over:zt,scrollableAncestors:$t,scrollAdjustedTranslate:Gn},tt.current={initial:cr,translated:Nn}},[qe,ye,Cr,Nn,Z,lr,cr,me,ve,zt,$t,Gn]),g4({...Ae,delta:ce,draggingRect:Nn,pointerCoordinates:Hi,scrollableAncestors:$t,scrollableAncestorRects:Cn});const Wi=T.useMemo(()=>({active:qe,activeNode:ye,activeNodeRect:_e,activatorEvent:ke,collisions:Cr,containerNodeRect:Qn,dragOverlay:an,draggableNodes:Z,droppableContainers:ve,droppableRects:me,over:zt,measureDroppableContainers:be,scrollableAncestors:$t,scrollableAncestorRects:Cn,measuringConfiguration:q,measuringScheduled:Se,windowRect:os}),[qe,ye,_e,ke,Cr,Qn,an,Z,ve,me,zt,be,$t,Cn,q,Se,os]),Yi=T.useMemo(()=>({activatorEvent:ke,activators:qs,active:qe,activeNodeRect:_e,ariaDescribedById:{draggable:ne},dispatch:O,draggableNodes:Z,over:zt,measureDroppableContainers:be}),[ke,qs,qe,_e,O,ne,Z,zt,be]);return en.createElement(gy.Provider,{value:F},en.createElement(ec.Provider,{value:Yi},en.createElement(ky.Provider,{value:Wi},en.createElement(Iy.Provider,{value:Fu},h)),en.createElement(U4,{disabled:d?.restoreFocus===!1})),en.createElement(UO,{...d,hiddenTextDescribedById:ne}));function kr(){const Ke=Ct?.autoScrollEnabled===!1,Nt=typeof f=="object"?f.enabled===!1:f===!1,kt=ee&&!Ke&&!Nt;return typeof f=="object"?{...f,enabled:kt}:{enabled:kt}}}),q4=T.createContext(null),v1="button",W4="Draggable";function Y4(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const u=Ou(W4),{activators:l,activatorEvent:d,active:f,activeNodeRect:h,ariaDescribedById:g,draggableNodes:y,over:x}=T.useContext(ec),{role:v=v1,roleDescription:w="draggable",tabIndex:C=0}=a??{},k=f?.id===t,O=T.useContext(k?Iy:q4),[H,F]=Cl(),[U,W]=Cl(),ee=k4(l,t),se=mu(n);ur(()=>(y.set(t,{id:t,key:u,node:H,activatorNode:U,data:se}),()=>{const ce=y.get(t);ce&&ce.key===u&&y.delete(t)}),[y,t]);const Z=T.useMemo(()=>({role:v,tabIndex:C,"aria-disabled":r,"aria-pressed":k&&v===v1?!0:void 0,"aria-roledescription":w,"aria-describedby":g.draggable}),[r,v,C,k,w,g.draggable]);return{active:f,activatorEvent:d,activeNodeRect:h,attributes:Z,isDragging:k,listeners:r?void 0:ee,node:H,over:x,setNodeRef:F,setActivatorNodeRef:W,transform:O}}function V4(){return T.useContext(ky)}const Q4="Droppable",G4={timeout:25};function K4(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const u=Ou(Q4),{active:l,dispatch:d,over:f,measureDroppableContainers:h}=T.useContext(ec),g=T.useRef({disabled:n}),y=T.useRef(!1),x=T.useRef(null),v=T.useRef(null),{disabled:w,updateMeasurementsFor:C,timeout:k}={...G4,...a},O=mu(C??r),H=T.useCallback(()=>{if(!y.current){y.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{h(Array.isArray(O.current)?O.current:[O.current]),v.current=null},k)},[k]),F=Zl({callback:H,disabled:w||!l}),U=T.useCallback((Z,ce)=>{F&&(ce&&(F.unobserve(ce),y.current=!1),Z&&F.observe(Z))},[F]),[W,ee]=Cl(U),se=mu(t);return T.useEffect(()=>{!F||!W.current||(F.disconnect(),y.current=!1,F.observe(W.current))},[W,F]),T.useEffect(()=>(d({type:ft.RegisterDroppable,element:{id:r,key:u,disabled:n,node:W,rect:x,data:se}}),()=>d({type:ft.UnregisterDroppable,key:u,id:r})),[r]),T.useEffect(()=>{n!==g.current.disabled&&(d({type:ft.SetDroppableDisabled,id:r,key:u,disabled:n}),g.current.disabled=n)},[r,u,n,d]),{active:l,rect:x,isOver:f?.id===r,node:W,over:f,setNodeRef:ee}}function Qh(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function X4(e,t){return e.reduce((n,r,a)=>{const u=t.get(r);return u&&(n[a]=u),n},Array(e.length))}function tl(e){return e!==null&&e>=0}function J4(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Z4(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ry=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const u=Qh(t,r,n),l=t[a],d=u[a];return!d||!l?null:{x:d.left-l.left,y:d.top-l.top,scaleX:d.width/l.width,scaleY:d.height/l.height}},nl={scaleX:1,scaleY:1},eD=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:u,overIndex:l}=e;const d=(t=u[n])!=null?t:r;if(!d)return null;if(a===n){const h=u[l];return h?{x:0,y:n<l?h.top+h.height-(d.top+d.height):h.top-d.top,...nl}:null}const f=tD(u,a,n);return a>n&&a<=l?{x:0,y:-d.height-f,...nl}:a<n&&a>=l?{x:0,y:d.height+f,...nl}:{x:0,y:0,...nl}};function tD(e,t,n){const r=e[t],a=e[t-1],u=e[t+1];return r?n<t?a?r.top-(a.top+a.height):u?u.top-(r.top+r.height):0:u?u.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const Oy="Sortable",Dy=en.createContext({activeIndex:-1,containerId:Oy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ry,disabled:{draggable:!1,droppable:!1}});function nD(e){let{children:t,id:n,items:r,strategy:a=Ry,disabled:u=!1}=e;const{active:l,dragOverlay:d,droppableRects:f,over:h,measureDroppableContainers:g}=V4(),y=Ou(Oy,n),x=d.rect!==null,v=T.useMemo(()=>r.map(ee=>typeof ee=="object"&&"id"in ee?ee.id:ee),[r]),w=l!=null,C=l?v.indexOf(l.id):-1,k=h?v.indexOf(h.id):-1,O=T.useRef(v),H=!J4(v,O.current),F=k!==-1&&C===-1||H,U=Z4(u);ur(()=>{H&&w&&g(v)},[H,v,w,g]),T.useEffect(()=>{O.current=v},[v]);const W=T.useMemo(()=>({activeIndex:C,containerId:y,disabled:U,disableTransforms:F,items:v,overIndex:k,useDragOverlay:x,sortedRects:X4(v,f),strategy:a}),[C,y,U.draggable,U.droppable,F,v,k,f,x,a]);return en.createElement(Dy.Provider,{value:W},t)}const rD=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return Qh(n,r,a).indexOf(t)},sD=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:u,newIndex:l,previousItems:d,previousContainerId:f,transition:h}=e;return!h||!r||d!==u&&a===l?!1:n?!0:l!==a&&t===f},iD={duration:200,easing:"ease"},Ly="transform",aD=gu.Transition.toString({property:Ly,duration:0,easing:"linear"}),uD={roleDescription:"sortable"};function oD(e){let{disabled:t,index:n,node:r,rect:a}=e;const[u,l]=T.useState(null),d=T.useRef(n);return ur(()=>{if(!t&&n!==d.current&&r.current){const f=a.current;if(f){const h=Ui(r.current,{ignoreTransform:!0}),g={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(g.x||g.y)&&l(g)}}n!==d.current&&(d.current=n)},[t,n,r,a]),T.useEffect(()=>{u&&l(null)},[u]),u}function lD(e){let{animateLayoutChanges:t=sD,attributes:n,disabled:r,data:a,getNewIndex:u=rD,id:l,strategy:d,resizeObserverConfig:f,transition:h=iD}=e;const{items:g,containerId:y,activeIndex:x,disabled:v,disableTransforms:w,sortedRects:C,overIndex:k,useDragOverlay:O,strategy:H}=T.useContext(Dy),F=cD(r,v),U=g.indexOf(l),W=T.useMemo(()=>({sortable:{containerId:y,index:U,items:g},...a}),[y,a,U,g]),ee=T.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:se,node:Z,isOver:ce,setNodeRef:ve}=K4({id:l,data:W,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:ee,...f}}),{active:Ie,activatorEvent:tt,activeNodeRect:qe,attributes:nt,setNodeRef:Ct,listeners:lt,isDragging:ke,over:te,setActivatorNodeRef:le,transform:ne}=Y4({id:l,data:W,attributes:{...uD,...n},disabled:F.draggable}),L=AO(ve,Ct),q=!!Ie,me=q&&!w&&tl(x)&&tl(k),be=!O&&ke,Se=be&&me?ne:null,Me=me?Se??(d??H)({rects:C,activeNodeRect:qe,activeIndex:x,overIndex:k,index:U}):null,Ae=tl(x)&&tl(k)?u({id:l,items:g,activeIndex:x,overIndex:k}):U,Oe=Ie?.id,_e=T.useRef({activeId:Oe,items:g,newIndex:Ae,containerId:y}),Qn=g!==_e.current.items,sn=t({active:Ie,containerId:y,isDragging:ke,isSorting:q,id:l,index:U,items:g,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:h,wasDragging:_e.current.activeId!=null}),An=oD({disabled:!sn,index:U,node:Z,rect:se});return T.useEffect(()=>{q&&_e.current.newIndex!==Ae&&(_e.current.newIndex=Ae),y!==_e.current.containerId&&(_e.current.containerId=y),g!==_e.current.items&&(_e.current.items=g)},[q,Ae,y,g]),T.useEffect(()=>{if(Oe===_e.current.activeId)return;if(Oe!=null&&_e.current.activeId==null){_e.current.activeId=Oe;return}const lr=setTimeout(()=>{_e.current.activeId=Oe},50);return()=>clearTimeout(lr)},[Oe]),{active:Ie,activeIndex:x,attributes:nt,data:W,rect:se,index:U,newIndex:Ae,items:g,isOver:ce,isSorting:q,isDragging:ke,listeners:lt,node:Z,overIndex:k,over:te,setNodeRef:L,setActivatorNodeRef:le,setDroppableNodeRef:ve,setDraggableNodeRef:Ct,transform:An??Me,transition:an()};function an(){if(An||Qn&&_e.current.newIndex===U)return aD;if(!(be&&!qh(tt)||!h)&&(q||sn))return gu.Transition.toString({...h,property:Ly})}}function cD(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}Fe.Down,Fe.Right,Fe.Up,Fe.Left;const dD=({placeholder:e,onChange:t,value:n})=>{const r=T.useRef(null);return T.useEffect(()=>{r.current&&(r.current.style.height="auto",r.current.style.height=`${r.current.scrollHeight}px`)},[n]),b.jsx("textarea",{className:"border rounded-xs px-2 py-1 w-full mr-3 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 resize-none overflow-hidden",ref:r,onChange:t,placeholder:e,value:n})},fD=({id:e,formValue:t,onEditFormValue:n,onDeleteClick:r})=>{const{attributes:a,listeners:u,setNodeRef:l,transform:d,transition:f}=lD({id:e}),h={transform:d?gu.Transform.toString(d):void 0,transition:f||"all 0.2s ease"},g=y=>{n({...t,value:y.target.value})};return b.jsxs("li",{ref:l,style:h,className:"text-gray-700 dark:text-gray-300 flex items-center justify-between mb-2",children:[b.jsx(dD,{onChange:g,value:t.value,placeholder:" "}),b.jsx(wi,{icon:b.jsx(vv,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"}),title:"Drag Step",attributes:a,listeners:u}),b.jsx(cE,{onClick:()=>r(t.id)})]})},S1=({originalFormState:e,setOriginalFormState:t,sectionName:n})=>{const[r,a]=T.useState(e);T.useEffect(()=>{a(e)},[e]),T.useEffect(()=>{const h=setTimeout(()=>{t(r)},400);return()=>clearTimeout(h)},[r,t]);const u=h=>{const g=r.map(y=>y.id===h.id?h:y);a(g)},l=()=>{a(h=>[...h,{id:zf(),value:"",isActive:!0,sort_number:0}])},d=h=>{const g=r.map(y=>y.id===h?{...y,isActive:!1}:y);a(g)},f=h=>{const{active:g,over:y}=h;if(!y||g.id===y.id)return;const x=r.findIndex(w=>w.id===g.id),v=r.findIndex(w=>w.id===y.id);a(Qh(r,x,v))};return b.jsxs("div",{className:"mb-4",children:[b.jsxs("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:[n,"s"]}),!(r?.length>0)&&b.jsx(_u,{message:`No ${n}s added yet. Add some to get started!`}),b.jsx(z4,{collisionDetection:qO,onDragEnd:f,children:b.jsx(nD,{items:r.filter(h=>h.isActive).map(h=>h.id),strategy:eD,children:r.length>0&&b.jsx("ol",{className:"list-decimal mb-6 text-gray-700 dark:text-gray-300",children:r.filter(h=>h.isActive).map(h=>b.jsx(fD,{id:h.id,formValue:h,onEditFormValue:u,onDeleteClick:d},h.id))})})}),b.jsxs(ze,{type:"button",onClick:l,children:["Add ",n]})]})},hD=({formData:e,onFormChange:t})=>b.jsxs("form",{className:"w-full",children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"servings",id:"servings",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.servings,onChange:n=>t("servings",Number(n.target.value))}),b.jsx("label",{htmlFor:"servings",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Servings"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"prep_time",id:"prep_time",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.prep_time,onChange:n=>t("prep_time",Number(n.target.value))}),b.jsx("label",{htmlFor:"prep_time",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Prep Time (minutes)"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"cook_time",id:"cook_time",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.cook_time,onChange:n=>t("cook_time",Number(n.target.value))}),b.jsx("label",{htmlFor:"cook_time",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Cook Time (minutes)"})]})]}),A1=()=>{const{user:e}=Ri(),t=or(),n=Wn(),r=qn(),{id:a}=Ol(),u=!!a,[l,d]=T.useState(!1),[f,h]=T.useState({title:"",description:"",img_url:"",prep_time:0,cook_time:0,servings:1,original_recipe_url:"",ingredients:[],steps:[]}),[g,y]=T.useState(null);T.useEffect(()=>{const w=r.state?.recipe;w&&(h({title:w.title||"",description:w.description||"",img_url:w.img_url||"",prep_time:w.prep_time||0,cook_time:w.cook_time||0,servings:w.servings||1,original_recipe_url:w.original_recipe_url||"",ingredients:w.ingredients||[],steps:w.steps||[]}),y(w))},[r.state?.recipe]);const x=(w,C)=>{h(k=>({...k,[w]:C}))},v=async w=>{w.preventDefault(),d(!0);try{if(u){const C=iy(g,f);if(!C){t.success("No changes detected."),d(!1);return}await xi.upsertRecipe(a,C),t.success("Recipe updated successfully!"),n(`/recipes/${a}`)}else{const C=await xi.upsertRecipe(void 0,{...f,prep_time:parseInt(f.prep_time.toString(),10),cook_time:parseInt(f.cook_time.toString(),10)},e?.id);t.success("Recipe added successfully!"),n(`/recipes/${C.recipeId}`)}}catch(C){console.error(`Error ${u?"updating":"adding"} recipe:`,C.message),t.error(`Failed to ${u?"update":"add"} recipe. Please try again.`)}finally{d(!1)}};return b.jsxs("div",{className:"max-w-2xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-end items-center mb-4 gap-4",children:[b.jsx(Tt,{to:u?`/recipes/${a}`:"/",children:b.jsx(ze,{btnType:"dismissable",children:"Cancel"})}),b.jsx(ze,{onClick:v,isLoading:l,children:u?"Save":"Add"})]}),b.jsx(uy,{imgUrl:f.img_url,onImgUrlChange:w=>x("img_url",w)}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 p-6 rounded-b-lg shadow-md ${!f.img_url?.length&&"rounded-t-lg"}`,children:[b.jsx(oy,{formData:f,onFormChange:x}),b.jsx(hD,{formData:f,onFormChange:x}),b.jsx(S1,{originalFormState:f.ingredients,setOriginalFormState:w=>x("ingredients",w),sectionName:"Ingredient"}),b.jsx(S1,{originalFormState:f.steps,setOriginalFormState:w=>x("steps",w),sectionName:"Step"})]})]})},pD=async e=>{const{data:t,error:n}=await Te.from("collection_shares").select("id, user_id, permission, users(email)").eq("collection_id",e);return n?(console.error("Error fetching shared users:",n),[]):t||[]},mD=async e=>{const{data:t,error:n}=await Te.from("collections").select("is_public").eq("id",e).single();return n?(console.error("Error fetching collection visibility:",n),!1):t.is_public},gD=async(e,t)=>{const{error:n}=await Te.from("collections").update({is_public:!t}).eq("id",e);if(n)throw new Error("Failed to update public status.");return!t},ED=async e=>{const{data:t,error:n}=await Te.from("users").select("id, display_name, profile_image").eq("email",e).single();if(n||!t?.id)throw new Error("User not found.");return{...t,display_name:t.display_name||e}},bD=async(e,t,n)=>{const{error:r}=await Te.from("collection_shares").insert([{collection_id:e,user_id:t,permission:n}]);if(r)throw new Error("Failed to share collection.")},yD=async e=>{const{error:t}=await Te.from("collection_shares").delete().eq("id",e);if(t)throw new Error("Failed to revoke access.")},As={fetchCollectionVisibility:mD,fetchSharedUsers:pD,findUserByEmail:ED,revokeUserAccess:yD,shareCollectionWithUser:bD,togglePublicShare:gD},TD=({collection:e})=>{const[t,n]=T.useState(!1),r=T.useRef(null),a=Wn(),u=or(),{openModal:l,closeModal:d}=ku(),[f,h]=T.useState(!!e.is_public),[g,y]=T.useState([]),x=()=>{a(`/collections/${e.id}/edit`,{state:{collection:e}}),n(!1)},v=()=>l(b.jsx(ny,{onCancelDelete:d,onDelete:F}));T.useEffect(()=>{(async()=>{e.id&&y(await As.fetchSharedUsers(e.id))})()},[e.id]);const w=async()=>{try{if(!e.id)throw new Error("No Collection id found.");const U=await As.togglePublicShare(e.id,!!e.is_public);h(U),u.success(`Collection is now ${U?"public":"private"}!`)}catch(U){u.error(U.message)}},C=async(U,W)=>{if(!U)return u.error("Please enter a valid email.");if(!e.id)return u.error();try{const ee=await As.findUserByEmail(U);await As.shareCollectionWithUser(e.id,ee.id,W),u.success(`Collection shared with ${ee.display_name} as ${W}.`),y(await As.fetchSharedUsers(e.id))}catch(ee){u.error(ee.message)}},k=async U=>{if(!e.id)return u.error();try{await As.revokeUserAccess(U),u.success("Access revoked."),y(await As.fetchSharedUsers(e.id))}catch(W){u.error(W.message)}},O=()=>{const U=`${window.location.origin}/collections/${e.id}`;navigator.clipboard.writeText(U),u.success("Public link copied!")},H=()=>{l(b.jsx(ty,{typeOfShare:"Collection",sharedUsers:g,isPublic:f,onTogglePublicShare:w,shareWithUser:C,onRevokeAccess:k,onCopyLink:O,onClose:d}))},F=async()=>{try{if(!e.id)return u.error();await Al.deleteCollection(e.id),u.success("Collection deleted successfully!"),d(),a("/")}catch{u.error("Failed to delete collection. Please try again.")}};return T.useEffect(()=>{const U=W=>{r.current&&!r.current.contains(W.target)&&n(!1)};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[]),b.jsxs("div",{className:"relative inline-block",ref:r,children:[b.jsx(wi,{icon:b.jsx(aE,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),onClick:()=>n(!t),title:"More Options"}),t&&b.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:b.jsxs("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:[b.jsx("li",{children:b.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:x,children:"Edit"})}),b.jsx("li",{children:b.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:v,children:"Delete"})}),b.jsx("li",{children:b.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:H,children:"Share"})})]})})]})},_D=()=>{const{id:e}=Ol(),{user:t}=Ri(),[n,r]=T.useState(null),[a,u]=T.useState(!0);return T.useEffect(()=>{(async()=>{u(!0);try{if(!e||!t?.id)throw new Error("no id found");const d=await Al.fetchCollectionDetails(e,t?.id);if(!d)throw new Error("no data returned");r(d)}finally{u(!1)}})()},[e,t?.id]),a?b.jsx(Us,{className:"mt-40"}):n?b.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-between items-center mb-4",children:[b.jsx(Tt,{to:"/",children:b.jsxs("div",{className:"flex justify-center items-center font-medium text-center text-leaf-green-600 dark:text-leaf-green-100",children:[b.jsx(iE,{"aria-hidden":"true",className:"size-6"}),b.jsx("p",{children:"Collections"})]})}),b.jsx("div",{className:"flex justify-end gap-2",children:!!t?.id&&b.jsx(TD,{collection:n})})]}),!!n?.img_url?.length&&b.jsx("div",{className:"relative",children:b.jsx("img",{src:n.img_url,alt:n.title,className:"w-full h-64 object-cover rounded-t-lg"})}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-b-lg p-6 ${!n?.img_url&&"rounded-t-lg"}`,children:[b.jsx(hy,{title:n.title,description:n.description}),n.tags.length>0&&b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"pb-2 pt-3 text-xl font-bold text-leaf-green-900 dark:text-leaf-green-100",children:"Tags"}),b.jsx("div",{children:n.tags.map(l=>b.jsx(dh,{title:l.title,isReadOnly:!0},l.id))})]})]}),b.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:n.recipes.map(l=>b.jsx(Tt,{to:`/recipes/${l.id}`,children:b.jsx(ch,{title:l.title,description:l.description,img_url:l.img_url},l.id)},l.id))})]}):b.jsx(_u,{message:"Collection not found."})},xD=()=>b.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 pb-6",children:b.jsx(Q2,{basename:"/elysia",children:b.jsxs($I,{children:[b.jsx(zI,{}),b.jsx("div",{className:"container mx-auto px-4",children:b.jsxs(v2,{children:[b.jsx(Ht,{path:"/sign-in",element:b.jsx(ws,{children:b.jsx(jv,{})})}),b.jsx(Ht,{path:"/register",element:b.jsx(Hv,{})}),b.jsx(Ht,{path:"/forgot-password",element:b.jsx($v,{})}),b.jsx(Ht,{path:"/reset-password",element:b.jsx(zv,{})}),b.jsx(Ht,{path:"/",element:b.jsx(av,{})}),b.jsx(Ht,{path:"/about",element:b.jsx(GI,{})}),b.jsx(Ht,{path:"/tags",element:b.jsx(ws,{children:b.jsx(QI,{})})}),b.jsx(Ht,{path:"/add-new",element:b.jsx(ws,{children:b.jsx(A1,{})})}),b.jsx(Ht,{path:"/recipes/:id",element:b.jsx(SO,{})}),b.jsx(Ht,{path:"/recipes/:id/edit",element:b.jsx(ws,{children:b.jsx(A1,{})})}),b.jsx(Ht,{path:"/collections",element:b.jsx(ws,{children:b.jsx(iR,{})})}),b.jsx(Ht,{path:"/collections/add-new",element:b.jsx(ws,{children:b.jsx(u1,{})})}),b.jsx(Ht,{path:"/collections/:id",element:b.jsx(_D,{})}),b.jsx(Ht,{path:"/collections/:id/edit",element:b.jsx(ws,{children:b.jsx(u1,{})})})]})})]})})});L_.createRoot(document.getElementById("root")).render(b.jsx(T.StrictMode,{children:b.jsx(qv,{children:b.jsx(Wv,{children:b.jsx(Uv,{children:b.jsx(xD,{})})})})}));export{Kf as g};
//# sourceMappingURL=index-D7GtdltM.js.map
