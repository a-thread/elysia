(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function rh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function P_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var zd={exports:{}},Ia={},qd={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function M_(){if(Mm)return Ae;Mm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function N(M,W,me){this.props=M,this.context=W,this.refs=A,this.updater=me||x}N.prototype.isReactComponent={},N.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function I(){}I.prototype=N.prototype;function P(M,W,me){this.props=M,this.context=W,this.refs=A,this.updater=me||x}var j=P.prototype=new I;j.constructor=P,S(j,N.prototype),j.isPureReactComponent=!0;var L=Array.isArray,q=Object.prototype.hasOwnProperty,K={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function ne(M,W,me){var be,ve={},ye=null,Be=null;if(W!=null)for(be in W.ref!==void 0&&(Be=W.ref),W.key!==void 0&&(ye=""+W.key),W)q.call(W,be)&&!se.hasOwnProperty(be)&&(ve[be]=W[be]);var Ce=arguments.length-2;if(Ce===1)ve.children=me;else if(1<Ce){for(var Le=Array(Ce),_e=0;_e<Ce;_e++)Le[_e]=arguments[_e+2];ve.children=Le}if(M&&M.defaultProps)for(be in Ce=M.defaultProps,Ce)ve[be]===void 0&&(ve[be]=Ce[be]);return{$$typeof:e,type:M,key:ye,ref:Be,props:ve,_owner:K.current}}function pe(M,W){return{$$typeof:e,type:M.type,key:W,ref:M.ref,props:M.props,_owner:M._owner}}function xe(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function Re(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return W[me]})}var rt=/\/+/g;function Ye(M,W){return typeof M=="object"&&M!==null&&M.key!=null?Re(""+M.key):W.toString(36)}function st(M,W,me,be,ve){var ye=typeof M;(ye==="undefined"||ye==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(ye){case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case e:case t:Be=!0}}if(Be)return Be=M,ve=ve(Be),M=be===""?"."+Ye(Be,0):be,L(ve)?(me="",M!=null&&(me=M.replace(rt,"$&/")+"/"),st(ve,W,me,"",function(_e){return _e})):ve!=null&&(xe(ve)&&(ve=pe(ve,me+(!ve.key||Be&&Be.key===ve.key?"":(""+ve.key).replace(rt,"$&/")+"/")+M)),W.push(ve)),1;if(Be=0,be=be===""?".":be+":",L(M))for(var Ce=0;Ce<M.length;Ce++){ye=M[Ce];var Le=be+Ye(ye,Ce);Be+=st(ye,W,me,Le,ve)}else if(Le=_(M),typeof Le=="function")for(M=Le.call(M),Ce=0;!(ye=M.next()).done;)ye=ye.value,Le=be+Ye(ye,Ce++),Be+=st(ye,W,me,Le,ve);else if(ye==="object")throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Be}function kt(M,W,me){if(M==null)return M;var be=[],ve=0;return st(M,be,"","",function(ye){return W.call(me,ye,ve++)}),be}function dt(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var Ie={current:null},ee={transition:null},le={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ee,ReactCurrentOwner:K};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:kt,forEach:function(M,W,me){kt(M,function(){W.apply(this,arguments)},me)},count:function(M){var W=0;return kt(M,function(){W++}),W},toArray:function(M){return kt(M,function(W){return W})||[]},only:function(M){if(!xe(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ae.Component=N,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=P,Ae.StrictMode=r,Ae.Suspense=f,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ae.act=te,Ae.cloneElement=function(M,W,me){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var be=S({},M.props),ve=M.key,ye=M.ref,Be=M._owner;if(W!=null){if(W.ref!==void 0&&(ye=W.ref,Be=K.current),W.key!==void 0&&(ve=""+W.key),M.type&&M.type.defaultProps)var Ce=M.type.defaultProps;for(Le in W)q.call(W,Le)&&!se.hasOwnProperty(Le)&&(be[Le]=W[Le]===void 0&&Ce!==void 0?Ce[Le]:W[Le])}var Le=arguments.length-2;if(Le===1)be.children=me;else if(1<Le){Ce=Array(Le);for(var _e=0;_e<Le;_e++)Ce[_e]=arguments[_e+2];be.children=Ce}return{$$typeof:e,type:M.type,key:ve,ref:ye,props:be,_owner:Be}},Ae.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Ae.createElement=ne,Ae.createFactory=function(M){var W=ne.bind(null,M);return W.type=M,W},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:d,render:M}},Ae.isValidElement=xe,Ae.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:dt}},Ae.memo=function(M,W){return{$$typeof:h,type:M,compare:W===void 0?null:W}},Ae.startTransition=function(M){var W=ee.transition;ee.transition={};try{M()}finally{ee.transition=W}},Ae.unstable_act=te,Ae.useCallback=function(M,W){return Ie.current.useCallback(M,W)},Ae.useContext=function(M){return Ie.current.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M){return Ie.current.useDeferredValue(M)},Ae.useEffect=function(M,W){return Ie.current.useEffect(M,W)},Ae.useId=function(){return Ie.current.useId()},Ae.useImperativeHandle=function(M,W,me){return Ie.current.useImperativeHandle(M,W,me)},Ae.useInsertionEffect=function(M,W){return Ie.current.useInsertionEffect(M,W)},Ae.useLayoutEffect=function(M,W){return Ie.current.useLayoutEffect(M,W)},Ae.useMemo=function(M,W){return Ie.current.useMemo(M,W)},Ae.useReducer=function(M,W,me){return Ie.current.useReducer(M,W,me)},Ae.useRef=function(M){return Ie.current.useRef(M)},Ae.useState=function(M){return Ie.current.useState(M)},Ae.useSyncExternalStore=function(M,W,me){return Ie.current.useSyncExternalStore(M,W,me)},Ae.useTransition=function(){return Ie.current.useTransition()},Ae.version="18.3.1",Ae}var Fm;function sh(){return Fm||(Fm=1,qd.exports=M_()),qd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function F_(){if(Bm)return Ia;Bm=1;var e=sh(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(d,f,h){var g,y={},_=null,x=null;h!==void 0&&(_=""+h),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)r.call(f,g)&&!u.hasOwnProperty(g)&&(y[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:t,type:d,key:_,ref:x,props:y,_owner:a.current}}return Ia.Fragment=n,Ia.jsx=l,Ia.jsxs=l,Ia}var Um;function B_(){return Um||(Um=1,zd.exports=F_()),zd.exports}var b=B_(),T=sh();const nn=rh(T);var Qo={},Wd={exports:{}},Xt={},Yd={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function U_(){return jm||(jm=1,function(e){function t(ee,le){var te=ee.length;ee.push(le);e:for(;0<te;){var M=te-1>>>1,W=ee[M];if(0<a(W,le))ee[M]=le,ee[te]=W,te=M;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var le=ee[0],te=ee.pop();if(te!==le){ee[0]=te;e:for(var M=0,W=ee.length,me=W>>>1;M<me;){var be=2*(M+1)-1,ve=ee[be],ye=be+1,Be=ee[ye];if(0>a(ve,te))ye<W&&0>a(Be,ve)?(ee[M]=Be,ee[ye]=te,M=ye):(ee[M]=ve,ee[be]=te,M=be);else if(ye<W&&0>a(Be,te))ee[M]=Be,ee[ye]=te,M=ye;else break e}}return le}function a(ee,le){var te=ee.sortIndex-le.sortIndex;return te!==0?te:ee.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],g=1,y=null,_=3,x=!1,S=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ee){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=ee)r(h),le.sortIndex=le.expirationTime,t(f,le);else break;le=n(h)}}function L(ee){if(A=!1,j(ee),!S)if(n(f)!==null)S=!0,dt(q);else{var le=n(h);le!==null&&Ie(L,le.startTime-ee)}}function q(ee,le){S=!1,A&&(A=!1,I(ne),ne=-1),x=!0;var te=_;try{for(j(le),y=n(f);y!==null&&(!(y.expirationTime>le)||ee&&!Re());){var M=y.callback;if(typeof M=="function"){y.callback=null,_=y.priorityLevel;var W=M(y.expirationTime<=le);le=e.unstable_now(),typeof W=="function"?y.callback=W:y===n(f)&&r(f),j(le)}else r(f);y=n(f)}if(y!==null)var me=!0;else{var be=n(h);be!==null&&Ie(L,be.startTime-le),me=!1}return me}finally{y=null,_=te,x=!1}}var K=!1,se=null,ne=-1,pe=5,xe=-1;function Re(){return!(e.unstable_now()-xe<pe)}function rt(){if(se!==null){var ee=e.unstable_now();xe=ee;var le=!0;try{le=se(!0,ee)}finally{le?Ye():(K=!1,se=null)}}else K=!1}var Ye;if(typeof P=="function")Ye=function(){P(rt)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,kt=st.port2;st.port1.onmessage=rt,Ye=function(){kt.postMessage(null)}}else Ye=function(){N(rt,0)};function dt(ee){se=ee,K||(K=!0,Ye())}function Ie(ee,le){ne=N(function(){ee(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){S||x||(S=!0,dt(q))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(ee){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var te=_;_=le;try{return ee()}finally{_=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var te=_;_=ee;try{return le()}finally{_=te}},e.unstable_scheduleCallback=function(ee,le,te){var M=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?M+te:M):te=M,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,ee={id:g++,callback:le,priorityLevel:ee,startTime:te,expirationTime:W,sortIndex:-1},te>M?(ee.sortIndex=te,t(h,ee),n(f)===null&&ee===n(h)&&(A?(I(ne),ne=-1):A=!0,Ie(L,te-M))):(ee.sortIndex=W,t(f,ee),S||x||(S=!0,dt(q))),ee},e.unstable_shouldYield=Re,e.unstable_wrapCallback=function(ee){var le=_;return function(){var te=_;_=le;try{return ee.apply(this,arguments)}finally{_=te}}}}(Vd)),Vd}var Hm;function j_(){return Hm||(Hm=1,Yd.exports=U_()),Yd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function H_(){if($m)return Xt;$m=1;var e=sh(),t=j_();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function u(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(a[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function _(s){return f.call(y,s)?!0:f.call(g,s)?!1:h.test(s)?y[s]=!0:(g[s]=!0,!1)}function x(s,i,o,c){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,i,o,c){if(i===null||typeof i>"u"||x(s,i,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function A(s,i,o,c,m,E,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=s,this.type=i,this.sanitizeURL=E,this.removeEmptyString=w}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];N[i]=new A(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(I,P);N[i]=new A(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(I,P);N[i]=new A(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(I,P);N[i]=new A(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,i,o,c){var m=N.hasOwnProperty(i)?N[i]:null;(m!==null?m.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,o,m,c)&&(o=null),c||m===null?_(i)&&(o===null?s.removeAttribute(i):s.setAttribute(i,""+o)):m.mustUseProperty?s[m.propertyName]=o===null?m.type===3?!1:"":o:(i=m.attributeName,c=m.attributeNamespace,o===null?s.removeAttribute(i):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,c?s.setAttributeNS(c,i,o):s.setAttribute(i,o))))}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),K=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),Re=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),ee=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,M;function W(s){if(M===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+s}var me=!1;function be(s,i){if(!s||me)return"";me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var c=H}Reflect.construct(s,[],i)}else{try{i.call()}catch(H){c=H}s.call(i.prototype)}else{try{throw Error()}catch(H){c=H}s()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),E=c.stack.split(`
`),w=m.length-1,k=E.length-1;1<=w&&0<=k&&m[w]!==E[k];)k--;for(;1<=w&&0<=k;w--,k--)if(m[w]!==E[k]){if(w!==1||k!==1)do if(w--,k--,0>k||m[w]!==E[k]){var O=`
`+m[w].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=w&&0<=k);break}}}finally{me=!1,Error.prepareStackTrace=o}return(s=s?s.displayName||s.name:"")?W(s):""}function ve(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function ye(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case se:return"Fragment";case K:return"Portal";case pe:return"Profiler";case ne:return"StrictMode";case Ye:return"Suspense";case st:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Re:return(s.displayName||"Context")+".Consumer";case xe:return(s._context.displayName||"Context")+".Provider";case rt:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case kt:return i=s.displayName||null,i!==null?i:ye(s.type)||"Memo";case dt:i=s._payload,s=s._init;try{return ye(s(i))}catch{}}return null}function Be(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(i);case 8:return i===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ce(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Le(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _e(s){var i=Le(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),c=""+s[i];if(!s.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,E=o.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){c=""+w,E.call(this,w)}}),Object.defineProperty(s,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Zn(s){s._valueTracker||(s._valueTracker=_e(s))}function ln(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return s&&(c=Le(s)?s.checked?"true":"false":s.value),s=c,s!==o?(i.setValue(s),!0):!1}function Dn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function cn(s,i){var o=i.checked;return te({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??s._wrapperState.initialChecked})}function mr(s,i){var o=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;o=Ce(i.value!=null?i.value:o),s._wrapperState={initialChecked:c,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function gr(s,i){i=i.checked,i!=null&&j(s,"checked",i,!1)}function Vs(s,i){gr(s,i);var o=Ce(i.value),c=i.type;if(o!=null)c==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+o):s.value!==""+o&&(s.value=""+o);else if(c==="submit"||c==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ms(s,i.type,o):i.hasOwnProperty("defaultValue")&&ms(s,i.type,Ce(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function qi(s,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,o||i===s.value||(s.value=i),s.defaultValue=i}o=s.name,o!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,o!==""&&(s.name=o)}function ms(s,i,o){(i!=="number"||Dn(s.ownerDocument)!==s)&&(o==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+o&&(s.defaultValue=""+o))}var zt=Array.isArray;function Pn(s,i,o,c){if(s=s.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=i.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&c&&(s[o].defaultSelected=!0)}else{for(o=""+Ce(o),i=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Or(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Wi(s,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(n(92));if(zt(o)){if(1<o.length)throw Error(n(93));o=o[0]}i=o}i==null&&(i=""),o=i}s._wrapperState={initialValue:Ce(o)}}function Yi(s,i){var o=Ce(i.value),c=Ce(i.defaultValue);o!=null&&(o=""+o,o!==s.value&&(s.value=o),i.defaultValue==null&&s.defaultValue!==o&&(s.defaultValue=o)),c!=null&&(s.defaultValue=""+c)}function Bu(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Uu(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Uu(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Mn,Lr=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,c,m){MSApp.execUnsafeLocalFunction(function(){return s(i,o,c,m)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Mn=Mn||document.createElement("div"),Mn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Mn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Dr(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ju=["Webkit","ms","Moz","O"];Object.keys(qt).forEach(function(s){ju.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),qt[i]=qt[s]})});function Hu(s,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||qt.hasOwnProperty(s)&&qt[s]?(""+i).trim():i+"px"}function $u(s,i){s=s.style;for(var o in i)if(i.hasOwnProperty(o)){var c=o.indexOf("--")===0,m=Hu(o,i[o],c);o==="float"&&(o="cssFloat"),c?s.setProperty(o,m):s[o]=m}}var Vi=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gs(s,i){if(i){if(Vi[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Gi(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=null;function Qi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ki=null,Pr=null,Je=null;function Rt(s){if(s=ga(s)){if(typeof Ki!="function")throw Error(n(280));var i=s.stateNode;i&&(i=lo(i),Ki(s.stateNode,s.type,i))}}function It(s){Pr?Je?Je.push(s):Je=[s]:Pr=s}function Fn(){if(Pr){var s=Pr,i=Je;if(Je=Pr=null,Rt(s),i)for(s=0;s<i.length;s++)Rt(i[s])}}function jt(s,i){return s(i)}function Ot(){}var Wt=!1;function Er(s,i,o){if(Wt)return s(i,o);Wt=!0;try{return jt(s,i,o)}finally{Wt=!1,(Pr!==null||Je!==null)&&(Ot(),Fn())}}function Ze(s,i){var o=s.stateNode;if(o===null)return null;var c=lo(o);if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(n(231,i,typeof o));return o}var Tn=!1;if(d)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{Tn=!1}function Bn(s,i,o,c,m,E,w,k,O){var H=Array.prototype.slice.call(arguments,3);try{i.apply(o,H)}catch(G){this.onError(G)}}var Un=!1,tr=null,dn=!1,br=null,Xi={onError:function(s){Un=!0,tr=s}};function qy(s,i,o,c,m,E,w,k,O){Un=!1,tr=null,Bn.apply(Xi,arguments)}function Wy(s,i,o,c,m,E,w,k,O){if(qy.apply(this,arguments),Un){if(Un){var H=tr;Un=!1,tr=null}else throw Error(n(198));dn||(dn=!0,br=H)}}function gs(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,i.flags&4098&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function i0(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function a0(s){if(gs(s)!==s)throw Error(n(188))}function Yy(s){var i=s.alternate;if(!i){if(i=gs(s),i===null)throw Error(n(188));return i!==s?null:s}for(var o=s,c=i;;){var m=o.return;if(m===null)break;var E=m.alternate;if(E===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===E.child){for(E=m.child;E;){if(E===o)return a0(m),s;if(E===c)return a0(m),i;E=E.sibling}throw Error(n(188))}if(o.return!==c.return)o=m,c=E;else{for(var w=!1,k=m.child;k;){if(k===o){w=!0,o=m,c=E;break}if(k===c){w=!0,c=m,o=E;break}k=k.sibling}if(!w){for(k=E.child;k;){if(k===o){w=!0,o=E,c=m;break}if(k===c){w=!0,c=E,o=m;break}k=k.sibling}if(!w)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?s:i}function u0(s){return s=Yy(s),s!==null?o0(s):null}function o0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=o0(s);if(i!==null)return i;s=s.sibling}return null}var l0=t.unstable_scheduleCallback,c0=t.unstable_cancelCallback,Vy=t.unstable_shouldYield,Gy=t.unstable_requestPaint,at=t.unstable_now,Qy=t.unstable_getCurrentPriorityLevel,lc=t.unstable_ImmediatePriority,d0=t.unstable_UserBlockingPriority,zu=t.unstable_NormalPriority,Ky=t.unstable_LowPriority,f0=t.unstable_IdlePriority,qu=null,nr=null;function Xy(s){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(qu,s,void 0,(s.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:eT,Jy=Math.log,Zy=Math.LN2;function eT(s){return s>>>=0,s===0?32:31-(Jy(s)/Zy|0)|0}var Wu=64,Yu=4194304;function Ji(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Vu(s,i){var o=s.pendingLanes;if(o===0)return 0;var c=0,m=s.suspendedLanes,E=s.pingedLanes,w=o&268435455;if(w!==0){var k=w&~m;k!==0?c=Ji(k):(E&=w,E!==0&&(c=Ji(E)))}else w=o&~m,w!==0?c=Ji(w):E!==0&&(c=Ji(E));if(c===0)return 0;if(i!==0&&i!==c&&!(i&m)&&(m=c&-c,E=i&-i,m>=E||m===16&&(E&4194240)!==0))return i;if(c&4&&(c|=o&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=c;0<i;)o=31-jn(i),m=1<<o,c|=s[o],i&=~m;return c}function tT(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nT(s,i){for(var o=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,E=s.pendingLanes;0<E;){var w=31-jn(E),k=1<<w,O=m[w];O===-1?(!(k&o)||k&c)&&(m[w]=tT(k,i)):O<=i&&(s.expiredLanes|=k),E&=~k}}function cc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function h0(){var s=Wu;return Wu<<=1,!(Wu&4194240)&&(Wu=64),s}function dc(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function Zi(s,i,o){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-jn(i),s[i]=o}function rT(s,i){var o=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var c=s.eventTimes;for(s=s.expirationTimes;0<o;){var m=31-jn(o),E=1<<m;i[m]=0,c[m]=-1,s[m]=-1,o&=~E}}function fc(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var c=31-jn(o),m=1<<c;m&i|s[c]&i&&(s[c]|=i),o&=~m}}var He=0;function p0(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var m0,hc,g0,E0,b0,pc=!1,Gu=[],Mr=null,Fr=null,Br=null,ea=new Map,ta=new Map,Ur=[],sT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y0(s,i){switch(s){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":ea.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(i.pointerId)}}function na(s,i,o,c,m,E){return s===null||s.nativeEvent!==E?(s={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:E,targetContainers:[m]},i!==null&&(i=ga(i),i!==null&&hc(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function iT(s,i,o,c,m){switch(i){case"focusin":return Mr=na(Mr,s,i,o,c,m),!0;case"dragenter":return Fr=na(Fr,s,i,o,c,m),!0;case"mouseover":return Br=na(Br,s,i,o,c,m),!0;case"pointerover":var E=m.pointerId;return ea.set(E,na(ea.get(E)||null,s,i,o,c,m)),!0;case"gotpointercapture":return E=m.pointerId,ta.set(E,na(ta.get(E)||null,s,i,o,c,m)),!0}return!1}function T0(s){var i=Es(s.target);if(i!==null){var o=gs(i);if(o!==null){if(i=o.tag,i===13){if(i=i0(o),i!==null){s.blockedOn=i,b0(s.priority,function(){g0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qu(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=gc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);Qs=c,o.target.dispatchEvent(c),Qs=null}else return i=ga(o),i!==null&&hc(i),s.blockedOn=o,!1;i.shift()}return!0}function _0(s,i,o){Qu(s)&&o.delete(i)}function aT(){pc=!1,Mr!==null&&Qu(Mr)&&(Mr=null),Fr!==null&&Qu(Fr)&&(Fr=null),Br!==null&&Qu(Br)&&(Br=null),ea.forEach(_0),ta.forEach(_0)}function ra(s,i){s.blockedOn===i&&(s.blockedOn=null,pc||(pc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aT)))}function sa(s){function i(m){return ra(m,s)}if(0<Gu.length){ra(Gu[0],s);for(var o=1;o<Gu.length;o++){var c=Gu[o];c.blockedOn===s&&(c.blockedOn=null)}}for(Mr!==null&&ra(Mr,s),Fr!==null&&ra(Fr,s),Br!==null&&ra(Br,s),ea.forEach(i),ta.forEach(i),o=0;o<Ur.length;o++)c=Ur[o],c.blockedOn===s&&(c.blockedOn=null);for(;0<Ur.length&&(o=Ur[0],o.blockedOn===null);)T0(o),o.blockedOn===null&&Ur.shift()}var Ks=L.ReactCurrentBatchConfig,Ku=!0;function uT(s,i,o,c){var m=He,E=Ks.transition;Ks.transition=null;try{He=1,mc(s,i,o,c)}finally{He=m,Ks.transition=E}}function oT(s,i,o,c){var m=He,E=Ks.transition;Ks.transition=null;try{He=4,mc(s,i,o,c)}finally{He=m,Ks.transition=E}}function mc(s,i,o,c){if(Ku){var m=gc(s,i,o,c);if(m===null)Lc(s,i,c,Xu,o),y0(s,c);else if(iT(m,s,i,o,c))c.stopPropagation();else if(y0(s,c),i&4&&-1<sT.indexOf(s)){for(;m!==null;){var E=ga(m);if(E!==null&&m0(E),E=gc(s,i,o,c),E===null&&Lc(s,i,c,Xu,o),E===m)break;m=E}m!==null&&c.stopPropagation()}else Lc(s,i,c,null,o)}}var Xu=null;function gc(s,i,o,c){if(Xu=null,s=Qi(c),s=Es(s),s!==null)if(i=gs(s),i===null)s=null;else if(o=i.tag,o===13){if(s=i0(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Xu=s,null}function w0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qy()){case lc:return 1;case d0:return 4;case zu:case Ky:return 16;case f0:return 536870912;default:return 16}default:return 16}}var jr=null,Ec=null,Ju=null;function x0(){if(Ju)return Ju;var s,i=Ec,o=i.length,c,m="value"in jr?jr.value:jr.textContent,E=m.length;for(s=0;s<o&&i[s]===m[s];s++);var w=o-s;for(c=1;c<=w&&i[o-c]===m[E-c];c++);return Ju=m.slice(s,1<c?1-c:void 0)}function Zu(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function eo(){return!0}function S0(){return!1}function fn(s){function i(o,c,m,E,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=E,this.target=w,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(o=s[k],this[k]=o?o(E):E[k]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?eo:S0,this.isPropagationStopped=S0,this}return te(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),i}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bc=fn(Xs),ia=te({},Xs,{view:0,detail:0}),lT=fn(ia),yc,Tc,aa,to=te({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==aa&&(aa&&s.type==="mousemove"?(yc=s.screenX-aa.screenX,Tc=s.screenY-aa.screenY):Tc=yc=0,aa=s),yc)},movementY:function(s){return"movementY"in s?s.movementY:Tc}}),v0=fn(to),cT=te({},to,{dataTransfer:0}),dT=fn(cT),fT=te({},ia,{relatedTarget:0}),_c=fn(fT),hT=te({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),pT=fn(hT),mT=te({},Xs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),gT=fn(mT),ET=te({},Xs,{data:0}),C0=fn(ET),bT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _T(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=TT[s])?!!i[s]:!1}function wc(){return _T}var wT=te({},ia,{key:function(s){if(s.key){var i=bT[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Zu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yT[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(s){return s.type==="keypress"?Zu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Zu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),xT=fn(wT),ST=te({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A0=fn(ST),vT=te({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),CT=fn(vT),AT=te({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),NT=fn(AT),kT=te({},to,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=fn(kT),IT=[9,13,27,32],xc=d&&"CompositionEvent"in window,ua=null;d&&"documentMode"in document&&(ua=document.documentMode);var OT=d&&"TextEvent"in window&&!ua,N0=d&&(!xc||ua&&8<ua&&11>=ua),k0=" ",R0=!1;function I0(s,i){switch(s){case"keyup":return IT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Js=!1;function LT(s,i){switch(s){case"compositionend":return O0(i);case"keypress":return i.which!==32?null:(R0=!0,k0);case"textInput":return s=i.data,s===k0&&R0?null:s;default:return null}}function DT(s,i){if(Js)return s==="compositionend"||!xc&&I0(s,i)?(s=x0(),Ju=Ec=jr=null,Js=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return N0&&i.locale!=="ko"?null:i.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L0(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!PT[s.type]:i==="textarea"}function D0(s,i,o,c){It(c),i=ao(i,"onChange"),0<i.length&&(o=new bc("onChange","change",null,o,c),s.push({event:o,listeners:i}))}var oa=null,la=null;function MT(s){J0(s,0)}function no(s){var i=ri(s);if(ln(i))return s}function FT(s,i){if(s==="change")return i}var P0=!1;if(d){var Sc;if(d){var vc="oninput"in document;if(!vc){var M0=document.createElement("div");M0.setAttribute("oninput","return;"),vc=typeof M0.oninput=="function"}Sc=vc}else Sc=!1;P0=Sc&&(!document.documentMode||9<document.documentMode)}function F0(){oa&&(oa.detachEvent("onpropertychange",B0),la=oa=null)}function B0(s){if(s.propertyName==="value"&&no(la)){var i=[];D0(i,la,s,Qi(s)),Er(MT,i)}}function BT(s,i,o){s==="focusin"?(F0(),oa=i,la=o,oa.attachEvent("onpropertychange",B0)):s==="focusout"&&F0()}function UT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return no(la)}function jT(s,i){if(s==="click")return no(i)}function HT(s,i){if(s==="input"||s==="change")return no(i)}function $T(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Hn=typeof Object.is=="function"?Object.is:$T;function ca(s,i){if(Hn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!f.call(i,m)||!Hn(s[m],i[m]))return!1}return!0}function U0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function j0(s,i){var o=U0(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=i&&c>=i)return{node:o,offset:i-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=U0(o)}}function H0(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?H0(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function $0(){for(var s=window,i=Dn();i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=Dn(s.document)}return i}function Cc(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function zT(s){var i=$0(),o=s.focusedElem,c=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&H0(o.ownerDocument.documentElement,o)){if(c!==null&&Cc(o)){if(i=c.start,s=c.end,s===void 0&&(s=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(s,o.value.length);else if(s=(i=o.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var m=o.textContent.length,E=Math.min(c.start,m);c=c.end===void 0?E:Math.min(c.end,m),!s.extend&&E>c&&(m=c,c=E,E=m),m=j0(o,E);var w=j0(o,c);m&&w&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==w.node||s.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),s.removeAllRanges(),E>c?(s.addRange(i),s.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),s.addRange(i)))}}for(i=[],s=o;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)s=i[o],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var qT=d&&"documentMode"in document&&11>=document.documentMode,Zs=null,Ac=null,da=null,Nc=!1;function z0(s,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nc||Zs==null||Zs!==Dn(c)||(c=Zs,"selectionStart"in c&&Cc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),da&&ca(da,c)||(da=c,c=ao(Ac,"onSelect"),0<c.length&&(i=new bc("onSelect","select",null,i,o),s.push({event:i,listeners:c}),i.target=Zs)))}function ro(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var ei={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},kc={},q0={};d&&(q0=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function so(s){if(kc[s])return kc[s];if(!ei[s])return s;var i=ei[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in q0)return kc[s]=i[o];return s}var W0=so("animationend"),Y0=so("animationiteration"),V0=so("animationstart"),G0=so("transitionend"),Q0=new Map,K0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(s,i){Q0.set(s,i),u(i,[s])}for(var Rc=0;Rc<K0.length;Rc++){var Ic=K0[Rc],WT=Ic.toLowerCase(),YT=Ic[0].toUpperCase()+Ic.slice(1);Hr(WT,"on"+YT)}Hr(W0,"onAnimationEnd"),Hr(Y0,"onAnimationIteration"),Hr(V0,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(G0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VT=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function X0(s,i,o){var c=s.type||"unknown-event";s.currentTarget=o,Wy(c,i,void 0,s),s.currentTarget=null}function J0(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],m=c.event;c=c.listeners;e:{var E=void 0;if(i)for(var w=c.length-1;0<=w;w--){var k=c[w],O=k.instance,H=k.currentTarget;if(k=k.listener,O!==E&&m.isPropagationStopped())break e;X0(m,k,H),E=O}else for(w=0;w<c.length;w++){if(k=c[w],O=k.instance,H=k.currentTarget,k=k.listener,O!==E&&m.isPropagationStopped())break e;X0(m,k,H),E=O}}}if(dn)throw s=br,dn=!1,br=null,s}function Ve(s,i){var o=i[Uc];o===void 0&&(o=i[Uc]=new Set);var c=s+"__bubble";o.has(c)||(Z0(i,s,2,!1),o.add(c))}function Oc(s,i,o){var c=0;i&&(c|=4),Z0(o,s,c,i)}var io="_reactListening"+Math.random().toString(36).slice(2);function ha(s){if(!s[io]){s[io]=!0,r.forEach(function(o){o!=="selectionchange"&&(VT.has(o)||Oc(o,!1,s),Oc(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[io]||(i[io]=!0,Oc("selectionchange",!1,i))}}function Z0(s,i,o,c){switch(w0(i)){case 1:var m=uT;break;case 4:m=oT;break;default:m=mc}o=m.bind(null,i,o,s),m=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(i,o,{capture:!0,passive:m}):s.addEventListener(i,o,!0):m!==void 0?s.addEventListener(i,o,{passive:m}):s.addEventListener(i,o,!1)}function Lc(s,i,o,c,m){var E=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var k=c.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(w===4)for(w=c.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;w=w.return}for(;k!==null;){if(w=Es(k),w===null)return;if(O=w.tag,O===5||O===6){c=E=w;continue e}k=k.parentNode}}c=c.return}Er(function(){var H=E,G=Qi(o),X=[];e:{var V=Q0.get(s);if(V!==void 0){var re=bc,ae=s;switch(s){case"keypress":if(Zu(o)===0)break e;case"keydown":case"keyup":re=xT;break;case"focusin":ae="focus",re=_c;break;case"focusout":ae="blur",re=_c;break;case"beforeblur":case"afterblur":re=_c;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=v0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=dT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=CT;break;case W0:case Y0:case V0:re=pT;break;case G0:re=NT;break;case"scroll":re=lT;break;case"wheel":re=RT;break;case"copy":case"cut":case"paste":re=gT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=A0}var ue=(i&4)!==0,ut=!ue&&s==="scroll",B=ue?V!==null?V+"Capture":null:V;ue=[];for(var D=H,U;D!==null;){U=D;var Z=U.stateNode;if(U.tag===5&&Z!==null&&(U=Z,B!==null&&(Z=Ze(D,B),Z!=null&&ue.push(pa(D,Z,U)))),ut)break;D=D.return}0<ue.length&&(V=new re(V,ae,null,o,G),X.push({event:V,listeners:ue}))}}if(!(i&7)){e:{if(V=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",V&&o!==Qs&&(ae=o.relatedTarget||o.fromElement)&&(Es(ae)||ae[yr]))break e;if((re||V)&&(V=G.window===G?G:(V=G.ownerDocument)?V.defaultView||V.parentWindow:window,re?(ae=o.relatedTarget||o.toElement,re=H,ae=ae?Es(ae):null,ae!==null&&(ut=gs(ae),ae!==ut||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=H),re!==ae)){if(ue=v0,Z="onMouseLeave",B="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(ue=A0,Z="onPointerLeave",B="onPointerEnter",D="pointer"),ut=re==null?V:ri(re),U=ae==null?V:ri(ae),V=new ue(Z,D+"leave",re,o,G),V.target=ut,V.relatedTarget=U,Z=null,Es(G)===H&&(ue=new ue(B,D+"enter",ae,o,G),ue.target=U,ue.relatedTarget=ut,Z=ue),ut=Z,re&&ae)t:{for(ue=re,B=ae,D=0,U=ue;U;U=ti(U))D++;for(U=0,Z=B;Z;Z=ti(Z))U++;for(;0<D-U;)ue=ti(ue),D--;for(;0<U-D;)B=ti(B),U--;for(;D--;){if(ue===B||B!==null&&ue===B.alternate)break t;ue=ti(ue),B=ti(B)}ue=null}else ue=null;re!==null&&ep(X,V,re,ue,!1),ae!==null&&ut!==null&&ep(X,ut,ae,ue,!0)}}e:{if(V=H?ri(H):window,re=V.nodeName&&V.nodeName.toLowerCase(),re==="select"||re==="input"&&V.type==="file")var oe=FT;else if(L0(V))if(P0)oe=HT;else{oe=UT;var ce=BT}else(re=V.nodeName)&&re.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(oe=jT);if(oe&&(oe=oe(s,H))){D0(X,oe,o,G);break e}ce&&ce(s,V,H),s==="focusout"&&(ce=V._wrapperState)&&ce.controlled&&V.type==="number"&&ms(V,"number",V.value)}switch(ce=H?ri(H):window,s){case"focusin":(L0(ce)||ce.contentEditable==="true")&&(Zs=ce,Ac=H,da=null);break;case"focusout":da=Ac=Zs=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,z0(X,o,G);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":z0(X,o,G)}var de;if(xc)e:{switch(s){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Js?I0(s,o)&&(ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(ge="onCompositionStart");ge&&(N0&&o.locale!=="ko"&&(Js||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Js&&(de=x0()):(jr=G,Ec="value"in jr?jr.value:jr.textContent,Js=!0)),ce=ao(H,ge),0<ce.length&&(ge=new C0(ge,s,null,o,G),X.push({event:ge,listeners:ce}),de?ge.data=de:(de=O0(o),de!==null&&(ge.data=de)))),(de=OT?LT(s,o):DT(s,o))&&(H=ao(H,"onBeforeInput"),0<H.length&&(G=new C0("onBeforeInput","beforeinput",null,o,G),X.push({event:G,listeners:H}),G.data=de))}J0(X,i)})}function pa(s,i,o){return{instance:s,listener:i,currentTarget:o}}function ao(s,i){for(var o=i+"Capture",c=[];s!==null;){var m=s,E=m.stateNode;m.tag===5&&E!==null&&(m=E,E=Ze(s,o),E!=null&&c.unshift(pa(s,E,m)),E=Ze(s,i),E!=null&&c.push(pa(s,E,m))),s=s.return}return c}function ti(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ep(s,i,o,c,m){for(var E=i._reactName,w=[];o!==null&&o!==c;){var k=o,O=k.alternate,H=k.stateNode;if(O!==null&&O===c)break;k.tag===5&&H!==null&&(k=H,m?(O=Ze(o,E),O!=null&&w.unshift(pa(o,O,k))):m||(O=Ze(o,E),O!=null&&w.push(pa(o,O,k)))),o=o.return}w.length!==0&&s.push({event:i,listeners:w})}var GT=/\r\n?/g,QT=/\u0000|\uFFFD/g;function tp(s){return(typeof s=="string"?s:""+s).replace(GT,`
`).replace(QT,"")}function uo(s,i,o){if(i=tp(i),tp(s)!==i&&o)throw Error(n(425))}function oo(){}var Dc=null,Pc=null;function Mc(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fc=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,np=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof np<"u"?function(s){return np.resolve(null).then(s).catch(JT)}:Fc;function JT(s){setTimeout(function(){throw s})}function Bc(s,i){var o=i,c=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(c===0){s.removeChild(m),sa(i);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=m}while(o);sa(i)}function $r(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function rp(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return s;i--}else o==="/$"&&i++}s=s.previousSibling}return null}var ni=Math.random().toString(36).slice(2),rr="__reactFiber$"+ni,ma="__reactProps$"+ni,yr="__reactContainer$"+ni,Uc="__reactEvents$"+ni,ZT="__reactListeners$"+ni,e_="__reactHandles$"+ni;function Es(s){var i=s[rr];if(i)return i;for(var o=s.parentNode;o;){if(i=o[yr]||o[rr]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=rp(s);s!==null;){if(o=s[rr])return o;s=rp(s)}return i}s=o,o=s.parentNode}return null}function ga(s){return s=s[rr]||s[yr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ri(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function lo(s){return s[ma]||null}var jc=[],si=-1;function zr(s){return{current:s}}function Ge(s){0>si||(s.current=jc[si],jc[si]=null,si--)}function qe(s,i){si++,jc[si]=s.current,s.current=i}var qr={},Dt=zr(qr),Yt=zr(!1),bs=qr;function ii(s,i){var o=s.type.contextTypes;if(!o)return qr;var c=s.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var m={},E;for(E in o)m[E]=i[E];return c&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=m),m}function Vt(s){return s=s.childContextTypes,s!=null}function co(){Ge(Yt),Ge(Dt)}function sp(s,i,o){if(Dt.current!==qr)throw Error(n(168));qe(Dt,i),qe(Yt,o)}function ip(s,i,o){var c=s.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var m in c)if(!(m in i))throw Error(n(108,Be(s)||"Unknown",m));return te({},o,c)}function fo(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||qr,bs=Dt.current,qe(Dt,s),qe(Yt,Yt.current),!0}function ap(s,i,o){var c=s.stateNode;if(!c)throw Error(n(169));o?(s=ip(s,i,bs),c.__reactInternalMemoizedMergedChildContext=s,Ge(Yt),Ge(Dt),qe(Dt,s)):Ge(Yt),qe(Yt,o)}var Tr=null,ho=!1,Hc=!1;function up(s){Tr===null?Tr=[s]:Tr.push(s)}function t_(s){ho=!0,up(s)}function Wr(){if(!Hc&&Tr!==null){Hc=!0;var s=0,i=He;try{var o=Tr;for(He=1;s<o.length;s++){var c=o[s];do c=c(!0);while(c!==null)}Tr=null,ho=!1}catch(m){throw Tr!==null&&(Tr=Tr.slice(s+1)),l0(lc,Wr),m}finally{He=i,Hc=!1}}return null}var ai=[],ui=0,po=null,mo=0,_n=[],wn=0,ys=null,_r=1,wr="";function Ts(s,i){ai[ui++]=mo,ai[ui++]=po,po=s,mo=i}function op(s,i,o){_n[wn++]=_r,_n[wn++]=wr,_n[wn++]=ys,ys=s;var c=_r;s=wr;var m=32-jn(c)-1;c&=~(1<<m),o+=1;var E=32-jn(i)+m;if(30<E){var w=m-m%5;E=(c&(1<<w)-1).toString(32),c>>=w,m-=w,_r=1<<32-jn(i)+m|o<<m|c,wr=E+s}else _r=1<<E|o<<m|c,wr=s}function $c(s){s.return!==null&&(Ts(s,1),op(s,1,0))}function zc(s){for(;s===po;)po=ai[--ui],ai[ui]=null,mo=ai[--ui],ai[ui]=null;for(;s===ys;)ys=_n[--wn],_n[wn]=null,wr=_n[--wn],_n[wn]=null,_r=_n[--wn],_n[wn]=null}var hn=null,pn=null,Qe=!1,$n=null;function lp(s,i){var o=Cn(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=s,i=s.deletions,i===null?(s.deletions=[o],s.flags|=16):i.push(o)}function cp(s,i){switch(s.tag){case 5:var o=s.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,hn=s,pn=$r(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,hn=s,pn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=ys!==null?{id:_r,overflow:wr}:null,s.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Cn(18,null,null,0),o.stateNode=i,o.return=s,s.child=o,hn=s,pn=null,!0):!1;default:return!1}}function qc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Wc(s){if(Qe){var i=pn;if(i){var o=i;if(!cp(s,i)){if(qc(s))throw Error(n(418));i=$r(o.nextSibling);var c=hn;i&&cp(s,i)?lp(c,o):(s.flags=s.flags&-4097|2,Qe=!1,hn=s)}}else{if(qc(s))throw Error(n(418));s.flags=s.flags&-4097|2,Qe=!1,hn=s}}}function dp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;hn=s}function go(s){if(s!==hn)return!1;if(!Qe)return dp(s),Qe=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Mc(s.type,s.memoizedProps)),i&&(i=pn)){if(qc(s))throw fp(),Error(n(418));for(;i;)lp(s,i),i=$r(i.nextSibling)}if(dp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"){if(i===0){pn=$r(s.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}s=s.nextSibling}pn=null}}else pn=hn?$r(s.stateNode.nextSibling):null;return!0}function fp(){for(var s=pn;s;)s=$r(s.nextSibling)}function oi(){pn=hn=null,Qe=!1}function Yc(s){$n===null?$n=[s]:$n.push(s)}var n_=L.ReactCurrentBatchConfig;function Ea(s,i,o){if(s=o.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,s));var m=c,E=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===E?i.ref:(i=function(w){var k=m.refs;w===null?delete k[E]:k[E]=w},i._stringRef=E,i)}if(typeof s!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,s))}return s}function Eo(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function hp(s){var i=s._init;return i(s._payload)}function pp(s){function i(B,D){if(s){var U=B.deletions;U===null?(B.deletions=[D],B.flags|=16):U.push(D)}}function o(B,D){if(!s)return null;for(;D!==null;)i(B,D),D=D.sibling;return null}function c(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function m(B,D){return B=Zr(B,D),B.index=0,B.sibling=null,B}function E(B,D,U){return B.index=U,s?(U=B.alternate,U!==null?(U=U.index,U<D?(B.flags|=2,D):U):(B.flags|=2,D)):(B.flags|=1048576,D)}function w(B){return s&&B.alternate===null&&(B.flags|=2),B}function k(B,D,U,Z){return D===null||D.tag!==6?(D=Fd(U,B.mode,Z),D.return=B,D):(D=m(D,U),D.return=B,D)}function O(B,D,U,Z){var oe=U.type;return oe===se?G(B,D,U.props.children,Z,U.key):D!==null&&(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===dt&&hp(oe)===D.type)?(Z=m(D,U.props),Z.ref=Ea(B,D,U),Z.return=B,Z):(Z=Ho(U.type,U.key,U.props,null,B.mode,Z),Z.ref=Ea(B,D,U),Z.return=B,Z)}function H(B,D,U,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Bd(U,B.mode,Z),D.return=B,D):(D=m(D,U.children||[]),D.return=B,D)}function G(B,D,U,Z,oe){return D===null||D.tag!==7?(D=Ns(U,B.mode,Z,oe),D.return=B,D):(D=m(D,U),D.return=B,D)}function X(B,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Fd(""+D,B.mode,U),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return U=Ho(D.type,D.key,D.props,null,B.mode,U),U.ref=Ea(B,null,D),U.return=B,U;case K:return D=Bd(D,B.mode,U),D.return=B,D;case dt:var Z=D._init;return X(B,Z(D._payload),U)}if(zt(D)||le(D))return D=Ns(D,B.mode,U,null),D.return=B,D;Eo(B,D)}return null}function V(B,D,U,Z){var oe=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return oe!==null?null:k(B,D,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return U.key===oe?O(B,D,U,Z):null;case K:return U.key===oe?H(B,D,U,Z):null;case dt:return oe=U._init,V(B,D,oe(U._payload),Z)}if(zt(U)||le(U))return oe!==null?null:G(B,D,U,Z,null);Eo(B,U)}return null}function re(B,D,U,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return B=B.get(U)||null,k(D,B,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:return B=B.get(Z.key===null?U:Z.key)||null,O(D,B,Z,oe);case K:return B=B.get(Z.key===null?U:Z.key)||null,H(D,B,Z,oe);case dt:var ce=Z._init;return re(B,D,U,ce(Z._payload),oe)}if(zt(Z)||le(Z))return B=B.get(U)||null,G(D,B,Z,oe,null);Eo(D,Z)}return null}function ae(B,D,U,Z){for(var oe=null,ce=null,de=D,ge=D=0,yt=null;de!==null&&ge<U.length;ge++){de.index>ge?(yt=de,de=null):yt=de.sibling;var Fe=V(B,de,U[ge],Z);if(Fe===null){de===null&&(de=yt);break}s&&de&&Fe.alternate===null&&i(B,de),D=E(Fe,D,ge),ce===null?oe=Fe:ce.sibling=Fe,ce=Fe,de=yt}if(ge===U.length)return o(B,de),Qe&&Ts(B,ge),oe;if(de===null){for(;ge<U.length;ge++)de=X(B,U[ge],Z),de!==null&&(D=E(de,D,ge),ce===null?oe=de:ce.sibling=de,ce=de);return Qe&&Ts(B,ge),oe}for(de=c(B,de);ge<U.length;ge++)yt=re(de,B,ge,U[ge],Z),yt!==null&&(s&&yt.alternate!==null&&de.delete(yt.key===null?ge:yt.key),D=E(yt,D,ge),ce===null?oe=yt:ce.sibling=yt,ce=yt);return s&&de.forEach(function(es){return i(B,es)}),Qe&&Ts(B,ge),oe}function ue(B,D,U,Z){var oe=le(U);if(typeof oe!="function")throw Error(n(150));if(U=oe.call(U),U==null)throw Error(n(151));for(var ce=oe=null,de=D,ge=D=0,yt=null,Fe=U.next();de!==null&&!Fe.done;ge++,Fe=U.next()){de.index>ge?(yt=de,de=null):yt=de.sibling;var es=V(B,de,Fe.value,Z);if(es===null){de===null&&(de=yt);break}s&&de&&es.alternate===null&&i(B,de),D=E(es,D,ge),ce===null?oe=es:ce.sibling=es,ce=es,de=yt}if(Fe.done)return o(B,de),Qe&&Ts(B,ge),oe;if(de===null){for(;!Fe.done;ge++,Fe=U.next())Fe=X(B,Fe.value,Z),Fe!==null&&(D=E(Fe,D,ge),ce===null?oe=Fe:ce.sibling=Fe,ce=Fe);return Qe&&Ts(B,ge),oe}for(de=c(B,de);!Fe.done;ge++,Fe=U.next())Fe=re(de,B,ge,Fe.value,Z),Fe!==null&&(s&&Fe.alternate!==null&&de.delete(Fe.key===null?ge:Fe.key),D=E(Fe,D,ge),ce===null?oe=Fe:ce.sibling=Fe,ce=Fe);return s&&de.forEach(function(D_){return i(B,D_)}),Qe&&Ts(B,ge),oe}function ut(B,D,U,Z){if(typeof U=="object"&&U!==null&&U.type===se&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case q:e:{for(var oe=U.key,ce=D;ce!==null;){if(ce.key===oe){if(oe=U.type,oe===se){if(ce.tag===7){o(B,ce.sibling),D=m(ce,U.props.children),D.return=B,B=D;break e}}else if(ce.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===dt&&hp(oe)===ce.type){o(B,ce.sibling),D=m(ce,U.props),D.ref=Ea(B,ce,U),D.return=B,B=D;break e}o(B,ce);break}else i(B,ce);ce=ce.sibling}U.type===se?(D=Ns(U.props.children,B.mode,Z,U.key),D.return=B,B=D):(Z=Ho(U.type,U.key,U.props,null,B.mode,Z),Z.ref=Ea(B,D,U),Z.return=B,B=Z)}return w(B);case K:e:{for(ce=U.key;D!==null;){if(D.key===ce)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){o(B,D.sibling),D=m(D,U.children||[]),D.return=B,B=D;break e}else{o(B,D);break}else i(B,D);D=D.sibling}D=Bd(U,B.mode,Z),D.return=B,B=D}return w(B);case dt:return ce=U._init,ut(B,D,ce(U._payload),Z)}if(zt(U))return ae(B,D,U,Z);if(le(U))return ue(B,D,U,Z);Eo(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,D!==null&&D.tag===6?(o(B,D.sibling),D=m(D,U),D.return=B,B=D):(o(B,D),D=Fd(U,B.mode,Z),D.return=B,B=D),w(B)):o(B,D)}return ut}var li=pp(!0),mp=pp(!1),bo=zr(null),yo=null,ci=null,Vc=null;function Gc(){Vc=ci=yo=null}function Qc(s){var i=bo.current;Ge(bo),s._currentValue=i}function Kc(s,i,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===o)break;s=s.return}}function di(s,i){yo=s,Vc=ci=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&i&&(Gt=!0),s.firstContext=null)}function xn(s){var i=s._currentValue;if(Vc!==s)if(s={context:s,memoizedValue:i,next:null},ci===null){if(yo===null)throw Error(n(308));ci=s,yo.dependencies={lanes:0,firstContext:s}}else ci=ci.next=s;return i}var _s=null;function Xc(s){_s===null?_s=[s]:_s.push(s)}function gp(s,i,o,c){var m=i.interleaved;return m===null?(o.next=o,Xc(i)):(o.next=m.next,m.next=o),i.interleaved=o,xr(s,c)}function xr(s,i){s.lanes|=i;var o=s.alternate;for(o!==null&&(o.lanes|=i),o=s,s=s.return;s!==null;)s.childLanes|=i,o=s.alternate,o!==null&&(o.childLanes|=i),o=s,s=s.return;return o.tag===3?o.stateNode:null}var Yr=!1;function Jc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ep(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Sr(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Vr(s,i,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,De&2){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,xr(s,o)}return m=c.interleaved,m===null?(i.next=i,Xc(c)):(i.next=m.next,m.next=i),c.interleaved=i,xr(s,o)}function To(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,fc(s,o)}}function bp(s,i){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,E=null;if(o=o.firstBaseUpdate,o!==null){do{var w={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};E===null?m=E=w:E=E.next=w,o=o.next}while(o!==null);E===null?m=E=i:E=E.next=i}else m=E=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:E,shared:c.shared,effects:c.effects},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}function _o(s,i,o,c){var m=s.updateQueue;Yr=!1;var E=m.firstBaseUpdate,w=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var O=k,H=O.next;O.next=null,w===null?E=H:w.next=H,w=O;var G=s.alternate;G!==null&&(G=G.updateQueue,k=G.lastBaseUpdate,k!==w&&(k===null?G.firstBaseUpdate=H:k.next=H,G.lastBaseUpdate=O))}if(E!==null){var X=m.baseState;w=0,G=H=O=null,k=E;do{var V=k.lane,re=k.eventTime;if((c&V)===V){G!==null&&(G=G.next={eventTime:re,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ae=s,ue=k;switch(V=i,re=o,ue.tag){case 1:if(ae=ue.payload,typeof ae=="function"){X=ae.call(re,X,V);break e}X=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ue.payload,V=typeof ae=="function"?ae.call(re,X,V):ae,V==null)break e;X=te({},X,V);break e;case 2:Yr=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,V=m.effects,V===null?m.effects=[k]:V.push(k))}else re={eventTime:re,lane:V,tag:k.tag,payload:k.payload,callback:k.callback,next:null},G===null?(H=G=re,O=X):G=G.next=re,w|=V;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;V=k,k=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);if(G===null&&(O=X),m.baseState=O,m.firstBaseUpdate=H,m.lastBaseUpdate=G,i=m.shared.interleaved,i!==null){m=i;do w|=m.lane,m=m.next;while(m!==i)}else E===null&&(m.shared.lanes=0);Ss|=w,s.lanes=w,s.memoizedState=X}}function yp(s,i,o){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var c=s[i],m=c.callback;if(m!==null){if(c.callback=null,c=o,typeof m!="function")throw Error(n(191,m));m.call(c)}}}var ba={},sr=zr(ba),ya=zr(ba),Ta=zr(ba);function ws(s){if(s===ba)throw Error(n(174));return s}function Zc(s,i){switch(qe(Ta,i),qe(ya,s),qe(sr,ba),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:er(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=er(i,s)}Ge(sr),qe(sr,i)}function fi(){Ge(sr),Ge(ya),Ge(Ta)}function Tp(s){ws(Ta.current);var i=ws(sr.current),o=er(i,s.type);i!==o&&(qe(ya,s),qe(sr,o))}function ed(s){ya.current===s&&(Ge(sr),Ge(ya))}var et=zr(0);function wo(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var td=[];function nd(){for(var s=0;s<td.length;s++)td[s]._workInProgressVersionPrimary=null;td.length=0}var xo=L.ReactCurrentDispatcher,rd=L.ReactCurrentBatchConfig,xs=0,tt=null,ft=null,Et=null,So=!1,_a=!1,wa=0,r_=0;function Pt(){throw Error(n(321))}function sd(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Hn(s[o],i[o]))return!1;return!0}function id(s,i,o,c,m,E){if(xs=E,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,xo.current=s===null||s.memoizedState===null?u_:o_,s=o(c,m),_a){E=0;do{if(_a=!1,wa=0,25<=E)throw Error(n(301));E+=1,Et=ft=null,i.updateQueue=null,xo.current=l_,s=o(c,m)}while(_a)}if(xo.current=Ao,i=ft!==null&&ft.next!==null,xs=0,Et=ft=tt=null,So=!1,i)throw Error(n(300));return s}function ad(){var s=wa!==0;return wa=0,s}function ir(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?tt.memoizedState=Et=s:Et=Et.next=s,Et}function Sn(){if(ft===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=ft.next;var i=Et===null?tt.memoizedState:Et.next;if(i!==null)Et=i,ft=s;else{if(s===null)throw Error(n(310));ft=s,s={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Et===null?tt.memoizedState=Et=s:Et=Et.next=s}return Et}function xa(s,i){return typeof i=="function"?i(s):i}function ud(s){var i=Sn(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=s;var c=ft,m=c.baseQueue,E=o.pending;if(E!==null){if(m!==null){var w=m.next;m.next=E.next,E.next=w}c.baseQueue=m=E,o.pending=null}if(m!==null){E=m.next,c=c.baseState;var k=w=null,O=null,H=E;do{var G=H.lane;if((xs&G)===G)O!==null&&(O=O.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:s(c,H.action);else{var X={lane:G,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};O===null?(k=O=X,w=c):O=O.next=X,tt.lanes|=G,Ss|=G}H=H.next}while(H!==null&&H!==E);O===null?w=c:O.next=k,Hn(c,i.memoizedState)||(Gt=!0),i.memoizedState=c,i.baseState=w,i.baseQueue=O,o.lastRenderedState=c}if(s=o.interleaved,s!==null){m=s;do E=m.lane,tt.lanes|=E,Ss|=E,m=m.next;while(m!==s)}else m===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function od(s){var i=Sn(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=s;var c=o.dispatch,m=o.pending,E=i.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do E=s(E,w.action),w=w.next;while(w!==m);Hn(E,i.memoizedState)||(Gt=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),o.lastRenderedState=E}return[E,c]}function _p(){}function wp(s,i){var o=tt,c=Sn(),m=i(),E=!Hn(c.memoizedState,m);if(E&&(c.memoizedState=m,Gt=!0),c=c.queue,ld(vp.bind(null,o,c,s),[s]),c.getSnapshot!==i||E||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,Sa(9,Sp.bind(null,o,c,m,i),void 0,null),bt===null)throw Error(n(349));xs&30||xp(o,i,m)}return m}function xp(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function Sp(s,i,o,c){i.value=o,i.getSnapshot=c,Cp(i)&&Ap(s)}function vp(s,i,o){return o(function(){Cp(i)&&Ap(s)})}function Cp(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Hn(s,o)}catch{return!0}}function Ap(s){var i=xr(s,1);i!==null&&Yn(i,s,1,-1)}function Np(s){var i=ir();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:s},i.queue=s,s=s.dispatch=a_.bind(null,tt,s),[i.memoizedState,s]}function Sa(s,i,o,c){return s={tag:s,create:i,destroy:o,deps:c,next:null},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.lastEffect=s.next=s):(o=i.lastEffect,o===null?i.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,i.lastEffect=s)),s}function kp(){return Sn().memoizedState}function vo(s,i,o,c){var m=ir();tt.flags|=s,m.memoizedState=Sa(1|i,o,void 0,c===void 0?null:c)}function Co(s,i,o,c){var m=Sn();c=c===void 0?null:c;var E=void 0;if(ft!==null){var w=ft.memoizedState;if(E=w.destroy,c!==null&&sd(c,w.deps)){m.memoizedState=Sa(i,o,E,c);return}}tt.flags|=s,m.memoizedState=Sa(1|i,o,E,c)}function Rp(s,i){return vo(8390656,8,s,i)}function ld(s,i){return Co(2048,8,s,i)}function Ip(s,i){return Co(4,2,s,i)}function Op(s,i){return Co(4,4,s,i)}function Lp(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Dp(s,i,o){return o=o!=null?o.concat([s]):null,Co(4,4,Lp.bind(null,i,s),o)}function cd(){}function Pp(s,i){var o=Sn();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&sd(i,c[1])?c[0]:(o.memoizedState=[s,i],s)}function Mp(s,i){var o=Sn();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&sd(i,c[1])?c[0]:(s=s(),o.memoizedState=[s,i],s)}function Fp(s,i,o){return xs&21?(Hn(o,i)||(o=h0(),tt.lanes|=o,Ss|=o,s.baseState=!0),i):(s.baseState&&(s.baseState=!1,Gt=!0),s.memoizedState=o)}function s_(s,i){var o=He;He=o!==0&&4>o?o:4,s(!0);var c=rd.transition;rd.transition={};try{s(!1),i()}finally{He=o,rd.transition=c}}function Bp(){return Sn().memoizedState}function i_(s,i,o){var c=Xr(s);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Up(s))jp(i,o);else if(o=gp(s,i,o,c),o!==null){var m=$t();Yn(o,s,c,m),Hp(o,i,c)}}function a_(s,i,o){var c=Xr(s),m={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Up(s))jp(i,m);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var w=i.lastRenderedState,k=E(w,o);if(m.hasEagerState=!0,m.eagerState=k,Hn(k,w)){var O=i.interleaved;O===null?(m.next=m,Xc(i)):(m.next=O.next,O.next=m),i.interleaved=m;return}}catch{}finally{}o=gp(s,i,m,c),o!==null&&(m=$t(),Yn(o,s,c,m),Hp(o,i,c))}}function Up(s){var i=s.alternate;return s===tt||i!==null&&i===tt}function jp(s,i){_a=So=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function Hp(s,i,o){if(o&4194240){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,fc(s,o)}}var Ao={readContext:xn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},u_={readContext:xn,useCallback:function(s,i){return ir().memoizedState=[s,i===void 0?null:i],s},useContext:xn,useEffect:Rp,useImperativeHandle:function(s,i,o){return o=o!=null?o.concat([s]):null,vo(4194308,4,Lp.bind(null,i,s),o)},useLayoutEffect:function(s,i){return vo(4194308,4,s,i)},useInsertionEffect:function(s,i){return vo(4,2,s,i)},useMemo:function(s,i){var o=ir();return i=i===void 0?null:i,s=s(),o.memoizedState=[s,i],s},useReducer:function(s,i,o){var c=ir();return i=o!==void 0?o(i):i,c.memoizedState=c.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},c.queue=s,s=s.dispatch=i_.bind(null,tt,s),[c.memoizedState,s]},useRef:function(s){var i=ir();return s={current:s},i.memoizedState=s},useState:Np,useDebugValue:cd,useDeferredValue:function(s){return ir().memoizedState=s},useTransition:function(){var s=Np(!1),i=s[0];return s=s_.bind(null,s[1]),ir().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,o){var c=tt,m=ir();if(Qe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=i(),bt===null)throw Error(n(349));xs&30||xp(c,i,o)}m.memoizedState=o;var E={value:o,getSnapshot:i};return m.queue=E,Rp(vp.bind(null,c,E,s),[s]),c.flags|=2048,Sa(9,Sp.bind(null,c,E,o,i),void 0,null),o},useId:function(){var s=ir(),i=bt.identifierPrefix;if(Qe){var o=wr,c=_r;o=(c&~(1<<32-jn(c)-1)).toString(32)+o,i=":"+i+"R"+o,o=wa++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=r_++,i=":"+i+"r"+o.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},o_={readContext:xn,useCallback:Pp,useContext:xn,useEffect:ld,useImperativeHandle:Dp,useInsertionEffect:Ip,useLayoutEffect:Op,useMemo:Mp,useReducer:ud,useRef:kp,useState:function(){return ud(xa)},useDebugValue:cd,useDeferredValue:function(s){var i=Sn();return Fp(i,ft.memoizedState,s)},useTransition:function(){var s=ud(xa)[0],i=Sn().memoizedState;return[s,i]},useMutableSource:_p,useSyncExternalStore:wp,useId:Bp,unstable_isNewReconciler:!1},l_={readContext:xn,useCallback:Pp,useContext:xn,useEffect:ld,useImperativeHandle:Dp,useInsertionEffect:Ip,useLayoutEffect:Op,useMemo:Mp,useReducer:od,useRef:kp,useState:function(){return od(xa)},useDebugValue:cd,useDeferredValue:function(s){var i=Sn();return ft===null?i.memoizedState=s:Fp(i,ft.memoizedState,s)},useTransition:function(){var s=od(xa)[0],i=Sn().memoizedState;return[s,i]},useMutableSource:_p,useSyncExternalStore:wp,useId:Bp,unstable_isNewReconciler:!1};function zn(s,i){if(s&&s.defaultProps){i=te({},i),s=s.defaultProps;for(var o in s)i[o]===void 0&&(i[o]=s[o]);return i}return i}function dd(s,i,o,c){i=s.memoizedState,o=o(c,i),o=o==null?i:te({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var No={isMounted:function(s){return(s=s._reactInternals)?gs(s)===s:!1},enqueueSetState:function(s,i,o){s=s._reactInternals;var c=$t(),m=Xr(s),E=Sr(c,m);E.payload=i,o!=null&&(E.callback=o),i=Vr(s,E,m),i!==null&&(Yn(i,s,m,c),To(i,s,m))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var c=$t(),m=Xr(s),E=Sr(c,m);E.tag=1,E.payload=i,o!=null&&(E.callback=o),i=Vr(s,E,m),i!==null&&(Yn(i,s,m,c),To(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=$t(),c=Xr(s),m=Sr(o,c);m.tag=2,i!=null&&(m.callback=i),i=Vr(s,m,c),i!==null&&(Yn(i,s,c,o),To(i,s,c))}};function $p(s,i,o,c,m,E,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,E,w):i.prototype&&i.prototype.isPureReactComponent?!ca(o,c)||!ca(m,E):!0}function zp(s,i,o){var c=!1,m=qr,E=i.contextType;return typeof E=="object"&&E!==null?E=xn(E):(m=Vt(i)?bs:Dt.current,c=i.contextTypes,E=(c=c!=null)?ii(s,m):qr),i=new i(o,E),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=No,s.stateNode=i,i._reactInternals=s,c&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=E),i}function qp(s,i,o,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==s&&No.enqueueReplaceState(i,i.state,null)}function fd(s,i,o,c){var m=s.stateNode;m.props=o,m.state=s.memoizedState,m.refs={},Jc(s);var E=i.contextType;typeof E=="object"&&E!==null?m.context=xn(E):(E=Vt(i)?bs:Dt.current,m.context=ii(s,E)),m.state=s.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(dd(s,i,E,o),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&No.enqueueReplaceState(m,m.state,null),_o(s,o,m,c),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function hi(s,i){try{var o="",c=i;do o+=ve(c),c=c.return;while(c);var m=o}catch(E){m=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:i,stack:m,digest:null}}function hd(s,i,o){return{value:s,source:null,stack:o??null,digest:i??null}}function pd(s,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var c_=typeof WeakMap=="function"?WeakMap:Map;function Wp(s,i,o){o=Sr(-1,o),o.tag=3,o.payload={element:null};var c=i.value;return o.callback=function(){Po||(Po=!0,kd=c),pd(s,i)},o}function Yp(s,i,o){o=Sr(-1,o),o.tag=3;var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var m=i.value;o.payload=function(){return c(m)},o.callback=function(){pd(s,i)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(o.callback=function(){pd(s,i),typeof c!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),o}function Vp(s,i,o){var c=s.pingCache;if(c===null){c=s.pingCache=new c_;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(m.add(o),s=S_.bind(null,s,i,o),i.then(s,s))}function Gp(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Qp(s,i,o,c,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===i?s.flags|=65536:(s.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=Sr(-1,1),i.tag=2,Vr(o,i,1))),o.lanes|=1),s)}var d_=L.ReactCurrentOwner,Gt=!1;function Ht(s,i,o,c){i.child=s===null?mp(i,null,o,c):li(i,s.child,o,c)}function Kp(s,i,o,c,m){o=o.render;var E=i.ref;return di(i,m),c=id(s,i,o,c,E,m),o=ad(),s!==null&&!Gt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,vr(s,i,m)):(Qe&&o&&$c(i),i.flags|=1,Ht(s,i,c,m),i.child)}function Xp(s,i,o,c,m){if(s===null){var E=o.type;return typeof E=="function"&&!Md(E)&&E.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=E,Jp(s,i,E,c,m)):(s=Ho(o.type,null,c,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(E=s.child,!(s.lanes&m)){var w=E.memoizedProps;if(o=o.compare,o=o!==null?o:ca,o(w,c)&&s.ref===i.ref)return vr(s,i,m)}return i.flags|=1,s=Zr(E,c),s.ref=i.ref,s.return=i,i.child=s}function Jp(s,i,o,c,m){if(s!==null){var E=s.memoizedProps;if(ca(E,c)&&s.ref===i.ref)if(Gt=!1,i.pendingProps=c=E,(s.lanes&m)!==0)s.flags&131072&&(Gt=!0);else return i.lanes=s.lanes,vr(s,i,m)}return md(s,i,o,c,m)}function Zp(s,i,o){var c=i.pendingProps,m=c.children,E=s!==null?s.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(mi,mn),mn|=o;else{if(!(o&1073741824))return s=E!==null?E.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,qe(mi,mn),mn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=E!==null?E.baseLanes:o,qe(mi,mn),mn|=c}else E!==null?(c=E.baseLanes|o,i.memoizedState=null):c=o,qe(mi,mn),mn|=c;return Ht(s,i,m,o),i.child}function em(s,i){var o=i.ref;(s===null&&o!==null||s!==null&&s.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function md(s,i,o,c,m){var E=Vt(o)?bs:Dt.current;return E=ii(i,E),di(i,m),o=id(s,i,o,c,E,m),c=ad(),s!==null&&!Gt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,vr(s,i,m)):(Qe&&c&&$c(i),i.flags|=1,Ht(s,i,o,m),i.child)}function tm(s,i,o,c,m){if(Vt(o)){var E=!0;fo(i)}else E=!1;if(di(i,m),i.stateNode===null)Ro(s,i),zp(i,o,c),fd(i,o,c,m),c=!0;else if(s===null){var w=i.stateNode,k=i.memoizedProps;w.props=k;var O=w.context,H=o.contextType;typeof H=="object"&&H!==null?H=xn(H):(H=Vt(o)?bs:Dt.current,H=ii(i,H));var G=o.getDerivedStateFromProps,X=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function";X||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==c||O!==H)&&qp(i,w,c,H),Yr=!1;var V=i.memoizedState;w.state=V,_o(i,c,w,m),O=i.memoizedState,k!==c||V!==O||Yt.current||Yr?(typeof G=="function"&&(dd(i,o,G,c),O=i.memoizedState),(k=Yr||$p(i,o,k,c,V,O,H))?(X||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=O),w.props=c,w.state=O,w.context=H,c=k):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{w=i.stateNode,Ep(s,i),k=i.memoizedProps,H=i.type===i.elementType?k:zn(i.type,k),w.props=H,X=i.pendingProps,V=w.context,O=o.contextType,typeof O=="object"&&O!==null?O=xn(O):(O=Vt(o)?bs:Dt.current,O=ii(i,O));var re=o.getDerivedStateFromProps;(G=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==X||V!==O)&&qp(i,w,c,O),Yr=!1,V=i.memoizedState,w.state=V,_o(i,c,w,m);var ae=i.memoizedState;k!==X||V!==ae||Yt.current||Yr?(typeof re=="function"&&(dd(i,o,re,c),ae=i.memoizedState),(H=Yr||$p(i,o,H,c,V,ae,O)||!1)?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ae,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ae,O)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ae),w.props=c,w.state=ae,w.context=O,c=H):(typeof w.componentDidUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=1024),c=!1)}return gd(s,i,o,c,E,m)}function gd(s,i,o,c,m,E){em(s,i);var w=(i.flags&128)!==0;if(!c&&!w)return m&&ap(i,o,!1),vr(s,i,E);c=i.stateNode,d_.current=i;var k=w&&typeof o.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,s!==null&&w?(i.child=li(i,s.child,null,E),i.child=li(i,null,k,E)):Ht(s,i,k,E),i.memoizedState=c.state,m&&ap(i,o,!0),i.child}function nm(s){var i=s.stateNode;i.pendingContext?sp(s,i.pendingContext,i.pendingContext!==i.context):i.context&&sp(s,i.context,!1),Zc(s,i.containerInfo)}function rm(s,i,o,c,m){return oi(),Yc(m),i.flags|=256,Ht(s,i,o,c),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0};function bd(s){return{baseLanes:s,cachePool:null,transitions:null}}function sm(s,i,o){var c=i.pendingProps,m=et.current,E=!1,w=(i.flags&128)!==0,k;if((k=w)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(E=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),qe(et,m&1),s===null)return Wc(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(i.mode&1?s.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(w=c.children,s=c.fallback,E?(c=i.mode,E=i.child,w={mode:"hidden",children:w},!(c&1)&&E!==null?(E.childLanes=0,E.pendingProps=w):E=$o(w,c,0,null),s=Ns(s,c,o,null),E.return=i,s.return=i,E.sibling=s,i.child=E,i.child.memoizedState=bd(o),i.memoizedState=Ed,s):yd(i,w));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return f_(s,i,w,c,k,m,o);if(E){E=c.fallback,w=i.mode,m=s.child,k=m.sibling;var O={mode:"hidden",children:c.children};return!(w&1)&&i.child!==m?(c=i.child,c.childLanes=0,c.pendingProps=O,i.deletions=null):(c=Zr(m,O),c.subtreeFlags=m.subtreeFlags&14680064),k!==null?E=Zr(k,E):(E=Ns(E,w,o,null),E.flags|=2),E.return=i,c.return=i,c.sibling=E,i.child=c,c=E,E=i.child,w=s.child.memoizedState,w=w===null?bd(o):{baseLanes:w.baseLanes|o,cachePool:null,transitions:w.transitions},E.memoizedState=w,E.childLanes=s.childLanes&~o,i.memoizedState=Ed,c}return E=s.child,s=E.sibling,c=Zr(E,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=o),c.return=i,c.sibling=null,s!==null&&(o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)),i.child=c,i.memoizedState=null,c}function yd(s,i){return i=$o({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function ko(s,i,o,c){return c!==null&&Yc(c),li(i,s.child,null,o),s=yd(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function f_(s,i,o,c,m,E,w){if(o)return i.flags&256?(i.flags&=-257,c=hd(Error(n(422))),ko(s,i,w,c)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(E=c.fallback,m=i.mode,c=$o({mode:"visible",children:c.children},m,0,null),E=Ns(E,m,w,null),E.flags|=2,c.return=i,E.return=i,c.sibling=E,i.child=c,i.mode&1&&li(i,s.child,null,w),i.child.memoizedState=bd(w),i.memoizedState=Ed,E);if(!(i.mode&1))return ko(s,i,w,null);if(m.data==="$!"){if(c=m.nextSibling&&m.nextSibling.dataset,c)var k=c.dgst;return c=k,E=Error(n(419)),c=hd(E,c,void 0),ko(s,i,w,c)}if(k=(w&s.childLanes)!==0,Gt||k){if(c=bt,c!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(c.suspendedLanes|w)?0:m,m!==0&&m!==E.retryLane&&(E.retryLane=m,xr(s,m),Yn(c,s,m,-1))}return Pd(),c=hd(Error(n(421))),ko(s,i,w,c)}return m.data==="$?"?(i.flags|=128,i.child=s.child,i=v_.bind(null,s),m._reactRetry=i,null):(s=E.treeContext,pn=$r(m.nextSibling),hn=i,Qe=!0,$n=null,s!==null&&(_n[wn++]=_r,_n[wn++]=wr,_n[wn++]=ys,_r=s.id,wr=s.overflow,ys=i),i=yd(i,c.children),i.flags|=4096,i)}function im(s,i,o){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),Kc(s.return,i,o)}function Td(s,i,o,c,m){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=m)}function am(s,i,o){var c=i.pendingProps,m=c.revealOrder,E=c.tail;if(Ht(s,i,c.children,o),c=et.current,c&2)c=c&1|2,i.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&im(s,o,i);else if(s.tag===19)im(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}if(qe(et,c),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(o=i.child,m=null;o!==null;)s=o.alternate,s!==null&&wo(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Td(i,!1,m,o,E);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&wo(s)===null){i.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}Td(i,!0,o,null,E);break;case"together":Td(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ro(s,i){!(i.mode&1)&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function vr(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),Ss|=i.lanes,!(o&i.childLanes))return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,o=Zr(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Zr(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function h_(s,i,o){switch(i.tag){case 3:nm(i),oi();break;case 5:Tp(i);break;case 1:Vt(i.type)&&fo(i);break;case 4:Zc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,m=i.memoizedProps.value;qe(bo,c._currentValue),c._currentValue=m;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(qe(et,et.current&1),i.flags|=128,null):o&i.child.childLanes?sm(s,i,o):(qe(et,et.current&1),s=vr(s,i,o),s!==null?s.sibling:null);qe(et,et.current&1);break;case 19:if(c=(o&i.childLanes)!==0,s.flags&128){if(c)return am(s,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),qe(et,et.current),c)break;return null;case 22:case 23:return i.lanes=0,Zp(s,i,o)}return vr(s,i,o)}var um,_d,om,lm;um=function(s,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)s.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},_d=function(){},om=function(s,i,o,c){var m=s.memoizedProps;if(m!==c){s=i.stateNode,ws(sr.current);var E=null;switch(o){case"input":m=cn(s,m),c=cn(s,c),E=[];break;case"select":m=te({},m,{value:void 0}),c=te({},c,{value:void 0}),E=[];break;case"textarea":m=Or(s,m),c=Or(s,c),E=[];break;default:typeof m.onClick!="function"&&typeof c.onClick=="function"&&(s.onclick=oo)}Gs(o,c);var w;o=null;for(H in m)if(!c.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var k=m[H];for(w in k)k.hasOwnProperty(w)&&(o||(o={}),o[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?E||(E=[]):(E=E||[]).push(H,null));for(H in c){var O=c[H];if(k=m?.[H],c.hasOwnProperty(H)&&O!==k&&(O!=null||k!=null))if(H==="style")if(k){for(w in k)!k.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(o||(o={}),o[w]="");for(w in O)O.hasOwnProperty(w)&&k[w]!==O[w]&&(o||(o={}),o[w]=O[w])}else o||(E||(E=[]),E.push(H,o)),o=O;else H==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(E=E||[]).push(H,O)):H==="children"?typeof O!="string"&&typeof O!="number"||(E=E||[]).push(H,""+O):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(a.hasOwnProperty(H)?(O!=null&&H==="onScroll"&&Ve("scroll",s),E||k===O||(E=[])):(E=E||[]).push(H,O))}o&&(E=E||[]).push("style",o);var H=E;(i.updateQueue=H)&&(i.flags|=4)}},lm=function(s,i,o,c){o!==c&&(i.flags|=4)};function va(s,i){if(!Qe)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Mt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(i)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&14680064,c|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=o,i}function p_(s,i,o){var c=i.pendingProps;switch(zc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(i),null;case 1:return Vt(i.type)&&co(),Mt(i),null;case 3:return c=i.stateNode,fi(),Ge(Yt),Ge(Dt),nd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(go(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,$n!==null&&(Od($n),$n=null))),_d(s,i),Mt(i),null;case 5:ed(i);var m=ws(Ta.current);if(o=i.type,s!==null&&i.stateNode!=null)om(s,i,o,c,m),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(n(166));return Mt(i),null}if(s=ws(sr.current),go(i)){c=i.stateNode,o=i.type;var E=i.memoizedProps;switch(c[rr]=i,c[ma]=E,s=(i.mode&1)!==0,o){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(m=0;m<fa.length;m++)Ve(fa[m],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":mr(c,E),Ve("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!E.multiple},Ve("invalid",c);break;case"textarea":Wi(c,E),Ve("invalid",c)}Gs(o,E),m=null;for(var w in E)if(E.hasOwnProperty(w)){var k=E[w];w==="children"?typeof k=="string"?c.textContent!==k&&(E.suppressHydrationWarning!==!0&&uo(c.textContent,k,s),m=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(E.suppressHydrationWarning!==!0&&uo(c.textContent,k,s),m=["children",""+k]):a.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&Ve("scroll",c)}switch(o){case"input":Zn(c),qi(c,E,!0);break;case"textarea":Zn(c),Bu(c);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(c.onclick=oo)}c=m,i.updateQueue=c,c!==null&&(i.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Uu(o)),s==="http://www.w3.org/1999/xhtml"?o==="script"?(s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof c.is=="string"?s=w.createElement(o,{is:c.is}):(s=w.createElement(o),o==="select"&&(w=s,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):s=w.createElementNS(s,o),s[rr]=i,s[ma]=c,um(s,i,!1,!1),i.stateNode=s;e:{switch(w=Gi(o,c),o){case"dialog":Ve("cancel",s),Ve("close",s),m=c;break;case"iframe":case"object":case"embed":Ve("load",s),m=c;break;case"video":case"audio":for(m=0;m<fa.length;m++)Ve(fa[m],s);m=c;break;case"source":Ve("error",s),m=c;break;case"img":case"image":case"link":Ve("error",s),Ve("load",s),m=c;break;case"details":Ve("toggle",s),m=c;break;case"input":mr(s,c),m=cn(s,c),Ve("invalid",s);break;case"option":m=c;break;case"select":s._wrapperState={wasMultiple:!!c.multiple},m=te({},c,{value:void 0}),Ve("invalid",s);break;case"textarea":Wi(s,c),m=Or(s,c),Ve("invalid",s);break;default:m=c}Gs(o,m),k=m;for(E in k)if(k.hasOwnProperty(E)){var O=k[E];E==="style"?$u(s,O):E==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Lr(s,O)):E==="children"?typeof O=="string"?(o!=="textarea"||O!=="")&&Dr(s,O):typeof O=="number"&&Dr(s,""+O):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?O!=null&&E==="onScroll"&&Ve("scroll",s):O!=null&&j(s,E,O,w))}switch(o){case"input":Zn(s),qi(s,c,!1);break;case"textarea":Zn(s),Bu(s);break;case"option":c.value!=null&&s.setAttribute("value",""+Ce(c.value));break;case"select":s.multiple=!!c.multiple,E=c.value,E!=null?Pn(s,!!c.multiple,E,!1):c.defaultValue!=null&&Pn(s,!!c.multiple,c.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=oo)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Mt(i),null;case 6:if(s&&i.stateNode!=null)lm(s,i,s.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(o=ws(Ta.current),ws(sr.current),go(i)){if(c=i.stateNode,o=i.memoizedProps,c[rr]=i,(E=c.nodeValue!==o)&&(s=hn,s!==null))switch(s.tag){case 3:uo(c.nodeValue,o,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&uo(c.nodeValue,o,(s.mode&1)!==0)}E&&(i.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[rr]=i,i.stateNode=c}return Mt(i),null;case 13:if(Ge(et),c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Qe&&pn!==null&&i.mode&1&&!(i.flags&128))fp(),oi(),i.flags|=98560,E=!1;else if(E=go(i),c!==null&&c.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=i.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[rr]=i}else oi(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Mt(i),E=!1}else $n!==null&&(Od($n),$n=null),E=!0;if(!E)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(c=c!==null,c!==(s!==null&&s.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(s===null||et.current&1?ht===0&&(ht=3):Pd())),i.updateQueue!==null&&(i.flags|=4),Mt(i),null);case 4:return fi(),_d(s,i),s===null&&ha(i.stateNode.containerInfo),Mt(i),null;case 10:return Qc(i.type._context),Mt(i),null;case 17:return Vt(i.type)&&co(),Mt(i),null;case 19:if(Ge(et),E=i.memoizedState,E===null)return Mt(i),null;if(c=(i.flags&128)!==0,w=E.rendering,w===null)if(c)va(E,!1);else{if(ht!==0||s!==null&&s.flags&128)for(s=i.child;s!==null;){if(w=wo(s),w!==null){for(i.flags|=128,va(E,!1),c=w.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=o,o=i.child;o!==null;)E=o,s=c,E.flags&=14680066,w=E.alternate,w===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=w.childLanes,E.lanes=w.lanes,E.child=w.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=w.memoizedProps,E.memoizedState=w.memoizedState,E.updateQueue=w.updateQueue,E.type=w.type,s=w.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o=o.sibling;return qe(et,et.current&1|2),i.child}s=s.sibling}E.tail!==null&&at()>gi&&(i.flags|=128,c=!0,va(E,!1),i.lanes=4194304)}else{if(!c)if(s=wo(w),s!==null){if(i.flags|=128,c=!0,o=s.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),va(E,!0),E.tail===null&&E.tailMode==="hidden"&&!w.alternate&&!Qe)return Mt(i),null}else 2*at()-E.renderingStartTime>gi&&o!==1073741824&&(i.flags|=128,c=!0,va(E,!1),i.lanes=4194304);E.isBackwards?(w.sibling=i.child,i.child=w):(o=E.last,o!==null?o.sibling=w:i.child=w,E.last=w)}return E.tail!==null?(i=E.tail,E.rendering=i,E.tail=i.sibling,E.renderingStartTime=at(),i.sibling=null,o=et.current,qe(et,c?o&1|2:o&1),i):(Mt(i),null);case 22:case 23:return Dd(),c=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?mn&1073741824&&(Mt(i),i.subtreeFlags&6&&(i.flags|=8192)):Mt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function m_(s,i){switch(zc(i),i.tag){case 1:return Vt(i.type)&&co(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return fi(),Ge(Yt),Ge(Dt),nd(),s=i.flags,s&65536&&!(s&128)?(i.flags=s&-65537|128,i):null;case 5:return ed(i),null;case 13:if(Ge(et),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));oi()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Ge(et),null;case 4:return fi(),null;case 10:return Qc(i.type._context),null;case 22:case 23:return Dd(),null;case 24:return null;default:return null}}var Io=!1,Ft=!1,g_=typeof WeakSet=="function"?WeakSet:Set,ie=null;function pi(s,i){var o=s.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){it(s,i,c)}else o.current=null}function wd(s,i,o){try{o()}catch(c){it(s,i,c)}}var cm=!1;function E_(s,i){if(Dc=Ku,s=$0(),Cc(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,E=c.focusNode;c=c.focusOffset;try{o.nodeType,E.nodeType}catch{o=null;break e}var w=0,k=-1,O=-1,H=0,G=0,X=s,V=null;t:for(;;){for(var re;X!==o||m!==0&&X.nodeType!==3||(k=w+m),X!==E||c!==0&&X.nodeType!==3||(O=w+c),X.nodeType===3&&(w+=X.nodeValue.length),(re=X.firstChild)!==null;)V=X,X=re;for(;;){if(X===s)break t;if(V===o&&++H===m&&(k=w),V===E&&++G===c&&(O=w),(re=X.nextSibling)!==null)break;X=V,V=X.parentNode}X=re}o=k===-1||O===-1?null:{start:k,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Pc={focusedElem:s,selectionRange:o},Ku=!1,ie=i;ie!==null;)if(i=ie,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ie=s;else for(;ie!==null;){i=ie;try{var ae=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ue=ae.memoizedProps,ut=ae.memoizedState,B=i.stateNode,D=B.getSnapshotBeforeUpdate(i.elementType===i.type?ue:zn(i.type,ue),ut);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){it(i,i.return,Z)}if(s=i.sibling,s!==null){s.return=i.return,ie=s;break}ie=i.return}return ae=cm,cm=!1,ae}function Ca(s,i,o){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&s)===s){var E=m.destroy;m.destroy=void 0,E!==void 0&&wd(i,o,E)}m=m.next}while(m!==c)}}function Oo(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&s)===s){var c=o.create;o.destroy=c()}o=o.next}while(o!==i)}}function xd(s){var i=s.ref;if(i!==null){var o=s.stateNode;switch(s.tag){case 5:s=o;break;default:s=o}typeof i=="function"?i(s):i.current=s}}function dm(s){var i=s.alternate;i!==null&&(s.alternate=null,dm(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[rr],delete i[ma],delete i[Uc],delete i[ZT],delete i[e_])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function fm(s){return s.tag===5||s.tag===3||s.tag===4}function hm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sd(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(s,i):o.insertBefore(s,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(s,o)):(i=o,i.appendChild(s)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=oo));else if(c!==4&&(s=s.child,s!==null))for(Sd(s,i,o),s=s.sibling;s!==null;)Sd(s,i,o),s=s.sibling}function vd(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(c!==4&&(s=s.child,s!==null))for(vd(s,i,o),s=s.sibling;s!==null;)vd(s,i,o),s=s.sibling}var St=null,qn=!1;function Gr(s,i,o){for(o=o.child;o!==null;)pm(s,i,o),o=o.sibling}function pm(s,i,o){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(qu,o)}catch{}switch(o.tag){case 5:Ft||pi(o,i);case 6:var c=St,m=qn;St=null,Gr(s,i,o),St=c,qn=m,St!==null&&(qn?(s=St,o=o.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(qn?(s=St,o=o.stateNode,s.nodeType===8?Bc(s.parentNode,o):s.nodeType===1&&Bc(s,o),sa(s)):Bc(St,o.stateNode));break;case 4:c=St,m=qn,St=o.stateNode.containerInfo,qn=!0,Gr(s,i,o),St=c,qn=m;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){m=c=c.next;do{var E=m,w=E.destroy;E=E.tag,w!==void 0&&(E&2||E&4)&&wd(o,i,w),m=m.next}while(m!==c)}Gr(s,i,o);break;case 1:if(!Ft&&(pi(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(k){it(o,i,k)}Gr(s,i,o);break;case 21:Gr(s,i,o);break;case 22:o.mode&1?(Ft=(c=Ft)||o.memoizedState!==null,Gr(s,i,o),Ft=c):Gr(s,i,o);break;default:Gr(s,i,o)}}function mm(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var o=s.stateNode;o===null&&(o=s.stateNode=new g_),i.forEach(function(c){var m=C_.bind(null,s,c);o.has(c)||(o.add(c),c.then(m,m))})}}function Wn(s,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];try{var E=s,w=i,k=w;e:for(;k!==null;){switch(k.tag){case 5:St=k.stateNode,qn=!1;break e;case 3:St=k.stateNode.containerInfo,qn=!0;break e;case 4:St=k.stateNode.containerInfo,qn=!0;break e}k=k.return}if(St===null)throw Error(n(160));pm(E,w,m),St=null,qn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(H){it(m,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)gm(i,s),i=i.sibling}function gm(s,i){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Wn(i,s),ar(s),c&4){try{Ca(3,s,s.return),Oo(3,s)}catch(ue){it(s,s.return,ue)}try{Ca(5,s,s.return)}catch(ue){it(s,s.return,ue)}}break;case 1:Wn(i,s),ar(s),c&512&&o!==null&&pi(o,o.return);break;case 5:if(Wn(i,s),ar(s),c&512&&o!==null&&pi(o,o.return),s.flags&32){var m=s.stateNode;try{Dr(m,"")}catch(ue){it(s,s.return,ue)}}if(c&4&&(m=s.stateNode,m!=null)){var E=s.memoizedProps,w=o!==null?o.memoizedProps:E,k=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{k==="input"&&E.type==="radio"&&E.name!=null&&gr(m,E),Gi(k,w);var H=Gi(k,E);for(w=0;w<O.length;w+=2){var G=O[w],X=O[w+1];G==="style"?$u(m,X):G==="dangerouslySetInnerHTML"?Lr(m,X):G==="children"?Dr(m,X):j(m,G,X,H)}switch(k){case"input":Vs(m,E);break;case"textarea":Yi(m,E);break;case"select":var V=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!E.multiple;var re=E.value;re!=null?Pn(m,!!E.multiple,re,!1):V!==!!E.multiple&&(E.defaultValue!=null?Pn(m,!!E.multiple,E.defaultValue,!0):Pn(m,!!E.multiple,E.multiple?[]:"",!1))}m[ma]=E}catch(ue){it(s,s.return,ue)}}break;case 6:if(Wn(i,s),ar(s),c&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,E=s.memoizedProps;try{m.nodeValue=E}catch(ue){it(s,s.return,ue)}}break;case 3:if(Wn(i,s),ar(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{sa(i.containerInfo)}catch(ue){it(s,s.return,ue)}break;case 4:Wn(i,s),ar(s);break;case 13:Wn(i,s),ar(s),m=s.child,m.flags&8192&&(E=m.memoizedState!==null,m.stateNode.isHidden=E,!E||m.alternate!==null&&m.alternate.memoizedState!==null||(Nd=at())),c&4&&mm(s);break;case 22:if(G=o!==null&&o.memoizedState!==null,s.mode&1?(Ft=(H=Ft)||G,Wn(i,s),Ft=H):Wn(i,s),ar(s),c&8192){if(H=s.memoizedState!==null,(s.stateNode.isHidden=H)&&!G&&s.mode&1)for(ie=s,G=s.child;G!==null;){for(X=ie=G;ie!==null;){switch(V=ie,re=V.child,V.tag){case 0:case 11:case 14:case 15:Ca(4,V,V.return);break;case 1:pi(V,V.return);var ae=V.stateNode;if(typeof ae.componentWillUnmount=="function"){c=V,o=V.return;try{i=c,ae.props=i.memoizedProps,ae.state=i.memoizedState,ae.componentWillUnmount()}catch(ue){it(c,o,ue)}}break;case 5:pi(V,V.return);break;case 22:if(V.memoizedState!==null){ym(X);continue}}re!==null?(re.return=V,ie=re):ym(X)}G=G.sibling}e:for(G=null,X=s;;){if(X.tag===5){if(G===null){G=X;try{m=X.stateNode,H?(E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(k=X.stateNode,O=X.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=Hu("display",w))}catch(ue){it(s,s.return,ue)}}}else if(X.tag===6){if(G===null)try{X.stateNode.nodeValue=H?"":X.memoizedProps}catch(ue){it(s,s.return,ue)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===s)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===s)break e;for(;X.sibling===null;){if(X.return===null||X.return===s)break e;G===X&&(G=null),X=X.return}G===X&&(G=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Wn(i,s),ar(s),c&4&&mm(s);break;case 21:break;default:Wn(i,s),ar(s)}}function ar(s){var i=s.flags;if(i&2){try{e:{for(var o=s.return;o!==null;){if(fm(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var m=c.stateNode;c.flags&32&&(Dr(m,""),c.flags&=-33);var E=hm(s);vd(s,E,m);break;case 3:case 4:var w=c.stateNode.containerInfo,k=hm(s);Sd(s,k,w);break;default:throw Error(n(161))}}catch(O){it(s,s.return,O)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function b_(s,i,o){ie=s,Em(s)}function Em(s,i,o){for(var c=(s.mode&1)!==0;ie!==null;){var m=ie,E=m.child;if(m.tag===22&&c){var w=m.memoizedState!==null||Io;if(!w){var k=m.alternate,O=k!==null&&k.memoizedState!==null||Ft;k=Io;var H=Ft;if(Io=w,(Ft=O)&&!H)for(ie=m;ie!==null;)w=ie,O=w.child,w.tag===22&&w.memoizedState!==null?Tm(m):O!==null?(O.return=w,ie=O):Tm(m);for(;E!==null;)ie=E,Em(E),E=E.sibling;ie=m,Io=k,Ft=H}bm(s)}else m.subtreeFlags&8772&&E!==null?(E.return=m,ie=E):bm(s)}}function bm(s){for(;ie!==null;){var i=ie;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Ft||Oo(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Ft)if(o===null)c.componentDidMount();else{var m=i.elementType===i.type?o.memoizedProps:zn(i.type,o.memoizedProps);c.componentDidUpdate(m,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var E=i.updateQueue;E!==null&&yp(i,E,c);break;case 3:var w=i.updateQueue;if(w!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}yp(i,w,o)}break;case 5:var k=i.stateNode;if(o===null&&i.flags&4){o=k;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&o.focus();break;case"img":O.src&&(o.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var G=H.memoizedState;if(G!==null){var X=G.dehydrated;X!==null&&sa(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ft||i.flags&512&&xd(i)}catch(V){it(i,i.return,V)}}if(i===s){ie=null;break}if(o=i.sibling,o!==null){o.return=i.return,ie=o;break}ie=i.return}}function ym(s){for(;ie!==null;){var i=ie;if(i===s){ie=null;break}var o=i.sibling;if(o!==null){o.return=i.return,ie=o;break}ie=i.return}}function Tm(s){for(;ie!==null;){var i=ie;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Oo(4,i)}catch(O){it(i,o,O)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var m=i.return;try{c.componentDidMount()}catch(O){it(i,m,O)}}var E=i.return;try{xd(i)}catch(O){it(i,E,O)}break;case 5:var w=i.return;try{xd(i)}catch(O){it(i,w,O)}}}catch(O){it(i,i.return,O)}if(i===s){ie=null;break}var k=i.sibling;if(k!==null){k.return=i.return,ie=k;break}ie=i.return}}var y_=Math.ceil,Lo=L.ReactCurrentDispatcher,Cd=L.ReactCurrentOwner,vn=L.ReactCurrentBatchConfig,De=0,bt=null,lt=null,vt=0,mn=0,mi=zr(0),ht=0,Aa=null,Ss=0,Do=0,Ad=0,Na=null,Qt=null,Nd=0,gi=1/0,Cr=null,Po=!1,kd=null,Qr=null,Mo=!1,Kr=null,Fo=0,ka=0,Rd=null,Bo=-1,Uo=0;function $t(){return De&6?at():Bo!==-1?Bo:Bo=at()}function Xr(s){return s.mode&1?De&2&&vt!==0?vt&-vt:n_.transition!==null?(Uo===0&&(Uo=h0()),Uo):(s=He,s!==0||(s=window.event,s=s===void 0?16:w0(s.type)),s):1}function Yn(s,i,o,c){if(50<ka)throw ka=0,Rd=null,Error(n(185));Zi(s,o,c),(!(De&2)||s!==bt)&&(s===bt&&(!(De&2)&&(Do|=o),ht===4&&Jr(s,vt)),Kt(s,c),o===1&&De===0&&!(i.mode&1)&&(gi=at()+500,ho&&Wr()))}function Kt(s,i){var o=s.callbackNode;nT(s,i);var c=Vu(s,s===bt?vt:0);if(c===0)o!==null&&c0(o),s.callbackNode=null,s.callbackPriority=0;else if(i=c&-c,s.callbackPriority!==i){if(o!=null&&c0(o),i===1)s.tag===0?t_(wm.bind(null,s)):up(wm.bind(null,s)),XT(function(){!(De&6)&&Wr()}),o=null;else{switch(p0(c)){case 1:o=lc;break;case 4:o=d0;break;case 16:o=zu;break;case 536870912:o=f0;break;default:o=zu}o=Rm(o,_m.bind(null,s))}s.callbackPriority=i,s.callbackNode=o}}function _m(s,i){if(Bo=-1,Uo=0,De&6)throw Error(n(327));var o=s.callbackNode;if(Ei()&&s.callbackNode!==o)return null;var c=Vu(s,s===bt?vt:0);if(c===0)return null;if(c&30||c&s.expiredLanes||i)i=jo(s,c);else{i=c;var m=De;De|=2;var E=Sm();(bt!==s||vt!==i)&&(Cr=null,gi=at()+500,Cs(s,i));do try{w_();break}catch(k){xm(s,k)}while(!0);Gc(),Lo.current=E,De=m,lt!==null?i=0:(bt=null,vt=0,i=ht)}if(i!==0){if(i===2&&(m=cc(s),m!==0&&(c=m,i=Id(s,m))),i===1)throw o=Aa,Cs(s,0),Jr(s,c),Kt(s,at()),o;if(i===6)Jr(s,c);else{if(m=s.current.alternate,!(c&30)&&!T_(m)&&(i=jo(s,c),i===2&&(E=cc(s),E!==0&&(c=E,i=Id(s,E))),i===1))throw o=Aa,Cs(s,0),Jr(s,c),Kt(s,at()),o;switch(s.finishedWork=m,s.finishedLanes=c,i){case 0:case 1:throw Error(n(345));case 2:As(s,Qt,Cr);break;case 3:if(Jr(s,c),(c&130023424)===c&&(i=Nd+500-at(),10<i)){if(Vu(s,0)!==0)break;if(m=s.suspendedLanes,(m&c)!==c){$t(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Fc(As.bind(null,s,Qt,Cr),i);break}As(s,Qt,Cr);break;case 4:if(Jr(s,c),(c&4194240)===c)break;for(i=s.eventTimes,m=-1;0<c;){var w=31-jn(c);E=1<<w,w=i[w],w>m&&(m=w),c&=~E}if(c=m,c=at()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*y_(c/1960))-c,10<c){s.timeoutHandle=Fc(As.bind(null,s,Qt,Cr),c);break}As(s,Qt,Cr);break;case 5:As(s,Qt,Cr);break;default:throw Error(n(329))}}}return Kt(s,at()),s.callbackNode===o?_m.bind(null,s):null}function Id(s,i){var o=Na;return s.current.memoizedState.isDehydrated&&(Cs(s,i).flags|=256),s=jo(s,i),s!==2&&(i=Qt,Qt=o,i!==null&&Od(i)),s}function Od(s){Qt===null?Qt=s:Qt.push.apply(Qt,s)}function T_(s){for(var i=s;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var m=o[c],E=m.getSnapshot;m=m.value;try{if(!Hn(E(),m))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jr(s,i){for(i&=~Ad,i&=~Do,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var o=31-jn(i),c=1<<o;s[o]=-1,i&=~c}}function wm(s){if(De&6)throw Error(n(327));Ei();var i=Vu(s,0);if(!(i&1))return Kt(s,at()),null;var o=jo(s,i);if(s.tag!==0&&o===2){var c=cc(s);c!==0&&(i=c,o=Id(s,c))}if(o===1)throw o=Aa,Cs(s,0),Jr(s,i),Kt(s,at()),o;if(o===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,As(s,Qt,Cr),Kt(s,at()),null}function Ld(s,i){var o=De;De|=1;try{return s(i)}finally{De=o,De===0&&(gi=at()+500,ho&&Wr())}}function vs(s){Kr!==null&&Kr.tag===0&&!(De&6)&&Ei();var i=De;De|=1;var o=vn.transition,c=He;try{if(vn.transition=null,He=1,s)return s()}finally{He=c,vn.transition=o,De=i,!(De&6)&&Wr()}}function Dd(){mn=mi.current,Ge(mi)}function Cs(s,i){s.finishedWork=null,s.finishedLanes=0;var o=s.timeoutHandle;if(o!==-1&&(s.timeoutHandle=-1,KT(o)),lt!==null)for(o=lt.return;o!==null;){var c=o;switch(zc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&co();break;case 3:fi(),Ge(Yt),Ge(Dt),nd();break;case 5:ed(c);break;case 4:fi();break;case 13:Ge(et);break;case 19:Ge(et);break;case 10:Qc(c.type._context);break;case 22:case 23:Dd()}o=o.return}if(bt=s,lt=s=Zr(s.current,null),vt=mn=i,ht=0,Aa=null,Ad=Do=Ss=0,Qt=Na=null,_s!==null){for(i=0;i<_s.length;i++)if(o=_s[i],c=o.interleaved,c!==null){o.interleaved=null;var m=c.next,E=o.pending;if(E!==null){var w=E.next;E.next=m,c.next=w}o.pending=c}_s=null}return s}function xm(s,i){do{var o=lt;try{if(Gc(),xo.current=Ao,So){for(var c=tt.memoizedState;c!==null;){var m=c.queue;m!==null&&(m.pending=null),c=c.next}So=!1}if(xs=0,Et=ft=tt=null,_a=!1,wa=0,Cd.current=null,o===null||o.return===null){ht=1,Aa=i,lt=null;break}e:{var E=s,w=o.return,k=o,O=i;if(i=vt,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var H=O,G=k,X=G.tag;if(!(G.mode&1)&&(X===0||X===11||X===15)){var V=G.alternate;V?(G.updateQueue=V.updateQueue,G.memoizedState=V.memoizedState,G.lanes=V.lanes):(G.updateQueue=null,G.memoizedState=null)}var re=Gp(w);if(re!==null){re.flags&=-257,Qp(re,w,k,E,i),re.mode&1&&Vp(E,H,i),i=re,O=H;var ae=i.updateQueue;if(ae===null){var ue=new Set;ue.add(O),i.updateQueue=ue}else ae.add(O);break e}else{if(!(i&1)){Vp(E,H,i),Pd();break e}O=Error(n(426))}}else if(Qe&&k.mode&1){var ut=Gp(w);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Qp(ut,w,k,E,i),Yc(hi(O,k));break e}}E=O=hi(O,k),ht!==4&&(ht=2),Na===null?Na=[E]:Na.push(E),E=w;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var B=Wp(E,O,i);bp(E,B);break e;case 1:k=O;var D=E.type,U=E.stateNode;if(!(E.flags&128)&&(typeof D.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Qr===null||!Qr.has(U)))){E.flags|=65536,i&=-i,E.lanes|=i;var Z=Yp(E,k,i);bp(E,Z);break e}}E=E.return}while(E!==null)}Cm(o)}catch(oe){i=oe,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function Sm(){var s=Lo.current;return Lo.current=Ao,s===null?Ao:s}function Pd(){(ht===0||ht===3||ht===2)&&(ht=4),bt===null||!(Ss&268435455)&&!(Do&268435455)||Jr(bt,vt)}function jo(s,i){var o=De;De|=2;var c=Sm();(bt!==s||vt!==i)&&(Cr=null,Cs(s,i));do try{__();break}catch(m){xm(s,m)}while(!0);if(Gc(),De=o,Lo.current=c,lt!==null)throw Error(n(261));return bt=null,vt=0,ht}function __(){for(;lt!==null;)vm(lt)}function w_(){for(;lt!==null&&!Vy();)vm(lt)}function vm(s){var i=km(s.alternate,s,mn);s.memoizedProps=s.pendingProps,i===null?Cm(s):lt=i,Cd.current=null}function Cm(s){var i=s;do{var o=i.alternate;if(s=i.return,i.flags&32768){if(o=m_(o,i),o!==null){o.flags&=32767,lt=o;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ht=6,lt=null;return}}else if(o=p_(o,i,mn),o!==null){lt=o;return}if(i=i.sibling,i!==null){lt=i;return}lt=i=s}while(i!==null);ht===0&&(ht=5)}function As(s,i,o){var c=He,m=vn.transition;try{vn.transition=null,He=1,x_(s,i,o,c)}finally{vn.transition=m,He=c}return null}function x_(s,i,o,c){do Ei();while(Kr!==null);if(De&6)throw Error(n(327));o=s.finishedWork;var m=s.finishedLanes;if(o===null)return null;if(s.finishedWork=null,s.finishedLanes=0,o===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=o.lanes|o.childLanes;if(rT(s,E),s===bt&&(lt=bt=null,vt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Mo||(Mo=!0,Rm(zu,function(){return Ei(),null})),E=(o.flags&15990)!==0,o.subtreeFlags&15990||E){E=vn.transition,vn.transition=null;var w=He;He=1;var k=De;De|=4,Cd.current=null,E_(s,o),gm(o,s),zT(Pc),Ku=!!Dc,Pc=Dc=null,s.current=o,b_(o),Gy(),De=k,He=w,vn.transition=E}else s.current=o;if(Mo&&(Mo=!1,Kr=s,Fo=m),E=s.pendingLanes,E===0&&(Qr=null),Xy(o.stateNode),Kt(s,at()),i!==null)for(c=s.onRecoverableError,o=0;o<i.length;o++)m=i[o],c(m.value,{componentStack:m.stack,digest:m.digest});if(Po)throw Po=!1,s=kd,kd=null,s;return Fo&1&&s.tag!==0&&Ei(),E=s.pendingLanes,E&1?s===Rd?ka++:(ka=0,Rd=s):ka=0,Wr(),null}function Ei(){if(Kr!==null){var s=p0(Fo),i=vn.transition,o=He;try{if(vn.transition=null,He=16>s?16:s,Kr===null)var c=!1;else{if(s=Kr,Kr=null,Fo=0,De&6)throw Error(n(331));var m=De;for(De|=4,ie=s.current;ie!==null;){var E=ie,w=E.child;if(ie.flags&16){var k=E.deletions;if(k!==null){for(var O=0;O<k.length;O++){var H=k[O];for(ie=H;ie!==null;){var G=ie;switch(G.tag){case 0:case 11:case 15:Ca(8,G,E)}var X=G.child;if(X!==null)X.return=G,ie=X;else for(;ie!==null;){G=ie;var V=G.sibling,re=G.return;if(dm(G),G===H){ie=null;break}if(V!==null){V.return=re,ie=V;break}ie=re}}}var ae=E.alternate;if(ae!==null){var ue=ae.child;if(ue!==null){ae.child=null;do{var ut=ue.sibling;ue.sibling=null,ue=ut}while(ue!==null)}}ie=E}}if(E.subtreeFlags&2064&&w!==null)w.return=E,ie=w;else e:for(;ie!==null;){if(E=ie,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Ca(9,E,E.return)}var B=E.sibling;if(B!==null){B.return=E.return,ie=B;break e}ie=E.return}}var D=s.current;for(ie=D;ie!==null;){w=ie;var U=w.child;if(w.subtreeFlags&2064&&U!==null)U.return=w,ie=U;else e:for(w=D;ie!==null;){if(k=ie,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Oo(9,k)}}catch(oe){it(k,k.return,oe)}if(k===w){ie=null;break e}var Z=k.sibling;if(Z!==null){Z.return=k.return,ie=Z;break e}ie=k.return}}if(De=m,Wr(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(qu,s)}catch{}c=!0}return c}finally{He=o,vn.transition=i}}return!1}function Am(s,i,o){i=hi(o,i),i=Wp(s,i,1),s=Vr(s,i,1),i=$t(),s!==null&&(Zi(s,1,i),Kt(s,i))}function it(s,i,o){if(s.tag===3)Am(s,s,o);else for(;i!==null;){if(i.tag===3){Am(i,s,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Qr===null||!Qr.has(c))){s=hi(o,s),s=Yp(i,s,1),i=Vr(i,s,1),s=$t(),i!==null&&(Zi(i,1,s),Kt(i,s));break}}i=i.return}}function S_(s,i,o){var c=s.pingCache;c!==null&&c.delete(i),i=$t(),s.pingedLanes|=s.suspendedLanes&o,bt===s&&(vt&o)===o&&(ht===4||ht===3&&(vt&130023424)===vt&&500>at()-Nd?Cs(s,0):Ad|=o),Kt(s,i)}function Nm(s,i){i===0&&(s.mode&1?(i=Yu,Yu<<=1,!(Yu&130023424)&&(Yu=4194304)):i=1);var o=$t();s=xr(s,i),s!==null&&(Zi(s,i,o),Kt(s,o))}function v_(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),Nm(s,o)}function C_(s,i){var o=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=s.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(i),Nm(s,o)}var km;km=function(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps||Yt.current)Gt=!0;else{if(!(s.lanes&o)&&!(i.flags&128))return Gt=!1,h_(s,i,o);Gt=!!(s.flags&131072)}else Gt=!1,Qe&&i.flags&1048576&&op(i,mo,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ro(s,i),s=i.pendingProps;var m=ii(i,Dt.current);di(i,o),m=id(null,i,c,s,m,o);var E=ad();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Vt(c)?(E=!0,fo(i)):E=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Jc(i),m.updater=No,i.stateNode=m,m._reactInternals=i,fd(i,c,s,o),i=gd(null,i,c,!0,E,o)):(i.tag=0,Qe&&E&&$c(i),Ht(null,i,m,o),i=i.child),i;case 16:c=i.elementType;e:{switch(Ro(s,i),s=i.pendingProps,m=c._init,c=m(c._payload),i.type=c,m=i.tag=N_(c),s=zn(c,s),m){case 0:i=md(null,i,c,s,o);break e;case 1:i=tm(null,i,c,s,o);break e;case 11:i=Kp(null,i,c,s,o);break e;case 14:i=Xp(null,i,c,zn(c.type,s),o);break e}throw Error(n(306,c,""))}return i;case 0:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:zn(c,m),md(s,i,c,m,o);case 1:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:zn(c,m),tm(s,i,c,m,o);case 3:e:{if(nm(i),s===null)throw Error(n(387));c=i.pendingProps,E=i.memoizedState,m=E.element,Ep(s,i),_o(i,c,null,o);var w=i.memoizedState;if(c=w.element,E.isDehydrated)if(E={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=E,i.memoizedState=E,i.flags&256){m=hi(Error(n(423)),i),i=rm(s,i,c,o,m);break e}else if(c!==m){m=hi(Error(n(424)),i),i=rm(s,i,c,o,m);break e}else for(pn=$r(i.stateNode.containerInfo.firstChild),hn=i,Qe=!0,$n=null,o=mp(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(oi(),c===m){i=vr(s,i,o);break e}Ht(s,i,c,o)}i=i.child}return i;case 5:return Tp(i),s===null&&Wc(i),c=i.type,m=i.pendingProps,E=s!==null?s.memoizedProps:null,w=m.children,Mc(c,m)?w=null:E!==null&&Mc(c,E)&&(i.flags|=32),em(s,i),Ht(s,i,w,o),i.child;case 6:return s===null&&Wc(i),null;case 13:return sm(s,i,o);case 4:return Zc(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=li(i,null,c,o):Ht(s,i,c,o),i.child;case 11:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:zn(c,m),Kp(s,i,c,m,o);case 7:return Ht(s,i,i.pendingProps,o),i.child;case 8:return Ht(s,i,i.pendingProps.children,o),i.child;case 12:return Ht(s,i,i.pendingProps.children,o),i.child;case 10:e:{if(c=i.type._context,m=i.pendingProps,E=i.memoizedProps,w=m.value,qe(bo,c._currentValue),c._currentValue=w,E!==null)if(Hn(E.value,w)){if(E.children===m.children&&!Yt.current){i=vr(s,i,o);break e}}else for(E=i.child,E!==null&&(E.return=i);E!==null;){var k=E.dependencies;if(k!==null){w=E.child;for(var O=k.firstContext;O!==null;){if(O.context===c){if(E.tag===1){O=Sr(-1,o&-o),O.tag=2;var H=E.updateQueue;if(H!==null){H=H.shared;var G=H.pending;G===null?O.next=O:(O.next=G.next,G.next=O),H.pending=O}}E.lanes|=o,O=E.alternate,O!==null&&(O.lanes|=o),Kc(E.return,o,i),k.lanes|=o;break}O=O.next}}else if(E.tag===10)w=E.type===i.type?null:E.child;else if(E.tag===18){if(w=E.return,w===null)throw Error(n(341));w.lanes|=o,k=w.alternate,k!==null&&(k.lanes|=o),Kc(w,o,i),w=E.sibling}else w=E.child;if(w!==null)w.return=E;else for(w=E;w!==null;){if(w===i){w=null;break}if(E=w.sibling,E!==null){E.return=w.return,w=E;break}w=w.return}E=w}Ht(s,i,m.children,o),i=i.child}return i;case 9:return m=i.type,c=i.pendingProps.children,di(i,o),m=xn(m),c=c(m),i.flags|=1,Ht(s,i,c,o),i.child;case 14:return c=i.type,m=zn(c,i.pendingProps),m=zn(c.type,m),Xp(s,i,c,m,o);case 15:return Jp(s,i,i.type,i.pendingProps,o);case 17:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:zn(c,m),Ro(s,i),i.tag=1,Vt(c)?(s=!0,fo(i)):s=!1,di(i,o),zp(i,c,m),fd(i,c,m,o),gd(null,i,c,!0,s,o);case 19:return am(s,i,o);case 22:return Zp(s,i,o)}throw Error(n(156,i.tag))};function Rm(s,i){return l0(s,i)}function A_(s,i,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(s,i,o,c){return new A_(s,i,o,c)}function Md(s){return s=s.prototype,!(!s||!s.isReactComponent)}function N_(s){if(typeof s=="function")return Md(s)?1:0;if(s!=null){if(s=s.$$typeof,s===rt)return 11;if(s===kt)return 14}return 2}function Zr(s,i){var o=s.alternate;return o===null?(o=Cn(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&14680064,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o}function Ho(s,i,o,c,m,E){var w=2;if(c=s,typeof s=="function")Md(s)&&(w=1);else if(typeof s=="string")w=5;else e:switch(s){case se:return Ns(o.children,m,E,i);case ne:w=8,m|=8;break;case pe:return s=Cn(12,o,i,m|2),s.elementType=pe,s.lanes=E,s;case Ye:return s=Cn(13,o,i,m),s.elementType=Ye,s.lanes=E,s;case st:return s=Cn(19,o,i,m),s.elementType=st,s.lanes=E,s;case Ie:return $o(o,m,E,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case xe:w=10;break e;case Re:w=9;break e;case rt:w=11;break e;case kt:w=14;break e;case dt:w=16,c=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Cn(w,o,i,m),i.elementType=s,i.type=c,i.lanes=E,i}function Ns(s,i,o,c){return s=Cn(7,s,c,i),s.lanes=o,s}function $o(s,i,o,c){return s=Cn(22,s,c,i),s.elementType=Ie,s.lanes=o,s.stateNode={isHidden:!1},s}function Fd(s,i,o){return s=Cn(6,s,null,i),s.lanes=o,s}function Bd(s,i,o){return i=Cn(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function k_(s,i,o,c,m){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=c,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Ud(s,i,o,c,m,E,w,k,O){return s=new k_(s,i,o,k,O),i===1?(i=1,E===!0&&(i|=8)):i=0,E=Cn(3,null,null,i),s.current=E,E.stateNode=s,E.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jc(E),s}function R_(s,i,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:c==null?null:""+c,children:s,containerInfo:i,implementation:o}}function Im(s){if(!s)return qr;s=s._reactInternals;e:{if(gs(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Vt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var o=s.type;if(Vt(o))return ip(s,o,i)}return i}function Om(s,i,o,c,m,E,w,k,O){return s=Ud(o,c,!0,s,m,E,w,k,O),s.context=Im(null),o=s.current,c=$t(),m=Xr(o),E=Sr(c,m),E.callback=i??null,Vr(o,E,m),s.current.lanes=m,Zi(s,m,c),Kt(s,c),s}function zo(s,i,o,c){var m=i.current,E=$t(),w=Xr(m);return o=Im(o),i.context===null?i.context=o:i.pendingContext=o,i=Sr(E,w),i.payload={element:s},c=c===void 0?null:c,c!==null&&(i.callback=c),s=Vr(m,i,w),s!==null&&(Yn(s,m,w,E),To(s,m,w)),w}function qo(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Lm(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function jd(s,i){Lm(s,i),(s=s.alternate)&&Lm(s,i)}var Dm=typeof reportError=="function"?reportError:function(s){console.error(s)};function Hd(s){this._internalRoot=s}Wo.prototype.render=Hd.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));zo(s,i,null,null)},Wo.prototype.unmount=Hd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;vs(function(){zo(null,s,null,null)}),i[yr]=null}};function Wo(s){this._internalRoot=s}Wo.prototype.unstable_scheduleHydration=function(s){if(s){var i=E0();s={blockedOn:null,target:s,priority:i};for(var o=0;o<Ur.length&&i!==0&&i<Ur[o].priority;o++);Ur.splice(o,0,s),o===0&&T0(s)}};function $d(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Yo(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function I_(s,i,o,c,m){if(m){if(typeof c=="function"){var E=c;c=function(){var H=qo(w);E.call(H)}}var w=Om(i,c,s,0,null,!1,!1,"",Pm);return s._reactRootContainer=w,s[yr]=w.current,ha(s.nodeType===8?s.parentNode:s),vs(),w}for(;m=s.lastChild;)s.removeChild(m);if(typeof c=="function"){var k=c;c=function(){var H=qo(O);k.call(H)}}var O=Ud(s,0,!1,null,null,!1,!1,"",Pm);return s._reactRootContainer=O,s[yr]=O.current,ha(s.nodeType===8?s.parentNode:s),vs(function(){zo(i,O,o,c)}),O}function Vo(s,i,o,c,m){var E=o._reactRootContainer;if(E){var w=E;if(typeof m=="function"){var k=m;m=function(){var O=qo(w);k.call(O)}}zo(i,w,s,m)}else w=I_(o,i,s,m,c);return qo(w)}m0=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var o=Ji(i.pendingLanes);o!==0&&(fc(i,o|1),Kt(i,at()),!(De&6)&&(gi=at()+500,Wr()))}break;case 13:vs(function(){var c=xr(s,1);if(c!==null){var m=$t();Yn(c,s,1,m)}}),jd(s,1)}},hc=function(s){if(s.tag===13){var i=xr(s,134217728);if(i!==null){var o=$t();Yn(i,s,134217728,o)}jd(s,134217728)}},g0=function(s){if(s.tag===13){var i=Xr(s),o=xr(s,i);if(o!==null){var c=$t();Yn(o,s,i,c)}jd(s,i)}},E0=function(){return He},b0=function(s,i){var o=He;try{return He=s,i()}finally{He=o}},Ki=function(s,i,o){switch(i){case"input":if(Vs(s,o),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==s&&c.form===s.form){var m=lo(c);if(!m)throw Error(n(90));ln(c),Vs(c,m)}}}break;case"textarea":Yi(s,o);break;case"select":i=o.value,i!=null&&Pn(s,!!o.multiple,i,!1)}},jt=Ld,Ot=vs;var O_={usingClientEntryPoint:!1,Events:[ga,ri,lo,It,Fn,Ld]},Ra={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L_={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=u0(s),s===null?null:s.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{qu=Go.inject(L_),nr=Go}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O_,Xt.createPortal=function(s,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(i))throw Error(n(200));return R_(s,i,null,o)},Xt.createRoot=function(s,i){if(!$d(s))throw Error(n(299));var o=!1,c="",m=Dm;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Ud(s,1,!1,null,null,o,!1,c,m),s[yr]=i.current,ha(s.nodeType===8?s.parentNode:s),new Hd(i)},Xt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=u0(i),s=s===null?null:s.stateNode,s},Xt.flushSync=function(s){return vs(s)},Xt.hydrate=function(s,i,o){if(!Yo(i))throw Error(n(200));return Vo(null,s,i,!0,o)},Xt.hydrateRoot=function(s,i,o){if(!$d(s))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,m=!1,E="",w=Dm;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(E=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),i=Om(i,null,s,1,o??null,m,!1,E,w),s[yr]=i.current,ha(s),c)for(s=0;s<c.length;s++)o=c[s],m=o._getVersion,m=m(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,m]:i.mutableSourceEagerHydrationData.push(o,m);return new Wo(i)},Xt.render=function(s,i,o){if(!Yo(i))throw Error(n(200));return Vo(null,s,i,!1,o)},Xt.unmountComponentAtNode=function(s){if(!Yo(s))throw Error(n(40));return s._reactRootContainer?(vs(function(){Vo(null,null,s,!1,function(){s._reactRootContainer=null,s[yr]=null})}),!0):!1},Xt.unstable_batchedUpdates=Ld,Xt.unstable_renderSubtreeIntoContainer=function(s,i,o,c){if(!Yo(o))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Vo(s,i,o,!1,c)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var zm;function U1(){if(zm)return Wd.exports;zm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wd.exports=H_(),Wd.exports}var qm;function $_(){if(qm)return Qo;qm=1;var e=U1();return Qo.createRoot=e.createRoot,Qo.hydrateRoot=e.hydrateRoot,Qo}var z_=$_(),Oa={},Wm;function q_(){if(Wm)return Oa;Wm=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.parse=l,Oa.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,x){const S=new u,A=_.length;if(A<2)return S;const N=x?.decode||g;let I=0;do{const P=_.indexOf("=",I);if(P===-1)break;const j=_.indexOf(";",I),L=j===-1?A:j;if(P>L){I=_.lastIndexOf(";",P-1)+1;continue}const q=d(_,I,P),K=f(_,P,q),se=_.slice(q,K);if(S[se]===void 0){let ne=d(_,P+1,L),pe=f(_,L,ne);const xe=N(_.slice(ne,pe));S[se]=xe}I=L+1}while(I<A);return S}function d(_,x,S){do{const A=_.charCodeAt(x);if(A!==32&&A!==9)return x}while(++x<S);return S}function f(_,x,S){for(;x>S;){const A=_.charCodeAt(--x);if(A!==32&&A!==9)return x+1}return S}function h(_,x,S){const A=S?.encode||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const N=A(x);if(!t.test(N))throw new TypeError(`argument val is invalid: ${x}`);let I=_+"="+N;if(!S)return I;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);I+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);I+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);I+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);I+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(I+="; HttpOnly"),S.secure&&(I+="; Secure"),S.partitioned&&(I+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return I}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return a.call(_)==="[object Date]"}return Oa}q_();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ym="popstate";function W_(e={}){function t(a,u){let{pathname:l="/",search:d="",hash:f=""}=$s(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),xf("",{pathname:l,search:d,hash:f},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(a,u){let l=a.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof u=="string"?u:cu(u))}function r(a,u){Rn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return V_(t,n,r,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y_(){return Math.random().toString(36).substring(2,10)}function Vm(e,t){return{usr:e.state,key:e.key,idx:t}}function xf(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?$s(t):t,state:n,key:t&&t.key||r||Y_()}}function cu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $s(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function V_(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:u=!1}=r,l=a.history,d="POP",f=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function y(){d="POP";let N=g(),I=N==null?null:N-h;h=N,f&&f({action:d,location:A.location,delta:I})}function _(N,I){d="PUSH";let P=xf(A.location,N,I);n(P,N),h=g()+1;let j=Vm(P,h),L=A.createHref(P);try{l.pushState(j,"",L)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(L)}u&&f&&f({action:d,location:A.location,delta:1})}function x(N,I){d="REPLACE";let P=xf(A.location,N,I);n(P,N),h=g();let j=Vm(P,h),L=A.createHref(P);l.replaceState(j,"",L),u&&f&&f({action:d,location:A.location,delta:0})}function S(N){let I=a.location.origin!=="null"?a.location.origin:a.location.href,P=typeof N=="string"?N:cu(N);return P=P.replace(/ $/,"%20"),Xe(I,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,I)}let A={get action(){return d},get location(){return e(a,l)},listen(N){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Ym,y),f=N,()=>{a.removeEventListener(Ym,y),f=null}},createHref(N){return t(a,N)},createURL:S,encodeLocation(N){let I=S(N);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:x,go(N){return l.go(N)}};return A}function j1(e,t,n="/"){return G_(e,t,n,!1)}function G_(e,t,n,r){let a=typeof t=="string"?$s(t):t,u=cs(a.pathname||"/",n);if(u==null)return null;let l=H1(e);Q_(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=a2(u);d=s2(l[f],h,r)}return d}function H1(e,t=[],n=[],r=""){let a=(u,l,d)=>{let f={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:l,route:u};f.relativePath.startsWith("/")&&(Xe(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=Rr([r,f.relativePath]),g=n.concat(f);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),H1(u.children,t,g,h)),!(u.path==null&&!u.index)&&t.push({path:h,score:n2(h,u.index),routesMeta:g})};return e.forEach((u,l)=>{if(u.path===""||!u.path?.includes("?"))a(u,l);else for(let d of $1(u.path))a(u,l,d)}),t}function $1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return a?[u,""]:[u];let l=$1(r.join("/")),d=[];return d.push(...l.map(f=>f===""?u:[u,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function Q_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:r2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var K_=/^:[\w-]+$/,X_=3,J_=2,Z_=1,e2=10,t2=-2,Gm=e=>e==="*";function n2(e,t){let n=e.split("/"),r=n.length;return n.some(Gm)&&(r+=t2),t&&(r+=J_),n.filter(a=>!Gm(a)).reduce((a,u)=>a+(K_.test(u)?X_:u===""?Z_:e2),r)}function r2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function s2(e,t,n=!1){let{routesMeta:r}=e,a={},u="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,g=u==="/"?t:t.slice(u.length)||"/",y=El({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),_=f.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=El({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),l.push({params:a,pathname:Rr([u,y.pathname]),pathnameBase:c2(Rr([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=Rr([u,y.pathnameBase]))}return l}function El(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=i2(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let u=a[0],l=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:y},_)=>{if(g==="*"){let S=d[_]||"";l=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const x=d[_];return y&&!x?h[g]=void 0:h[g]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:l,pattern:e}}function i2(e,t=!1,n=!0){Rn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function a2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function u2(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?$s(e):e;return{pathname:n?n.startsWith("/")?n:o2(n,t):t,search:d2(r),hash:f2(a)}}function o2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Gd(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ih(e){let t=l2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ah(e,t,n,r=!1){let a;typeof e=="string"?a=$s(e):(a={...e},Xe(!a.pathname||!a.pathname.includes("?"),Gd("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),Gd("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),Gd("#","search","hash",a)));let u=e===""||a.pathname==="",l=u?"/":a.pathname,d;if(l==null)d=n;else{let y=t.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;a.pathname=_.join("/")}d=y>=0?t[y]:"/"}let f=u2(a,d),h=l&&l!=="/"&&l.endsWith("/"),g=(u||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var Rr=e=>e.join("/").replace(/\/\/+/g,"/"),c2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function h2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var z1=["POST","PUT","PATCH","DELETE"];new Set(z1);var p2=["GET",...z1];new Set(p2);var Oi=T.createContext(null);Oi.displayName="DataRouter";var Fl=T.createContext(null);Fl.displayName="DataRouterState";var q1=T.createContext({isTransitioning:!1});q1.displayName="ViewTransition";var m2=T.createContext(new Map);m2.displayName="Fetchers";var g2=T.createContext(null);g2.displayName="Await";var Qn=T.createContext(null);Qn.displayName="Navigation";var xu=T.createContext(null);xu.displayName="Location";var Kn=T.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var uh=T.createContext(null);uh.displayName="RouteError";function E2(e,{relative:t}={}){Xe(Li(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Qn),{hash:a,pathname:u,search:l}=Su(e,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:Rr([n,u])),r.createHref({pathname:d,search:l,hash:a})}function Li(){return T.useContext(xu)!=null}function Ln(){return Xe(Li(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(xu).location}var W1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y1(e){T.useContext(Qn).static||T.useLayoutEffect(e)}function gt(){let{isDataRoute:e}=T.useContext(Kn);return e?R2():b2()}function b2(){Xe(Li(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Oi),{basename:t,navigator:n}=T.useContext(Qn),{matches:r}=T.useContext(Kn),{pathname:a}=Ln(),u=JSON.stringify(ih(r)),l=T.useRef(!1);return Y1(()=>{l.current=!0}),T.useCallback((f,h={})=>{if(Rn(l.current,W1),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=ah(f,JSON.parse(u),a,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Rr([t,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[t,n,u,a,e])}T.createContext(null);function Bl(){let{matches:e}=T.useContext(Kn),t=e[e.length-1];return t?t.params:{}}function Su(e,{relative:t}={}){let{matches:n}=T.useContext(Kn),{pathname:r}=Ln(),a=JSON.stringify(ih(n));return T.useMemo(()=>ah(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function y2(e,t){return V1(e,t)}function V1(e,t,n,r){Xe(Li(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(Qn),{matches:u}=T.useContext(Kn),l=u[u.length-1],d=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let I=g&&g.path||"";G1(f,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=Ln(),_;if(t){let I=typeof t=="string"?$s(t):t;Xe(h==="/"||I.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${I.pathname}" was given in the \`location\` prop.`),_=I}else _=y;let x=_.pathname||"/",S=x;if(h!=="/"){let I=h.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=j1(e,{pathname:S});Rn(g||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Rn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=S2(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:Rr([h,a.encodeLocation?a.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:Rr([h,a.encodeLocation?a.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),u,n,r);return t&&N?T.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},N):N}function T2(){let e=k2(),t=h2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:u},"ErrorBoundary")," or"," ",T.createElement("code",{style:u},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:a},n):null,l)}var _2=T.createElement(T2,null),w2=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(Kn.Provider,{value:this.props.routeContext},T.createElement(uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function x2({routeContext:e,match:t,children:n}){let r=T.useContext(Oi);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Kn.Provider,{value:e},n)}function S2(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,u=n?.errors;if(u!=null){let f=a.findIndex(h=>h.route.id&&u?.[h.route.id]!==void 0);Xe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:g,errors:y}=n,_=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||_){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,g)=>{let y,_=!1,x=null,S=null;n&&(y=u&&h.route.id?u[h.route.id]:void 0,x=h.route.errorElement||_2,l&&(d<0&&g===0?(G1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):d===g&&(_=!0,S=h.route.hydrateFallbackElement||null)));let A=t.concat(a.slice(0,g+1)),N=()=>{let I;return y?I=x:_?I=S:h.route.Component?I=T.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=f,T.createElement(x2,{match:h,routeContext:{outlet:f,matches:A,isDataRoute:n!=null},children:I})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?T.createElement(w2,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:N(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):N()},null)}function oh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v2(e){let t=T.useContext(Oi);return Xe(t,oh(e)),t}function C2(e){let t=T.useContext(Fl);return Xe(t,oh(e)),t}function A2(e){let t=T.useContext(Kn);return Xe(t,oh(e)),t}function lh(e){let t=A2(e),n=t.matches[t.matches.length-1];return Xe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function N2(){return lh("useRouteId")}function k2(){let e=T.useContext(uh),t=C2("useRouteError"),n=lh("useRouteError");return e!==void 0?e:t.errors?.[n]}function R2(){let{router:e}=v2("useNavigate"),t=lh("useNavigate"),n=T.useRef(!1);return Y1(()=>{n.current=!0}),T.useCallback(async(a,u={})=>{Rn(n.current,W1),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...u}))},[e,t])}var Qm={};function G1(e,t,n){!t&&!Qm[e]&&(Qm[e]=!0,Rn(!1,n))}T.memo(I2);function I2({routes:e,future:t,state:n}){return V1(e,void 0,n,t)}function Km({to:e,replace:t,state:n,relative:r}){Xe(Li(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(Qn);Rn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=T.useContext(Kn),{pathname:l}=Ln(),d=gt(),f=ah(e,ih(u),l,r==="path"),h=JSON.stringify(f);return T.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:r})},[d,h,r,t,n]),null}function en(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:u=!1}){Xe(!Li(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:l,navigator:a,static:u,future:{}}),[l,a,u]);typeof n=="string"&&(n=$s(n));let{pathname:f="/",search:h="",hash:g="",state:y=null,key:_="default"}=n,x=T.useMemo(()=>{let S=cs(f,l);return S==null?null:{location:{pathname:S,search:h,hash:g,state:y,key:_},navigationType:r}},[l,f,h,g,y,_,r]);return Rn(x!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(Qn.Provider,{value:d},T.createElement(xu.Provider,{children:t,value:x}))}function L2({children:e,location:t}){return y2(Sf(e),t)}function Sf(e,t=[]){let n=[];return T.Children.forEach(e,(r,a)=>{if(!T.isValidElement(r))return;let u=[...t,a];if(r.type===T.Fragment){n.push.apply(n,Sf(r.props.children,u));return}Xe(r.type===en,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Sf(r.props.children,u)),n.push(l)}),n}var ll="get",cl="application/x-www-form-urlencoded";function Ul(e){return e!=null&&typeof e.tagName=="string"}function D2(e){return Ul(e)&&e.tagName.toLowerCase()==="button"}function P2(e){return Ul(e)&&e.tagName.toLowerCase()==="form"}function M2(e){return Ul(e)&&e.tagName.toLowerCase()==="input"}function F2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function B2(e,t){return e.button===0&&(!t||t==="_self")&&!F2(e)}var Ko=null;function U2(){if(Ko===null)try{new FormData(document.createElement("form"),0),Ko=!1}catch{Ko=!0}return Ko}var j2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qd(e){return e!=null&&!j2.has(e)?(Rn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cl}"`),null):e}function H2(e,t){let n,r,a,u,l;if(P2(e)){let d=e.getAttribute("action");r=d?cs(d,t):null,n=e.getAttribute("method")||ll,a=Qd(e.getAttribute("enctype"))||cl,u=new FormData(e)}else if(D2(e)||M2(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?cs(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||ll,a=Qd(e.getAttribute("formenctype"))||Qd(d.getAttribute("enctype"))||cl,u=new FormData(d,e),!U2()){let{name:h,type:g,value:y}=e;if(g==="image"){let _=h?`${h}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else h&&u.append(h,y)}}else{if(Ul(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ll,r=null,a=cl,l=e}return u&&a==="text/plain"&&(l=u,u=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:u,body:l}}function ch(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function $2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function q2(e,t,n){let r=await Promise.all(e.map(async a=>{let u=t.routes[a.route.id];if(u){let l=await $2(u,n);return l.links?l.links():[]}return[]}));return G2(r.flat(1).filter(z2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Xm(e,t,n,r,a,u){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return u==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):u==="data"?t.filter((f,h)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function W2(e,t){return Y2(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function Y2(e){return[...new Set(e)]}function V2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function G2(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let u=JSON.stringify(V2(a));return n.has(u)||(n.add(u),r.push({key:u,link:a})),r},[])}function Q2(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function K2(){let e=T.useContext(Oi);return ch(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function X2(){let e=T.useContext(Fl);return ch(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dh=T.createContext(void 0);dh.displayName="FrameworkContext";function Q1(){let e=T.useContext(dh);return ch(e,"You must render this element inside a <HydratedRouter> element"),e}function J2(e,t){let n=T.useContext(dh),[r,a]=T.useState(!1),[u,l]=T.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=t,_=T.useRef(null);T.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let A=I=>{I.forEach(P=>{l(P.isIntersecting)})},N=new IntersectionObserver(A,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[e]),T.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let x=()=>{a(!0)},S=()=>{a(!1),l(!1)};return n?e!=="intent"?[u,_,{}]:[u,_,{onFocus:La(d,x),onBlur:La(f,S),onMouseEnter:La(h,x),onMouseLeave:La(g,S),onTouchStart:La(y,x)}]:[!1,_,{}]}function La(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Z2({page:e,...t}){let{router:n}=K2(),r=T.useMemo(()=>j1(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(tw,{page:e,matches:r,...t}):null}function ew(e){let{manifest:t,routeModules:n}=Q1(),[r,a]=T.useState([]);return T.useEffect(()=>{let u=!1;return q2(e,t,n).then(l=>{u||a(l)}),()=>{u=!0}},[e,t,n]),r}function tw({page:e,matches:t,...n}){let r=Ln(),{manifest:a,routeModules:u}=Q1(),{loaderData:l,matches:d}=X2(),f=T.useMemo(()=>Xm(e,t,d,a,r,"data"),[e,t,d,a,r]),h=T.useMemo(()=>Xm(e,t,d,a,r,"assets"),[e,t,d,a,r]),g=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,S=!1;if(t.forEach(N=>{let I=a.routes[N.route.id];!I||!I.hasLoader||(!f.some(P=>P.route.id===N.route.id)&&N.route.id in l&&u[N.route.id]?.shouldRevalidate||I.hasClientLoader?S=!0:x.add(N.route.id))}),x.size===0)return[];let A=Q2(e);return S&&x.size>0&&A.searchParams.set("_routes",t.filter(N=>x.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[l,r,a,f,t,e,u]),y=T.useMemo(()=>W2(h,a),[h,a]),_=ew(h);return T.createElement(T.Fragment,null,g.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),_.map(({key:x,link:S})=>T.createElement("link",{key:x,...S})))}function nw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var K1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K1&&(window.__reactRouterVersion="7.1.3")}catch{}function rw({basename:e,children:t,window:n}){let r=T.useRef();r.current==null&&(r.current=W_({window:n,v5Compat:!0}));let a=r.current,[u,l]=T.useState({action:a.action,location:a.location}),d=T.useCallback(f=>{T.startTransition(()=>l(f))},[l]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.createElement(O2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a})}var X1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:u,replace:l,state:d,target:f,to:h,preventScrollReset:g,viewTransition:y,..._},x){let{basename:S}=T.useContext(Qn),A=typeof h=="string"&&X1.test(h),N,I=!1;if(typeof h=="string"&&A&&(N=h,K1))try{let pe=new URL(window.location.href),xe=h.startsWith("//")?new URL(pe.protocol+h):new URL(h),Re=cs(xe.pathname,S);xe.origin===pe.origin&&Re!=null?h=Re+xe.search+xe.hash:I=!0}catch{Rn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=E2(h,{relative:a}),[j,L,q]=J2(r,_),K=uw(h,{replace:l,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:y});function se(pe){t&&t(pe),pe.defaultPrevented||K(pe)}let ne=T.createElement("a",{..._,...q,href:N||P,onClick:I||u?t:se,ref:nw(x,L),target:f,"data-discover":!A&&n==="render"?"true":void 0});return j&&!A?T.createElement(T.Fragment,null,ne,T.createElement(Z2,{page:P})):ne});sn.displayName="Link";var sw=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:u,to:l,viewTransition:d,children:f,...h},g){let y=Su(l,{relative:h.relative}),_=Ln(),x=T.useContext(Fl),{navigator:S,basename:A}=T.useContext(Qn),N=x!=null&&fw(y)&&d===!0,I=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,P=_.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(P=P.toLowerCase(),j=j?j.toLowerCase():null,I=I.toLowerCase()),j&&A&&(j=cs(j,A)||j);const L=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let q=P===I||!a&&P.startsWith(I)&&P.charAt(L)==="/",K=j!=null&&(j===I||!a&&j.startsWith(I)&&j.charAt(I.length)==="/"),se={isActive:q,isPending:K,isTransitioning:N},ne=q?t:void 0,pe;typeof r=="function"?pe=r(se):pe=[r,q?"active":null,K?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let xe=typeof u=="function"?u(se):u;return T.createElement(sn,{...h,"aria-current":ne,className:pe,ref:g,style:xe,to:l,viewTransition:d},typeof f=="function"?f(se):f)});sw.displayName="NavLink";var iw=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:u,method:l=ll,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:y,..._},x)=>{let S=cw(),A=dw(d,{relative:h}),N=l.toLowerCase()==="get"?"get":"post",I=typeof d=="string"&&X1.test(d),P=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let L=j.nativeEvent.submitter,q=L?.getAttribute("formmethod")||l;S(L||j.currentTarget,{fetcherKey:t,method:q,navigate:n,replace:a,state:u,relative:h,preventScrollReset:g,viewTransition:y})};return T.createElement("form",{ref:x,method:N,action:A,onSubmit:r?f:P,..._,"data-discover":!I&&e==="render"?"true":void 0})});iw.displayName="Form";function aw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J1(e){let t=T.useContext(Oi);return Xe(t,aw(e)),t}function uw(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:u,viewTransition:l}={}){let d=gt(),f=Ln(),h=Su(e,{relative:u});return T.useCallback(g=>{if(B2(g,t)){g.preventDefault();let y=n!==void 0?n:cu(f)===cu(h);d(e,{replace:y,state:r,preventScrollReset:a,relative:u,viewTransition:l})}},[f,d,h,n,r,t,e,a,u,l])}var ow=0,lw=()=>`__${String(++ow)}__`;function cw(){let{router:e}=J1("useSubmit"),{basename:t}=T.useContext(Qn),n=N2();return T.useCallback(async(r,a={})=>{let{action:u,method:l,encType:d,formData:f,body:h}=H2(r,t);if(a.navigate===!1){let g=a.fetcherKey||lw();await e.fetch(g,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function dw(e,{relative:t}={}){let{basename:n}=T.useContext(Qn),r=T.useContext(Kn);Xe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),u={...Su(e||".",{relative:t})},l=Ln();if(e==null){u.search=l.search;let d=new URLSearchParams(u.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();u.search=g?`?${g}`:""}}return(!e||e===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Rr([n,u.pathname])),cu(u)}function fw(e,t={}){let n=T.useContext(q1);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=J1("useViewTransitionState"),a=Su(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return El(a.pathname,l)!=null||El(a.pathname,u)!=null}new TextEncoder;var Qa=U1();const hw="modulepreload",pw=function(e){return"/elysia/"+e},Jm={},Ci=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");a=Promise.allSettled(n.map(f=>{if(f=pw(f),f in Jm)return;Jm[f]=!0;const h=f.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":hw,h||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),h)return new Promise((_,x)=>{y.addEventListener("load",_),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return a.then(l=>{for(const d of l||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})},mw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ci(async()=>{const{default:r}=await Promise.resolve().then(()=>Di);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class fh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class gw extends fh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ew extends fh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bw extends fh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vf||(vf={}));var yw=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class Tw{constructor(t,{headers:n={},customFetch:r,region:a=vf.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=mw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return yw(this,void 0,void 0,function*(){try{const{headers:a,method:u,body:l}=n;let d={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let h;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(d["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(d["Content-Type"]="application/json",h=JSON.stringify(l)));const g=yield this.fetch(`${this.url}/${t}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:h}).catch(S=>{throw new gw(S)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new Ew(g);if(!g.ok)throw new bw(g);let _=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return _==="application/json"?x=yield g.json():_==="application/octet-stream"?x=yield g.blob():_==="text/event-stream"?x=g:_==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null}}catch(a){return{data:null,error:a}}})}}var Ct={},Da={},Pa={},Ma={},Fa={},Ba={},_w=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ai=_w();const ww=Ai.fetch,Z1=Ai.fetch.bind(Ai),eE=Ai.Headers,xw=Ai.Request,Sw=Ai.Response,Di=Object.freeze(Object.defineProperty({__proto__:null,Headers:eE,Request:xw,Response:Sw,default:Z1,fetch:ww},Symbol.toStringTag,{value:"Module"})),vw=P_(Di);var Xo={},Zm;function tE(){if(Zm)return Xo;Zm=1,Object.defineProperty(Xo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Xo.default=e,Xo}var eg;function nE(){if(eg)return Ba;eg=1;var e=Ba.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ba,"__esModule",{value:!0});const t=e(vw),n=e(tE());class r{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,l){return this.headers=Object.assign({},this.headers),this.headers[u]=l,this}then(u,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var g,y,_;let x=null,S=null,A=null,N=h.status,I=h.statusText;if(h.ok){if(this.method!=="HEAD"){const q=await h.text();q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=q:S=JSON.parse(q))}const j=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),L=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");j&&L&&L.length>1&&(A=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,A=null,N=406,I="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const j=await h.text();try{x=JSON.parse(j),Array.isArray(x)&&h.status===404&&(S=[],x=null,N=200,I="OK")}catch{h.status===404&&j===""?(N=204,I="No Content"):x={message:j}}if(x&&this.isMaybeSingle&&(!((_=x?.details)===null||_===void 0)&&_.includes("0 rows"))&&(x=null,N=200,I="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:S,count:A,status:N,statusText:I}});return this.shouldThrowOnError||(f=f.catch(h=>{var g,y,_;return{error:{message:`${(g=h?.name)!==null&&g!==void 0?g:"FetchError"}: ${h?.message}`,details:`${(y=h?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(_=h?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),f.then(u,l)}}return Ba.default=r,Ba}var tg;function rE(){if(tg)return Fa;tg=1;var e=Fa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fa,"__esModule",{value:!0});const t=e(nE());class n extends t.default{select(a){let u=!1;const l=(a??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:u=!0,nullsFirst:l,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${a}.${u?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:u,referencedTable:l=u}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,u,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(h,`${u-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:u=!1,settings:l=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var g;const y=[a?"analyze":null,u?"verbose":null,l?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),_=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${_}"; options=${y};`,h==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Fa.default=n,Fa}var ng;function hh(){if(ng)return Ma;ng=1;var e=Ma.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ma,"__esModule",{value:!0});const t=e(rE());class n extends t.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}in(a,u){const l=Array.from(new Set(u)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:l,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${h}.${u}`),this}match(a){return Object.entries(a).forEach(([u,l])=>{this.url.searchParams.append(u,`eq.${l}`)}),this}not(a,u,l){return this.url.searchParams.append(a,`not.${u}.${l}`),this}or(a,{foreignTable:u,referencedTable:l=u}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,u,l){return this.url.searchParams.append(a,`${u}.${l}`),this}}return Ma.default=n,Ma}var rg;function sE(){if(rg)return Pa;rg=1;var e=Pa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pa,"__esModule",{value:!0});const t=e(hh());class n{constructor(a,{headers:u={},schema:l,fetch:d}){this.url=a,this.headers=u,this.schema=l,this.fetch=d}select(a,{head:u=!1,count:l}={}){const d=u?"HEAD":"GET";let f=!1;const h=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",h),l&&(this.headers.Prefer=`count=${l}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:u,defaultToNull:l=!0}={}){const d="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),u&&f.push(`count=${u}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const h=a.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(h.length>0){const g=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:u,ignoreDuplicates:l=!1,count:d,defaultToNull:f=!0}={}){const h="POST",g=[`resolution=${l?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const y=a.reduce((_,x)=>_.concat(Object.keys(x)),[]);if(y.length>0){const _=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:u}={}){const l="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),u&&d.push(`count=${u}`),this.headers.Prefer=d.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const u="DELETE",l=[];return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Pa.default=n,Pa}var Ua={},ja={},sg;function Cw(){return sg||(sg=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.version=void 0,ja.version="0.0.0-automated"),ja}var ig;function Aw(){if(ig)return Ua;ig=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.DEFAULT_HEADERS=void 0;const e=Cw();return Ua.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Ua}var ag;function Nw(){if(ag)return Da;ag=1;var e=Da.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Da,"__esModule",{value:!0});const t=e(sE()),n=e(hh()),r=Aw();class a{constructor(l,{headers:d={},schema:f,fetch:h}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),d),this.schemaName=f,this.fetch=h}from(l){const d=new URL(`${this.url}/${l}`);return new t.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,d={},{head:f=!1,get:h=!1,count:g}={}){let y;const _=new URL(`${this.url}/rpc/${l}`);let x;f||h?(y=f?"HEAD":"GET",Object.entries(d).filter(([A,N])=>N!==void 0).map(([A,N])=>[A,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([A,N])=>{_.searchParams.append(A,N)})):(y="POST",x=d);const S=Object.assign({},this.headers);return g&&(S.Prefer=`count=${g}`),new n.default({method:y,url:_,headers:S,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return Da.default=a,Da}var ug;function kw(){if(ug)return Ct;ug=1;var e=Ct.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;const t=e(Nw());Ct.PostgrestClient=t.default;const n=e(sE());Ct.PostgrestQueryBuilder=n.default;const r=e(hh());Ct.PostgrestFilterBuilder=r.default;const a=e(rE());Ct.PostgrestTransformBuilder=a.default;const u=e(nE());Ct.PostgrestBuilder=u.default;const l=e(tE());return Ct.PostgrestError=l.default,Ct.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:u.default,PostgrestError:l.default},Ct}var Rw=kw();const Iw=rh(Rw),{PostgrestClient:Ow,PostgrestQueryBuilder:R5,PostgrestFilterBuilder:I5,PostgrestTransformBuilder:O5,PostgrestBuilder:L5,PostgrestError:D5}=Iw,Lw="2.11.2",Dw={"X-Client-Info":`realtime-js/${Lw}`},Pw="1.0.0",iE=1e4,Mw=1e3;var wi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wi||(wi={}));var gn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gn||(gn={}));var Vn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vn||(Vn={}));var Cf;(function(e){e.websocket="websocket"})(Cf||(Cf={}));var Os;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Os||(Os={}));class Fw{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),u=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+a));l=l+a;const f=r.decode(t.slice(l,l+u));l=l+u;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class aE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(We||(We={}));const og=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((u,l)=>(u[l]=Bw(l,e,t,a),u),{})},Bw=(e,t,n,r)=>{const a=t.find(d=>d.name===e),u=a?.type,l=n[e];return u&&!r.includes(u)?uE(u,l):Af(l)},uE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $w(t,n)}switch(e){case We.bool:return Uw(t);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return jw(t);case We.json:case We.jsonb:return Hw(t);case We.timestamp:return zw(t);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Af(t);default:return Af(t)}},Af=e=>e,Uw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Hw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$w=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let u;const l=e.slice(1,n);try{u=JSON.parse("["+l+"]")}catch{u=l?l.split(","):[]}return u.map(d=>uE(t,d))}return e},zw=e=>typeof e=="string"?e.replace(" ","T"):e,oE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Kd{constructor(t,n,r={},a=iE){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lg||(lg={}));class Ja{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:u,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ja.syncState(this.state,a,u,l),this.pendingDiffs.forEach(f=>{this.state=Ja.syncDiff(this.state,f,u,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},a=>{const{onJoin:u,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ja.syncDiff(this.state,a,u,l),d())}),this.onJoin((a,u,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:l})}),this.onLeave((a,u,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const u=this.cloneDeep(t),l=this.transformState(n),d={},f={};return this.map(u,(h,g)=>{l[h]||(f[h]=g)}),this.map(l,(h,g)=>{const y=u[h];if(y){const _=g.map(N=>N.presence_ref),x=y.map(N=>N.presence_ref),S=g.filter(N=>x.indexOf(N.presence_ref)<0),A=y.filter(N=>_.indexOf(N.presence_ref)<0);S.length>0&&(d[h]=S),A.length>0&&(f[h]=A)}else d[h]=g}),this.syncDiff(u,{joins:d,leaves:f},r,a)}static syncDiff(t,n,r,a){const{joins:u,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(u,(d,f)=>{var h;const g=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),g.length>0){const y=t[d].map(x=>x.presence_ref),_=g.filter(x=>y.indexOf(x.presence_ref)<0);t[d].unshift(..._)}r(d,g,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const g=f.map(y=>y.presence_ref);h=h.filter(y=>g.indexOf(y.presence_ref)<0),t[d]=h,a(d,h,f),h.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cg||(cg={}));var dg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dg||(dg={}));var Nr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Nr||(Nr={}));class ph{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kd(this,Vn.join,this.params,this.timeout),this.rejoinTimer=new aE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vn.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Ja(this),this.broadcastEndpointURL=oE(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:l,private:d}}=this.params;this._onError(g=>t?.(Nr.CHANNEL_ERROR,g)),this._onClose(()=>t?.(Nr.CLOSED));const f={},h={broadcast:u,presence:l,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&a!==void 0?a:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){t?.(Nr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(y=_?.length)!==null&&y!==void 0?y:0,S=[];for(let A=0;A<x;A++){const N=_[A],{filter:{event:I,schema:P,table:j,filter:L}}=N,q=g&&g[A];if(q&&q.event===I&&q.schema===P&&q.table===j&&q.filter===L)S.push(Object.assign(Object.assign({},N),{id:q.id}));else{this.unsubscribe(),t?.(Nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(Nr.SUBSCRIBED);return}}).receive("error",g=>{t?.(Nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(Nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var l,d,f;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&u("ok"),h.receive("ok",()=>u("ok")),h.receive("error",()=>u("error")),h.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new Kd(this,Vn.leave,{},t);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const a=new AbortController,u=setTimeout(()=>a.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(u),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Kd(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,u;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:g}=Vn;if(r&&[d,f,h,g].indexOf(l)>=0&&r!==this._joinRef())return;let _=this._onMessage(l,n,r);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var S,A,N;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(A=x.filter)===null||A===void 0?void 0:A.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===l}).map(x=>x.callback(_,r)):(u=this.bindings[l])===null||u===void 0||u.filter(x=>{var S,A,N,I,P,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const L=x.id,q=(S=x.filter)===null||S===void 0?void 0:S.event;return L&&((A=n.ids)===null||A===void 0?void 0:A.includes(L))&&(q==="*"||q?.toLocaleLowerCase()===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const L=(P=(I=x?.filter)===null||I===void 0?void 0:I.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return L==="*"||L===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:A,table:N,commit_timestamp:I,type:P,errors:j}=S;_=Object.assign(Object.assign({},{schema:A,table:N,commit_timestamp:I,eventType:P,new:{},old:{},errors:j}),this._getPayloadRecords(S))}x.callback(_,r)})}_isClosed(){return this.state===gn.closed}_isJoined(){return this.state===gn.joined}_isJoining(){return this.state===gn.joining}_isLeaving(){return this.state===gn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),u={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&ph.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vn.close,{},t)}_onError(t){this._on(Vn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=og(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=og(t.columns,t.old_record)),n}}const qw=()=>{},Ww=typeof WebSocket<"u",Yw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vw{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Dw,this.params={},this.timeout=iE,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=qw,this.conn=null,this.sendBuffer=[],this.serializer=new Fw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let l;return u?l=u:typeof fetch>"u"?l=(...d)=>Ci(async()=>{const{default:f}=await Promise.resolve().then(()=>Di);return{default:f}},void 0).then(({default:f})=>f(...d)):l=fetch,(...d)=>l(...d)},this.endPoint=`${t}/${Cf.websocket}`,this.httpEndpoint=oE(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n?.encode?n.encode:(u,l)=>l(JSON.stringify(u)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new aE(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ww){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Gw(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ci(async()=>{const{default:t}=await import("./browser-BBsxEsEL.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pw}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wi.connecting:return Os.Connecting;case wi.open:return Os.Open;case wi.closing:return Os.Closing;default:return Os.Closed}}isConnected(){return this.connectionState()===Os.Open}channel(t,n={config:{}}){const r=new ph(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:a,ref:u}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${u})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(Vn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Mw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:u,ref:l}=n;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${r} ${a} ${l&&"("+l+")"||""}`,u),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,u,l)),this.stateChangeCallbacks.message.forEach(d=>d(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Yw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Gw{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class mh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Qw extends mh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nf extends mh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Kw=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const lE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ci(async()=>{const{default:r}=await Promise.resolve().then(()=>Di);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Xw=()=>Kw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ci(()=>Promise.resolve().then(()=>Di),void 0)).Response:Response}),kf=e=>{if(Array.isArray(e))return e.map(n=>kf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[a]=kf(r)}),t};var zs=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const Xd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jw=(e,t,n)=>zs(void 0,void 0,void 0,function*(){const r=yield Xw();e instanceof r&&!n?.noResolveJson?e.json().then(a=>{t(new Qw(Xd(a),e.status||500))}).catch(a=>{t(new Nf(Xd(a),a))}):t(new Nf(Xd(e),e))}),Zw=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function vu(e,t,n,r,a,u){return zs(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,Zw(t,r,a,u)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>Jw(f,d,r))})})}function bl(e,t,n,r){return zs(this,void 0,void 0,function*(){return vu(e,"GET",t,n,r)})}function ss(e,t,n,r,a){return zs(this,void 0,void 0,function*(){return vu(e,"POST",t,r,a,n)})}function ex(e,t,n,r,a){return zs(this,void 0,void 0,function*(){return vu(e,"PUT",t,r,a,n)})}function tx(e,t,n,r){return zs(this,void 0,void 0,function*(){return vu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function cE(e,t,n,r,a){return zs(this,void 0,void 0,function*(){return vu(e,"DELETE",t,r,a,n)})}var Jt=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const nx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rx{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=lE(a)}uploadOrUpdate(t,n,r,a){return Jt(this,void 0,void 0,function*(){try{let u;const l=Object.assign(Object.assign({},fg),a);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),f&&u.append("metadata",this.encodeMetadata(f)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",l.cacheControl),f&&u.append("metadata",this.encodeMetadata(f))):(u=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const h=this._removeEmptyFolders(n),g=this._getFinalPath(h),y=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:u,headers:d},l?.duplex?{duplex:l.duplex}:{})),_=yield y.json();return y.ok?{data:{path:h,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(u){if(_t(u))return{data:null,error:u};throw u}})}upload(t,n,r){return Jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return Jt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),l=this._getFinalPath(u),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:fg.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const y=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:g}),_=yield y.json();return y.ok?{data:{path:u,fullPath:_.Key},error:null}:{data:null,error:_}}catch(f){if(_t(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const u=yield ss(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),l=new URL(this.url+u.url),d=l.searchParams.get("token");if(!d)throw new mh("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}update(t,n,r){return Jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Jt(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}copy(t,n,r){return Jt(this,void 0,void 0,function*(){try{return{data:{path:(yield ss(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return Jt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),u=yield ss(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${l}`)},{data:u,error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return Jt(this,void 0,void 0,function*(){try{const a=yield ss(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${u}`):null})),error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}download(t,n){return Jt(this,void 0,void 0,function*(){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),l=u?`?${u}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield bl(this.fetch,`${this.url}/${a}/${d}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(_t(d))return{data:null,error:d};throw d}})}info(t){return Jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield bl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:kf(r),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}exists(t){return Jt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield tx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_t(r)&&r instanceof Nf){const a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&a.push(u);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&a.push(f);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${h}`)}}}remove(t){return Jt(this,void 0,void 0,function*(){try{return{data:yield cE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}list(t,n,r){return Jt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},nx),n),{prefix:t||""});return{data:yield ss(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const sx="2.7.1",ix={"X-Client-Info":`storage-js/${sx}`};var bi=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class ax{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},ix),n),this.fetch=lE(r)}listBuckets(){return bi(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_t(t))return{data:null,error:t};throw t}})}getBucket(t){return bi(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return bi(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return bi(this,void 0,void 0,function*(){try{return{data:yield ex(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}emptyBucket(t){return bi(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(t){return bi(this,void 0,void 0,function*(){try{return{data:yield cE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}}class ux extends ax{constructor(t,n={},r){super(t,n,r)}from(t){return new rx(this.url,this.headers,t,this.fetch)}}const ox="2.48.0";let Ka="";typeof Deno<"u"?Ka="deno":typeof document<"u"?Ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ka="react-native":Ka="node";const lx={"X-Client-Info":`supabase-js-${Ka}/${ox}`},cx={headers:lx},dx={schema:"public"},fx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hx={};var px=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const mx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Z1:t=fetch,(...n)=>t(...n)},gx=()=>typeof Headers>"u"?eE:Headers,Ex=(e,t,n)=>{const r=mx(n),a=gx();return(u,l)=>px(void 0,void 0,void 0,function*(){var d;const f=(d=yield t())!==null&&d!==void 0?d:e;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(u,Object.assign(Object.assign({},l),{headers:h}))})};var bx=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};function yx(e){return e.replace(/\/$/,"")}function Tx(e,t){const{db:n,auth:r,realtime:a,global:u}=e,{db:l,auth:d,realtime:f,global:h}=t,g={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},d),r),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign({},h),u),accessToken:()=>bx(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const dE="2.67.3",_x="http://localhost:9999",wx="supabase.auth.token",xx={"X-Client-Info":`gotrue-js/${dE}`},hg=10,Rf="X-Supabase-Api-Version",fE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Sx(e){return Math.round(Date.now()/1e3)+e}function vx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const or=()=>typeof window<"u"&&typeof document<"u",ks={tested:!1,writable:!1},Za=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function Cx(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,u)=>{t[u]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const hE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ci(async()=>{const{default:r}=await Promise.resolve().then(()=>Di);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Ax=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pE=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Jo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zo=async(e,t)=>{await e.removeItem(t)};function Nx(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,a,u,l,d,f,h,g=0;for(e=e.replace("-","+").replace("_","/");g<e.length;)l=t.indexOf(e.charAt(g++)),d=t.indexOf(e.charAt(g++)),f=t.indexOf(e.charAt(g++)),h=t.indexOf(e.charAt(g++)),r=l<<2|d>>4,a=(d&15)<<4|f>>2,u=(f&3)<<6|h,n=n+String.fromCharCode(r),f!=64&&a!=0&&(n=n+String.fromCharCode(a)),h!=64&&u!=0&&(n=n+String.fromCharCode(u));return n}class jl{constructor(){this.promise=new jl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}jl.promiseConstructor=Promise;function pg(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Nx(r))}async function kx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Rx(e,t){return new Promise((r,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const l=await e(u);if(!t(u,null,l)){r(l);return}}catch(l){if(!t(u,l)){a(l);return}}})()})}function Ix(e){return("0"+e.toString(16)).substr(-2)}function Ox(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let u=0;u<56;u++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,Ix).join("")}async function Lx(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}function Dx(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Px(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Lx(e);return Dx(n)}async function yi(e,t,n=!1){const r=Ox();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await pE(e,`${t}-code-verifier`,a);const u=await Px(r);return[u,r===u?"plain":"s256"]}const Mx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fx(e){const t=e.headers.get(Rf);if(!t||!t.match(Mx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class gh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Bx extends gh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ux(e){return Se(e)&&e.name==="AuthApiError"}class mE extends gh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qs extends gh{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class ts extends qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jx(e){return Se(e)&&e.name==="AuthSessionMissingError"}class Jd extends qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class el extends qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tl extends qs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hx(e){return Se(e)&&e.name==="AuthImplicitGrantRedirectError"}class mg extends qs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class If extends qs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Zd(e){return Se(e)&&e.name==="AuthRetryableFetchError"}class gg extends qs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var $x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Is=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zx=[502,503,504];async function Eg(e){var t;if(!Ax(e))throw new If(Is(e),0);if(zx.includes(e.status))throw new If(Is(e),e.status);let n;try{n=await e.json()}catch(u){throw new mE(Is(u),u)}let r;const a=Fx(e);if(a&&a.getTime()>=fE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gg(Is(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ts}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,l)=>u&&typeof l=="string",!0))throw new gg(Is(n),e.status,n.weak_password.reasons);throw new Bx(Is(n),e.status||500,r)}const qx=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function Oe(e,t,n,r){var a;const u=Object.assign({},r?.headers);u[Rf]||(u[Rf]=fE["2024-01-01"].name),r?.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const l=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await Wx(e,t,n+d,{headers:u,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function Wx(e,t,n,r,a,u){const l=qx(t,r,a,u);let d;try{d=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new If(Is(f),0)}if(d.ok||await Eg(d),r?.noResolveJson)return d;try{return await d.json()}catch(f){await Eg(f)}}function ns(e){var t;let n=null;Qx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Sx(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function bg(e){const t=ns(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function us(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Yx(e){return{data:e,error:null}}function Vx(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:u}=e,l=$x(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:u},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function Gx(e){return e}function Qx(e){return e.access_token&&e.refresh_token&&e.expires_in}var Kx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class Xx{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=hE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:us})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Kx(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Vx,redirectTo:n?.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:us})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,u,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},g=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(u=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Gx});if(g.error)throw g.error;const y=await g.json(),_=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const A=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);h[`${N}Page`]=A}),h.total=parseInt(_)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(Se(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:us})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:us})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:us})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}}const Jx={getItem:e=>Za()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Za()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Za()&&globalThis.localStorage.removeItem(e)}};function yg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Zx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ti={debug:!!(globalThis&&Za()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eS extends gE{}async function tS(e,t,n){Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ti.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Zx();const nS={url:_x,storageKey:wx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ha=30*1e3,Tg=3;async function _g(e,t,n){return await n()}class du{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=du.nextInstanceID,du.nextInstanceID+=1,this.instanceID>0&&or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},nS),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Xx({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=hE(a.fetch),this.lock=a.lock||_g,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:or()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=tS:this.lock=_g,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Za()?this.storage=Jx:(this.memoryStorage={},this.storage=yg(this.memoryStorage)):(this.memoryStorage={},this.storage=yg(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Cx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),or()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:u}=await this._getSessionFromURL(n,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Hx(u)){const f=(t=u.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:l,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Se(n)?{error:n}:{error:new mE("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const u=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ns}),{data:l,error:d}=u;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(u){if(Se(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var n,r,a;try{let u;if("email"in t){const{email:g,password:y,options:_}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await yi(this.storage,this.storageKey)),u=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:g,password:y,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:x,code_challenge_method:S},xform:ns})}else if("phone"in t){const{phone:g,password:y,options:_}=t;u=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=_?.data)!==null&&r!==void 0?r:{},channel:(a=_?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:ns})}else throw new el("You must provide either an email or phone number and a password");const{data:l,error:d}=u;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(u){if(Se(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let n;if("email"in t){const{email:u,password:l,options:d}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:bg})}else if("phone"in t){const{phone:u,password:l,options:d}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:bg})}else throw new el("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Jd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Jo(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:u,error:l}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ns});if(await Zo(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Jd}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:l})}catch(u){if(Se(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:u,nonce:l}=t,d=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:u,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ns}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Jd}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,u,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await yi(this.storage,this.storageKey));const{error:y}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:g}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(u=f?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:g}}throw new el("You must provide either an email or phone number.")}catch(d){if(Se(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let a,u;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,u=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:ns});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let u=null,l=null;return this.flowType==="pkce"&&([u,l]=await yi(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:l}),headers:this.headers,xform:Yx})}catch(u){if(Se(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ts;const{error:a}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:u}=t,{error:l}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:a,options:u}=t,{data:l,error:d}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new el("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Jo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,g)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,g))})}return{data:{session:t},error:null}}const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:us}):await this._useSession(async n=>{var r,a,u;const{data:l,error:d}=n;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ts}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:us})})}catch(n){if(Se(n))return jx(n)&&(await this._removeSession(),await Zo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:u}=r;if(u)throw u;if(!a.session)throw new ts;const l=a.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await yi(this.storage,this.storageKey));const{data:h,error:g}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:us});if(g)throw g;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return pg(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ts;const n=Date.now()/1e3;let r=n,a=!0,u=null;const l=pg(t.access_token);if(l.exp&&(r=l.exp,a=r<=n),a){const{session:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;u={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(Se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ts;const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!or())throw new tl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mg("No code detected.");const{data:P,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:u,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!u||!d||!l||!h)throw new tl("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(d);let _=g+y;f&&(_=parseInt(f));const x=_-g;x*1e3<=Ha&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const S=_-y;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,g);const{data:A,error:N}=await this._getUser(u);if(N)throw N;const I={provider_token:r,provider_refresh_token:a,access_token:u,expires_in:y,expires_at:_,refresh_token:l,token_type:h,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(r){if(Se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Jo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:u}=n;if(u)return{error:u};const l=(r=a.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(Ux(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Zo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=vx(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:u},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await yi(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(Se(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async u=>{var l,d,f,h,g;const{data:y,error:_}=u;if(_)throw _;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return or()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Se(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:u,error:l}=n;if(l)throw l;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Rx(async a=>(a>0&&await kx(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ns})),(a,u)=>{const l=200*Math.pow(2,a);return u&&Zd(u)&&Date.now()+l-r<Ha})}catch(r){if(this._debug(n,"error",r),Se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),or()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Jo(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),u=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<a+hg;if(this._debug(n,`session has${u?"":" not"} expired with margin of ${hg}s`),u){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),Zd(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ts;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new jl;const{data:u,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!u.session)throw new ts;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={session:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(a,"error",u),Se(u)){const l={session:null,error:u};return Zd(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const u=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){u.push(f)}});if(await Promise.all(l),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pE(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Zo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&or()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ha);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Ha);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ha}ms, refresh threshold is ${Tg} ticks`),a<=Tg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!or()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,l]=await yi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(d.toString())}if(r?.queryParams){const u=new URLSearchParams(r.queryParams);a.push(u.toString())}return r?.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;return u?{data:null,error:u}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:u,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:h}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;if(u)return{data:null,error:u};const{data:l,error:d}=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;return u?{data:null,error:u}:await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],a=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),u=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:a,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:u}=t;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(a.access_token);let d=null;l.aal&&(d=l.aal);let f=d;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const g=l.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}}du.nextInstanceID=0;const rS=du;class sS extends rS{constructor(t){super(t)}}var iS=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class aS{constructor(t,n,r){var a,u,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const d=yx(t);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:dx,realtime:hx,auth:Object.assign(Object.assign({},fx),{storageKey:f}),global:cx},g=Tx(r??{},h);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=Ex(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new Ow(`${d}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new Tw(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ux(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return iS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:u,flowType:l,lock:d,debug:f},h,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sS({url:this.authUrl,headers:Object.assign(Object.assign({},y),h),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:l,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Vw(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uS=(e,t,n)=>new aS(e,t,n),oS="https://bbosgvxsamxhzjgzxiuz.supabase.co",lS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJib3NndnhzYW14aHpqZ3p4aXV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU4NjQyNzEsImV4cCI6MjA1MTQ0MDI3MX0.xA3GJjaAzNVlddpCnHhvKOjDDxNXexY67yCqxi1GtYA",cS=uS(oS,lS);class dS{client;abortControllers;constructor(t){this.client=t,this.abortControllers=new Map}request=async(t,n)=>{this.abortControllers.has(t)&&this.abortControllers.get(t)?.abort();const r=new AbortController;this.abortControllers.set(t,r);try{return await n(this.client)}catch(a){if(a.name==="AbortError")return console.log(`Request "${t}" was aborted.`),null;throw a}finally{this.abortControllers.delete(t)}}}const Te=new dS(cS);var ke=(e=>(e.COLLECTIONS="collections",e.COLLECTION_TO_RECIPES="collection_to_recipes",e.COLLECTION_TO_TAGS="collection_to_tags",e.COLLECTION_TO_USERS="collection_to_users",e.RECIPE_SEARCH="recipe_search",e.RECIPES="recipes",e.RECIPE_TO_TAGS="recipe_to_tags",e.RECIPE_TO_USERS="collection_to_users",e.INGREDIENTS="ingredients",e.STEPS="steps",e.TAGS="tags",e.USERS="users",e))(ke||{});const fS=async e=>await Te.request(`findByEmail-${e}`,async t=>{const{data:n,error:r}=await t.from(ke.USERS).select("id, display_name, profile_image").eq("email",e).single();if(r||!n?.id)throw new Error("User not found.");return{...n,display_name:n.display_name||e}}),hS=async()=>await Te.request("getSession",async e=>{const{data:{session:t},error:n}=await e.auth.getSession();if(n)throw new Error(`Failed to sign in: ${n.message}`);return t}),pS=async(e,t)=>await Te.request("signIn",async n=>{const{error:r}=await n.auth.signInWithPassword({email:e,password:t});if(r)throw new Error(`Failed to sign in: ${r.message}`)}),mS=async(e,t)=>await Te.request("signUp",async n=>{const{error:r}=await n.auth.signUp({email:e,password:t});if(r)throw new Error(`Failed to sign up: ${r.message}`)}),gS=async(e,t)=>await Te.request("resetPassword",async n=>{const{error:r}=await n.auth.resetPasswordForEmail(e,{redirectTo:t});if(r)throw new Error(`Failed to reset password: ${r.message}`)}),ES=async e=>await Te.request("updatePassword",async t=>{const{error:n}=await t.auth.updateUser({password:e});if(n)throw new Error(`Failed to update password: ${n.message}`)}),bS=async()=>await Te.request("signOut",async e=>{const{error:t}=await e.auth.signOut();if(t)throw new Error("Failed to sign out.")}),ds={signIn:pS,signUp:mS,signOut:bS,resetPassword:gS,updatePassword:ES,getSession:hS,findByEmail:fS},EE=T.createContext(void 0),yS=({children:e})=>{const[t,n]=T.useState(null),[r,a]=T.useState(!1),[u,l]=T.useState(!1);return T.useEffect(()=>{(async()=>{const h=await ds.getSession();n(h?.user||null),l(!0)})();const f=Te.request("onAuthStateChange",async h=>h.auth.onAuthStateChange((g,y)=>{n(y?.user||null)}));return()=>{f.then(h=>h&&h.data.subscription?.unsubscribe())}},[]),T.useEffect(()=>{a(!!t)},[t]),b.jsx(EE.Provider,{value:{user:t,isAuthenticated:r,authHasBeenChecked:u},children:e})},hr=()=>{const e=T.useContext(EE);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function nl({children:e}){const{user:t}=hr(),n=window.location.hash==="#/sign-in";return console.log("isOnSignInPage",n),console.log("window.location.hash",window.location.hash),t?n?b.jsx(Km,{to:"/"}):b.jsx(b.Fragment,{children:e}):n?b.jsx(b.Fragment,{children:e}):b.jsx(Km,{to:"/sign-in"})}function TS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"}))}const _S=T.forwardRef(TS);function wS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const xS=T.forwardRef(wS);function SS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const vS=T.forwardRef(SS);function CS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const AS=T.forwardRef(CS);function NS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))}const kS=T.forwardRef(NS);function RS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const IS=T.forwardRef(RS);function OS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const LS=T.forwardRef(OS);function DS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const PS=T.forwardRef(DS);function MS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const FS=T.forwardRef(MS);function BS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const US=T.forwardRef(BS);function jS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const HS=T.forwardRef(jS);function $S({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Eh=T.forwardRef($S),bE=T.createContext(void 0),zS=({children:e})=>{const[t,n]=T.useState(()=>typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches),r=()=>{n(a=>!a)};return T.useEffect(()=>{const a=document.documentElement;t?a.classList.add("dark"):a.classList.remove("dark")},[t]),b.jsx(bE.Provider,{value:{isDarkMode:t,toggleDarkMode:r},children:e})},qS=()=>{const e=T.useContext(bE);if(!e)throw new Error("useDarkMode must be used within a DarkModeProvider");return e},Pi=({message:e="",isLarge:t=!0,className:n=""})=>b.jsxs("div",{className:`flex items-center justify-center space-x-2 ${n}`,children:[b.jsxs("svg",{className:`animate-spin text-blue-500 ${t?"h-10 w-10":"h-5 w-5"}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l-3 3 3-3z"})]}),b.jsx("span",{children:e})]}),Me=({type:e="button",btnType:t="primary",onClick:n,children:r,isLoading:a=!1,className:u="",disabled:l=!1,...d})=>{const g=`flex gap-2 justify-center items-center font-medium px-4 py-2 text-center transition focus:outline-hidden ${{primary:"text-white bg-leaf-green-700 dark:bg-leaf-green-600 hover:bg-leaf-green-800 dark:hover:bg-leaf-green-800 rounded-lg",secondary:"text-leaf-green-600 dark:text-leaf-green-100 border border-leaf-green-600 dark:border-leaf-green-100 hover:bg-leaf-green-100 dark:hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 rounded-lg",delete:"text-red-500 border border-red-500 hover:text-white hover:bg-red-500 rounded-lg",dismissable:"text-gray-800 border border-gray-300 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",dropdown:"w-full text-leaf-green-600 dark:text-leaf-green-100 px-4 py-2 text-center hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 transition focus:outline-hidden rounded-none"}[t]||""} ${l||a?"opacity-50 cursor-not-allowed":""} ${u}`;return b.jsxs("button",{type:e,className:g,disabled:l||a,onClick:!l&&!a?n:void 0,...d,children:[a&&b.jsx(Pi,{isLarge:!1}),r]})},Ps=({icon:e,onClick:t=()=>{},disabled:n=!1,className:r="",title:a="",attributes:u={},listeners:l={},...d})=>b.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),t(f)},className:`inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 ${r}`,disabled:n,title:a,...u,...l,...d,children:e});function WS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z",clipRule:"evenodd"}),T.createElement("path",{fillRule:"evenodd",d:"M19 10a.75.75 0 0 0-.75-.75H8.704l1.048-.943a.75.75 0 1 0-1.004-1.114l-2.5 2.25a.75.75 0 0 0 0 1.114l2.5 2.25a.75.75 0 1 0 1.004-1.114l-1.048-.943h9.546A.75.75 0 0 0 19 10Z",clipRule:"evenodd"}))}const YS=T.forwardRef(WS);function VS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M17 4.25A2.25 2.25 0 0 0 14.75 2h-5.5A2.25 2.25 0 0 0 7 4.25v2a.75.75 0 0 0 1.5 0v-2a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-5.5a.75.75 0 0 1-.75-.75v-2a.75.75 0 0 0-1.5 0v2A2.25 2.25 0 0 0 9.25 18h5.5A2.25 2.25 0 0 0 17 15.75V4.25Z",clipRule:"evenodd"}),T.createElement("path",{fillRule:"evenodd",d:"M1 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H1.75A.75.75 0 0 1 1 10Z",clipRule:"evenodd"}))}const GS=T.forwardRef(VS);function QS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const KS=T.forwardRef(QS);function XS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const JS=T.forwardRef(XS);function ZS({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const yE=T.forwardRef(ZS);function ev({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}const TE=T.forwardRef(ev);function tv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const bh=T.forwardRef(tv);function nv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"}))}const _E=T.forwardRef(nv);function rv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const wE=T.forwardRef(rv),xE=({onClick:e})=>{const[t,n]=T.useState(!1);return b.jsx(Ps,{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),title:"Delete",icon:t?b.jsx(_E,{className:"w-6 h-6 text-red-500"}):b.jsx(US,{className:"w-6 h-6 text-gray-500"})})},fu=({isReadOnly:e=!1,displayHover:t=!0,title:n="tag",onClick:r,btnClass:a="",disabled:u=!1,...l})=>b.jsxs("button",{type:"button",className:`flex gap-2 justify-center items-center font-medium px-2 py-1 text-center transition focus:outline-hidden text-leaf-green-600 dark:text-leaf-green-100 border border-leaf-green-600 dark:border-leaf-green-100 rounded-lg ${t?"hover:bg-leaf-green-100 dark:hover:text-leaf-green-600":""} ${a}`,disabled:u,"aria-label":`${!e&&"Remove "}${n}`,onClick:r,...l,children:[b.jsx("small",{children:n}),!e&&b.jsx(Eh,{className:"w-3 h-3"})]}),Hl=({options:e,icon:t})=>{const[n,r]=T.useState(!1),a=T.useRef(null);return T.useEffect(()=>{const u=l=>{a.current&&!a.current.contains(l.target)&&r(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),b.jsxs("div",{className:"relative inline-block",ref:a,children:[b.jsx(Ps,{icon:t,onClick:()=>r(!n),title:"More Options"}),n&&b.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:b.jsx("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:e.map((u,l)=>b.jsx("li",{children:b.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{u.onClick(),r(!1)},children:u.label})},l))})})]})};function SE(e,t){return function(){return e.apply(t,arguments)}}const{toString:sv}=Object.prototype,{getPrototypeOf:yh}=Object,$l=(e=>t=>{const n=sv.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=e=>(e=e.toLowerCase(),t=>$l(t)===e),zl=e=>t=>typeof t===e,{isArray:Mi}=Array,hu=zl("undefined");function iv(e){return e!==null&&!hu(e)&&e.constructor!==null&&!hu(e.constructor)&&yn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vE=Xn("ArrayBuffer");function av(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vE(e.buffer),t}const uv=zl("string"),yn=zl("function"),CE=zl("number"),ql=e=>e!==null&&typeof e=="object",ov=e=>e===!0||e===!1,dl=e=>{if($l(e)!=="object")return!1;const t=yh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lv=Xn("Date"),cv=Xn("File"),dv=Xn("Blob"),fv=Xn("FileList"),hv=e=>ql(e)&&yn(e.pipe),pv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yn(e.append)&&((t=$l(e))==="formdata"||t==="object"&&yn(e.toString)&&e.toString()==="[object FormData]"))},mv=Xn("URLSearchParams"),[gv,Ev,bv,yv]=["ReadableStream","Request","Response","Headers"].map(Xn),Tv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Mi(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;let d;for(r=0;r<l;r++)d=u[r],t.call(null,e[d],d,e)}}function AE(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,NE=e=>!hu(e)&&e!==Ds;function Of(){const{caseless:e}=NE(this)&&this||{},t={},n=(r,a)=>{const u=e&&AE(t,a)||a;dl(t[u])&&dl(r)?t[u]=Of(t[u],r):dl(r)?t[u]=Of({},r):Mi(r)?t[u]=r.slice():t[u]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Cu(arguments[r],n);return t}const _v=(e,t,n,{allOwnKeys:r}={})=>(Cu(t,(a,u)=>{n&&yn(a)?e[u]=SE(a,n):e[u]=a},{allOwnKeys:r}),e),wv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xv=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Sv=(e,t,n,r)=>{let a,u,l;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),u=a.length;u-- >0;)l=a[u],(!r||r(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=n!==!1&&yh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},vv=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Cv=e=>{if(!e)return null;if(Mi(e))return e;let t=e.length;if(!CE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Av=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yh(Uint8Array)),Nv=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const u=a.value;t.call(e,u[0],u[1])}},kv=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Rv=Xn("HTMLFormElement"),Iv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),wg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ov=Xn("RegExp"),kE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Cu(n,(a,u)=>{let l;(l=t(a,u,e))!==!1&&(r[u]=l||a)}),Object.defineProperties(e,r)},Lv=e=>{kE(e,(t,n)=>{if(yn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(yn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Dv=(e,t)=>{const n={},r=a=>{a.forEach(u=>{n[u]=!0})};return Mi(e)?r(e):r(String(e).split(t)),n},Pv=()=>{},Mv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,ef="abcdefghijklmnopqrstuvwxyz",xg="0123456789",RE={DIGIT:xg,ALPHA:ef,ALPHA_DIGIT:ef+ef.toUpperCase()+xg},Fv=(e=16,t=RE.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Bv(e){return!!(e&&yn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Uv=e=>{const t=new Array(10),n=(r,a)=>{if(ql(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const u=Mi(r)?[]:{};return Cu(r,(l,d)=>{const f=n(l,a+1);!hu(f)&&(u[d]=f)}),t[a]=void 0,u}}return r};return n(e,0)},jv=Xn("AsyncFunction"),Hv=e=>e&&(ql(e)||yn(e))&&yn(e.then)&&yn(e.catch),IE=((e,t)=>e?setImmediate:t?((n,r)=>(Ds.addEventListener("message",({source:a,data:u})=>{a===Ds&&u===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Ds.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yn(Ds.postMessage)),$v=typeof queueMicrotask<"u"?queueMicrotask.bind(Ds):typeof process<"u"&&process.nextTick||IE,z={isArray:Mi,isArrayBuffer:vE,isBuffer:iv,isFormData:pv,isArrayBufferView:av,isString:uv,isNumber:CE,isBoolean:ov,isObject:ql,isPlainObject:dl,isReadableStream:gv,isRequest:Ev,isResponse:bv,isHeaders:yv,isUndefined:hu,isDate:lv,isFile:cv,isBlob:dv,isRegExp:Ov,isFunction:yn,isStream:hv,isURLSearchParams:mv,isTypedArray:Av,isFileList:fv,forEach:Cu,merge:Of,extend:_v,trim:Tv,stripBOM:wv,inherits:xv,toFlatObject:Sv,kindOf:$l,kindOfTest:Xn,endsWith:vv,toArray:Cv,forEachEntry:Nv,matchAll:kv,isHTMLForm:Rv,hasOwnProperty:wg,hasOwnProp:wg,reduceDescriptors:kE,freezeMethods:Lv,toObjectSet:Dv,toCamelCase:Iv,noop:Pv,toFiniteNumber:Mv,findKey:AE,global:Ds,isContextDefined:NE,ALPHABET:RE,generateString:Fv,isSpecCompliantForm:Bv,toJSONObject:Uv,isAsyncFn:jv,isThenable:Hv,setImmediate:IE,asap:$v};function we(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}z.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const OE=we.prototype,LE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{LE[e]={value:e}});Object.defineProperties(we,LE);Object.defineProperty(OE,"isAxiosError",{value:!0});we.from=(e,t,n,r,a,u)=>{const l=Object.create(OE);return z.toFlatObject(e,l,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),we.call(l,e.message,t,n,r,a),l.cause=e,l.name=e.name,u&&Object.assign(l,u),l};const zv=null;function Lf(e){return z.isPlainObject(e)||z.isArray(e)}function DE(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function Sg(e,t,n){return e?e.concat(t).map(function(a,u){return a=DE(a),!n&&u?"["+a+"]":a}).join(n?".":""):t}function qv(e){return z.isArray(e)&&!e.some(Lf)}const Wv=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function Wl(e,t,n){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,N){return!z.isUndefined(N[A])});const r=n.metaTokens,a=n.visitor||g,u=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(a))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(z.isDate(S))return S.toISOString();if(!f&&z.isBlob(S))throw new we("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(S)||z.isTypedArray(S)?f&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,A,N){let I=S;if(S&&!N&&typeof S=="object"){if(z.endsWith(A,"{}"))A=r?A:A.slice(0,-2),S=JSON.stringify(S);else if(z.isArray(S)&&qv(S)||(z.isFileList(S)||z.endsWith(A,"[]"))&&(I=z.toArray(S)))return A=DE(A),I.forEach(function(j,L){!(z.isUndefined(j)||j===null)&&t.append(l===!0?Sg([A],L,u):l===null?A:A+"[]",h(j))}),!1}return Lf(S)?!0:(t.append(Sg(N,A,u),h(S)),!1)}const y=[],_=Object.assign(Wv,{defaultVisitor:g,convertValue:h,isVisitable:Lf});function x(S,A){if(!z.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+A.join("."));y.push(S),z.forEach(S,function(I,P){(!(z.isUndefined(I)||I===null)&&a.call(t,I,z.isString(P)?P.trim():P,A,_))===!0&&x(I,A?A.concat(P):[P])}),y.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return x(e),t}function vg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Th(e,t){this._pairs=[],e&&Wl(e,this,t)}const PE=Th.prototype;PE.append=function(t,n){this._pairs.push([t,n])};PE.toString=function(t){const n=t?function(r){return t.call(this,r,vg)}:vg;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Yv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ME(e,t,n){if(!t)return e;const r=n&&n.encode||Yv;z.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let u;if(a?u=a(t,n):u=z.isURLSearchParams(t)?t.toString():new Th(t,n).toString(r),u){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class Cg{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(r){r!==null&&t(r)})}}const FE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vv=typeof URLSearchParams<"u"?URLSearchParams:Th,Gv=typeof FormData<"u"?FormData:null,Qv=typeof Blob<"u"?Blob:null,Kv={isBrowser:!0,classes:{URLSearchParams:Vv,FormData:Gv,Blob:Qv},protocols:["http","https","file","blob","url","data"]},_h=typeof window<"u"&&typeof document<"u",Df=typeof navigator=="object"&&navigator||void 0,Xv=_h&&(!Df||["ReactNative","NativeScript","NS"].indexOf(Df.product)<0),Jv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zv=_h&&window.location.href||"http://localhost",eC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_h,hasStandardBrowserEnv:Xv,hasStandardBrowserWebWorkerEnv:Jv,navigator:Df,origin:Zv},Symbol.toStringTag,{value:"Module"})),Bt={...eC,...Kv};function tC(e,t){return Wl(e,new Bt.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,u){return Bt.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function nC(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rC(e){const t={},n=Object.keys(e);let r;const a=n.length;let u;for(r=0;r<a;r++)u=n[r],t[u]=e[u];return t}function BE(e){function t(n,r,a,u){let l=n[u++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),f=u>=n.length;return l=!l&&z.isArray(a)?a.length:l,f?(z.hasOwnProp(a,l)?a[l]=[a[l],r]:a[l]=r,!d):((!a[l]||!z.isObject(a[l]))&&(a[l]=[]),t(n,r,a[l],u)&&z.isArray(a[l])&&(a[l]=rC(a[l])),!d)}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,(r,a)=>{t(nC(r),a,n,0)}),n}return null}function sC(e,t,n){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Au={transitional:FE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,u=z.isObject(t);if(u&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return a?JSON.stringify(BE(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tC(t,this.formSerializer).toString();if((d=z.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Wl(d?{"files[]":t}:t,f&&new f,this.formSerializer)}}return u||a?(n.setContentType("application/json",!1),sC(t)):t}],transformResponse:[function(t){const n=this.transitional||Au.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(r&&!this.responseType||a)){const l=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?we.from(d,we.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{Au.headers[e]={}});const iC=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aC=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),r=l.substring(a+1).trim(),!(!n||t[n]&&iC[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ag=Symbol("internals");function $a(e){return e&&String(e).trim().toLowerCase()}function fl(e){return e===!1||e==null?e:z.isArray(e)?e.map(fl):String(e)}function uC(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const oC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tf(e,t,n,r,a){if(z.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!z.isString(t)){if(z.isString(r))return t.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(t)}}function lC(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function cC(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,u,l){return this[r].call(this,t,a,u,l)},configurable:!0})})}class an{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function u(d,f,h){const g=$a(f);if(!g)throw new Error("header name must be a non-empty string");const y=z.findKey(a,g);(!y||a[y]===void 0||h===!0||h===void 0&&a[y]!==!1)&&(a[y||f]=fl(d))}const l=(d,f)=>z.forEach(d,(h,g)=>u(h,g,f));if(z.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(z.isString(t)&&(t=t.trim())&&!oC(t))l(aC(t),n);else if(z.isHeaders(t))for(const[d,f]of t.entries())u(f,d,r);else t!=null&&u(n,t,r);return this}get(t,n){if(t=$a(t),t){const r=z.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return uC(a);if(z.isFunction(n))return n.call(this,a,r);if(z.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=$a(t),t){const r=z.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||tf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function u(l){if(l=$a(l),l){const d=z.findKey(r,l);d&&(!n||tf(r,r[d],d,n))&&(delete r[d],a=!0)}}return z.isArray(t)?t.forEach(u):u(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const u=n[r];(!t||tf(this,this[u],u,t,!0))&&(delete this[u],a=!0)}return a}normalize(t){const n=this,r={};return z.forEach(this,(a,u)=>{const l=z.findKey(r,u);if(l){n[l]=fl(a),delete n[u];return}const d=t?lC(u):String(u).trim();d!==u&&delete n[u],n[d]=fl(a),r[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return z.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Ag]=this[Ag]={accessors:{}}).accessors,a=this.prototype;function u(l){const d=$a(l);r[d]||(cC(a,l),r[d]=!0)}return z.isArray(t)?t.forEach(u):u(t),this}}an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(an.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});z.freezeMethods(an);function nf(e,t){const n=this||Au,r=t||n,a=an.from(r.headers);let u=r.data;return z.forEach(e,function(d){u=d.call(n,u,a.normalize(),t?t.status:void 0)}),a.normalize(),u}function UE(e){return!!(e&&e.__CANCEL__)}function Fi(e,t,n){we.call(this,e??"canceled",we.ERR_CANCELED,t,n),this.name="CanceledError"}z.inherits(Fi,we,{__CANCEL__:!0});function jE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function dC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fC(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,u=0,l;return t=t!==void 0?t:1e3,function(f){const h=Date.now(),g=r[u];l||(l=h),n[a]=f,r[a]=h;let y=u,_=0;for(;y!==a;)_+=n[y++],y=y%e;if(a=(a+1)%e,a===u&&(u=(u+1)%e),h-l<t)return;const x=g&&h-g;return x?Math.round(_*1e3/x):void 0}}function hC(e,t){let n=0,r=1e3/t,a,u;const l=(h,g=Date.now())=>{n=g,a=null,u&&(clearTimeout(u),u=null),e.apply(null,h)};return[(...h)=>{const g=Date.now(),y=g-n;y>=r?l(h,g):(a=h,u||(u=setTimeout(()=>{u=null,l(a)},r-y)))},()=>a&&l(a)]}const yl=(e,t,n=3)=>{let r=0;const a=fC(50,250);return hC(u=>{const l=u.loaded,d=u.lengthComputable?u.total:void 0,f=l-r,h=a(f),g=l<=d;r=l;const y={loaded:l,total:d,progress:d?l/d:void 0,bytes:f,rate:h||void 0,estimated:h&&d&&g?(d-l)/h:void 0,event:u,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(y)},n)},Ng=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},kg=e=>(...t)=>z.asap(()=>e(...t)),pC=Bt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Bt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Bt.origin),Bt.navigator&&/(msie|trident)/i.test(Bt.navigator.userAgent)):()=>!0,mC=Bt.hasStandardBrowserEnv?{write(e,t,n,r,a,u){const l=[e+"="+encodeURIComponent(t)];z.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),z.isString(r)&&l.push("path="+r),z.isString(a)&&l.push("domain="+a),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function EC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function HE(e,t){return e&&!gC(t)?EC(e,t):t}const Rg=e=>e instanceof an?{...e}:e;function Us(e,t){t=t||{};const n={};function r(h,g,y,_){return z.isPlainObject(h)&&z.isPlainObject(g)?z.merge.call({caseless:_},h,g):z.isPlainObject(g)?z.merge({},g):z.isArray(g)?g.slice():g}function a(h,g,y,_){if(z.isUndefined(g)){if(!z.isUndefined(h))return r(void 0,h,y,_)}else return r(h,g,y,_)}function u(h,g){if(!z.isUndefined(g))return r(void 0,g)}function l(h,g){if(z.isUndefined(g)){if(!z.isUndefined(h))return r(void 0,h)}else return r(void 0,g)}function d(h,g,y){if(y in t)return r(h,g);if(y in e)return r(void 0,h)}const f={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,g,y)=>a(Rg(h),Rg(g),y,!0)};return z.forEach(Object.keys(Object.assign({},e,t)),function(g){const y=f[g]||a,_=y(e[g],t[g],g);z.isUndefined(_)&&y!==d||(n[g]=_)}),n}const $E=e=>{const t=Us({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:u,headers:l,auth:d}=t;t.headers=l=an.from(l),t.url=ME(HE(t.baseURL,t.url),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let f;if(z.isFormData(n)){if(Bt.hasStandardBrowserEnv||Bt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((f=l.getContentType())!==!1){const[h,...g]=f?f.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...g].join("; "))}}if(Bt.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(t)),r||r!==!1&&pC(t.url))){const h=a&&u&&mC.read(u);h&&l.set(a,h)}return t},bC=typeof XMLHttpRequest<"u",yC=bC&&function(e){return new Promise(function(n,r){const a=$E(e);let u=a.data;const l=an.from(a.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:h}=a,g,y,_,x,S;function A(){x&&x(),S&&S(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function I(){if(!N)return;const j=an.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),q={data:!d||d==="text"||d==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:j,config:e,request:N};jE(function(se){n(se),A()},function(se){r(se),A()},q),N=null}"onloadend"in N?N.onloadend=I:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(I)},N.onabort=function(){N&&(r(new we("Request aborted",we.ECONNABORTED,e,N)),N=null)},N.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let L=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const q=a.transitional||FE;a.timeoutErrorMessage&&(L=a.timeoutErrorMessage),r(new we(L,q.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,e,N)),N=null},u===void 0&&l.setContentType(null),"setRequestHeader"in N&&z.forEach(l.toJSON(),function(L,q){N.setRequestHeader(q,L)}),z.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),d&&d!=="json"&&(N.responseType=a.responseType),h&&([_,S]=yl(h,!0),N.addEventListener("progress",_)),f&&N.upload&&([y,x]=yl(f),N.upload.addEventListener("progress",y),N.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(g=j=>{N&&(r(!j||j.type?new Fi(null,e,N):j),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const P=dC(a.url);if(P&&Bt.protocols.indexOf(P)===-1){r(new we("Unsupported protocol "+P+":",we.ERR_BAD_REQUEST,e));return}N.send(u||null)})},TC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const u=function(h){if(!a){a=!0,d();const g=h instanceof Error?h:this.reason;r.abort(g instanceof we?g:new Fi(g instanceof Error?g.message:g))}};let l=t&&setTimeout(()=>{l=null,u(new we(`timeout ${t} of ms exceeded`,we.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(u):h.removeEventListener("abort",u)}),e=null)};e.forEach(h=>h.addEventListener("abort",u));const{signal:f}=r;return f.unsubscribe=()=>z.asap(d),f}},_C=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},wC=async function*(e,t){for await(const n of xC(e))yield*_C(n,t)},xC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Ig=(e,t,n,r)=>{const a=wC(e,t);let u=0,l,d=f=>{l||(l=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:h,value:g}=await a.next();if(h){d(),f.close();return}let y=g.byteLength;if(n){let _=u+=y;n(_)}f.enqueue(new Uint8Array(g))}catch(h){throw d(h),h}},cancel(f){return d(f),a.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zE=Yl&&typeof ReadableStream=="function",SC=Yl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),qE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vC=zE&&qE(()=>{let e=!1;const t=new Request(Bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Og=64*1024,Pf=zE&&qE(()=>z.isReadableStream(new Response("").body)),Tl={stream:Pf&&(e=>e.body)};Yl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Tl[t]&&(Tl[t]=z.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new we(`Response type '${t}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);const CC=async e=>{if(e==null)return 0;if(z.isBlob(e))return e.size;if(z.isSpecCompliantForm(e))return(await new Request(Bt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(z.isArrayBufferView(e)||z.isArrayBuffer(e))return e.byteLength;if(z.isURLSearchParams(e)&&(e=e+""),z.isString(e))return(await SC(e)).byteLength},AC=async(e,t)=>{const n=z.toFiniteNumber(e.getContentLength());return n??CC(t)},NC=Yl&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:u,timeout:l,onDownloadProgress:d,onUploadProgress:f,responseType:h,headers:g,withCredentials:y="same-origin",fetchOptions:_}=$E(e);h=h?(h+"").toLowerCase():"text";let x=TC([a,u&&u.toAbortSignal()],l),S;const A=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let N;try{if(f&&vC&&n!=="get"&&n!=="head"&&(N=await AC(g,r))!==0){let q=new Request(t,{method:"POST",body:r,duplex:"half"}),K;if(z.isFormData(r)&&(K=q.headers.get("content-type"))&&g.setContentType(K),q.body){const[se,ne]=Ng(N,yl(kg(f)));r=Ig(q.body,Og,se,ne)}}z.isString(y)||(y=y?"include":"omit");const I="credentials"in Request.prototype;S=new Request(t,{..._,signal:x,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:I?y:void 0});let P=await fetch(S);const j=Pf&&(h==="stream"||h==="response");if(Pf&&(d||j&&A)){const q={};["status","statusText","headers"].forEach(pe=>{q[pe]=P[pe]});const K=z.toFiniteNumber(P.headers.get("content-length")),[se,ne]=d&&Ng(K,yl(kg(d),!0))||[];P=new Response(Ig(P.body,Og,se,()=>{ne&&ne(),A&&A()}),q)}h=h||"text";let L=await Tl[z.findKey(Tl,h)||"text"](P,e);return!j&&A&&A(),await new Promise((q,K)=>{jE(q,K,{data:L,headers:an.from(P.headers),status:P.status,statusText:P.statusText,config:e,request:S})})}catch(I){throw A&&A(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,e,S),{cause:I.cause||I}):we.from(I,I&&I.code,e,S)}}),Mf={http:zv,xhr:yC,fetch:NC};z.forEach(Mf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Lg=e=>`- ${e}`,kC=e=>z.isFunction(e)||e===null||e===!1,WE={getAdapter:e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let u=0;u<t;u++){n=e[u];let l;if(r=n,!kC(n)&&(r=Mf[(l=String(n)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${l}'`);if(r)break;a[l||"#"+u]=r}if(!r){const u=Object.entries(a).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=t?u.length>1?`since :
`+u.map(Lg).join(`
`):" "+Lg(u[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Mf};function rf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fi(null,e)}function Dg(e){return rf(e),e.headers=an.from(e.headers),e.data=nf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),WE.getAdapter(e.adapter||Au.adapter)(e).then(function(r){return rf(e),r.data=nf.call(e,e.transformResponse,r),r.headers=an.from(r.headers),r},function(r){return UE(r)||(rf(e),r&&r.response&&(r.response.data=nf.call(e,e.transformResponse,r.response),r.response.headers=an.from(r.response.headers))),Promise.reject(r)})}const YE="1.7.9",Vl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Pg={};Vl.transitional=function(t,n,r){function a(u,l){return"[Axios v"+YE+"] Transitional option '"+u+"'"+l+(r?". "+r:"")}return(u,l,d)=>{if(t===!1)throw new we(a(l," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!Pg[l]&&(Pg[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,l,d):!0}};Vl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function RC(e,t,n){if(typeof e!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const u=r[a],l=t[u];if(l){const d=e[u],f=d===void 0||l(d,u,e);if(f!==!0)throw new we("option "+u+" must be "+f,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+u,we.ERR_BAD_OPTION)}}const hl={assertOptions:RC,validators:Vl},ur=hl.validators;class Ms{constructor(t){this.defaults=t,this.interceptors={request:new Cg,response:new Cg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Us(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:u}=n;r!==void 0&&hl.assertOptions(r,{silentJSONParsing:ur.transitional(ur.boolean),forcedJSONParsing:ur.transitional(ur.boolean),clarifyTimeoutError:ur.transitional(ur.boolean)},!1),a!=null&&(z.isFunction(a)?n.paramsSerializer={serialize:a}:hl.assertOptions(a,{encode:ur.function,serialize:ur.function},!0)),hl.assertOptions(n,{baseUrl:ur.spelling("baseURL"),withXsrfToken:ur.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=u&&z.merge(u.common,u[n.method]);u&&z.forEach(["delete","get","head","post","put","patch","common"],S=>{delete u[S]}),n.headers=an.concat(l,u);const d=[];let f=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(f=f&&A.synchronous,d.unshift(A.fulfilled,A.rejected))});const h=[];this.interceptors.response.forEach(function(A){h.push(A.fulfilled,A.rejected)});let g,y=0,_;if(!f){const S=[Dg.bind(this),void 0];for(S.unshift.apply(S,d),S.push.apply(S,h),_=S.length,g=Promise.resolve(n);y<_;)g=g.then(S[y++],S[y++]);return g}_=d.length;let x=n;for(y=0;y<_;){const S=d[y++],A=d[y++];try{x=S(x)}catch(N){A.call(this,N);break}}try{g=Dg.call(this,x)}catch(S){return Promise.reject(S)}for(y=0,_=h.length;y<_;)g=g.then(h[y++],h[y++]);return g}getUri(t){t=Us(this.defaults,t);const n=HE(t.baseURL,t.url);return ME(n,t.params,t.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(t){Ms.prototype[t]=function(n,r){return this.request(Us(r||{},{method:t,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(t){function n(r){return function(u,l,d){return this.request(Us(d||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:l}))}}Ms.prototype[t]=n(),Ms.prototype[t+"Form"]=n(!0)});class wh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(a=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](a);r._listeners=null}),this.promise.then=a=>{let u;const l=new Promise(d=>{r.subscribe(d),u=d}).then(a);return l.cancel=function(){r.unsubscribe(u)},l},t(function(u,l,d){r.reason||(r.reason=new Fi(u,l,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new wh(function(a){t=a}),cancel:t}}}function IC(e){return function(n){return e.apply(null,n)}}function OC(e){return z.isObject(e)&&e.isAxiosError===!0}const Ff={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ff).forEach(([e,t])=>{Ff[t]=e});function VE(e){const t=new Ms(e),n=SE(Ms.prototype.request,t);return z.extend(n,Ms.prototype,t,{allOwnKeys:!0}),z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return VE(Us(e,a))},n}const ct=VE(Au);ct.Axios=Ms;ct.CanceledError=Fi;ct.CancelToken=wh;ct.isCancel=UE;ct.VERSION=YE;ct.toFormData=Wl;ct.AxiosError=we;ct.Cancel=ct.CanceledError;ct.all=function(t){return Promise.all(t)};ct.spread=IC;ct.isAxiosError=OC;ct.mergeConfig=Us;ct.AxiosHeaders=an;ct.formToJSON=e=>BE(z.isHTMLForm(e)?new FormData(e):e);ct.getAdapter=WE.getAdapter;ct.HttpStatusCode=Ff;ct.default=ct;var je;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(je||(je={}));function LC(e){return e.type===je.Tag||e.type===je.Script||e.type===je.Style}const DC=je.Root,PC=je.Text,MC=je.Directive,FC=je.Comment,BC=je.Script,UC=je.Style,jC=je.Tag,HC=je.CDATA,$C=je.Doctype;class GE{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return mu(this,t)}}class xh extends GE{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class pu extends xh{constructor(){super(...arguments),this.type=je.Text}get nodeType(){return 3}}class Sh extends xh{constructor(){super(...arguments),this.type=je.Comment}get nodeType(){return 8}}class vh extends xh{constructor(t,n){super(n),this.name=t,this.type=je.Directive}get nodeType(){return 1}}class Ch extends GE{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class QE extends Ch{constructor(){super(...arguments),this.type=je.CDATA}get nodeType(){return 4}}class js extends Ch{constructor(){super(...arguments),this.type=je.Root}get nodeType(){return 9}}class Ah extends Ch{constructor(t,n,r=[],a=t==="script"?je.Script:t==="style"?je.Style:je.Tag){super(r),this.name=t,this.attribs=n,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,r;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[t]}})}}function Ee(e){return LC(e)}function Gl(e){return e.type===je.CDATA}function dr(e){return e.type===je.Text}function Ql(e){return e.type===je.Comment}function Bf(e){return e.type===je.Directive}function fs(e){return e.type===je.Root}function ot(e){return Object.prototype.hasOwnProperty.call(e,"children")}function mu(e,t=!1){let n;if(dr(e))n=new pu(e.data);else if(Ql(e))n=new Sh(e.data);else if(Ee(e)){const r=t?sf(e.children):[],a=new Ah(e.name,{...e.attribs},r);r.forEach(u=>u.parent=a),e.namespace!=null&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=a}else if(Gl(e)){const r=t?sf(e.children):[],a=new QE(r);r.forEach(u=>u.parent=a),n=a}else if(fs(e)){const r=t?sf(e.children):[],a=new js(r);r.forEach(u=>u.parent=a),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else if(Bf(e)){const r=new vh(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function sf(e){const t=e.map(n=>mu(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const Mg={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class zC{constructor(t,n,r){this.dom=[],this.root=new js(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=Mg),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??Mg,this.elementCB=r??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new js(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const r=this.options.xmlMode?je.Tag:void 0,a=new Ah(t,n,void 0,r);this.addNode(a),this.tagStack.push(a)}ontext(t){const{lastNode:n}=this;if(n&&n.type===je.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new pu(t);this.addNode(r),this.lastNode=r}}oncomment(t){if(this.lastNode&&this.lastNode.type===je.Comment){this.lastNode.data+=t;return}const n=new Sh(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new pu(""),n=new QE([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const r=new vh(t,n);this.addNode(r)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),r&&(t.prev=r,r.next=t),t.parent=n,this.lastNode=null}}const Nh=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),KE=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var af;const qC=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Uf=(af=String.fromCodePoint)!==null&&af!==void 0?af:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function WC(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=qC.get(e))!==null&&t!==void 0?t:e}var xt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(xt||(xt={}));const YC=32;var os;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(os||(os={}));function jf(e){return e>=xt.ZERO&&e<=xt.NINE}function VC(e){return e>=xt.UPPER_A&&e<=xt.UPPER_F||e>=xt.LOWER_A&&e<=xt.LOWER_F}function GC(e){return e>=xt.UPPER_A&&e<=xt.UPPER_Z||e>=xt.LOWER_A&&e<=xt.LOWER_Z||jf(e)}function QC(e){return e===xt.EQUALS||GC(e)}var Tt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Tt||(Tt={}));var kn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(kn||(kn={}));class kh{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Tt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=kn.Strict}startEntity(t){this.decodeMode=t,this.state=Tt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Tt.EntityStart:return t.charCodeAt(n)===xt.NUM?(this.state=Tt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Tt.NamedEntity,this.stateNamedEntity(t,n));case Tt.NumericStart:return this.stateNumericStart(t,n);case Tt.NumericDecimal:return this.stateNumericDecimal(t,n);case Tt.NumericHex:return this.stateNumericHex(t,n);case Tt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|YC)===xt.LOWER_X?(this.state=Tt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Tt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const u=r-n;this.result=this.result*Math.pow(a,u)+parseInt(t.substr(n,u),a),this.consumed+=u}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(jf(a)||VC(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(jf(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===xt.SEMI)this.consumed+=1;else if(this.decodeMode===kn.Strict)return 0;return this.emitCodePoint(WC(this.result),this.consumed),this.errors&&(t!==xt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],u=(a&os.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const l=t.charCodeAt(n);if(this.treeIndex=KC(r,a,this.treeIndex+Math.max(1,u),l),this.treeIndex<0)return this.result===0||this.decodeMode===kn.Attribute&&(u===0||QC(l))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],u=(a&os.VALUE_LENGTH)>>14,u!==0){if(l===xt.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==kn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&os.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~os.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case Tt.NamedEntity:return this.result!==0&&(this.decodeMode!==kn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Tt.NumericDecimal:return this.emitNumericEntity(0,2);case Tt.NumericHex:return this.emitNumericEntity(0,3);case Tt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Tt.EntityStart:return 0}}}function XE(e){let t="";const n=new kh(e,r=>t+=Uf(r));return function(a,u){let l=0,d=0;for(;(d=a.indexOf("&",d))>=0;){t+=a.slice(l,d),n.startEntity(u);const h=n.write(a,d+1);if(h<0){l=d+n.end();break}l=d+h,d=h===0?l+1:l}const f=t+a.slice(l);return t="",f}}function KC(e,t,n,r){const a=(t&os.BRANCH_LENGTH)>>7,u=t&os.JUMP_TABLE;if(a===0)return u!==0&&r===u?n:-1;if(u){const f=r-u;return f<0||f>=a?-1:e[n+f]-1}let l=n,d=l+a-1;for(;l<=d;){const f=l+d>>>1,h=e[f];if(h<r)l=f+1;else if(h>r)d=f-1;else return e[f+a]}return-1}XE(Nh);XE(KE);const Fg=/["&'<>$\x80-\uFFFF]/g,XC=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),JC=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function JE(e){let t="",n=0,r;for(;(r=Fg.exec(e))!==null;){const a=r.index,u=e.charCodeAt(a),l=XC.get(u);l!==void 0?(t+=e.substring(n,a)+l,n=a+1):(t+=`${e.substring(n,a)}&#x${JC(e,a).toString(16)};`,n=Fg.lastIndex+=+((u&64512)===55296))}return t+e.substr(n)}function ZE(e,t){return function(r){let a,u=0,l="";for(;a=e.exec(r);)u!==a.index&&(l+=r.substring(u,a.index)),l+=t.get(a[0].charCodeAt(0)),u=a.index+1;return l+r.substring(u)}}const eb=ZE(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),tb=ZE(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),ZC=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),eA=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),tA=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function nA(e){return e.replace(/"/g,"&quot;")}function rA(e,t){var n;if(!e)return;const r=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?nA:t.xmlMode||t.encodeEntities!=="utf8"?JE:eb;return Object.keys(e).map(a=>{var u,l;const d=(u=e[a])!==null&&u!==void 0?u:"";return t.xmlMode==="foreign"&&(a=(l=eA.get(a))!==null&&l!==void 0?l:a),!t.emptyAttrs&&!t.xmlMode&&d===""?a:`${a}="${r(d)}"`}).join(" ")}const Bg=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Kl(e,t={}){const n="length"in e?e:[e];let r="";for(let a=0;a<n.length;a++)r+=sA(n[a],t);return r}function sA(e,t){switch(e.type){case DC:return Kl(e.children,t);case $C:case MC:return oA(e);case FC:return dA(e);case HC:return cA(e);case BC:case UC:case jC:return uA(e,t);case PC:return lA(e,t)}}const iA=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),aA=new Set(["svg","math"]);function uA(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=ZC.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&iA.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&aA.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const a=rA(e.attribs,t);return a&&(r+=` ${a}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&Bg.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=Kl(e.children,t)),(t.xmlMode||!Bg.has(e.name))&&(r+=`</${e.name}>`)),r}function oA(e){return`<${e.data}>`}function lA(e,t){var n;let r=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&tA.has(e.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?JE(r):tb(r)),r}function cA(e){return`<![CDATA[${e.children[0].data}]]>`}function dA(e){return`<!--${e.data}-->`}function nb(e,t){return Kl(e,t)}function fA(e,t){return ot(e)?e.children.map(n=>nb(n,t)).join(""):""}function pl(e){return Array.isArray(e)?e.map(pl).join(""):Ee(e)?e.name==="br"?`
`:pl(e.children):Gl(e)?pl(e.children):dr(e)?e.data:""}function Ni(e){return Array.isArray(e)?e.map(Ni).join(""):ot(e)&&!Ql(e)?Ni(e.children):dr(e)?e.data:""}function _l(e){return Array.isArray(e)?e.map(_l).join(""):ot(e)&&(e.type===je.Tag||Gl(e))?_l(e.children):dr(e)?e.data:""}function Xl(e){return ot(e)?e.children:[]}function rb(e){return e.parent||null}function sb(e){const t=rb(e);if(t!=null)return Xl(t);const n=[e];let{prev:r,next:a}=e;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;a!=null;)n.push(a),{next:a}=a;return n}function hA(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function pA(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function mA(e){return e.name}function Rh(e){let{next:t}=e;for(;t!==null&&!Ee(t);)({next:t}=t);return t}function Ih(e){let{prev:t}=e;for(;t!==null&&!Ee(t);)({prev:t}=t);return t}function Ws(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function gA(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const a=t.parent=e.parent;if(a){const u=a.children;u[u.lastIndexOf(e)]=t,e.parent=null}}function EA(e,t){if(Ws(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function bA(e,t){Ws(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const a=n.children;a.splice(a.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function yA(e,t){if(Ws(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function TA(e,t){Ws(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function Nu(e,t,n=!0,r=1/0){return Oh(e,Array.isArray(t)?t:[t],n,r)}function Oh(e,t,n,r){const a=[],u=[Array.isArray(t)?t:[t]],l=[0];for(;;){if(l[0]>=u[0].length){if(l.length===1)return a;u.shift(),l.shift();continue}const d=u[0][l[0]++];if(e(d)&&(a.push(d),--r<=0))return a;n&&ot(d)&&d.children.length>0&&(l.unshift(0),u.unshift(d.children))}}function _A(e,t){return t.find(e)}function Lh(e,t,n=!0){const r=Array.isArray(t)?t:[t];for(let a=0;a<r.length;a++){const u=r[a];if(Ee(u)&&e(u))return u;if(n&&ot(u)&&u.children.length>0){const l=Lh(e,u.children,!0);if(l)return l}}return null}function ib(e,t){return(Array.isArray(t)?t:[t]).some(n=>Ee(n)&&e(n)||ot(n)&&ib(e,n.children))}function wA(e,t){const n=[],r=[Array.isArray(t)?t:[t]],a=[0];for(;;){if(a[0]>=r[0].length){if(r.length===1)return n;r.shift(),a.shift();continue}const u=r[0][a[0]++];Ee(u)&&e(u)&&n.push(u),ot(u)&&u.children.length>0&&(a.unshift(0),r.unshift(u.children))}}const wl={tag_name(e){return typeof e=="function"?t=>Ee(t)&&e(t.name):e==="*"?Ee:t=>Ee(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>dr(t)&&e(t.data):t=>dr(t)&&t.data===e}};function Dh(e,t){return typeof t=="function"?n=>Ee(n)&&t(n.attribs[e]):n=>Ee(n)&&n.attribs[e]===t}function xA(e,t){return n=>e(n)||t(n)}function ab(e){const t=Object.keys(e).map(n=>{const r=e[n];return Object.prototype.hasOwnProperty.call(wl,n)?wl[n](r):Dh(n,r)});return t.length===0?null:t.reduce(xA)}function SA(e,t){const n=ab(e);return n?n(t):!0}function vA(e,t,n,r=1/0){const a=ab(e);return a?Nu(a,t,n,r):[]}function CA(e,t,n=!0){return Array.isArray(t)||(t=[t]),Lh(Dh("id",e),t,n)}function Bi(e,t,n=!0,r=1/0){return Nu(wl.tag_name(e),t,n,r)}function AA(e,t,n=!0,r=1/0){return Nu(Dh("class",e),t,n,r)}function NA(e,t,n=!0,r=1/0){return Nu(wl.tag_type(e),t,n,r)}function kA(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0){e.splice(t,1);continue}for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var An;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(An||(An={}));function ub(e,t){const n=[],r=[];if(e===t)return 0;let a=ot(e)?e:e.parent;for(;a;)n.unshift(a),a=a.parent;for(a=ot(t)?t:t.parent;a;)r.unshift(a),a=a.parent;const u=Math.min(n.length,r.length);let l=0;for(;l<u&&n[l]===r[l];)l++;if(l===0)return An.DISCONNECTED;const d=n[l-1],f=d.children,h=n[l],g=r[l];return f.indexOf(h)>f.indexOf(g)?d===t?An.FOLLOWING|An.CONTAINED_BY:An.FOLLOWING:d===e?An.PRECEDING|An.CONTAINS:An.PRECEDING}function Ui(e){return e=e.filter((t,n,r)=>!r.includes(t,n+1)),e.sort((t,n)=>{const r=ub(t,n);return r&An.PRECEDING?-1:r&An.FOLLOWING?1:0}),e}function RA(e){const t=xl(PA,e);return t?t.name==="feed"?IA(t):OA(t):null}function IA(e){var t;const n=e.children,r={type:"atom",items:Bi("entry",n).map(l=>{var d;const{children:f}=l,h={media:ob(f)};tn(h,"id","id",f),tn(h,"title","title",f);const g=(d=xl("link",f))===null||d===void 0?void 0:d.attribs.href;g&&(h.link=g);const y=ls("summary",f)||ls("content",f);y&&(h.description=y);const _=ls("updated",f);return _&&(h.pubDate=new Date(_)),h})};tn(r,"id","id",n),tn(r,"title","title",n);const a=(t=xl("link",n))===null||t===void 0?void 0:t.attribs.href;a&&(r.link=a),tn(r,"description","subtitle",n);const u=ls("updated",n);return u&&(r.updated=new Date(u)),tn(r,"author","email",n,!0),r}function OA(e){var t,n;const r=(n=(t=xl("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],a={type:e.name.substr(0,3),id:"",items:Bi("item",e.children).map(l=>{const{children:d}=l,f={media:ob(d)};tn(f,"id","guid",d),tn(f,"title","title",d),tn(f,"link","link",d),tn(f,"description","description",d);const h=ls("pubDate",d)||ls("dc:date",d);return h&&(f.pubDate=new Date(h)),f})};tn(a,"title","title",r),tn(a,"link","link",r),tn(a,"description","description",r);const u=ls("lastBuildDate",r);return u&&(a.updated=new Date(u)),tn(a,"author","managingEditor",r,!0),a}const LA=["url","type","lang"],DA=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function ob(e){return Bi("media:content",e).map(t=>{const{attribs:n}=t,r={medium:n.medium,isDefault:!!n.isDefault};for(const a of LA)n[a]&&(r[a]=n[a]);for(const a of DA)n[a]&&(r[a]=parseInt(n[a],10));return n.expression&&(r.expression=n.expression),r})}function xl(e,t){return Bi(e,t,!0,1)[0]}function ls(e,t,n=!1){return Ni(Bi(e,t,n,1)).trim()}function tn(e,t,n,r,a=!1){const u=ls(n,r,a);u&&(e[t]=u)}function PA(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}const Jl=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return An},append:bA,appendChild:EA,compareDocumentPosition:ub,existsOne:ib,filter:Nu,find:Oh,findAll:wA,findOne:Lh,findOneChild:_A,getAttributeValue:hA,getChildren:Xl,getElementById:CA,getElements:vA,getElementsByClassName:AA,getElementsByTagName:Bi,getElementsByTagType:NA,getFeed:RA,getInnerHTML:fA,getName:mA,getOuterHTML:nb,getParent:rb,getSiblings:sb,getText:pl,hasAttrib:pA,hasChildren:ot,innerText:_l,isCDATA:Gl,isComment:Ql,isDocument:fs,isTag:Ee,isText:dr,nextElementSibling:Rh,prepend:TA,prependChild:yA,prevElementSibling:Ih,removeElement:Ws,removeSubsets:kA,replaceElement:gA,testElement:SA,textContent:Ni,uniqueSort:Ui},Symbol.toStringTag,{value:"Module"})),MA={_useHtmlParser2:!1};function Hf(e,t){if(!e)return t??MA;const n={_useHtmlParser2:!!e.xmlMode,...t,...e};return e.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,e.xml!==!0&&Object.assign(n,e.xml)):e.xmlMode&&(n._useHtmlParser2=!0),n}function lb(e,t,n){return e?e(t??e._root.children,null,void 0,n).toString():""}function FA(e,t){return typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function BA(e,t){const n=FA(e)?(t=e,void 0):e,r={...this===null||this===void 0?void 0:this._options,...Hf(t)};return lb(this,n,r)}function UA(e){const t={...this._options,xmlMode:!0};return lb(this,e,t)}function gu(e){const t=e??(this?this.root():[]);let n="";for(let r=0;r<t.length;r++)n+=Ni(t[r]);return n}function jA(e,t,n=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t);const r=this.load(e,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function HA(){return this(this._root)}function cb(e,t){if(t===e)return!1;let n=t;for(;n&&n!==n.parent;)if(n=n.parent,n===e)return!0;return!1}function $A(e){return this.root().extract(e)}function zA(e,t){if(!Ug(e)||!Ug(t))return;let n=e.length;const r=+t.length;for(let a=0;a<r;a++)e[n++]=t[a];return e.length=n,e}function Ug(e){if(Array.isArray(e))return!0;if(typeof e!="object"||e===null||!("length"in e)||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}const qA=Object.freeze(Object.defineProperty({__proto__:null,contains:cb,extract:$A,html:BA,merge:zA,parseHTML:jA,root:HA,text:gu,xml:UA},Symbol.toStringTag,{value:"Module"}));function Ir(e){return e.cheerio!=null}function WA(e){return e.replace(/[._-](\w|$)/g,(t,n)=>n.toUpperCase())}function YA(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function nt(e,t){const n=e.length;for(let r=0;r<n;r++)t(e[r],r);return e}var Ls;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(Ls||(Ls={}));function $f(e){const t=e.indexOf("<");if(t<0||t>e.length-3)return!1;const n=e.charCodeAt(t+1);return(n>=Ls.LowerA&&n<=Ls.LowerZ||n>=Ls.UpperA&&n<=Ls.UpperZ||n===Ls.Exclamation)&&e.includes(">",t+2)}const Eu=Object.prototype.hasOwnProperty,bu=/\s+/,zf="data-",Ph=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,VA=/^{[^]*}$|^\[[^]*]$/;function Sl(e,t,n){var r;if(!(!e||!Ee(e))){if((r=e.attribs)!==null&&r!==void 0||(e.attribs={}),!t)return e.attribs;if(Eu.call(e.attribs,t))return!n&&Ph.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return gu(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function xi(e,t,n){n===null?fb(e,t):e.attribs[t]=`${n}`}function GA(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return nt(this,(n,r)=>{Ee(n)&&xi(n,e,t.call(n,r,n.attribs[e]))})}return nt(this,n=>{if(Ee(n))if(typeof e=="object")for(const r of Object.keys(e)){const a=e[r];xi(n,r,a)}else xi(n,e,t)})}return arguments.length>1?this:Sl(this[0],e,this.options.xmlMode)}function jg(e,t,n){return t in e?e[t]:!n&&Ph.test(t)?Sl(e,t,!1)!==void 0:Sl(e,t,n)}function uf(e,t,n,r){t in e?e[t]=n:xi(e,t,!r&&Ph.test(t)?n?"":null:`${n}`)}function QA(e,t){var n;if(typeof e=="string"&&t===void 0){const r=this[0];if(!r||!Ee(r))return;switch(e){case"style":{const a=this.css(),u=Object.keys(a);for(let l=0;l<u.length;l++)a[l]=u[l];return a.length=u.length,a}case"tagName":case"nodeName":return r.name.toUpperCase();case"href":case"src":{const a=(n=r.attribs)===null||n===void 0?void 0:n[e];return typeof URL<"u"&&(e==="href"&&(r.tagName==="a"||r.tagName==="link")||e==="src"&&(r.tagName==="img"||r.tagName==="iframe"||r.tagName==="audio"||r.tagName==="video"||r.tagName==="source"))&&a!==void 0&&this.options.baseURI?new URL(a,this.options.baseURI).href:a}case"innerText":return _l(r);case"textContent":return Ni(r);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return jg(r,e,this.options.xmlMode)}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new TypeError("Bad combination of arguments.");return nt(this,(r,a)=>{Ee(r)&&uf(r,e,t.call(r,a,jg(r,e,this.options.xmlMode)),this.options.xmlMode)})}return nt(this,r=>{if(Ee(r))if(typeof e=="object")for(const a of Object.keys(e)){const u=e[a];uf(r,a,u,this.options.xmlMode)}else uf(r,e,t,this.options.xmlMode)})}}function Hg(e,t,n){var r;(r=e.data)!==null&&r!==void 0||(e.data={}),typeof t=="object"?Object.assign(e.data,t):typeof t=="string"&&n!==void 0&&(e.data[t]=n)}function KA(e){for(const t of Object.keys(e.attribs)){if(!t.startsWith(zf))continue;const n=WA(t.slice(zf.length));Eu.call(e.data,n)||(e.data[n]=db(e.attribs[t]))}return e.data}function XA(e,t){const n=zf+YA(t),r=e.data;if(Eu.call(r,t))return r[t];if(Eu.call(e.attribs,n))return r[t]=db(e.attribs[n])}function db(e){if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;const t=Number(e);if(e===String(t))return t;if(VA.test(e))try{return JSON.parse(e)}catch{}return e}function JA(e,t){var n;const r=this[0];if(!r||!Ee(r))return;const a=r;return(n=a.data)!==null&&n!==void 0||(a.data={}),e==null?KA(a):typeof e=="object"||t!==void 0?(nt(this,u=>{Ee(u)&&(typeof e=="object"?Hg(u,e):Hg(u,e,t))}),this):XA(a,e)}function ZA(e){const t=arguments.length===0,n=this[0];if(!n||!Ee(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":{const r=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");const a=typeof e=="object"?e:[e];for(const u of a)this.find(`option[value="${u}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(a=>gu(a.children)):r.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function fb(e,t){!e.attribs||!Eu.call(e.attribs,t)||delete e.attribs[t]}function vl(e){return e?e.trim().split(bu):[]}function e3(e){const t=vl(e);for(const n of t)nt(this,r=>{Ee(r)&&fb(r,n)});return this}function t3(e){return this.toArray().some(t=>{const n=Ee(t)&&t.attribs.class;let r=-1;if(n&&e.length>0)for(;(r=n.indexOf(e,r+1))>-1;){const a=r+e.length;if((r===0||bu.test(n[r-1]))&&(a===n.length||bu.test(n[a])))return!0}return!1})}function hb(e){if(typeof e=="function")return nt(this,(r,a)=>{if(Ee(r)){const u=r.attribs.class||"";hb.call([r],e.call(r,a,u))}});if(!e||typeof e!="string")return this;const t=e.split(bu),n=this.length;for(let r=0;r<n;r++){const a=this[r];if(!Ee(a))continue;const u=Sl(a,"class",!1);if(u){let l=` ${u} `;for(const d of t){const f=`${d} `;l.includes(` ${f}`)||(l+=f)}xi(a,"class",l.trim())}else xi(a,"class",t.join(" ").trim())}return this}function pb(e){if(typeof e=="function")return nt(this,(a,u)=>{Ee(a)&&pb.call([a],e.call(a,u,a.attribs.class||""))});const t=vl(e),n=t.length,r=arguments.length===0;return nt(this,a=>{if(Ee(a))if(r)a.attribs.class="";else{const u=vl(a.attribs.class);let l=!1;for(let d=0;d<n;d++){const f=u.indexOf(t[d]);f>=0&&(u.splice(f,1),l=!0,d--)}l&&(a.attribs.class=u.join(" "))}})}function mb(e,t){if(typeof e=="function")return nt(this,(l,d)=>{Ee(l)&&mb.call([l],e.call(l,d,l.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;const n=e.split(bu),r=n.length,a=typeof t=="boolean"?t?1:-1:0,u=this.length;for(let l=0;l<u;l++){const d=this[l];if(!Ee(d))continue;const f=vl(d.attribs.class);for(let h=0;h<r;h++){const g=f.indexOf(n[h]);a>=0&&g<0?f.push(n[h]):a<=0&&g>=0&&f.splice(g,1)}d.attribs.class=f.join(" ")}return this}const n3=Object.freeze(Object.defineProperty({__proto__:null,addClass:hb,attr:GA,data:JA,hasClass:t3,prop:QA,removeAttr:e3,removeClass:pb,toggleClass:mb,val:ZA},Symbol.toStringTag,{value:"Module"}));var fe;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(fe||(fe={}));var mt;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(mt||(mt={}));const $g=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,r3=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,s3=new Map([[126,mt.Element],[94,mt.Start],[36,mt.End],[42,mt.Any],[33,mt.Not],[124,mt.Hyphen]]),i3=new Set(["has","not","matches","is","where","host","host-context"]);function eu(e){switch(e.type){case fe.Adjacent:case fe.Child:case fe.Descendant:case fe.Parent:case fe.Sibling:case fe.ColumnCombinator:return!0;default:return!1}}const a3=new Set(["contains","icontains"]);function u3(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function za(e){return e.replace(r3,u3)}function of(e){return e===39||e===34}function zg(e){return e===32||e===9||e===10||e===12||e===13}function Zl(e){const t=[],n=gb(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function gb(e,t,n){let r=[];function a(_){const x=t.slice(n+_).match($g);if(!x)throw new Error(`Expected name, found ${t.slice(n)}`);const[S]=x;return n+=_+S.length,za(S)}function u(_){for(n+=_;n<t.length&&zg(t.charCodeAt(n));)n++}function l(){n+=1;const _=n;let x=1;for(;x>0&&n<t.length;n++)t.charCodeAt(n)===40&&!d(n)?x++:t.charCodeAt(n)===41&&!d(n)&&x--;if(x)throw new Error("Parenthesis not matched");return za(t.slice(_,n-1))}function d(_){let x=0;for(;t.charCodeAt(--_)===92;)x++;return(x&1)===1}function f(){if(r.length>0&&eu(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function h(_){if(r.length>0&&r[r.length-1].type===fe.Descendant){r[r.length-1].type=_;return}f(),r.push({type:_})}function g(_,x){r.push({type:fe.Attribute,name:_,action:x,value:a(1),namespace:null,ignoreCase:"quirks"})}function y(){if(r.length&&r[r.length-1].type===fe.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");e.push(r)}if(u(0),t.length===n)return n;e:for(;n<t.length;){const _=t.charCodeAt(n);switch(_){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==fe.Descendant)&&(f(),r.push({type:fe.Descendant})),u(1);break}case 62:{h(fe.Child),u(1);break}case 60:{h(fe.Parent),u(1);break}case 126:{h(fe.Sibling),u(1);break}case 43:{h(fe.Adjacent),u(1);break}case 46:{g("class",mt.Element);break}case 35:{g("id",mt.Equals);break}case 91:{u(1);let x,S=null;t.charCodeAt(n)===124?x=a(1):t.startsWith("*|",n)?(S="*",x=a(2)):(x=a(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(S=x,x=a(1))),u(0);let A=mt.Exists;const N=s3.get(t.charCodeAt(n));if(N){if(A=N,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");u(2)}else t.charCodeAt(n)===61&&(A=mt.Equals,u(1));let I="",P=null;if(A!=="exists"){if(of(t.charCodeAt(n))){const q=t.charCodeAt(n);let K=n+1;for(;K<t.length&&(t.charCodeAt(K)!==q||d(K));)K+=1;if(t.charCodeAt(K)!==q)throw new Error("Attribute value didn't end");I=za(t.slice(n+1,K)),n=K+1}else{const q=n;for(;n<t.length&&(!zg(t.charCodeAt(n))&&t.charCodeAt(n)!==93||d(n));)n+=1;I=za(t.slice(q,n))}u(0);const L=t.charCodeAt(n)|32;L===115?(P=!1,u(1)):L===105&&(P=!0,u(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const j={type:fe.Attribute,name:x,action:A,value:I,namespace:S,ignoreCase:P};r.push(j);break}case 58:{if(t.charCodeAt(n+1)===58){r.push({type:fe.PseudoElement,name:a(2).toLowerCase(),data:t.charCodeAt(n)===40?l():null});continue}const x=a(1).toLowerCase();let S=null;if(t.charCodeAt(n)===40)if(i3.has(x)){if(of(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${x} cannot be quoted`);if(S=[],n=gb(S,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${x} (${t})`);n+=1}else{if(S=l(),a3.has(x)){const A=S.charCodeAt(0);A===S.charCodeAt(S.length-1)&&of(A)&&(S=S.slice(1,-1))}S=za(S)}r.push({type:fe.Pseudo,name:x,data:S});break}case 44:{y(),r=[],u(1);break}default:{if(t.startsWith("/*",n)){const A=t.indexOf("*/",n+2);if(A<0)throw new Error("Comment was not terminated");n=A+2,r.length===0&&u(0);break}let x=null,S;if(_===42)n+=1,S="*";else if(_===124){if(S="",t.charCodeAt(n+1)===124){h(fe.ColumnCombinator),u(2);break}}else if($g.test(t.slice(n)))S=a(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(x=S,t.charCodeAt(n+1)===42?(S="*",n+=2):S=a(1)),r.push(S==="*"?{type:fe.Universal,namespace:x}:{type:fe.Tag,name:S,namespace:x})}}}return y(),n}var lf,qg;function o3(){return qg||(qg=1,lf={trueFunc:function(){return!0},falseFunc:function(){return!1}}),lf}var Cl=o3();const Ne=rh(Cl),Eb=new Map([[fe.Universal,50],[fe.Tag,30],[fe.Attribute,1],[fe.Pseudo,0]]);function Mh(e){return!Eb.has(e.type)}const l3=new Map([[mt.Exists,10],[mt.Equals,8],[mt.Not,7],[mt.Start,6],[mt.End,6],[mt.Any,5]]);function c3(e){const t=e.map(bb);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let a=n-1;a>=0&&r<t[a];a--){const u=e[a+1];e[a+1]=e[a],e[a]=u,t[a+1]=t[a],t[a]=r}}}function bb(e){var t,n;let r=(t=Eb.get(e.type))!==null&&t!==void 0?t:-1;return e.type===fe.Attribute?(r=(n=l3.get(e.action))!==null&&n!==void 0?n:4,e.action===mt.Equals&&e.name==="id"&&(r=9),e.ignoreCase&&(r>>=1)):e.type===fe.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map(a=>Math.min(...a.map(bb)))),r<0&&(r=0)):r=2:r=3),r}const d3=/[-[\]{}()*+?.,\\^$|#\s]/g;function Wg(e){return e.replace(d3,"\\$&")}const f3=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Rs(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&f3.has(e.name)}const h3={equals(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;return Rs(t,n)?(u=u.toLowerCase(),l=>{const d=r.getAttributeValue(l,a);return d!=null&&d.length===u.length&&d.toLowerCase()===u&&e(l)}):l=>r.getAttributeValue(l,a)===u&&e(l)},hyphen(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=u.length;return Rs(t,n)?(u=u.toLowerCase(),function(f){const h=r.getAttributeValue(f,a);return h!=null&&(h.length===l||h.charAt(l)==="-")&&h.substr(0,l).toLowerCase()===u&&e(f)}):function(f){const h=r.getAttributeValue(f,a);return h!=null&&(h.length===l||h.charAt(l)==="-")&&h.substr(0,l)===u&&e(f)}},element(e,t,n){const{adapter:r}=n,{name:a,value:u}=t;if(/\s/.test(u))return Ne.falseFunc;const l=new RegExp(`(?:^|\\s)${Wg(u)}(?:$|\\s)`,Rs(t,n)?"i":"");return function(f){const h=r.getAttributeValue(f,a);return h!=null&&h.length>=u.length&&l.test(h)&&e(f)}},exists(e,{name:t},{adapter:n}){return r=>n.hasAttrib(r,t)&&e(r)},start(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=u.length;return l===0?Ne.falseFunc:Rs(t,n)?(u=u.toLowerCase(),d=>{const f=r.getAttributeValue(d,a);return f!=null&&f.length>=l&&f.substr(0,l).toLowerCase()===u&&e(d)}):d=>{var f;return!!(!((f=r.getAttributeValue(d,a))===null||f===void 0)&&f.startsWith(u))&&e(d)}},end(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=-u.length;return l===0?Ne.falseFunc:Rs(t,n)?(u=u.toLowerCase(),d=>{var f;return((f=r.getAttributeValue(d,a))===null||f===void 0?void 0:f.substr(l).toLowerCase())===u&&e(d)}):d=>{var f;return!!(!((f=r.getAttributeValue(d,a))===null||f===void 0)&&f.endsWith(u))&&e(d)}},any(e,t,n){const{adapter:r}=n,{name:a,value:u}=t;if(u==="")return Ne.falseFunc;if(Rs(t,n)){const l=new RegExp(Wg(u),"i");return function(f){const h=r.getAttributeValue(f,a);return h!=null&&h.length>=u.length&&l.test(h)&&e(f)}}return l=>{var d;return!!(!((d=r.getAttributeValue(l,a))===null||d===void 0)&&d.includes(u))&&e(l)}},not(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;return u===""?l=>!!r.getAttributeValue(l,a)&&e(l):Rs(t,n)?(u=u.toLowerCase(),l=>{const d=r.getAttributeValue(l,a);return(d==null||d.length!==u.length||d.toLowerCase()!==u)&&e(l)}):l=>r.getAttributeValue(l,a)!==u&&e(l)}},p3=new Set([9,10,12,13,32]),Yg=48,m3=57;function g3(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,r=u(),a=l();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=r*(a??1),d(),t<e.length?(r=u(),d(),a=l()):r=a=0),a===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*a];function u(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function l(){const f=t;let h=0;for(;t<e.length&&e.charCodeAt(t)>=Yg&&e.charCodeAt(t)<=m3;)h=h*10+(e.charCodeAt(t)-Yg),t++;return t===f?null:h}function d(){for(;t<e.length&&p3.has(e.charCodeAt(t));)t++}}function E3(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return Ne.falseFunc;if(t===-1)return u=>u<=n;if(t===0)return u=>u===n;if(t===1)return n<0?Ne.trueFunc:u=>u>=n;const r=Math.abs(t),a=(n%r+r)%r;return t>1?u=>u>=n&&u%r===a:u=>u<=n&&u%r===a}function rl(e){return E3(g3(e))}function sl(e,t){return n=>{const r=t.getParent(n);return r!=null&&t.isTag(r)&&e(n)}}const qf={contains(e,t,{adapter:n}){return function(a){return e(a)&&n.getText(a).includes(t)}},icontains(e,t,{adapter:n}){const r=t.toLowerCase();return function(u){return e(u)&&n.getText(u).toLowerCase().includes(r)}},"nth-child"(e,t,{adapter:n,equals:r}){const a=rl(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?sl(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=0;h<d.length&&!r(l,d[h]);h++)n.isTag(d[h])&&f++;return a(f)&&e(l)}},"nth-last-child"(e,t,{adapter:n,equals:r}){const a=rl(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?sl(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=d.length-1;h>=0&&!r(l,d[h]);h--)n.isTag(d[h])&&f++;return a(f)&&e(l)}},"nth-of-type"(e,t,{adapter:n,equals:r}){const a=rl(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?sl(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=0;h<d.length;h++){const g=d[h];if(r(l,g))break;n.isTag(g)&&n.getName(g)===n.getName(l)&&f++}return a(f)&&e(l)}},"nth-last-of-type"(e,t,{adapter:n,equals:r}){const a=rl(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?sl(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=d.length-1;h>=0;h--){const g=d[h];if(r(l,g))break;n.isTag(g)&&n.getName(g)===n.getName(l)&&f++}return a(f)&&e(l)}},root(e,t,{adapter:n}){return r=>{const a=n.getParent(r);return(a==null||!n.isTag(a))&&e(r)}},scope(e,t,n,r){const{equals:a}=n;return!r||r.length===0?qf.root(e,t,n):r.length===1?u=>a(r[0],u)&&e(u):u=>r.includes(u)&&e(u)},hover:cf("isHovered"),visited:cf("isVisited"),active:cf("isActive")};function cf(e){return function(n,r,{adapter:a}){const u=a[e];return typeof u!="function"?Ne.falseFunc:function(d){return u(d)&&n(d)}}}const Vg={empty(e,{adapter:t}){return!t.getChildren(e).some(n=>t.isTag(n)||t.getText(n)!=="")},"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const r=t.getSiblings(e).find(a=>t.isTag(a));return r!=null&&n(e,r)},"last-child"(e,{adapter:t,equals:n}){const r=t.getSiblings(e);for(let a=r.length-1;a>=0;a--){if(n(e,r[a]))return!0;if(t.isTag(r[a]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),a=t.getName(e);for(let u=0;u<r.length;u++){const l=r[u];if(n(e,l))return!0;if(t.isTag(l)&&t.getName(l)===a)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),a=t.getName(e);for(let u=r.length-1;u>=0;u--){const l=r[u];if(n(e,l))return!0;if(t.isTag(l)&&t.getName(l)===a)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const r=t.getName(e);return t.getSiblings(e).every(a=>n(e,a)||!t.isTag(a)||t.getName(a)!==r)},"only-child"(e,{adapter:t,equals:n}){return t.getSiblings(e).every(r=>n(e,r)||!t.isTag(r))}};function Gg(e,t,n,r){if(n===null){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const b3={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},yb={};function y3(e,t){return e===Ne.falseFunc?Ne.falseFunc:n=>t.isTag(n)&&e(n)}function Tb(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function Wf(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const df=(e,t,n,r,a)=>{const u=a(t,Wf(n),r);return u===Ne.trueFunc?e:u===Ne.falseFunc?Ne.falseFunc:l=>u(l)&&e(l)},ff={is:df,matches:df,where:df,not(e,t,n,r,a){const u=a(t,Wf(n),r);return u===Ne.falseFunc?e:u===Ne.trueFunc?Ne.falseFunc:l=>!u(l)&&e(l)},has(e,t,n,r,a){const{adapter:u}=n,l=Wf(n);l.relativeSelector=!0;const d=t.some(g=>g.some(Mh))?[yb]:void 0,f=a(t,l,d);if(f===Ne.falseFunc)return Ne.falseFunc;const h=y3(f,u);if(d&&f!==Ne.trueFunc){const{shouldTestNextSiblings:g=!1}=f;return y=>{if(!e(y))return!1;d[0]=y;const _=u.getChildren(y),x=g?[..._,...Tb(y,u)]:_;return u.existsOne(h,x)}}return g=>e(g)&&u.existsOne(h,u.getChildren(g))}};function T3(e,t,n,r,a){var u;const{name:l,data:d}=t;if(Array.isArray(d)){if(!(l in ff))throw new Error(`Unknown pseudo-class :${l}(${d})`);return ff[l](e,d,n,r,a)}const f=(u=n.pseudos)===null||u===void 0?void 0:u[l],h=typeof f=="string"?f:b3[l];if(typeof h=="string"){if(d!=null)throw new Error(`Pseudo ${l} doesn't have any arguments`);const g=Zl(h);return ff.is(e,g,n,r,a)}if(typeof f=="function")return Gg(f,l,d,1),g=>f(g,d)&&e(g);if(l in qf)return qf[l](e,d,n,r);if(l in Vg){const g=Vg[l];return Gg(g,l,d,2),y=>g(y,n,d)&&e(y)}throw new Error(`Unknown pseudo-class :${l}`)}function hf(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function _3(e,t,n,r,a){const{adapter:u,equals:l}=n;switch(t.type){case fe.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case fe.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case fe.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),h3[t.action](e,t,n)}case fe.Pseudo:return T3(e,t,n,r,a);case fe.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:d}=t;return(!n.xmlMode||n.lowerCaseTags)&&(d=d.toLowerCase()),function(h){return u.getName(h)===d&&e(h)}}case fe.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(h){let g=h;for(;g=hf(g,u);)if(e(g))return!0;return!1};const d=new WeakSet;return function(h){let g=h;for(;g=hf(g,u);)if(!d.has(g)){if(u.isTag(g)&&e(g))return!0;d.add(g)}return!1}}case"_flexibleDescendant":return function(f){let h=f;do if(e(h))return!0;while(h=hf(h,u));return!1};case fe.Parent:return function(f){return u.getChildren(f).some(h=>u.isTag(h)&&e(h))};case fe.Child:return function(f){const h=u.getParent(f);return h!=null&&u.isTag(h)&&e(h)};case fe.Sibling:return function(f){const h=u.getSiblings(f);for(let g=0;g<h.length;g++){const y=h[g];if(l(f,y))break;if(u.isTag(y)&&e(y))return!0}return!1};case fe.Adjacent:return u.prevElementSibling?function(f){const h=u.prevElementSibling(f);return h!=null&&e(h)}:function(f){const h=u.getSiblings(f);let g;for(let y=0;y<h.length;y++){const _=h[y];if(l(f,_))break;u.isTag(_)&&(g=_)}return!!g&&e(g)};case fe.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function _b(e){return e.type===fe.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(_b)))}const w3={type:fe.Descendant},x3={type:"_flexibleDescendant"},S3={type:fe.Pseudo,name:"scope",data:null};function v3(e,{adapter:t},n){const r=!!n?.every(a=>{const u=t.isTag(a)&&t.getParent(a);return a===yb||u&&t.isTag(u)});for(const a of e){if(!(a.length>0&&Mh(a[0])&&a[0].type!==fe.Descendant))if(r&&!a.some(_b))a.unshift(w3);else continue;a.unshift(S3)}}function wb(e,t,n){var r;e.forEach(c3),n=(r=t.context)!==null&&r!==void 0?r:n;const a=Array.isArray(n),u=n&&(Array.isArray(n)?n:[n]);if(t.relativeSelector!==!1)v3(e,t,u);else if(e.some(f=>f.length>0&&Mh(f[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let l=!1;const d=e.map(f=>{if(f.length>=2){const[h,g]=f;h.type!==fe.Pseudo||h.name!=="scope"||(a&&g.type===fe.Descendant?f[1]=x3:(g.type===fe.Adjacent||g.type===fe.Sibling)&&(l=!0))}return C3(f,t,u)}).reduce(A3,Ne.falseFunc);return d.shouldTestNextSiblings=l,d}function C3(e,t,n){var r;return e.reduce((a,u)=>a===Ne.falseFunc?Ne.falseFunc:_3(a,u,t,n,wb),(r=t.rootFunc)!==null&&r!==void 0?r:Ne.trueFunc)}function A3(e,t){return t===Ne.falseFunc||e===Ne.trueFunc?e:e===Ne.falseFunc||t===Ne.trueFunc?t:function(r){return e(r)||t(r)}}const xb=(e,t)=>e===t,N3={adapter:Jl,equals:xb};function k3(e){var t,n,r,a;const u=e??N3;return(t=u.adapter)!==null&&t!==void 0||(u.adapter=Jl),(n=u.equals)!==null&&n!==void 0||(u.equals=(a=(r=u.adapter)===null||r===void 0?void 0:r.equals)!==null&&a!==void 0?a:xb),u}function R3(e){return function(n,r,a){const u=k3(r);return e(n,u,a)}}const Fh=R3(wb);function Sb(e,t,n=!1){return n&&(e=I3(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function I3(e,t){const n=Array.isArray(e)?e.slice(0):[e],r=n.length;for(let a=0;a<r;a++){const u=Tb(n[a],t);n.push(...u)}return n}const O3=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function Al(e){return e.type!=="pseudo"?!1:O3.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(Al)):!1}function L3(e,t,n){const r=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function D3(e){for(;e.parent;)e=e.parent;return e}function Bh(e){const t=[],n=[];for(const r of e)r.some(Al)?t.push(r):n.push(r);return[n,t]}const P3={type:fe.Universal,namespace:null},M3={type:fe.Pseudo,name:"scope",data:null};function vb(e,t,n={}){return Cb([e],t,n)}function Cb(e,t,n={}){if(typeof t=="function")return e.some(t);const[r,a]=Bh(Zl(t));return r.length>0&&e.some(Fh(r,n))||a.some(u=>kb(u,e,n).length>0)}function F3(e,t,n,r){const a=typeof n=="string"?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(a)&&Math.abs(a)<t.length?[a<0?t[t.length+a]:t[a]]:[];case"gt":return isFinite(a)?t.slice(a+1):[];case"even":return t.filter((u,l)=>l%2===0);case"odd":return t.filter((u,l)=>l%2===1);case"not":{const u=new Set(Nb(n,t,r));return t.filter(l=>!u.has(l))}}}function Ab(e,t,n={}){return Nb(Zl(e),t,n)}function Nb(e,t,n){if(t.length===0)return[];const[r,a]=Bh(e);let u;if(r.length){const l=Vf(t,r,n);if(a.length===0)return l;l.length&&(u=new Set(l))}for(let l=0;l<a.length&&u?.size!==t.length;l++){const d=a[l];if((u?t.filter(g=>Ee(g)&&!u.has(g)):t).length===0)break;const h=kb(d,t,n);if(h.length)if(u)h.forEach(g=>u.add(g));else{if(l===a.length-1)return h;u=new Set(h)}}return typeof u<"u"?u.size===t.length?t:t.filter(l=>u.has(l)):[]}function kb(e,t,n){var r;if(e.some(eu)){const a=(r=n.root)!==null&&r!==void 0?r:D3(t[0]),u={...n,context:t,relativeSelector:!1};return e.push(M3),Nl(a,e,u,!0,t.length)}return Nl(t,e,n,!1,t.length)}function B3(e,t,n={},r=1/0){if(typeof e=="function")return Rb(t,e);const[a,u]=Bh(Zl(e)),l=u.map(d=>Nl(t,d,n,!0,r));return a.length&&l.push(Yf(t,a,n,r)),l.length===0?[]:l.length===1?l[0]:Ui(l.reduce((d,f)=>[...d,...f]))}function Nl(e,t,n,r,a){const u=t.findIndex(Al),l=t.slice(0,u),d=t[u],f=t.length-1===u?a:1/0,h=L3(d.name,d.data,f);if(h===0)return[];const y=(l.length===0&&!Array.isArray(e)?Xl(e).filter(Ee):l.length===0?(Array.isArray(e)?e:[e]).filter(Ee):r||l.some(eu)?Yf(e,[l],n,h):Vf(e,[l],n)).slice(0,h);let _=F3(d.name,y,d.data,n);if(_.length===0||t.length===u+1)return _;const x=t.slice(u+1),S=x.some(eu);if(S){if(eu(x[0])){const{type:A}=x[0];(A===fe.Sibling||A===fe.Adjacent)&&(_=Sb(_,Jl,!0)),x.unshift(P3)}n={...n,relativeSelector:!1,rootFunc:A=>_.includes(A)}}else n.rootFunc&&n.rootFunc!==Cl.trueFunc&&(n={...n,rootFunc:Cl.trueFunc});return x.some(Al)?Nl(_,x,n,!1,a):S?Yf(_,[x],n,a):Vf(_,[x],n)}function Yf(e,t,n,r){const a=Fh(t,n,e);return Rb(e,a,r)}function Rb(e,t,n=1/0){const r=Sb(e,Jl,t.shouldTestNextSiblings);return Oh(a=>Ee(a)&&t(a),r,!0,n)}function Vf(e,t,n){const r=(Array.isArray(e)?e:[e]).filter(Ee);if(r.length===0)return r;const a=Fh(t,n);return a===Cl.trueFunc?r:r.filter(a)}const U3=/^\s*[+~]/;function j3(e){if(!e)return this._make([]);if(typeof e!="string"){const t=Ir(e)?e.toArray():[e],n=this.toArray();return this._make(t.filter(r=>n.some(a=>cb(a,r))))}return this._findBySelector(e,Number.POSITIVE_INFINITY)}function H3(e,t){var n;const r=this.toArray(),a=U3.test(e)?r:this.children().toArray(),u={context:r,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(B3(e,a,u,t))}function Uh(e){return function(t,...n){return function(r){var a;let u=e(t,this);return r&&(u=$h(u,r,this.options.xmlMode,(a=this._root)===null||a===void 0?void 0:a[0])),this._make(this.length>1&&u.length>1?n.reduce((l,d)=>d(l),u):u)}}}const ku=Uh((e,t)=>{let n=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a.length>0&&(n=n.concat(a))}return n}),jh=Uh((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a!==null&&n.push(a)}return n});function Hh(e,...t){let n=null;const r=Uh((a,u)=>{const l=[];return nt(u,d=>{for(let f;(f=a(d))&&!n?.(f,l.length);d=f)l.push(f)}),l})(e,...t);return function(a,u){n=typeof a=="string"?d=>vb(d,a,this.options):a?Ru(a):null;const l=r.call(this,u);return n=null,l}}function ji(e){return e.length>1?Array.from(new Set(e)):e}const $3=jh(({parent:e})=>e&&!fs(e)?e:null,ji),z3=ku(e=>{const t=[];for(;e.parent&&!fs(e.parent);)t.push(e.parent),e=e.parent;return t},Ui,e=>e.reverse()),q3=Hh(({parent:e})=>e&&!fs(e)?e:null,Ui,e=>e.reverse());function W3(e){var t;const n=[];if(!e)return this._make(n);const r={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},a=typeof e=="string"?u=>vb(u,e,r):Ru(e);return nt(this,u=>{for(u&&!fs(u)&&!Ee(u)&&(u=u.parent);u&&Ee(u);){if(a(u,0)){n.includes(u)||n.push(u);break}u=u.parent}}),this._make(n)}const Y3=jh(e=>Rh(e)),V3=ku(e=>{const t=[];for(;e.next;)e=e.next,Ee(e)&&t.push(e);return t},ji),G3=Hh(e=>Rh(e),ji),Q3=jh(e=>Ih(e)),K3=ku(e=>{const t=[];for(;e.prev;)e=e.prev,Ee(e)&&t.push(e);return t},ji),X3=Hh(e=>Ih(e),ji),J3=ku(e=>sb(e).filter(t=>Ee(t)&&t!==e),Ui),Z3=ku(e=>Xl(e).filter(Ee),ji);function eN(){const e=this.toArray().reduce((t,n)=>ot(n)?t.concat(n.children):t,[]);return this._make(e)}function tN(e){let t=0;const n=this.length;for(;t<n&&e.call(this[t],t,this[t])!==!1;)++t;return this}function nN(e){let t=[];for(let n=0;n<this.length;n++){const r=this[n],a=e.call(r,n,r);a!=null&&(t=t.concat(a))}return this._make(t)}function Ru(e){return typeof e=="function"?(t,n)=>e.call(t,n,t):Ir(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function rN(e){var t;return this._make($h(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function $h(e,t,n,r){return typeof t=="string"?Ab(t,e,{xmlMode:n,root:r}):e.filter(Ru(t))}function sN(e){const t=this.toArray();return typeof e=="string"?Cb(t.filter(Ee),e,this.options):e?t.some(Ru(e)):!1}function iN(e){let t=this.toArray();if(typeof e=="string"){const n=new Set(Ab(e,t,this.options));t=t.filter(r=>!n.has(r))}else{const n=Ru(e);t=t.filter((r,a)=>!n(r,a))}return this._make(t)}function aN(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,n)=>this._make(n).find(e).length>0)}function uN(){return this.length>1?this._make(this[0]):this}function oN(){return this.length>0?this._make(this[this.length-1]):this}function lN(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function cN(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function dN(){return Array.prototype.slice.call(this)}function fN(e){let t,n;return e==null?(t=this.parent().children(),n=this[0]):typeof e=="string"?(t=this._make(e),n=this[0]):(t=this,n=Ir(e)?e[0]:e),Array.prototype.indexOf.call(t,n)}function hN(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function pN(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function mN(e,t){const n=this._make(e,t),r=Ui([...this.get(),...n.get()]);return this._make(r)}function gN(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}const EN=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:H3,add:mN,addBack:gN,children:Z3,closest:W3,contents:eN,each:tN,end:pN,eq:lN,filter:rN,filterArray:$h,find:j3,first:uN,get:cN,has:aN,index:fN,is:sN,last:oN,map:nN,next:Y3,nextAll:V3,nextUntil:G3,not:iN,parent:$3,parents:z3,parentsUntil:q3,prev:Q3,prevAll:K3,prevUntil:X3,siblings:J3,slice:hN,toArray:dN},Symbol.toStringTag,{value:"Module"}));function bN(e){return function(n,r,a,u){if(typeof Buffer<"u"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return e(n,r,a,u);const l=n;if(!Array.isArray(l)&&fs(l))return l;const d=new js([]);return Hs(l,d),d}}function Hs(e,t){const n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(let r=0;r<n.length;r++){const a=n[r];a.parent&&a.parent.children!==n&&Ws(a),t?(a.prev=n[r-1]||null,a.next=n[r+1]||null):a.prev=a.next=null,a.parent=t}return t}function yN(e,t){if(e==null)return[];if(typeof e=="string")return this._parse(e,this.options,!1,null).children.slice(0);if("length"in e){if(e.length===1)return this._makeDomArray(e[0],t);const n=[];for(let r=0;r<e.length;r++){const a=e[r];if(typeof a=="object"){if(a==null)continue;if(!("length"in a)){n.push(t?mu(a,!0):a);continue}}n.push(...this._makeDomArray(a,t))}return n}return[t?mu(e,!0):e]}function Ib(e){return function(...t){const n=this.length-1;return nt(this,(r,a)=>{if(!ot(r))return;const u=typeof t[0]=="function"?t[0].call(r,a,this._render(r.children)):t,l=this._makeDomArray(u,a<n);e(l,r.children,r)})}}function hs(e,t,n,r,a){var u,l;const d=[t,n,...r],f=t===0?null:e[t-1],h=t+n>=e.length?null:e[t+n];for(let g=0;g<r.length;++g){const y=r[g],_=y.parent;if(_){const S=_.children.indexOf(y);S>-1&&(_.children.splice(S,1),a===_&&t>S&&d[0]--)}y.parent=a,y.prev&&(y.prev.next=(u=y.next)!==null&&u!==void 0?u:null),y.next&&(y.next.prev=(l=y.prev)!==null&&l!==void 0?l:null),y.prev=g===0?f:r[g-1],y.next=g===r.length-1?h:r[g+1]}return f&&(f.next=r[0]),h&&(h.prev=r[r.length-1]),e.splice(...d)}function TN(e){return(Ir(e)?e:this._make(e)).append(this),this}function _N(e){return(Ir(e)?e:this._make(e)).prepend(this),this}const wN=Ib((e,t,n)=>{hs(t,t.length,0,e,n)}),xN=Ib((e,t,n)=>{hs(t,0,0,e,n)});function Ob(e){return function(t){const n=this.length-1,r=this.parents().last();for(let a=0;a<this.length;a++){const u=this[a],l=typeof t=="function"?t.call(u,a,u):typeof t=="string"&&!$f(t)?r.find(t).clone():t,[d]=this._makeDomArray(l,a<n);if(!d||!ot(d))continue;let f=d,h=0;for(;h<f.children.length;){const g=f.children[h];Ee(g)?(f=g,h=0):h++}e(u,f,[d])}return this}}const SN=Ob((e,t,n)=>{const{parent:r}=e;if(!r)return;const a=r.children,u=a.indexOf(e);Hs([e],t),hs(a,u,0,n,r)}),vN=Ob((e,t,n)=>{ot(e)&&(Hs(e.children,t),Hs(n,e))});function CN(e){return this.parent(e).not("body").each((t,n)=>{this._make(n).replaceWith(n.children)}),this}function AN(e){const t=this[0];if(t){const n=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t);let r;for(let u=0;u<n.length;u++)n[u].type==="tag"&&(r=n[u]);let a=0;for(;r&&a<r.children.length;){const u=r.children[a];u.type==="tag"?(r=u,a=0):a++}r&&this._make(r).append(this)}return this}function NN(...e){const t=this.length-1;return nt(this,(n,r)=>{if(!ot(n)||!n.parent)return;const a=n.parent.children,u=a.indexOf(n);if(u<0)return;const l=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,d=this._makeDomArray(l,r<t);hs(a,u+1,0,d,n.parent)})}function kN(e){typeof e=="string"&&(e=this._make(e)),this.remove();const t=[];for(const n of this._makeDomArray(e)){const r=this.clone().toArray(),{parent:a}=n;if(!a)continue;const u=a.children,l=u.indexOf(n);l<0||(hs(u,l+1,0,r,a),t.push(...r))}return this._make(t)}function RN(...e){const t=this.length-1;return nt(this,(n,r)=>{if(!ot(n)||!n.parent)return;const a=n.parent.children,u=a.indexOf(n);if(u<0)return;const l=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,d=this._makeDomArray(l,r<t);hs(a,u,0,d,n.parent)})}function IN(e){const t=this._make(e);this.remove();const n=[];return nt(t,r=>{const a=this.clone().toArray(),{parent:u}=r;if(!u)return;const l=u.children,d=l.indexOf(r);d<0||(hs(l,d,0,a,u),n.push(...a))}),this._make(n)}function ON(e){const t=e?this.filter(e):this;return nt(t,n=>{Ws(n),n.prev=n.next=n.parent=null}),this}function LN(e){return nt(this,(t,n)=>{const{parent:r}=t;if(!r)return;const a=r.children,u=typeof e=="function"?e.call(t,n,t):e,l=this._makeDomArray(u);Hs(l,null);const d=a.indexOf(t);hs(a,d,1,l,r),l.includes(t)||(t.parent=t.prev=t.next=null)})}function DN(){return nt(this,e=>{if(ot(e)){for(const t of e.children)t.next=t.prev=t.parent=null;e.children.length=0}})}function PN(e){if(e===void 0){const t=this[0];return!t||!ot(t)?null:this._render(t.children)}return nt(this,t=>{if(!ot(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=Ir(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;Hs(n,t)})}function MN(){return this._render(this)}function FN(e){return e===void 0?gu(this):typeof e=="function"?nt(this,(t,n)=>this._make(t).text(e.call(t,n,gu([t])))):nt(this,t=>{if(!ot(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=new pu(`${e}`);Hs(n,t)})}function BN(){const e=Array.prototype.map.call(this.get(),n=>mu(n,!0)),t=new js(e);for(const n of e)n.parent=t;return this._make(e)}const UN=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:yN,after:NN,append:wN,appendTo:TN,before:RN,clone:BN,empty:DN,html:PN,insertAfter:kN,insertBefore:IN,prepend:xN,prependTo:_N,remove:ON,replaceWith:LN,text:FN,toString:MN,unwrap:CN,wrap:SN,wrapAll:AN,wrapInner:vN},Symbol.toStringTag,{value:"Module"}));function jN(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return nt(this,(n,r)=>{Ee(n)&&Lb(n,e,t,r)});if(this.length!==0)return Db(this[0],e)}function Lb(e,t,n,r){if(typeof t=="string"){const a=Db(e),u=typeof n=="function"?n.call(e,r,a[t]):n;u===""?delete a[t]:u!=null&&(a[t]=u),e.attribs.style=HN(a)}else if(typeof t=="object"){const a=Object.keys(t);for(let u=0;u<a.length;u++){const l=a[u];Lb(e,l,t[l],u)}}}function Db(e,t){if(!e||!Ee(e))return;const n=$N(e.attribs.style);if(typeof t=="string")return n[t];if(Array.isArray(t)){const r={};for(const a of t)n[a]!=null&&(r[a]=n[a]);return r}return n}function HN(e){return Object.keys(e).reduce((t,n)=>`${t}${t?" ":""}${n}: ${e[n]};`,"")}function $N(e){if(e=(e||"").trim(),!e)return{};const t={};let n;for(const r of e.split(";")){const a=r.indexOf(":");if(a<1||a===r.length-1){const u=r.trimEnd();u.length>0&&n!==void 0&&(t[n]+=`;${u}`)}else n=r.slice(0,a).trim(),t[n]=r.slice(a+1).trim()}return t}const zN=Object.freeze(Object.defineProperty({__proto__:null,css:jN},Symbol.toStringTag,{value:"Module"})),Qg="input,select,textarea,keygen",qN=/%20/g,Kg=/\r?\n/g;function WN(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(qN,"+")}function YN(){return this.map((e,t)=>{const n=this._make(t);return Ee(t)&&t.name==="form"?n.find(Qg).toArray():n.filter(Qg).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var n;const r=this._make(t),a=r.attr("name"),u=(n=r.val())!==null&&n!==void 0?n:"";return Array.isArray(u)?u.map(l=>({name:a,value:l.replace(Kg,`\r
`)})):{name:a,value:u.replace(Kg,`\r
`)}}).toArray()}const VN=Object.freeze(Object.defineProperty({__proto__:null,serialize:WN,serializeArray:YN},Symbol.toStringTag,{value:"Module"}));function GN(e){var t;return typeof e=="string"?{selector:e,value:"textContent"}:{selector:e.selector,value:(t=e.value)!==null&&t!==void 0?t:"textContent"}}function QN(e){const t={};for(const n in e){const r=e[n],a=Array.isArray(r),{selector:u,value:l}=GN(a?r[0]:r),d=typeof l=="function"?l:typeof l=="string"?f=>this._make(f).prop(l):f=>this._make(f).extract(l);if(a)t[n]=this._findBySelector(u,Number.POSITIVE_INFINITY).map((f,h)=>d(h,n,t)).get();else{const f=this._findBySelector(u,1);t[n]=f.length>0?d(f[0],n,t):void 0}}return t}const KN=Object.freeze(Object.defineProperty({__proto__:null,extract:QN},Symbol.toStringTag,{value:"Module"}));class Iu{constructor(t,n,r){if(this.length=0,this.options=r,this._root=n,t){for(let a=0;a<t.length;a++)this[a]=t[a];this.length=t.length}}}Iu.prototype.cheerio="[cheerio object]";Iu.prototype.splice=Array.prototype.splice;Iu.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(Iu.prototype,n3,EN,UN,zN,VN,KN);function XN(e,t){return function n(r,a,u=!0){if(r==null)throw new Error("cheerio.load() expects a string");const l=Hf(a),d=e(r,l,u,null);class f extends Iu{_make(y,_){const x=h(y,_);return x.prevObject=this,x}_parse(y,_,x,S){return e(y,_,x,S)}_render(y){return t(y,this.options)}}function h(g,y,_=d,x){if(g&&Ir(g))return g;const S=Hf(x,l),A=typeof _=="string"?[e(_,S,!1,null)]:"length"in _?_:[_],N=Ir(A)?A:new f(A,null,S);if(N._root=N,!g)return new f(void 0,N,S);const I=typeof g=="string"&&$f(g)?e(g,S,!1,null).children:JN(g)?[g]:Array.isArray(g)?g:void 0,P=new f(I,N,S);if(I)return P;if(typeof g!="string")throw new TypeError("Unexpected type of selector");let j=g;const L=y?typeof y=="string"?$f(y)?new f([e(y,S,!1,null)],N,S):(j=`${y} ${j}`,N):Ir(y)?y:new f(Array.isArray(y)?y:[y],N,S):N;return L?L.find(j):P}return Object.assign(h,qA,{load:n,_root:d,_options:l,fn:f.prototype,prototype:f.prototype}),h}}function JN(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}const ZN=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ke="";var v;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(v||(v={}));const Zt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Pb(e){return e>=55296&&e<=57343}function ek(e){return e>=56320&&e<=57343}function tk(e,t){return(e-55296)*1024+9216+t}function Mb(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Fb(e){return e>=64976&&e<=65007||ZN.has(e)}var $;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})($||($={}));const nk=65536;class rk{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=nk,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:a,offset:u}=this,l=a+n,d=u+n;return{code:t,startLine:r,endLine:r,startCol:l,endCol:l,startOffset:d,endOffset:d}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(ek(n))return this.pos++,this._addGap(),tk(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,v.EOF;return this._err($.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,v.EOF;const r=this.html.charCodeAt(n);return r===v.CARRIAGE_RETURN?v.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,v.EOF;let t=this.html.charCodeAt(this.pos);return t===v.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,v.LINE_FEED):t===v.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Pb(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===v.LINE_FEED||t===v.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Mb(t)?this._err($.controlCharacterInInputStream):Fb(t)&&this._err($.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Pe;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Pe||(Pe={}));function Bb(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}var Y;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Y||(Y={}));var Fs;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Fs||(Fs={}));var bn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(bn||(bn={}));var F;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(F||(F={}));var p;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(p||(p={}));const sk=new Map([[F.A,p.A],[F.ADDRESS,p.ADDRESS],[F.ANNOTATION_XML,p.ANNOTATION_XML],[F.APPLET,p.APPLET],[F.AREA,p.AREA],[F.ARTICLE,p.ARTICLE],[F.ASIDE,p.ASIDE],[F.B,p.B],[F.BASE,p.BASE],[F.BASEFONT,p.BASEFONT],[F.BGSOUND,p.BGSOUND],[F.BIG,p.BIG],[F.BLOCKQUOTE,p.BLOCKQUOTE],[F.BODY,p.BODY],[F.BR,p.BR],[F.BUTTON,p.BUTTON],[F.CAPTION,p.CAPTION],[F.CENTER,p.CENTER],[F.CODE,p.CODE],[F.COL,p.COL],[F.COLGROUP,p.COLGROUP],[F.DD,p.DD],[F.DESC,p.DESC],[F.DETAILS,p.DETAILS],[F.DIALOG,p.DIALOG],[F.DIR,p.DIR],[F.DIV,p.DIV],[F.DL,p.DL],[F.DT,p.DT],[F.EM,p.EM],[F.EMBED,p.EMBED],[F.FIELDSET,p.FIELDSET],[F.FIGCAPTION,p.FIGCAPTION],[F.FIGURE,p.FIGURE],[F.FONT,p.FONT],[F.FOOTER,p.FOOTER],[F.FOREIGN_OBJECT,p.FOREIGN_OBJECT],[F.FORM,p.FORM],[F.FRAME,p.FRAME],[F.FRAMESET,p.FRAMESET],[F.H1,p.H1],[F.H2,p.H2],[F.H3,p.H3],[F.H4,p.H4],[F.H5,p.H5],[F.H6,p.H6],[F.HEAD,p.HEAD],[F.HEADER,p.HEADER],[F.HGROUP,p.HGROUP],[F.HR,p.HR],[F.HTML,p.HTML],[F.I,p.I],[F.IMG,p.IMG],[F.IMAGE,p.IMAGE],[F.INPUT,p.INPUT],[F.IFRAME,p.IFRAME],[F.KEYGEN,p.KEYGEN],[F.LABEL,p.LABEL],[F.LI,p.LI],[F.LINK,p.LINK],[F.LISTING,p.LISTING],[F.MAIN,p.MAIN],[F.MALIGNMARK,p.MALIGNMARK],[F.MARQUEE,p.MARQUEE],[F.MATH,p.MATH],[F.MENU,p.MENU],[F.META,p.META],[F.MGLYPH,p.MGLYPH],[F.MI,p.MI],[F.MO,p.MO],[F.MN,p.MN],[F.MS,p.MS],[F.MTEXT,p.MTEXT],[F.NAV,p.NAV],[F.NOBR,p.NOBR],[F.NOFRAMES,p.NOFRAMES],[F.NOEMBED,p.NOEMBED],[F.NOSCRIPT,p.NOSCRIPT],[F.OBJECT,p.OBJECT],[F.OL,p.OL],[F.OPTGROUP,p.OPTGROUP],[F.OPTION,p.OPTION],[F.P,p.P],[F.PARAM,p.PARAM],[F.PLAINTEXT,p.PLAINTEXT],[F.PRE,p.PRE],[F.RB,p.RB],[F.RP,p.RP],[F.RT,p.RT],[F.RTC,p.RTC],[F.RUBY,p.RUBY],[F.S,p.S],[F.SCRIPT,p.SCRIPT],[F.SEARCH,p.SEARCH],[F.SECTION,p.SECTION],[F.SELECT,p.SELECT],[F.SOURCE,p.SOURCE],[F.SMALL,p.SMALL],[F.SPAN,p.SPAN],[F.STRIKE,p.STRIKE],[F.STRONG,p.STRONG],[F.STYLE,p.STYLE],[F.SUB,p.SUB],[F.SUMMARY,p.SUMMARY],[F.SUP,p.SUP],[F.TABLE,p.TABLE],[F.TBODY,p.TBODY],[F.TEMPLATE,p.TEMPLATE],[F.TEXTAREA,p.TEXTAREA],[F.TFOOT,p.TFOOT],[F.TD,p.TD],[F.TH,p.TH],[F.THEAD,p.THEAD],[F.TITLE,p.TITLE],[F.TR,p.TR],[F.TRACK,p.TRACK],[F.TT,p.TT],[F.U,p.U],[F.UL,p.UL],[F.SVG,p.SVG],[F.VAR,p.VAR],[F.WBR,p.WBR],[F.XMP,p.XMP]]);function ec(e){var t;return(t=sk.get(e))!==null&&t!==void 0?t:p.UNKNOWN}const J=p,ik={[Y.HTML]:new Set([J.ADDRESS,J.APPLET,J.AREA,J.ARTICLE,J.ASIDE,J.BASE,J.BASEFONT,J.BGSOUND,J.BLOCKQUOTE,J.BODY,J.BR,J.BUTTON,J.CAPTION,J.CENTER,J.COL,J.COLGROUP,J.DD,J.DETAILS,J.DIR,J.DIV,J.DL,J.DT,J.EMBED,J.FIELDSET,J.FIGCAPTION,J.FIGURE,J.FOOTER,J.FORM,J.FRAME,J.FRAMESET,J.H1,J.H2,J.H3,J.H4,J.H5,J.H6,J.HEAD,J.HEADER,J.HGROUP,J.HR,J.HTML,J.IFRAME,J.IMG,J.INPUT,J.LI,J.LINK,J.LISTING,J.MAIN,J.MARQUEE,J.MENU,J.META,J.NAV,J.NOEMBED,J.NOFRAMES,J.NOSCRIPT,J.OBJECT,J.OL,J.P,J.PARAM,J.PLAINTEXT,J.PRE,J.SCRIPT,J.SECTION,J.SELECT,J.SOURCE,J.STYLE,J.SUMMARY,J.TABLE,J.TBODY,J.TD,J.TEMPLATE,J.TEXTAREA,J.TFOOT,J.TH,J.THEAD,J.TITLE,J.TR,J.TRACK,J.UL,J.WBR,J.XMP]),[Y.MATHML]:new Set([J.MI,J.MO,J.MN,J.MS,J.MTEXT,J.ANNOTATION_XML]),[Y.SVG]:new Set([J.TITLE,J.FOREIGN_OBJECT,J.DESC]),[Y.XLINK]:new Set,[Y.XML]:new Set,[Y.XMLNS]:new Set},Gf=new Set([J.H1,J.H2,J.H3,J.H4,J.H5,J.H6]),ak=new Set([F.STYLE,F.SCRIPT,F.XMP,F.IFRAME,F.NOEMBED,F.NOFRAMES,F.PLAINTEXT]);function uk(e,t){return ak.has(e)||t&&e===F.NOSCRIPT}var C;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(C||(C={}));const rn={DATA:C.DATA,RCDATA:C.RCDATA,RAWTEXT:C.RAWTEXT,SCRIPT_DATA:C.SCRIPT_DATA,PLAINTEXT:C.PLAINTEXT,CDATA_SECTION:C.CDATA_SECTION};function ok(e){return e>=v.DIGIT_0&&e<=v.DIGIT_9}function Xa(e){return e>=v.LATIN_CAPITAL_A&&e<=v.LATIN_CAPITAL_Z}function lk(e){return e>=v.LATIN_SMALL_A&&e<=v.LATIN_SMALL_Z}function rs(e){return lk(e)||Xa(e)}function Xg(e){return rs(e)||ok(e)}function il(e){return e+32}function Ub(e){return e===v.SPACE||e===v.LINE_FEED||e===v.TABULATION||e===v.FORM_FEED}function Jg(e){return Ub(e)||e===v.SOLIDUS||e===v.GREATER_THAN_SIGN}function ck(e){return e===v.NULL?$.nullCharacterReference:e>1114111?$.characterReferenceOutsideUnicodeRange:Pb(e)?$.surrogateCharacterReference:Fb(e)?$.noncharacterCharacterReference:Mb(e)||e===v.CARRIAGE_RETURN?$.controlCharacterReference:null}let dk=class{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=C.DATA,this.returnState=C.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new rk(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new kh(Nh,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err($.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err($.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=ck(r);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Pe.START_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Pe.END_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Pe.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Pe.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Bb(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err($.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ec(t.tagName),t.type===Pe.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err($.endTagWithAttributes),t.selfClosing&&this._err($.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Pe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Pe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Pe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Pe.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Ub(t)?Pe.WHITESPACE_CHARACTER:t===v.NULL?Pe.NULL_CHARACTER:Pe.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Pe.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=C.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?kn.Attribute:kn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===C.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case C.DATA:{this._stateData(t);break}case C.RCDATA:{this._stateRcdata(t);break}case C.RAWTEXT:{this._stateRawtext(t);break}case C.SCRIPT_DATA:{this._stateScriptData(t);break}case C.PLAINTEXT:{this._statePlaintext(t);break}case C.TAG_OPEN:{this._stateTagOpen(t);break}case C.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case C.TAG_NAME:{this._stateTagName(t);break}case C.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case C.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case C.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case C.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case C.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case C.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case C.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case C.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case C.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case C.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case C.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case C.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case C.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case C.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case C.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case C.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case C.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case C.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case C.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case C.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case C.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case C.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case C.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case C.BOGUS_COMMENT:{this._stateBogusComment(t);break}case C.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case C.COMMENT_START:{this._stateCommentStart(t);break}case C.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case C.COMMENT:{this._stateComment(t);break}case C.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case C.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case C.COMMENT_END:{this._stateCommentEnd(t);break}case C.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case C.DOCTYPE:{this._stateDoctype(t);break}case C.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case C.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case C.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case C.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case C.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case C.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case C.CDATA_SECTION:{this._stateCdataSection(t);break}case C.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case C.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case C.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case C.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case v.LESS_THAN_SIGN:{this.state=C.TAG_OPEN;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.NULL:{this._err($.unexpectedNullCharacter),this._emitCodePoint(t);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case v.AMPERSAND:{this._startCharacterReference();break}case v.LESS_THAN_SIGN:{this.state=C.RCDATA_LESS_THAN_SIGN;break}case v.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Ke);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case v.LESS_THAN_SIGN:{this.state=C.RAWTEXT_LESS_THAN_SIGN;break}case v.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Ke);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case v.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_LESS_THAN_SIGN;break}case v.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Ke);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case v.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Ke);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(rs(t))this._createStartTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case v.EXCLAMATION_MARK:{this.state=C.MARKUP_DECLARATION_OPEN;break}case v.SOLIDUS:{this.state=C.END_TAG_OPEN;break}case v.QUESTION_MARK:{this._err($.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t);break}case v.EOF:{this._err($.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err($.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=C.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(rs(t))this._createEndTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case v.GREATER_THAN_SIGN:{this._err($.missingEndTagName),this.state=C.DATA;break}case v.EOF:{this._err($.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err($.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=C.BEFORE_ATTRIBUTE_NAME;break}case v.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case v.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case v.NULL:{this._err($.unexpectedNullCharacter),n.tagName+=Ke;break}case v.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Xa(t)?il(t):t)}}_stateRcdataLessThanSign(t){t===v.SOLIDUS?this.state=C.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){rs(t)?(this.state=C.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=C.BEFORE_ATTRIBUTE_NAME,!1;case v.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=C.SELF_CLOSING_START_TAG,!1;case v.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=C.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===v.SOLIDUS?this.state=C.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){rs(t)?(this.state=C.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case v.SOLIDUS:{this.state=C.SCRIPT_DATA_END_TAG_OPEN;break}case v.EXCLAMATION_MARK:{this.state=C.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=C.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){rs(t)?(this.state=C.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===v.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===v.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case v.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Ke);break}case v.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case v.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.NULL:{this._err($.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(Ke);break}case v.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case v.HYPHEN_MINUS:{this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case v.NULL:{this._err($.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(Ke);break}case v.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===v.SOLIDUS?this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:rs(t)?(this._emitChars("<"),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){rs(t)?(this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Zt.SCRIPT,!1)&&Jg(this.preprocessor.peek(Zt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Zt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case v.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Ke);break}case v.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case v.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.NULL:{this._err($.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ke);break}case v.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case v.HYPHEN_MINUS:{this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case v.NULL:{this._err($.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ke);break}case v.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===v.SOLIDUS?(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Zt.SCRIPT,!1)&&Jg(this.preprocessor.peek(Zt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Zt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.SOLIDUS:case v.GREATER_THAN_SIGN:case v.EOF:{this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case v.EQUALS_SIGN:{this._err($.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=C.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:case v.SOLIDUS:case v.GREATER_THAN_SIGN:case v.EOF:{this._leaveAttrName(),this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case v.EQUALS_SIGN:{this._leaveAttrName(),this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case v.QUOTATION_MARK:case v.APOSTROPHE:case v.LESS_THAN_SIGN:{this._err($.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case v.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.name+=Ke;break}default:this.currentAttr.name+=String.fromCodePoint(Xa(t)?il(t):t)}}_stateAfterAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case v.EQUALS_SIGN:{this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case v.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{this.state=C.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this.state=C.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err($.missingAttributeValue),this.state=C.DATA,this.emitCurrentTagToken();break}default:this.state=C.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case v.QUOTATION_MARK:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Ke;break}case v.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case v.APOSTROPHE:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Ke;break}case v.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case v.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Ke;break}case v.QUOTATION_MARK:case v.APOSTROPHE:case v.LESS_THAN_SIGN:case v.EQUALS_SIGN:case v.GRAVE_ACCENT:{this._err($.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case v.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case v.SOLIDUS:{this._leaveAttrValue(),this.state=C.SELF_CLOSING_START_TAG;break}case v.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._err($.missingWhitespaceBetweenAttributes),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case v.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=C.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._err($.unexpectedSolidusInTag),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(n);break}case v.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case v.NULL:{this._err($.unexpectedNullCharacter),n.data+=Ke;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Zt.DASH_DASH,!0)?(this._createCommentToken(Zt.DASH_DASH.length+1),this.state=C.COMMENT_START):this._consumeSequenceIfMatch(Zt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Zt.DOCTYPE.length+1),this.state=C.DOCTYPE):this._consumeSequenceIfMatch(Zt.CDATA_START,!0)?this.inForeignNode?this.state=C.CDATA_SECTION:(this._err($.cdataInHtmlContent),this._createCommentToken(Zt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=C.BOGUS_COMMENT):this._ensureHibernation()||(this._err($.incorrectlyOpenedComment),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case v.HYPHEN_MINUS:{this.state=C.COMMENT_START_DASH;break}case v.GREATER_THAN_SIGN:{this._err($.abruptClosingOfEmptyComment),this.state=C.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case v.GREATER_THAN_SIGN:{this._err($.abruptClosingOfEmptyComment),this.state=C.DATA,this.emitCurrentComment(n);break}case v.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=C.COMMENT_END_DASH;break}case v.LESS_THAN_SIGN:{n.data+="<",this.state=C.COMMENT_LESS_THAN_SIGN;break}case v.NULL:{this._err($.unexpectedNullCharacter),n.data+=Ke;break}case v.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case v.EXCLAMATION_MARK:{n.data+="!",this.state=C.COMMENT_LESS_THAN_SIGN_BANG;break}case v.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===v.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=C.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===v.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=C.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==v.GREATER_THAN_SIGN&&t!==v.EOF&&this._err($.nestedComment),this.state=C.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case v.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(n);break}case v.EXCLAMATION_MARK:{this.state=C.COMMENT_END_BANG;break}case v.HYPHEN_MINUS:{n.data+="-";break}case v.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{n.data+="--!",this.state=C.COMMENT_END_DASH;break}case v.GREATER_THAN_SIGN:{this._err($.incorrectlyClosedComment),this.state=C.DATA,this.emitCurrentComment(n);break}case v.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=C.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case v.EOF:{this._err($.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingWhitespaceBeforeDoctypeName),this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Xa(t))this._createDoctypeToken(String.fromCharCode(il(t))),this.state=C.DOCTYPE_NAME;else switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.NULL:{this._err($.unexpectedNullCharacter),this._createDoctypeToken(Ke),this.state=C.DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this._err($.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case v.EOF:{this._err($.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=C.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=C.AFTER_DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case v.NULL:{this._err($.unexpectedNullCharacter),n.name+=Ke;break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Xa(t)?il(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Zt.PUBLIC,!1)?this.state=C.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Zt.SYSTEM,!1)?this.state=C.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.QUOTATION_MARK:{this._err($.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err($.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err($.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err($.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case v.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.NULL:{this._err($.unexpectedNullCharacter),n.publicId+=Ke;break}case v.GREATER_THAN_SIGN:{this._err($.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case v.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.NULL:{this._err($.unexpectedNullCharacter),n.publicId+=Ke;break}case v.GREATER_THAN_SIGN:{this._err($.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case v.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case v.QUOTATION_MARK:{this._err($.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err($.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case v.QUOTATION_MARK:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.QUOTATION_MARK:{this._err($.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err($.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err($.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err($.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case v.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.NULL:{this._err($.unexpectedNullCharacter),n.systemId+=Ke;break}case v.GREATER_THAN_SIGN:{this._err($.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case v.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.NULL:{this._err($.unexpectedNullCharacter),n.systemId+=Ke;break}case v.GREATER_THAN_SIGN:{this._err($.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case v.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case v.NULL:{this._err($.unexpectedNullCharacter);break}case v.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case v.RIGHT_SQUARE_BRACKET:{this.state=C.CDATA_SECTION_BRACKET;break}case v.EOF:{this._err($.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===v.RIGHT_SQUARE_BRACKET?this.state=C.CDATA_SECTION_END:(this._emitChars("]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case v.GREATER_THAN_SIGN:{this.state=C.DATA;break}case v.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(v.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Xg(this.preprocessor.peek(1))?C.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Xg(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===v.SEMICOLON&&this._err($.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}};const jb=new Set([p.DD,p.DT,p.LI,p.OPTGROUP,p.OPTION,p.P,p.RB,p.RP,p.RT,p.RTC]),Zg=new Set([...jb,p.CAPTION,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]),kl=new Set([p.APPLET,p.CAPTION,p.HTML,p.MARQUEE,p.OBJECT,p.TABLE,p.TD,p.TEMPLATE,p.TH]),fk=new Set([...kl,p.OL,p.UL]),hk=new Set([...kl,p.BUTTON]),e1=new Set([p.ANNOTATION_XML,p.MI,p.MN,p.MO,p.MS,p.MTEXT]),t1=new Set([p.DESC,p.FOREIGN_OBJECT,p.TITLE]),pk=new Set([p.TR,p.TEMPLATE,p.HTML]),mk=new Set([p.TBODY,p.TFOOT,p.THEAD,p.TEMPLATE,p.HTML]),gk=new Set([p.TABLE,p.TEMPLATE,p.HTML]),Ek=new Set([p.TD,p.TH]);class bk{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=p.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===p.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Y.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Y.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Gf,Y.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Ek,Y.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(gk,Y.HTML)}clearBackToTableBodyContext(){this.clearBackTo(mk,Y.HTML)}clearBackToTableRowContext(){this.clearBackTo(pk,Y.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===p.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===p.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Y.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case Y.SVG:{if(t1.has(a))return!1;break}case Y.MATHML:{if(e1.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,kl)}hasInListItemScope(t){return this.hasInDynamicScope(t,fk)}hasInButtonScope(t){return this.hasInDynamicScope(t,hk)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Y.HTML:{if(Gf.has(n))return!0;if(kl.has(n))return!1;break}case Y.SVG:{if(t1.has(n))return!1;break}case Y.MATHML:{if(e1.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Y.HTML)switch(this.tagIDs[t]){case p.TBODY:case p.THEAD:case p.TFOOT:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case p.OPTION:case p.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;jb.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Zg.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Zg.has(this.currentTagId);)this.pop()}}const pf=3;var lr;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(lr||(lr={}));const n1={type:lr.Marker};class yk{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],a=n.length,u=this.treeAdapter.getTagName(t),l=this.treeAdapter.getNamespaceURI(t);for(let d=0;d<this.entries.length;d++){const f=this.entries[d];if(f.type===lr.Marker)break;const{element:h}=f;if(this.treeAdapter.getTagName(h)===u&&this.treeAdapter.getNamespaceURI(h)===l){const g=this.treeAdapter.getAttrList(h);g.length===a&&r.push({idx:d,attrs:g})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<pf)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<pf)return;const a=new Map(n.map(l=>[l.name,l.value]));let u=0;for(let l=0;l<r.length;l++){const d=r[l];d.attrs.every(f=>a.get(f.name)===f.value)&&(u+=1,u>=pf&&this.entries.splice(d.idx,1))}}insertMarker(){this.entries.unshift(n1)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:lr.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:lr.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(n1);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===lr.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===lr.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===lr.Element&&n.element===t)}}const kr={createDocument(){return{nodeName:"#document",mode:bn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const a=e.childNodes.find(u=>u.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=r;else{const u={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};kr.appendChild(e,u)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(kr.isTextNode(n)){n.value+=t;return}}kr.appendChild(e,kr.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&kr.isTextNode(r)?r.value+=t:kr.insertBefore(e,kr.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Hb="html",Tk="about:legacy-compat",_k="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",$b=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],wk=[...$b,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],xk=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),zb=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Sk=[...zb,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function r1(e,t){return t.some(n=>e.startsWith(n))}function vk(e){return e.name===Hb&&e.publicId===null&&(e.systemId===null||e.systemId===Tk)}function Ck(e){if(e.name!==Hb)return bn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===_k)return bn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),xk.has(n))return bn.QUIRKS;let r=t===null?wk:$b;if(r1(n,r))return bn.QUIRKS;if(r=t===null?zb:Sk,r1(n,r))return bn.LIMITED_QUIRKS}return bn.NO_QUIRKS}const s1={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Ak="definitionurl",Nk="definitionURL",kk=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Rk=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Y.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Y.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Y.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Y.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Y.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Y.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Y.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Y.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Y.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Y.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Y.XMLNS}]]),Ik=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Ok=new Set([p.B,p.BIG,p.BLOCKQUOTE,p.BODY,p.BR,p.CENTER,p.CODE,p.DD,p.DIV,p.DL,p.DT,p.EM,p.EMBED,p.H1,p.H2,p.H3,p.H4,p.H5,p.H6,p.HEAD,p.HR,p.I,p.IMG,p.LI,p.LISTING,p.MENU,p.META,p.NOBR,p.OL,p.P,p.PRE,p.RUBY,p.S,p.SMALL,p.SPAN,p.STRONG,p.STRIKE,p.SUB,p.SUP,p.TABLE,p.TT,p.U,p.UL,p.VAR]);function Lk(e){const t=e.tagID;return t===p.FONT&&e.attrs.some(({name:r})=>r===Fs.COLOR||r===Fs.SIZE||r===Fs.FACE)||Ok.has(t)}function qb(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Ak){e.attrs[t].name=Nk;break}}function Wb(e){for(let t=0;t<e.attrs.length;t++){const n=kk.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function zh(e){for(let t=0;t<e.attrs.length;t++){const n=Rk.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Dk(e){const t=Ik.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ec(e.tagName))}function Pk(e,t){return t===Y.MATHML&&(e===p.MI||e===p.MO||e===p.MN||e===p.MS||e===p.MTEXT)}function Mk(e,t,n){if(t===Y.MATHML&&e===p.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Fs.ENCODING){const a=n[r].value.toLowerCase();return a===s1.TEXT_HTML||a===s1.APPLICATION_XML}}return t===Y.SVG&&(e===p.FOREIGN_OBJECT||e===p.DESC||e===p.TITLE)}function Fk(e,t,n,r){return(!r||r===Y.HTML)&&Mk(e,t,n)||(!r||r===Y.MATHML)&&Pk(e,t)}const Bk="hidden",Uk=8,jk=3;var R;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(R||(R={}));const Hk={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Yb=new Set([p.TABLE,p.TBODY,p.TFOOT,p.THEAD,p.TR]),i1={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:kr,onParseError:null};let Vb=class{constructor(t,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=R.INITIAL,this.originalInsertionMode=R.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...i1,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new dk(this.options,this),this.activeFormattingElements=new yk(this.treeAdapter),this.fragmentContextID=r?ec(this.treeAdapter.getTagName(r)):p.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new bk(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...i1,...n};t??(t=r.treeAdapter.createElement(F.TEMPLATE,Y.HTML,[]));const a=r.treeAdapter.createElement("documentmock",Y.HTML,[]),u=new this(r,a,t);return u.fragmentContextID===p.TEMPLATE&&u.tmplInsertionModeStack.unshift(R.IN_TEMPLATE),u._initTokenizerForFragmentParsing(),u._insertFakeRootElement(),u._resetInsertionMode(),u._findFormInFragmentContext(),u}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var a;if(!this.onParseError)return;const u=(a=t.location)!==null&&a!==void 0?a:Hk,l={code:n,startLine:u.startLine,startCol:u.startCol,startOffset:u.startOffset,endLine:r?u.startLine:u.endLine,endCol:r?u.startCol:u.endCol,endOffset:r?u.startOffset:u.endOffset};this.onParseError(l)}onItemPush(t,n,r){var a,u;(u=(a=this.treeAdapter).onItemPush)===null||u===void 0||u.call(a,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,t,this.openElements.current),n){let u,l;this.openElements.stackTop===0&&this.fragmentContext?(u=this.fragmentContext,l=this.fragmentContextID):{current:u,currentTagId:l}=this.openElements,this._setContextModes(u,l)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Y.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Y.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=R.TEXT}switchToPlaintextParsing(){this.insertionMode=R.TEXT,this.originalInsertionMode=R.IN_BODY,this.tokenizer.state=rn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===F.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Y.HTML))switch(this.fragmentContextID){case p.TITLE:case p.TEXTAREA:{this.tokenizer.state=rn.RCDATA;break}case p.STYLE:case p.XMP:case p.IFRAME:case p.NOEMBED:case p.NOFRAMES:case p.NOSCRIPT:{this.tokenizer.state=rn.RAWTEXT;break}case p.SCRIPT:{this.tokenizer.state=rn.SCRIPT_DATA;break}case p.PLAINTEXT:{this.tokenizer.state=rn.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),t.location){const l=this.treeAdapter.getChildNodes(this.document).find(d=>this.treeAdapter.isDocumentTypeNode(d));l&&this.treeAdapter.setNodeSourceCodeLocation(l,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Y.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Y.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(F.HTML,Y.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,p.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),u=r?a.lastIndexOf(r):a.length,l=a[u-1];if(this.treeAdapter.getNodeSourceCodeLocation(l)){const{endLine:f,endCol:h,endOffset:g}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(l,{endLine:f,endCol:h,endOffset:g})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(l,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(t),u=n.type===Pe.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,u)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===p.SVG&&this.treeAdapter.getTagName(n)===F.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Y.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===p.MGLYPH||t.tagID===p.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Y.HTML)}_processToken(t){switch(t.type){case Pe.CHARACTER:{this.onCharacter(t);break}case Pe.NULL_CHARACTER:{this.onNullCharacter(t);break}case Pe.COMMENT:{this.onComment(t);break}case Pe.DOCTYPE:{this.onDoctype(t);break}case Pe.START_TAG:{this._processStartTag(t);break}case Pe.END_TAG:{this.onEndTag(t);break}case Pe.EOF:{this.onEof(t);break}case Pe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const a=this.treeAdapter.getNamespaceURI(n),u=this.treeAdapter.getAttrList(n);return Fk(t,a,u,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===lr.Marker||this.openElements.contains(a.element)),r=n<0?t-1:n-1;for(let a=r;a>=0;a--){const u=this.activeFormattingElements.entries[a];this._insertElement(u.token,this.treeAdapter.getNamespaceURI(u.element)),u.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=R.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(p.P),this.openElements.popUntilTagNamePopped(p.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case p.TR:{this.insertionMode=R.IN_ROW;return}case p.TBODY:case p.THEAD:case p.TFOOT:{this.insertionMode=R.IN_TABLE_BODY;return}case p.CAPTION:{this.insertionMode=R.IN_CAPTION;return}case p.COLGROUP:{this.insertionMode=R.IN_COLUMN_GROUP;return}case p.TABLE:{this.insertionMode=R.IN_TABLE;return}case p.BODY:{this.insertionMode=R.IN_BODY;return}case p.FRAMESET:{this.insertionMode=R.IN_FRAMESET;return}case p.SELECT:{this._resetInsertionModeForSelect(t);return}case p.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case p.HTML:{this.insertionMode=this.headElement?R.AFTER_HEAD:R.BEFORE_HEAD;return}case p.TD:case p.TH:{if(t>0){this.insertionMode=R.IN_CELL;return}break}case p.HEAD:{if(t>0){this.insertionMode=R.IN_HEAD;return}break}}this.insertionMode=R.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===p.TEMPLATE)break;if(r===p.TABLE){this.insertionMode=R.IN_SELECT_IN_TABLE;return}}this.insertionMode=R.IN_SELECT}_isElementCausesFosterParenting(t){return Yb.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case p.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Y.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case p.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return ik[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){EI(this,t);return}switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{tu(this,t);break}case R.BEFORE_HEAD:{nu(this,t);break}case R.IN_HEAD:{ru(this,t);break}case R.IN_HEAD_NO_SCRIPT:{su(this,t);break}case R.AFTER_HEAD:{iu(this,t);break}case R.IN_BODY:case R.IN_CAPTION:case R.IN_CELL:case R.IN_TEMPLATE:{Qb(this,t);break}case R.TEXT:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{mf(this,t);break}case R.IN_TABLE_TEXT:{ty(this,t);break}case R.IN_COLUMN_GROUP:{Rl(this,t);break}case R.AFTER_BODY:{Il(this,t);break}case R.AFTER_AFTER_BODY:{ml(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){gI(this,t);return}switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{tu(this,t);break}case R.BEFORE_HEAD:{nu(this,t);break}case R.IN_HEAD:{ru(this,t);break}case R.IN_HEAD_NO_SCRIPT:{su(this,t);break}case R.AFTER_HEAD:{iu(this,t);break}case R.TEXT:{this._insertCharacters(t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{mf(this,t);break}case R.IN_COLUMN_GROUP:{Rl(this,t);break}case R.AFTER_BODY:{Il(this,t);break}case R.AFTER_AFTER_BODY:{ml(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Qf(this,t);return}switch(this.insertionMode){case R.INITIAL:case R.BEFORE_HTML:case R.BEFORE_HEAD:case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:case R.IN_BODY:case R.IN_TABLE:case R.IN_CAPTION:case R.IN_COLUMN_GROUP:case R.IN_TABLE_BODY:case R.IN_ROW:case R.IN_CELL:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:case R.IN_TEMPLATE:case R.IN_FRAMESET:case R.AFTER_FRAMESET:{Qf(this,t);break}case R.IN_TABLE_TEXT:{Wa(this,t);break}case R.AFTER_BODY:{Gk(this,t);break}case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{Qk(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case R.INITIAL:{Kk(this,t);break}case R.BEFORE_HEAD:case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:{this._err(t,$.misplacedDoctype);break}case R.IN_TABLE_TEXT:{Wa(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,$.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?bI(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{Xk(this,t);break}case R.BEFORE_HEAD:{Zk(this,t);break}case R.IN_HEAD:{Jn(this,t);break}case R.IN_HEAD_NO_SCRIPT:{nR(this,t);break}case R.AFTER_HEAD:{sR(this,t);break}case R.IN_BODY:{Ut(this,t);break}case R.IN_TABLE:{ki(this,t);break}case R.IN_TABLE_TEXT:{Wa(this,t);break}case R.IN_CAPTION:{eI(this,t);break}case R.IN_COLUMN_GROUP:{Yh(this,t);break}case R.IN_TABLE_BODY:{rc(this,t);break}case R.IN_ROW:{sc(this,t);break}case R.IN_CELL:{rI(this,t);break}case R.IN_SELECT:{sy(this,t);break}case R.IN_SELECT_IN_TABLE:{iI(this,t);break}case R.IN_TEMPLATE:{uI(this,t);break}case R.AFTER_BODY:{lI(this,t);break}case R.IN_FRAMESET:{cI(this,t);break}case R.AFTER_FRAMESET:{fI(this,t);break}case R.AFTER_AFTER_BODY:{pI(this,t);break}case R.AFTER_AFTER_FRAMESET:{mI(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?yI(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{Jk(this,t);break}case R.BEFORE_HEAD:{eR(this,t);break}case R.IN_HEAD:{tR(this,t);break}case R.IN_HEAD_NO_SCRIPT:{rR(this,t);break}case R.AFTER_HEAD:{iR(this,t);break}case R.IN_BODY:{nc(this,t);break}case R.TEXT:{qR(this,t);break}case R.IN_TABLE:{yu(this,t);break}case R.IN_TABLE_TEXT:{Wa(this,t);break}case R.IN_CAPTION:{tI(this,t);break}case R.IN_COLUMN_GROUP:{nI(this,t);break}case R.IN_TABLE_BODY:{Kf(this,t);break}case R.IN_ROW:{ry(this,t);break}case R.IN_CELL:{sI(this,t);break}case R.IN_SELECT:{iy(this,t);break}case R.IN_SELECT_IN_TABLE:{aI(this,t);break}case R.IN_TEMPLATE:{oI(this,t);break}case R.AFTER_BODY:{uy(this,t);break}case R.IN_FRAMESET:{dI(this,t);break}case R.AFTER_FRAMESET:{hI(this,t);break}case R.AFTER_AFTER_BODY:{ml(this,t);break}}}onEof(t){switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{tu(this,t);break}case R.BEFORE_HEAD:{nu(this,t);break}case R.IN_HEAD:{ru(this,t);break}case R.IN_HEAD_NO_SCRIPT:{su(this,t);break}case R.AFTER_HEAD:{iu(this,t);break}case R.IN_BODY:case R.IN_TABLE:case R.IN_CAPTION:case R.IN_COLUMN_GROUP:case R.IN_TABLE_BODY:case R.IN_ROW:case R.IN_CELL:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:{Zb(this,t);break}case R.TEXT:{WR(this,t);break}case R.IN_TABLE_TEXT:{Wa(this,t);break}case R.IN_TEMPLATE:{ay(this,t);break}case R.AFTER_BODY:case R.IN_FRAMESET:case R.AFTER_FRAMESET:case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{Wh(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===v.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:case R.TEXT:case R.IN_COLUMN_GROUP:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:case R.IN_FRAMESET:case R.AFTER_FRAMESET:{this._insertCharacters(t);break}case R.IN_BODY:case R.IN_CAPTION:case R.IN_CELL:case R.IN_TEMPLATE:case R.AFTER_BODY:case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{Gb(this,t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{mf(this,t);break}case R.IN_TABLE_TEXT:{ey(this,t);break}}}};function $k(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Jb(e,t),n}function zk(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function qk(e,t,n){let r=t,a=e.openElements.getCommonAncestor(t);for(let u=0,l=a;l!==n;u++,l=a){a=e.openElements.getCommonAncestor(l);const d=e.activeFormattingElements.getElementEntry(l),f=d&&u>=jk;!d||f?(f&&e.activeFormattingElements.removeEntry(d),e.openElements.remove(l)):(l=Wk(e,d),r===t&&(e.activeFormattingElements.bookmark=d),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(l,r),r=l)}return r}function Wk(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Yk(e,t,n){const r=e.treeAdapter.getTagName(t),a=ec(r);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const u=e.treeAdapter.getNamespaceURI(t);a===p.TEMPLATE&&u===Y.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Vk(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,u=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,u),e.treeAdapter.appendChild(t,u),e.activeFormattingElements.insertElementAfterBookmark(u,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,u,a.tagID)}function qh(e,t){for(let n=0;n<Uk;n++){const r=$k(e,t);if(!r)break;const a=zk(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;const u=qk(e,a,r.element),l=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(u),l&&Yk(e,l,u),Vk(e,a,r)}}function Qf(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Gk(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Qk(e,t){e._appendCommentNode(t,e.document)}function Wh(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const u=e.openElements.items[1],l=e.treeAdapter.getNodeSourceCodeLocation(u);l&&!l.endTag&&e._setEndLocation(u,t)}}}}function Kk(e,t){e._setDocumentType(t);const n=t.forceQuirks?bn.QUIRKS:Ck(t);vk(t)||e._err(t,$.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=R.BEFORE_HTML}function qa(e,t){e._err(t,$.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,bn.QUIRKS),e.insertionMode=R.BEFORE_HTML,e._processToken(t)}function Xk(e,t){t.tagID===p.HTML?(e._insertElement(t,Y.HTML),e.insertionMode=R.BEFORE_HEAD):tu(e,t)}function Jk(e,t){const n=t.tagID;(n===p.HTML||n===p.HEAD||n===p.BODY||n===p.BR)&&tu(e,t)}function tu(e,t){e._insertFakeRootElement(),e.insertionMode=R.BEFORE_HEAD,e._processToken(t)}function Zk(e,t){switch(t.tagID){case p.HTML:{Ut(e,t);break}case p.HEAD:{e._insertElement(t,Y.HTML),e.headElement=e.openElements.current,e.insertionMode=R.IN_HEAD;break}default:nu(e,t)}}function eR(e,t){const n=t.tagID;n===p.HEAD||n===p.BODY||n===p.HTML||n===p.BR?nu(e,t):e._err(t,$.endTagWithoutMatchingOpenElement)}function nu(e,t){e._insertFakeElement(F.HEAD,p.HEAD),e.headElement=e.openElements.current,e.insertionMode=R.IN_HEAD,e._processToken(t)}function Jn(e,t){switch(t.tagID){case p.HTML:{Ut(e,t);break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.TITLE:{e._switchToTextParsing(t,rn.RCDATA);break}case p.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,rn.RAWTEXT):(e._insertElement(t,Y.HTML),e.insertionMode=R.IN_HEAD_NO_SCRIPT);break}case p.NOFRAMES:case p.STYLE:{e._switchToTextParsing(t,rn.RAWTEXT);break}case p.SCRIPT:{e._switchToTextParsing(t,rn.SCRIPT_DATA);break}case p.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=R.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(R.IN_TEMPLATE);break}case p.HEAD:{e._err(t,$.misplacedStartTagForHeadElement);break}default:ru(e,t)}}function tR(e,t){switch(t.tagID){case p.HEAD:{e.openElements.pop(),e.insertionMode=R.AFTER_HEAD;break}case p.BODY:case p.BR:case p.HTML:{ru(e,t);break}case p.TEMPLATE:{Ys(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function Ys(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==p.TEMPLATE&&e._err(t,$.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(p.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,$.endTagWithoutMatchingOpenElement)}function ru(e,t){e.openElements.pop(),e.insertionMode=R.AFTER_HEAD,e._processToken(t)}function nR(e,t){switch(t.tagID){case p.HTML:{Ut(e,t);break}case p.BASEFONT:case p.BGSOUND:case p.HEAD:case p.LINK:case p.META:case p.NOFRAMES:case p.STYLE:{Jn(e,t);break}case p.NOSCRIPT:{e._err(t,$.nestedNoscriptInHead);break}default:su(e,t)}}function rR(e,t){switch(t.tagID){case p.NOSCRIPT:{e.openElements.pop(),e.insertionMode=R.IN_HEAD;break}case p.BR:{su(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function su(e,t){const n=t.type===Pe.EOF?$.openElementsLeftAfterEof:$.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=R.IN_HEAD,e._processToken(t)}function sR(e,t){switch(t.tagID){case p.HTML:{Ut(e,t);break}case p.BODY:{e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=R.IN_BODY;break}case p.FRAMESET:{e._insertElement(t,Y.HTML),e.insertionMode=R.IN_FRAMESET;break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{e._err(t,$.abandonedHeadElementChild),e.openElements.push(e.headElement,p.HEAD),Jn(e,t),e.openElements.remove(e.headElement);break}case p.HEAD:{e._err(t,$.misplacedStartTagForHeadElement);break}default:iu(e,t)}}function iR(e,t){switch(t.tagID){case p.BODY:case p.HTML:case p.BR:{iu(e,t);break}case p.TEMPLATE:{Ys(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function iu(e,t){e._insertFakeElement(F.BODY,p.BODY),e.insertionMode=R.IN_BODY,tc(e,t)}function tc(e,t){switch(t.type){case Pe.CHARACTER:{Qb(e,t);break}case Pe.WHITESPACE_CHARACTER:{Gb(e,t);break}case Pe.COMMENT:{Qf(e,t);break}case Pe.START_TAG:{Ut(e,t);break}case Pe.END_TAG:{nc(e,t);break}case Pe.EOF:{Zb(e,t);break}}}function Gb(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Qb(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function aR(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function uR(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function oR(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_FRAMESET)}function lR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function cR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),Gf.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Y.HTML)}function dR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function fR(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),n||(e.formElement=e.openElements.current))}function hR(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const a=e.openElements.tagIDs[r];if(n===p.LI&&a===p.LI||(n===p.DD||n===p.DT)&&(a===p.DD||a===p.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==p.ADDRESS&&a!==p.DIV&&a!==p.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function pR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.tokenizer.state=rn.PLAINTEXT}function mR(e,t){e.openElements.hasInScope(p.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1}function gR(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(F.A);n&&(qh(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ER(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function bR(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(p.NOBR)&&(qh(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function yR(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function TR(e,t){e.treeAdapter.getDocumentMode(e.document)!==bn.QUIRKS&&e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=R.IN_TABLE}function Kb(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Xb(e){const t=Bb(e,Fs.TYPE);return t!=null&&t.toLowerCase()===Bk}function _R(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),Xb(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function wR(e,t){e._appendElement(t,Y.HTML),t.ackSelfClosing=!0}function xR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function SR(e,t){t.tagName=F.IMG,t.tagID=p.IMG,Kb(e,t)}function vR(e,t){e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.tokenizer.state=rn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=R.TEXT}function CR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,rn.RAWTEXT)}function AR(e,t){e.framesetOk=!1,e._switchToTextParsing(t,rn.RAWTEXT)}function a1(e,t){e._switchToTextParsing(t,rn.RAWTEXT)}function NR(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===R.IN_TABLE||e.insertionMode===R.IN_CAPTION||e.insertionMode===R.IN_TABLE_BODY||e.insertionMode===R.IN_ROW||e.insertionMode===R.IN_CELL?R.IN_SELECT_IN_TABLE:R.IN_SELECT}function kR(e,t){e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function RR(e,t){e.openElements.hasInScope(p.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Y.HTML)}function IR(e,t){e.openElements.hasInScope(p.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(p.RTC),e._insertElement(t,Y.HTML)}function OR(e,t){e._reconstructActiveFormattingElements(),qb(t),zh(t),t.selfClosing?e._appendElement(t,Y.MATHML):e._insertElement(t,Y.MATHML),t.ackSelfClosing=!0}function LR(e,t){e._reconstructActiveFormattingElements(),Wb(t),zh(t),t.selfClosing?e._appendElement(t,Y.SVG):e._insertElement(t,Y.SVG),t.ackSelfClosing=!0}function u1(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function Ut(e,t){switch(t.tagID){case p.I:case p.S:case p.B:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.SMALL:case p.STRIKE:case p.STRONG:{ER(e,t);break}case p.A:{gR(e,t);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{cR(e,t);break}case p.P:case p.DL:case p.OL:case p.UL:case p.DIV:case p.DIR:case p.NAV:case p.MAIN:case p.MENU:case p.ASIDE:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.DETAILS:case p.ADDRESS:case p.ARTICLE:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{lR(e,t);break}case p.LI:case p.DD:case p.DT:{hR(e,t);break}case p.BR:case p.IMG:case p.WBR:case p.AREA:case p.EMBED:case p.KEYGEN:{Kb(e,t);break}case p.HR:{xR(e,t);break}case p.RB:case p.RTC:{RR(e,t);break}case p.RT:case p.RP:{IR(e,t);break}case p.PRE:case p.LISTING:{dR(e,t);break}case p.XMP:{CR(e,t);break}case p.SVG:{LR(e,t);break}case p.HTML:{aR(e,t);break}case p.BASE:case p.LINK:case p.META:case p.STYLE:case p.TITLE:case p.SCRIPT:case p.BGSOUND:case p.BASEFONT:case p.TEMPLATE:{Jn(e,t);break}case p.BODY:{uR(e,t);break}case p.FORM:{fR(e,t);break}case p.NOBR:{bR(e,t);break}case p.MATH:{OR(e,t);break}case p.TABLE:{TR(e,t);break}case p.INPUT:{_R(e,t);break}case p.PARAM:case p.TRACK:case p.SOURCE:{wR(e,t);break}case p.IMAGE:{SR(e,t);break}case p.BUTTON:{mR(e,t);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{yR(e,t);break}case p.IFRAME:{AR(e,t);break}case p.SELECT:{NR(e,t);break}case p.OPTION:case p.OPTGROUP:{kR(e,t);break}case p.NOEMBED:case p.NOFRAMES:{a1(e,t);break}case p.FRAMESET:{oR(e,t);break}case p.TEXTAREA:{vR(e,t);break}case p.NOSCRIPT:{e.options.scriptingEnabled?a1(e,t):u1(e,t);break}case p.PLAINTEXT:{pR(e,t);break}case p.COL:case p.TH:case p.TD:case p.TR:case p.HEAD:case p.FRAME:case p.TBODY:case p.TFOOT:case p.THEAD:case p.CAPTION:case p.COLGROUP:break;default:u1(e,t)}}function DR(e,t){if(e.openElements.hasInScope(p.BODY)&&(e.insertionMode=R.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function PR(e,t){e.openElements.hasInScope(p.BODY)&&(e.insertionMode=R.AFTER_BODY,uy(e,t))}function MR(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function FR(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(p.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(p.FORM):n&&e.openElements.remove(n))}function BR(e){e.openElements.hasInButtonScope(p.P)||e._insertFakeElement(F.P,p.P),e._closePElement()}function UR(e){e.openElements.hasInListItemScope(p.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(p.LI),e.openElements.popUntilTagNamePopped(p.LI))}function jR(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function HR(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function $R(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function zR(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(F.BR,p.BR),e.openElements.pop(),e.framesetOk=!1}function Jb(e,t){const n=t.tagName,r=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const u=e.openElements.items[a],l=e.openElements.tagIDs[a];if(r===l&&(r!==p.UNKNOWN||e.treeAdapter.getTagName(u)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(u,l))break}}function nc(e,t){switch(t.tagID){case p.A:case p.B:case p.I:case p.S:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.NOBR:case p.SMALL:case p.STRIKE:case p.STRONG:{qh(e,t);break}case p.P:{BR(e);break}case p.DL:case p.UL:case p.OL:case p.DIR:case p.DIV:case p.NAV:case p.PRE:case p.MAIN:case p.MENU:case p.ASIDE:case p.BUTTON:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.ADDRESS:case p.ARTICLE:case p.DETAILS:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.LISTING:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{MR(e,t);break}case p.LI:{UR(e);break}case p.DD:case p.DT:{jR(e,t);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{HR(e);break}case p.BR:{zR(e);break}case p.BODY:{DR(e,t);break}case p.HTML:{PR(e,t);break}case p.FORM:{FR(e);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{$R(e,t);break}case p.TEMPLATE:{Ys(e,t);break}default:Jb(e,t)}}function Zb(e,t){e.tmplInsertionModeStack.length>0?ay(e,t):Wh(e,t)}function qR(e,t){var n;t.tagID===p.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function WR(e,t){e._err(t,$.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function mf(e,t){if(Yb.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=R.IN_TABLE_TEXT,t.type){case Pe.CHARACTER:{ty(e,t);break}case Pe.WHITESPACE_CHARACTER:{ey(e,t);break}}else Ou(e,t)}function YR(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_CAPTION}function VR(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_COLUMN_GROUP}function GR(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(F.COLGROUP,p.COLGROUP),e.insertionMode=R.IN_COLUMN_GROUP,Yh(e,t)}function QR(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_TABLE_BODY}function KR(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(F.TBODY,p.TBODY),e.insertionMode=R.IN_TABLE_BODY,rc(e,t)}function XR(e,t){e.openElements.hasInTableScope(p.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function JR(e,t){Xb(t)?e._appendElement(t,Y.HTML):Ou(e,t),t.ackSelfClosing=!0}function ZR(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Y.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ki(e,t){switch(t.tagID){case p.TD:case p.TH:case p.TR:{KR(e,t);break}case p.STYLE:case p.SCRIPT:case p.TEMPLATE:{Jn(e,t);break}case p.COL:{GR(e,t);break}case p.FORM:{ZR(e,t);break}case p.TABLE:{XR(e,t);break}case p.TBODY:case p.TFOOT:case p.THEAD:{QR(e,t);break}case p.INPUT:{JR(e,t);break}case p.CAPTION:{YR(e,t);break}case p.COLGROUP:{VR(e,t);break}default:Ou(e,t)}}function yu(e,t){switch(t.tagID){case p.TABLE:{e.openElements.hasInTableScope(p.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TABLE),e._resetInsertionMode());break}case p.TEMPLATE:{Ys(e,t);break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:Ou(e,t)}}function Ou(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,tc(e,t),e.fosterParentingEnabled=n}function ey(e,t){e.pendingCharacterTokens.push(t)}function ty(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Wa(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Ou(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const ny=new Set([p.CAPTION,p.COL,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]);function eI(e,t){const n=t.tagID;ny.has(n)?e.openElements.hasInTableScope(p.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_TABLE,ki(e,t)):Ut(e,t)}function tI(e,t){const n=t.tagID;switch(n){case p.CAPTION:case p.TABLE:{e.openElements.hasInTableScope(p.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_TABLE,n===p.TABLE&&yu(e,t));break}case p.BODY:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:nc(e,t)}}function Yh(e,t){switch(t.tagID){case p.HTML:{Ut(e,t);break}case p.COL:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.TEMPLATE:{Jn(e,t);break}default:Rl(e,t)}}function nI(e,t){switch(t.tagID){case p.COLGROUP:{e.openElements.currentTagId===p.COLGROUP&&(e.openElements.pop(),e.insertionMode=R.IN_TABLE);break}case p.TEMPLATE:{Ys(e,t);break}case p.COL:break;default:Rl(e,t)}}function Rl(e,t){e.openElements.currentTagId===p.COLGROUP&&(e.openElements.pop(),e.insertionMode=R.IN_TABLE,e._processToken(t))}function rc(e,t){switch(t.tagID){case p.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_ROW;break}case p.TH:case p.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(F.TR,p.TR),e.insertionMode=R.IN_ROW,sc(e,t);break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE,ki(e,t));break}default:ki(e,t)}}function Kf(e,t){const n=t.tagID;switch(t.tagID){case p.TBODY:case p.TFOOT:case p.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE);break}case p.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE,yu(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:case p.TR:break;default:yu(e,t)}}function sc(e,t){switch(t.tagID){case p.TH:case p.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_CELL,e.activeFormattingElements.insertMarker();break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,rc(e,t));break}default:ki(e,t)}}function ry(e,t){switch(t.tagID){case p.TR:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY);break}case p.TABLE:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,Kf(e,t));break}case p.TBODY:case p.TFOOT:case p.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(p.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,Kf(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:break;default:yu(e,t)}}function rI(e,t){const n=t.tagID;ny.has(n)?(e.openElements.hasInTableScope(p.TD)||e.openElements.hasInTableScope(p.TH))&&(e._closeTableCell(),sc(e,t)):Ut(e,t)}function sI(e,t){const n=t.tagID;switch(n){case p.TD:case p.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_ROW);break}case p.TABLE:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),ry(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:break;default:nc(e,t)}}function sy(e,t){switch(t.tagID){case p.HTML:{Ut(e,t);break}case p.OPTION:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case p.OPTGROUP:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case p.HR:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.INPUT:case p.KEYGEN:case p.TEXTAREA:case p.SELECT:{e.openElements.hasInSelectScope(p.SELECT)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),t.tagID!==p.SELECT&&e._processStartTag(t));break}case p.SCRIPT:case p.TEMPLATE:{Jn(e,t);break}}}function iy(e,t){switch(t.tagID){case p.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===p.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===p.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop();break}case p.OPTION:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop();break}case p.SELECT:{e.openElements.hasInSelectScope(p.SELECT)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode());break}case p.TEMPLATE:{Ys(e,t);break}}}function iI(e,t){const n=t.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),e._processStartTag(t)):sy(e,t)}function aI(e,t){const n=t.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),e.onEndTag(t)):iy(e,t)}function uI(e,t){switch(t.tagID){case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{Jn(e,t);break}case p.CAPTION:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{e.tmplInsertionModeStack[0]=R.IN_TABLE,e.insertionMode=R.IN_TABLE,ki(e,t);break}case p.COL:{e.tmplInsertionModeStack[0]=R.IN_COLUMN_GROUP,e.insertionMode=R.IN_COLUMN_GROUP,Yh(e,t);break}case p.TR:{e.tmplInsertionModeStack[0]=R.IN_TABLE_BODY,e.insertionMode=R.IN_TABLE_BODY,rc(e,t);break}case p.TD:case p.TH:{e.tmplInsertionModeStack[0]=R.IN_ROW,e.insertionMode=R.IN_ROW,sc(e,t);break}default:e.tmplInsertionModeStack[0]=R.IN_BODY,e.insertionMode=R.IN_BODY,Ut(e,t)}}function oI(e,t){t.tagID===p.TEMPLATE&&Ys(e,t)}function ay(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(p.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Wh(e,t)}function lI(e,t){t.tagID===p.HTML?Ut(e,t):Il(e,t)}function uy(e,t){var n;if(t.tagID===p.HTML){if(e.fragmentContext||(e.insertionMode=R.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===p.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Il(e,t)}function Il(e,t){e.insertionMode=R.IN_BODY,tc(e,t)}function cI(e,t){switch(t.tagID){case p.HTML:{Ut(e,t);break}case p.FRAMESET:{e._insertElement(t,Y.HTML);break}case p.FRAME:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.NOFRAMES:{Jn(e,t);break}}}function dI(e,t){t.tagID===p.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==p.FRAMESET&&(e.insertionMode=R.AFTER_FRAMESET))}function fI(e,t){switch(t.tagID){case p.HTML:{Ut(e,t);break}case p.NOFRAMES:{Jn(e,t);break}}}function hI(e,t){t.tagID===p.HTML&&(e.insertionMode=R.AFTER_AFTER_FRAMESET)}function pI(e,t){t.tagID===p.HTML?Ut(e,t):ml(e,t)}function ml(e,t){e.insertionMode=R.IN_BODY,tc(e,t)}function mI(e,t){switch(t.tagID){case p.HTML:{Ut(e,t);break}case p.NOFRAMES:{Jn(e,t);break}}}function gI(e,t){t.chars=Ke,e._insertCharacters(t)}function EI(e,t){e._insertCharacters(t),e.framesetOk=!1}function oy(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Y.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function bI(e,t){if(Lk(t))oy(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Y.MATHML?qb(t):r===Y.SVG&&(Dk(t),Wb(t)),zh(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function yI(e,t){if(t.tagID===p.P||t.tagID===p.BR){oy(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Y.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}const TI=new Set([F.AREA,F.BASE,F.BASEFONT,F.BGSOUND,F.BR,F.COL,F.EMBED,F.FRAME,F.HR,F.IMG,F.INPUT,F.KEYGEN,F.LINK,F.META,F.PARAM,F.SOURCE,F.TRACK,F.WBR]);function _I(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===Y.HTML&&TI.has(t.treeAdapter.getTagName(e))}const wI={treeAdapter:kr,scriptingEnabled:!0};function xI(e,t){const n={...wI,...t};return ly(e,n)}function SI(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===F.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===Y.HTML?t.treeAdapter.getTemplateContent(e):e,a=t.treeAdapter.getChildNodes(r);if(a)for(const u of a)n+=ly(u,t);return n}function ly(e,t){return t.treeAdapter.isElementNode(e)?vI(e,t):t.treeAdapter.isTextNode(e)?AI(e,t):t.treeAdapter.isCommentNode(e)?NI(e,t):t.treeAdapter.isDocumentTypeNode(e)?kI(e,t):""}function vI(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${CI(e,t)}>${_I(e,t)?"":`${SI(e,t)}</${n}>`}`}function CI(e,{treeAdapter:t}){let n="";for(const r of t.getAttrList(e)){if(n+=" ",r.namespace)switch(r.namespace){case Y.XML:{n+=`xml:${r.name}`;break}case Y.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case Y.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${eb(r.value)}"`}return n}function AI(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),a=n.getParentNode(e),u=a&&n.isElementNode(a)&&n.getTagName(a);return u&&n.getNamespaceURI(a)===Y.HTML&&uk(u,t.scriptingEnabled)?r:tb(r)}function NI(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function kI(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function RI(e,t){return Vb.parse(e,t)}function II(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=Vb.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function o1(e){const t=e.includes('"')?"'":'"';return t+e+t}function OI(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${o1(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${o1(n)}`),r}const is={isCommentNode:Ql,isElementNode:Ee,isTextNode:dr,createDocument(){const e=new js([]);return e["x-mode"]=bn.NO_QUIRKS,e},createDocumentFragment(){return new js([])},createElement(e,t,n){const r=Object.create(null),a=Object.create(null),u=Object.create(null);for(let d=0;d<n.length;d++){const f=n[d].name;r[f]=n[d].value,a[f]=n[d].namespace,u[f]=n[d].prefix}const l=new Ah(e,r,[]);return l.namespace=t,l["x-attribsNamespace"]=a,l["x-attribsPrefix"]=u,l},createCommentNode(e){return new Sh(e)},createTextNode(e){return new pu(e)},appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:a}=n;a&&(a.next=t,t.prev=a),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){is.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,n,r){const a=OI(t,n,r);let u=e.children.find(l=>Bf(l)&&l.name==="!doctype");u?u.data=a??null:(u=new vh("!doctype",a),is.appendChild(e,u)),u["x-name"]=t,u["x-publicId"]=n,u["x-systemId"]=r},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&dr(n)?n.data+=t:is.appendChild(e,is.createTextNode(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&dr(r)?r.data+=t:is.insertBefore(e,is.createTextNode(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;e.attribs[r]===void 0&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return Bf(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function LI(e,t,n,r){var a;return(a=t.treeAdapter)!==null&&a!==void 0||(t.treeAdapter=is),t.scriptingEnabled!==!1&&(t.scriptingEnabled=!0),n?RI(e,t):II(r,e,t)}const DI={treeAdapter:is};function PI(e){const t="length"in e?e:[e];for(let r=0;r<t.length;r+=1){const a=t[r];fs(a)&&Array.prototype.splice.call(t,r,1,...a.children)}let n="";for(let r=0;r<t.length;r+=1){const a=t[r];n+=xI(a,DI)}return n}var he;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(he||(he={}));var Q;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(Q||(Q={}));function Ar(e){return e===he.Space||e===he.NewLine||e===he.Tab||e===he.FormFeed||e===he.CarriageReturn}function al(e){return e===he.Slash||e===he.Gt||Ar(e)}function MI(e){return e>=he.LowerA&&e<=he.LowerZ||e>=he.UpperA&&e<=he.UpperZ}var cr;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(cr||(cr={}));const At={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class FI{constructor({xmlMode:t=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=Q.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Q.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new kh(t?KE:Nh,(a,u)=>this.emitCodePoint(a,u))}reset(){this.state=Q.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Q.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===he.Lt||!this.decodeEntities&&this.fastForwardTo(he.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Q.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===he.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?al(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Q.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===he.Gt||Ar(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===At.TitleEnd?this.decodeEntities&&t===he.Amp&&this.startEntity():this.fastForwardTo(he.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===he.Lt)}stateCDATASequence(t){t===At.Cdata[this.sequenceIndex]?++this.sequenceIndex===At.Cdata.length&&(this.state=Q.InCommentLike,this.currentSequence=At.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Q.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===At.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Q.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!al(t):MI(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=Q.SpecialStartSequence}stateBeforeTagName(t){if(t===he.ExclamationMark)this.state=Q.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===he.Questionmark)this.state=Q.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=Q.InTagName:n===At.ScriptEnd[2]?this.state=Q.BeforeSpecialS:n===At.TitleEnd[2]?this.state=Q.BeforeSpecialT:this.state=Q.InTagName}else t===he.Slash?this.state=Q.BeforeClosingTagName:(this.state=Q.Text,this.stateText(t))}stateInTagName(t){al(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Q.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){Ar(t)||(t===he.Gt?this.state=Q.Text:(this.state=this.isTagStartChar(t)?Q.InClosingTagName:Q.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===he.Gt||Ar(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Q.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===he.Gt||this.fastForwardTo(he.Gt))&&(this.state=Q.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===he.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Q.InSpecialTag,this.sequenceIndex=0):this.state=Q.Text,this.sectionStart=this.index+1):t===he.Slash?this.state=Q.InSelfClosingTag:Ar(t)||(this.state=Q.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===he.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Q.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Ar(t)||(this.state=Q.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===he.Eq||al(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Q.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===he.Eq?this.state=Q.BeforeAttributeValue:t===he.Slash||t===he.Gt?(this.cbs.onattribend(cr.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Q.BeforeAttributeName,this.stateBeforeAttributeName(t)):Ar(t)||(this.cbs.onattribend(cr.NoValue,this.sectionStart),this.state=Q.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===he.DoubleQuote?(this.state=Q.InAttributeValueDq,this.sectionStart=this.index+1):t===he.SingleQuote?(this.state=Q.InAttributeValueSq,this.sectionStart=this.index+1):Ar(t)||(this.sectionStart=this.index,this.state=Q.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===he.DoubleQuote?cr.Double:cr.Single,this.index+1),this.state=Q.BeforeAttributeName):this.decodeEntities&&t===he.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,he.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,he.SingleQuote)}stateInAttributeValueNoQuotes(t){Ar(t)||t===he.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(cr.Unquoted,this.index),this.state=Q.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===he.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===he.OpeningSquareBracket?(this.state=Q.CDATASequence,this.sequenceIndex=0):this.state=t===he.Dash?Q.BeforeComment:Q.InDeclaration}stateInDeclaration(t){(t===he.Gt||this.fastForwardTo(he.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Q.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===he.Gt||this.fastForwardTo(he.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Q.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===he.Dash?(this.state=Q.InCommentLike,this.currentSequence=At.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Q.InDeclaration}stateInSpecialComment(t){(t===he.Gt||this.fastForwardTo(he.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Q.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===At.ScriptEnd[3]?this.startSpecial(At.ScriptEnd,4):n===At.StyleEnd[3]?this.startSpecial(At.StyleEnd,4):(this.state=Q.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const n=t|32;n===At.TitleEnd[3]?this.startSpecial(At.TitleEnd,4):n===At.TextareaEnd[3]?this.startSpecial(At.TextareaEnd,4):(this.state=Q.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=Q.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?kn.Strict:this.baseState===Q.Text||this.baseState===Q.InSpecialTag?kn.Legacy:kn.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Q.Text||this.state===Q.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Q.InAttributeValueDq||this.state===Q.InAttributeValueSq||this.state===Q.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Q.Text:{this.stateText(t);break}case Q.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case Q.InSpecialTag:{this.stateInSpecialTag(t);break}case Q.CDATASequence:{this.stateCDATASequence(t);break}case Q.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case Q.InAttributeName:{this.stateInAttributeName(t);break}case Q.InCommentLike:{this.stateInCommentLike(t);break}case Q.InSpecialComment:{this.stateInSpecialComment(t);break}case Q.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case Q.InTagName:{this.stateInTagName(t);break}case Q.InClosingTagName:{this.stateInClosingTagName(t);break}case Q.BeforeTagName:{this.stateBeforeTagName(t);break}case Q.AfterAttributeName:{this.stateAfterAttributeName(t);break}case Q.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case Q.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case Q.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case Q.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case Q.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case Q.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case Q.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case Q.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case Q.InDeclaration:{this.stateInDeclaration(t);break}case Q.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case Q.BeforeComment:{this.stateBeforeComment(t);break}case Q.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case Q.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Q.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===Q.InCommentLike?this.currentSequence===At.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===Q.InTagName||this.state===Q.BeforeAttributeName||this.state===Q.BeforeAttributeValue||this.state===Q.AfterAttributeName||this.state===Q.InAttributeName||this.state===Q.InAttributeValueSq||this.state===Q.InAttributeValueDq||this.state===Q.InAttributeValueNq||this.state===Q.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==Q.Text&&this.baseState!==Q.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const _i=new Set(["input","option","optgroup","select","button","datalist","textarea"]),$e=new Set(["p"]),l1=new Set(["thead","tbody"]),c1=new Set(["dd","dt"]),d1=new Set(["rt","rp"]),BI=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",$e],["h1",$e],["h2",$e],["h3",$e],["h4",$e],["h5",$e],["h6",$e],["select",_i],["input",_i],["output",_i],["button",_i],["datalist",_i],["textarea",_i],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",c1],["dt",c1],["address",$e],["article",$e],["aside",$e],["blockquote",$e],["details",$e],["div",$e],["dl",$e],["fieldset",$e],["figcaption",$e],["figure",$e],["footer",$e],["form",$e],["header",$e],["hr",$e],["main",$e],["nav",$e],["ol",$e],["pre",$e],["section",$e],["table",$e],["ul",$e],["rt",d1],["rp",d1],["tbody",l1],["tfoot",l1]]),UI=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),f1=new Set(["math","svg"]),h1=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),jI=/\s|\//;class HI{constructor(t,n={}){var r,a,u,l,d,f;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(a=n.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(u=n.recognizeSelfClosing)!==null&&u!==void 0?u:!this.htmlMode,this.tokenizer=new((l=n.Tokenizer)!==null&&l!==void 0?l:FI)(this.options,this),this.foreignContext=[!this.htmlMode],(f=(d=this.cbs).onparserinit)===null||f===void 0||f.call(d,this)}ontext(t,n){var r,a;const u=this.getSlice(t,n);this.endIndex=n-1,(a=(r=this.cbs).ontext)===null||a===void 0||a.call(r,u),this.startIndex=n}ontextentity(t,n){var r,a;this.endIndex=n-1,(a=(r=this.cbs).ontext)===null||a===void 0||a.call(r,Uf(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&UI.has(t)}onopentagname(t,n){this.endIndex=n;let r=this.getSlice(t,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var n,r,a,u;this.openTagStart=this.startIndex,this.tagname=t;const l=this.htmlMode&&BI.get(t);if(l)for(;this.stack.length>0&&l.has(this.stack[0]);){const d=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,d,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(f1.has(t)?this.foreignContext.unshift(!0):h1.has(t)&&this.foreignContext.unshift(!1))),(u=(a=this.cbs).onopentagname)===null||u===void 0||u.call(a,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var r,a,u,l,d,f,h,g;this.endIndex=n;let y=this.getSlice(t,n);if(this.lowerCaseTagNames&&(y=y.toLowerCase()),this.htmlMode&&(f1.has(y)||h1.has(y))&&this.foreignContext.shift(),this.isVoidElement(y))this.htmlMode&&y==="br"&&((l=(u=this.cbs).onopentagname)===null||l===void 0||l.call(u,"br"),(f=(d=this.cbs).onopentag)===null||f===void 0||f.call(d,"br",{},!0),(g=(h=this.cbs).onclosetag)===null||g===void 0||g.call(h,"br",!1));else{const _=this.stack.indexOf(y);if(_!==-1)for(let x=0;x<=_;x++){const S=this.stack.shift();(a=(r=this.cbs).onclosetag)===null||a===void 0||a.call(r,S,x!==_)}else this.htmlMode&&y==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,r;const a=this.tagname;this.endOpenTag(t),this.stack[0]===a&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,a,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const r=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=Uf(t)}onattribend(t,n){var r,a;this.endIndex=n,(a=(r=this.cbs).onattribute)===null||a===void 0||a.call(r,this.attribname,this.attribvalue,t===cr.Double?'"':t===cr.Single?"'":t===cr.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(jI);let r=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${a}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${a}`,`?${r}`)}this.startIndex=n+1}oncomment(t,n,r){var a,u,l,d;this.endIndex=n,(u=(a=this.cbs).oncomment)===null||u===void 0||u.call(a,this.getSlice(t,n-r)),(d=(l=this.cbs).oncommentend)===null||d===void 0||d.call(l),this.startIndex=n+1}oncdata(t,n,r){var a,u,l,d,f,h,g,y,_,x;this.endIndex=n;const S=this.getSlice(t,n-r);!this.htmlMode||this.options.recognizeCDATA?((u=(a=this.cbs).oncdatastart)===null||u===void 0||u.call(a),(d=(l=this.cbs).ontext)===null||d===void 0||d.call(l,S),(h=(f=this.cbs).oncdataend)===null||h===void 0||h.call(f)):((y=(g=this.cbs).oncomment)===null||y===void 0||y.call(g,`[CDATA[${S}]]`),(x=(_=this.cbs).oncommentend)===null||x===void 0||x.call(_)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,r,a;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(r=this.cbs).onparserinit)===null||a===void 0||a.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}}function $I(e,t){const n=new zC(void 0,t);return new HI(n,t).end(e),n.root}const zI=bN((e,t,n,r)=>t._useHtmlParser2?$I(e,t):LI(e,t,n,r)),qI=XN(zI,(e,t)=>t._useHtmlParser2?Kl(e,t):PI(e)),Nt=[];for(let e=0;e<256;++e)Nt.push((e+256).toString(16).slice(1));function WI(e,t=0){return(Nt[e[t+0]]+Nt[e[t+1]]+Nt[e[t+2]]+Nt[e[t+3]]+"-"+Nt[e[t+4]]+Nt[e[t+5]]+"-"+Nt[e[t+6]]+Nt[e[t+7]]+"-"+Nt[e[t+8]]+Nt[e[t+9]]+"-"+Nt[e[t+10]]+Nt[e[t+11]]+Nt[e[t+12]]+Nt[e[t+13]]+Nt[e[t+14]]+Nt[e[t+15]]).toLowerCase()}let gf;const YI=new Uint8Array(16);function VI(){if(!gf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gf=crypto.getRandomValues.bind(crypto)}return gf(YI)}const GI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),p1={randomUUID:GI};function Vh(e,t,n){if(p1.randomUUID&&!e)return p1.randomUUID();e=e||{};const r=e.random??e.rng?.()??VI();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,WI(r)}const QI="https://proxy.corsfix.com/?";async function KI(e){try{const t=await ct.get(QI+encodeURIComponent(e));return cy(t.data,e)}catch(t){return console.error(`Failed to scrape recipe from ${e}:`,t.message),t}}async function cy(e,t){const n=qI(e),r=m1(n,["meta[property='og:image']","meta[name='og:image']","meta[itemprop='image']","img[class*='recipe-image']:first","img[class*='main-image']:first","img:first"],"content","src"),a=m1(n,["meta[name='description']","meta[property='og:description']","meta[name='twitter:description']","*[class*='recipe-summary']"],"content","")||"",u=XI(n,["h1.recipe-title","h1:first","h2:first"])||"Untitled Recipe",l=g1(n,["*[class*='prep_time'], *[class*='prep-time']"]),d=g1(n,["*[class*='cook_time'], *[class*='cook-time']"]),f=JI(n,["*[class*='servings']","*[class*='yield']"]);return{title:u,description:E1(a.replace(/\n/g," ").trim()),img_url:r,prep_time:l,cook_time:d,servings:f,ingredients:ZI(n),steps:e6(n,["ol[class*='instructions'] li, ul[class*='instructions'] li","div[class*='instructions'] li","div[class*='instructions'] div[class*='step']","ol[class*='preparation'] li","div[class*='steps'] ol li"],E1),original_recipe_url:t}}function m1(e,t,n,r){for(const a of t){const u=e(a);if(u.length)return u.attr(n)||u.attr(r)||""}return""}function XI(e,t){for(const n of t){const r=e(n).text().trim();if(r)return r}return""}function g1(e,t){const n=e(t.join(", ")).filter(function(){return/\d+/.test(e(this).text())});return n6(n)}function JI(e,t){for(const n of t){const r=e(n).filter(function(){return/\d+/.test(e(this).text())}).text().trim();if(r)return parseInt(r.match(/\d+/)?.[0]||"0")}return 0}function ZI(e){const t=[],n=["ul[class*='ingredients'] li","ol[class*='ingredients'] li","div[class*='ingredients'] li"];for(const r of n)if(e(r).each((a,u)=>{const l=e(u).text().trim();l&&t.push(t6(l))}),t.length)break;return t.map((r,a)=>({id:Vh(),value:r,isActive:!0,sort_number:a+1}))}function e6(e,t,n){const r=[];for(const a of t)if(e(a).each((u,l)=>{const d=e(l).html();d&&r.push(n(d))}),r.length)break;return r.map((a,u)=>({id:Vh(),value:a,isActive:!0,sort_number:u+1}))}function t6(e){const t={"":"1/2","":"1/3","":"2/3","":"1/4","":"3/4","":"1/5","":"2/5","":"3/5","":"4/5"};return e.replace(/(\d+)([])/g,"$1 $2").replace(/[]/g,n=>t[n]||n).replace(/([0-9\/]+)([a-zA-Z])/g,"$1 $2").trim()}function E1(e){return e.replace(/<[^>]*>/g,"").trim()}function n6(e){if(!e.length)return 0;const t=e.text().trim(),n=parseInt(t.match(/\d+/)?.[0]||"0");return/hour/i.test(t)?n*60:n}const r6=({onCancel:e,onHtmlImportClick:t})=>{const[n,r]=T.useState(""),[a,u]=T.useState(""),[l,d]=T.useState(!1),f=gt(),h=async y=>{try{d(!0);const _=await KI(y);f("/add-new",{state:{recipe:_}}),e(),u("")}catch{u("Failed to fetch the recipe. Please check the URL and try again.")}finally{d(!1)}},g=async y=>{if(y.preventDefault(),!n.trim()){u("URL cannot be empty.");return}await h(n)};return b.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a&&b.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-sm",children:a}),b.jsxs("p",{className:"text-gray-800 dark:text-white",children:["Import via URL supports many recipe sites, but not all. To import from non-supported sites, you can use the"," ",b.jsx("a",{href:"#",onClick:y=>{y.preventDefault(),t()},className:"text-blue-600 dark:text-blue-400 underline",children:"import via html"})," ","option."]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"url",id:"url",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:y=>r(y.target.value)}),b.jsx("label",{htmlFor:"url",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Recipe URL"})]}),b.jsxs("div",{className:"flex justify-end space-x-4",children:[b.jsx(Me,{type:"button",onClick:e,children:"Cancel"}),b.jsx(Me,{type:"submit",isLoading:l,children:"Import"})]})]})},s6=({onCancel:e})=>{const[t,n]=T.useState(""),[r,a]=T.useState(""),[u,l]=T.useState(!1),d=gt(),{closeModal:f}=pr(),h=async()=>{try{l(!0);const y=await cy(t,"");d("/add-new",{state:{recipe:y}}),e(),f(),a("")}catch{a("Failed to process the recipe. Please check the HTML content.")}finally{l(!1)}},g=async y=>{if(y.preventDefault(),!t.trim()){a("HTML content cannot be empty.");return}await h()};return b.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r&&b.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-sm",children:r}),b.jsx("div",{className:"relative z-0 w-full mb-5 group",children:b.jsx("textarea",{name:"htmlContent",id:"htmlContent",rows:6,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:"Paste HTML content here...",value:t,onChange:y=>n(y.target.value)})}),b.jsxs("div",{className:"flex justify-end space-x-4",children:[b.jsx(Me,{type:"button",onClick:e,children:"Cancel"}),b.jsx(Me,{type:"submit",isLoading:u,children:"Process"})]})]})},Gh=({onClose:e})=>{const[t,n]=T.useState(null),r=gt(),a=()=>{r("/add-new"),e()};return b.jsxs("div",{role:"dialog","aria-labelledby":"modal-title","aria-describedby":"modal-description",className:"p-4",children:[b.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:t==="url"?"Import Recipe from URL":t==="html"?"Paste Recipe HTML":"Add Recipe"}),t==="url"?b.jsx(r6,{onCancel:()=>n(null),onHtmlImportClick:()=>n("html")}):t==="html"?b.jsx(s6,{onCancel:()=>n(null)}):b.jsxs(b.Fragment,{children:[b.jsx("p",{id:"modal-description",className:"text-gray-600 dark:text-gray-400 mb-6",children:"How would you like to add your recipe?"}),b.jsxs("div",{className:"flex flex-col space-y-4",children:[b.jsx(Me,{onClick:()=>n("url"),"aria-label":"Import recipe from URL",children:"Import from URL"}),b.jsx(Me,{onClick:()=>n("html"),"aria-label":"Paste HTML content",children:"Paste HTML"}),b.jsx(Me,{className:"w-full","aria-label":"Manually add a recipe",onClick:a,children:"Manual Input"})]})]})]})},i6={success:b.jsx(xS,{className:"w-6 h-6 text-green-500"}),error:b.jsx(HS,{className:"w-6 h-6 text-red-500"}),info:b.jsx(IS,{className:"w-6 h-6 text-blue-500"}),warning:b.jsx(vS,{className:"w-6 h-6 text-yellow-500"})},a6=({id:e,message:t,type:n,onClose:r})=>b.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg shadow-md border-l-4
                transition-all duration-300
                dark:bg-gray-800 dark:text-gray-200 bg-white text-gray-800
                ${{success:"border-green-500",error:"border-red-500",info:"border-blue-500",warning:"border-yellow-500"}[n]}
            `,children:[i6[n],b.jsx("span",{children:t}),b.jsx("button",{onClick:()=>r(e),className:"ml-auto",children:b.jsx(wE,{className:"w-5 h-5 dark:text-gray-400 dark:hover:text-gray-200 text-gray-500 hover:text-gray-700"})})]}),dy=T.createContext(null);function u6({children:e}){const[t,n]=T.useState([]),r=T.useCallback(l=>{n(d=>d.filter(f=>f.id!==l))},[]),a=T.useCallback((l="Something went wrong. Please try again.",d="success",f=3e3)=>{const h=Date.now();n(g=>[...g,{id:h,message:l,type:d}]),setTimeout(()=>r(h),f)},[r]),u=T.useMemo(()=>({success:(l,d)=>a(l,"success",d),error:(l,d)=>a(l,"error",d),info:(l,d)=>a(l,"info",d),warning:(l,d)=>a(l,"warning",d)}),[a]);return b.jsxs(dy.Provider,{value:u,children:[e,b.jsx("div",{className:"fixed top-5 right-5 z-50 flex flex-col space-y-2",children:t.map(l=>b.jsx(a6,{...l,onClose:()=>r(l.id)},l.id))})]})}function un(){const e=T.useContext(dy);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const o6=async(e,t,n="",r,a=[])=>await Te.request("fetchRecipeList",async u=>{let l=u.from(ke.RECIPE_SEARCH).select("*",{count:"exact"});r?l=l.or(`is_public.eq.true,user_permissions.cs.["${r}"],user_id.eq.${r}`):l=l.eq("is_public",!0),n&&(l=l.or(`title.ilike.%${n}%,description.ilike.%${n}%,ingredients_text.ilike.%${n}%`)),a.length&&a.forEach(g=>{l=l.or(`tags_text.ilike.%${g.title}%`)});const{data:d,count:f,error:h}=await l.range(e,e+t-1);if(h)throw new Error("Failed to fetch recipes.");return{data:d,count:f}}),l6=async(e,t,n="",r)=>await Te.request("fetchRecipeListWithTags",async a=>{let u=a.from(ke.RECIPE_SEARCH).select("*",{count:"exact"});r?u=u.or(`is_public.eq.true,user_permissions.cs.[${r}],user_id.eq.${r}`):u=u.eq("is_public",!0),n&&(u=u.or(`title.ilike.%${n}%,description.ilike.%${n}%,ingredients_text.ilike.%${n}%,tags_text.ilike.%${n}%`));const{data:l,count:d,error:f}=await u.range(e,e+t-1);if(f)throw new Error("Failed to fetch recipes.");return{data:l,count:d}}),c6=async(e,t)=>await Te.request(`fetchRecipeDetails-${e}`,async n=>{let r=n.from(ke.RECIPES).select(`
      id, title, description, img_url, user_id, is_public, servings, prep_time, cook_time, original_recipe_url,
      ingredients!left(id, sort_number, value),
      steps!left(id, sort_number, value),
      recipe_to_users!left(permission),
      collection_to_recipes!left(collections!inner(id, title)),
      recipe_to_tags!left(tags!inner(id, title))
    `).eq("id",e);t?r=r.or(`is_public.eq.true,user_id.eq.${t}`):r=r.eq("is_public",!0);const{data:a,error:u}=await r.maybeSingle();if(u)throw new Error("Failed to fetch recipe details.");if(!a)throw new Error("No data returned for the given recipe.");return a}),d6=async(e,t,n)=>await Te.request(`upsertRecipe-${e||"new"}`,async r=>{if(e){const{error:a}=await r.from(ke.RECIPES).update(t).eq("id",e);if(a)throw new Error(`Failed to update recipe: ${a.message}`)}else{const{data:a,error:u}=await r.from(ke.RECIPES).insert([{...t,user_id:n}]).select().single();if(u)throw new Error(`Failed to insert new recipe: ${u.message}`);e=a.id}return{success:!0,recipeId:e}}),f6=async e=>await Te.request("deleteIngredients",async t=>{const{error:n}=await t.from(ke.INGREDIENTS).delete().in("id",e);if(n)throw new Error(`Failed to delete ingredients: ${n.message}`)}),h6=async e=>await Te.request("upsertIngredients",async t=>{const{error:n}=await t.from(ke.INGREDIENTS).upsert(e,{onConflict:"id"});if(n)throw new Error(`Failed to upsert ingredients: ${n.message}`)}),p6=async e=>await Te.request("deleteSteps",async t=>{const{error:n}=await t.from(ke.STEPS).delete().in("id",e);if(n)throw new Error(`Failed to delete steps: ${n.message}`)}),m6=async e=>await Te.request("upsertSteps",async t=>{const{error:n}=await t.from(ke.STEPS).upsert(e,{onConflict:"id"});if(n)throw new Error(`Failed to delete steps: ${n.message}`)}),g6=async e=>(await Te.request(`deleteRecipe-${e}`,async t=>{const{error:n}=await t.from(ke.RECIPES).delete().eq("id",e);if(n)throw new Error("Failed to delete recipe.")}),await Lu()),E6=async(e,t)=>{const n=t.map(r=>({recipe_id:e,collection_id:r}));return await Te.request(`addOneToManyCollections-${e}`,async r=>{const{error:a}=await r.from(ke.COLLECTION_TO_RECIPES).insert(n);if(a)throw new Error("Failed to delete collection.")})},b6=async(e,t)=>{const n=t.map(r=>({recipe_id:r.id,collection_id:e}));return await Te.request(`addManyToOneCollection-${e}`,async r=>{const{error:a}=await r.from(ke.COLLECTION_TO_RECIPES).insert(n);if(a)throw new Error("Failed to delete collection.")})},y6=async(e,t)=>await Te.request("removeManyFromManyCollections",async n=>{const{error:r}=await n.from(ke.COLLECTION_TO_RECIPES).delete().in("collection_id",e).in("recipe_id",t);if(r)throw new Error("Failed to remove recipes from collection(s).")}),T6=async e=>await Te.request(`fetchSharedUsers-${e}`,async t=>{const{data:n,error:r}=await t.from(ke.RECIPE_TO_USERS).select("id, user_id, permission, users(email)").eq("recipe_id",e);return r?(console.error("Error fetching shared users:",r),[]):n||[]}),_6=async e=>await Te.request(`fetchRecipeVisibility-${e}`,async t=>{const{data:n,error:r}=await t.from(ke.RECIPES).select("is_public").eq("id",e).single();return r?(console.error("Error fetching recipe visibility:",r),!1):n.is_public}),w6=async(e,t)=>(await Te.request(`togglePublicShare-${e}`,async n=>{const{error:r}=await n.from(ke.RECIPES).update({is_public:t}).eq("id",e);if(r)throw new Error("Failed to update public status.");return!t}),await Lu()),x6=async(e,t,n)=>(await Te.request(`shareRecipe-${e}-${t}`,async r=>{const{error:a}=await r.from(ke.RECIPE_TO_USERS).insert([{recipe_id:e,user_id:t,permission:n}]);if(a)throw new Error("Failed to share recipe.")}),await Lu()),S6=async e=>(await Te.request(`revokeUserAccess-${e}`,async t=>{const{error:n}=await t.from(ke.RECIPE_TO_USERS).delete().eq("id",e);if(n)throw new Error("Failed to revoke access.")}),await Lu()),Lu=async()=>{await Te.request("refreshSearch",async e=>{const{error:t}=await e.rpc("refresh_recipe_search");if(t)throw new Error("Failed to refresh search.")})},ze={getList:o6,getListWithTags:l6,getDetail:c6,upsert:d6,upsertIngredients:h6,deleteIngredients:f6,upsertSteps:m6,deleteSteps:p6,deleteById:g6,addOneToManyCollections:E6,addManyToOneCollection:b6,removeManyFromManyCollections:y6,getSharedUsers:T6,getIsPublic:_6,setIsPublic:w6,shareWithUser:x6,revokeAccess:S6,refreshRecipeSearch:Lu},v6=async(e,t,n)=>await Te.request("getList",async r=>{let a=r.from(ke.TAGS).select("*",{count:"exact"}).range(e,e+t-1);n&&(a=a.or(`title.ilike.%${n}%`));const{data:u,count:l,error:d}=await a;if(d)throw new Error("Failed to fetch tags.");return{data:u,count:l}}),C6=async(e,t)=>await Te.request(`upsert-${e||"new"}`,async n=>{let r=e;if(e){if(Object.keys(t.title).length>0){const{error:a}=await n.from(ke.TAGS).update(t).eq("id",e);if(a)throw new Error(`Failed to update tag: ${a.message}`)}}else{const{data:a,error:u}=await n.from(ke.TAGS).insert([{title:t.title}]).select().single();if(u)throw new Error(`Failed to insert new tag: ${u.message}`);r=a.id}return{success:!0,tagId:r}}),A6=async e=>await Te.request(`deleteById-${e}`,async t=>{const{error:n}=await t.from(ke.TAGS).delete().eq("id",e);if(n)throw new Error("Failed to delete tag.")}),N6=async(e,t)=>(await Te.request(`addToRecipe-${e}`,async n=>{const r=t.map(u=>({recipe_id:e,tag_id:u.id})),{error:a}=await n.from(ke.RECIPE_TO_TAGS).insert(r);if(a)throw new Error("Failed to add tag to recipe.");return{success:!0}}),await ze.refreshRecipeSearch()),k6=async(e,t)=>{const n=t.map(r=>r.id);return await Te.request(`removeManyFromCollection-${e}`,async r=>{const{error:a}=await r.from(ke.RECIPE_TO_TAGS).delete().eq("recipe_id",e).in("tag_id",n);if(a)throw new Error("Failed to remove tags from collection.")}),await ze.refreshRecipeSearch()},R6=async(e,t)=>await Te.request(`addToCollection-${e}`,async n=>{const r=t.map(u=>({collection_id:e,tag_id:u.id})),{error:a}=await n.from(ke.COLLECTION_TO_TAGS).insert(r);if(a)throw new Error("Failed to add tag to recipe.");return{success:!0}}),I6=async(e,t)=>{const n=t.map(r=>r.id);return await Te.request(`removeManyFromCollection-${e}`,async r=>{const{error:a}=await r.from(ke.COLLECTION_TO_RECIPES).delete().eq("collection_id",e).in("tag_id",n);if(a)throw new Error("Failed to remove tags from collection.")})},In={addToRecipe:N6,addToCollection:R6,removeFromCollection:I6,removeFromRecipe:k6,getList:v6,upsert:C6,deleteById:A6},O6=({onCancel:e,onAddTag:t})=>{const[n,r]=T.useState(""),[a,u]=T.useState(!1),l=un(),d=h=>{r(h.target.value)},f=async()=>{u(!0);try{const h={id:Date.now().toString(),title:n};(await In.upsert("",h))?.success&&(l.success("Tag added successfully!"),t())}catch(h){console.error("Add tag failed:",h)}finally{u(!1)}};return b.jsxs("div",{className:"p-4",children:[b.jsx("h2",{className:"text-center text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Add New Tag"}),b.jsx("form",{className:"w-full",children:b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"title",id:"title",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:d,required:!0}),b.jsx("label",{htmlFor:"title",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Title"})]})}),b.jsxs("div",{className:"flex justify-end space-x-4 pt-2",children:[b.jsx(Me,{btnType:"dismissable",onClick:e,disabled:a,children:"Cancel"}),b.jsx(Me,{onClick:f,disabled:a,children:"Add Tag"})]})]})};var Bs=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e))(Bs||{});const L6=({size:e=Bs.Medium,onClose:t,children:n})=>{const r=T.useRef(null),u=`relative bg-white dark:bg-gray-800 text-black/90 shadow-lg sm:shadow-xl transition-shadow-xs duration-300 ease-in-out rounded-none sm:rounded-lg flex flex-col h-screen w-screen ${e===Bs.Large?"max-w-5xl sm:max-w-[1200px] sm:w-[calc(100%-64px)] sm:max-h-[calc(100%-64px)]":"sm:max-w-md sm:w-auto sm:h-auto"} p-6`,l=()=>{r.current&&r.current.querySelectorAll("input, textarea, select").length===0&&t()};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 dark:bg-black/50 z-50",onClick:l,children:b.jsxs("div",{ref:r,className:u,onClick:d=>d.stopPropagation(),children:[b.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:b.jsx(wE,{className:"w-6 h-6",title:"Close Modal"})}),n]})})},D6=({shareWithUser:e})=>{const[t,n]=T.useState(""),[r,a]=T.useState("read"),[u,l]=T.useState(!1),d=T.useRef(null),f=un(),h=[{value:"read",label:"Read-Only"},{value:"edit",label:"Can Edit"}],g=_=>{a(_),l(!1)},y=async()=>{if(!t)return f.error("Please enter a valid email.");e(t,r)};return T.useEffect(()=>{const _=x=>{d.current&&!d.current.contains(x.target)&&l(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-sm font-medium mb-2 dark:text-leaf-green-100",children:"Share with a User"}),b.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[b.jsxs("div",{className:"relative z-0 w-full group",children:[b.jsx("input",{type:"email",name:"email",id:"email",placeholder:" ",value:t,onChange:_=>n(_.target.value),className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer"}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative inline-block",ref:d,children:[b.jsxs("button",{onClick:()=>l(!u),className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 flex justify-between text-gray-600 dark:text-gray-300",children:[h.find(_=>_.value===r)?.label,b.jsx(JS,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})]}),u&&b.jsx("div",{className:"absolute w-full bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:b.jsx("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:h.map(_=>b.jsx("li",{onClick:()=>g(_.value),children:b.jsx("button",{className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:_.label})},_.value))})})]}),b.jsx(Me,{btnType:"secondary",onClick:y,className:"w-full",children:"Share"})]})]})},fy=({typeOfShare:e,sharedUsers:t,isPublic:n,onTogglePublicShare:r,shareWithUser:a,onRevokeAccess:u,onCopyLink:l,onClose:d})=>{const[f,h]=T.useState(n);T.useEffect(()=>{h(n)},[n]);const g=()=>{h(!f),r()};return b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-lg font-semibold mb-4 min-w-[300px] dark:text-leaf-green-100",children:["Share ",e]}),b.jsxs("div",{className:"flex items-center justify-between mb-4 dark:text-leaf-green-100",children:[b.jsx("label",{className:"text-sm",children:"Make Public"}),b.jsx("input",{type:"checkbox",checked:f,onChange:g,className:"peer hidden",id:"custom-checkbox"}),b.jsx("label",{htmlFor:"custom-checkbox",className:`w-5 h-5 flex items-center justify-center border-2 border-gray-400 rounded-md cursor-pointer transition-all 
          peer-checked:bg-blue-500 peer-checked:border-blue-500 
          dark:border-gray-600 dark:peer-checked:bg-blue-400 dark:peer-checked:border-blue-400`,children:b.jsx(KS,{className:`w-4 h-4 text-white ${f?"block":"hidden"}`})})]}),f&&b.jsx(Me,{btnType:"secondary",onClick:l,className:"w-full",children:"Copy Public Link"}),b.jsx("hr",{className:"border-gray-700 my-4"}),b.jsx(D6,{shareWithUser:a}),b.jsx("hr",{className:"border-gray-700 my-4"}),b.jsx("h3",{className:"text-sm font-medium mb-2 dark:text-leaf-green-100",children:"Shared Users"}),b.jsx("ul",{className:"space-y-2 mb-4 dark:text-leaf-green-100",children:t.map(y=>b.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 rounded-xs gap-2 p-2",children:[b.jsxs("span",{className:"text-gray-700 dark:text-gray-200 text-sm",children:[y.users.email," - ",y.permission]}),b.jsx(xE,{onClick:()=>u(y.id)})]},y.id))}),b.jsx(Me,{onClick:d,className:"w-full",children:"Close"})]})},hy=({label:e="recipe",onCancelDelete:t,onDelete:n})=>{const[r,a]=T.useState(!1),u=async()=>{a(!0);try{await n()}catch(l){console.error("Delete failed:",l)}finally{a(!1)}};return b.jsxs("div",{className:"text-center p-4",children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:["Are you sure you want to delete this ",e,"?"]}),b.jsxs("div",{className:"flex justify-center space-x-4 pt-2",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",disabled:r,children:"Cancel"}),b.jsxs("button",{onClick:u,disabled:r,className:`flex items-center gap-2 px-4 py-2 font-semibold rounded-lg transition ${r?"bg-red-400 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[r&&b.jsx(Pi,{isLarge:!1}),"Delete"]})]})]})},py=T.createContext(void 0),P6=({children:e})=>{const[t,n]=T.useState(null),[r,a]=T.useState(Bs.Small),[u,l]=T.useState(!1),d=(h,g=Bs.Small)=>{n(()=>h),a(g),l(!0)},f=()=>{n(null),a(Bs.Small),l(!1)};return b.jsxs(py.Provider,{value:{isModalOpen:u,openModal:d,closeModal:f},children:[e,t&&b.jsx(L6,{onClose:f,size:r,children:t})]})},pr=()=>{const e=T.useContext(py);if(!e)throw new Error("useModalManager must be used within a ModalManager");return e};function M6(){const{isDarkMode:e,toggleDarkMode:t}=qS(),{isAuthenticated:n}=hr(),{isModalOpen:r,openModal:a,closeModal:u}=pr(),l=gt(),d=un(),[f,h]=T.useState(!1),g=Ln(),y=T.useRef(null),_=["/","/collections","/about"],x=()=>{h(L=>!L)},S=()=>{u(),h(!1)},I=[{label:"Add Recipe",onClick:()=>{a(b.jsx(Gh,{onClose:S}))}},{label:"Add Collection",onClick:()=>l("/collections/add-new")},{label:"Add Tag",onClick:()=>{a(b.jsx(O6,{onCancel:S,onAddTag:S}))}}],P=L=>{L.stopPropagation(),l("/sign-in")},j=async L=>{L.stopPropagation();try{await ds.signOut(),l("/")}catch(q){d.error(q.message)}};return T.useEffect(()=>{const L=q=>{y.current&&!y.current.contains(q.target)&&h(!1)};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]),b.jsxs("nav",{className:`bg-white border-gray-200 dark:bg-gray-900 ${r?"opacity-50 pointer-events-none":""}`,ref:y,children:[b.jsxs("div",{className:"max-w-screen-xl flex items-center justify-between mx-auto p-4",children:[b.jsxs(sn,{to:"/",className:"flex items-center space-x-2",children:[b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-8",alt:"Elysia Logo"}),b.jsx("span",{className:"self-center text-2xl font-semibold dark:text-leaf-green-100",children:"Elysia"})]}),b.jsx("div",{className:"hidden md:flex space-x-8",children:_.map(L=>b.jsx(sn,{to:L,className:`py-2 px-3 rounded-md transition duration-200 ${g.pathname===L?"dark:text-leaf-green-300 text-leaf-green-500":"hover:text-leaf-green-300 dark:text-leaf-green-100 dark:hover:text-leaf-green-300"}`,children:L==="/"?"Recipes":L.replace("/","").charAt(0).toUpperCase()+L.slice(2)},L))}),b.jsxs("div",{className:"flex space-x-3",children:[n&&b.jsx(Hl,{options:I,icon:b.jsx(bh,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})}),b.jsx(Ps,{onClick:t,title:"Toggle Dark Mode",icon:e?b.jsx(FS,{className:"w-6 h-6 text-yellow-400"}):b.jsx(PS,{className:"w-6 h-6 text-gray-800 dark:text-gray-200"})}),b.jsx(Ps,{onClick:n?j:P,title:n?"Logout":"Login",icon:n?b.jsx(GS,{className:"w-6 h-6 text-red-500"}):b.jsx(YS,{className:"w-6 h-6 text-green-500"})}),b.jsx(Ps,{onClick:x,className:"text-gray-500 rounded-lg md:hidden focus:ring-gray-200 dark:text-gray-400",title:"Open main menu",icon:b.jsx(_S,{className:"w-6 h-6 text-gray-800 dark:text-gray-200"})})]})]}),f&&b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end md:hidden",children:b.jsxs("div",{className:"w-3/4 sm:w-[350px] h-full bg-white dark:bg-gray-900 shadow-lg p-6 pt-10 flex flex-col",children:[b.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:b.jsx(Eh,{className:"w-6 h-6",title:"Close Menu"})}),_.filter(Boolean).map(L=>b.jsx(sn,{to:L,className:"py-2 px-3 block rounded-md text-gray-900 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-700",onClick:x,children:L==="/"?"Recipes":L.replace("/","").charAt(0).toUpperCase()+L.slice(2)},L))]})})]})}const F6=()=>{const{openModal:e,closeModal:t}=pr(),{isAuthenticated:n}=hr(),r=gt(),a=()=>{n?e(b.jsx(Gh,{onClose:t})):r("/sign-in")};return b.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-center",children:"About Elysia"}),b.jsx("div",{className:"flex flex-row justify-center m-4",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-40",alt:"Elysia Chloratica"})}),b.jsxs("div",{className:"bg-leaf-green-100 p-6 rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-xl font-semibold text-leaf-green-800 mb-3",children:"The Slug That Inspired It All"}),b.jsxs("p",{className:"text-gray-800",children:["Elysia chlorotica is a unique species of sea slug that can perform"," ",b.jsx("strong",{children:"photosynthesis"}),", absorbing energy from the sun like a plant. By incorporating chloroplasts from the algae it eats into its own cells, it becomes ",b.jsx("strong",{children:"self-sustaining"})," and requires less food to survive. This incredible ability mirrors our own journey - by being mindful of what we consume, we empower ourselves to thrive."]})]}),b.jsxs("div",{className:"mt-8 p-6 rounded-lg border border-4 border-dashed border-leaf-green-100 dark:leaf-green-200",children:[b.jsx("h2",{className:"text-xl font-semibold text-leaf-green-800 dark:text-leaf-green-300 mb-3",children:"The Vision Behind Elysia"}),b.jsx("p",{className:"text-gray-800 dark:text-white",children:"Cooking is more than just a necessityit's a way to nourish both body and mind. Our vision is to build a platform where people can explore diverse recipes, develop new skills, and gradually become more self-reliant in the kitchen. Just like Elysia chlorotica adapts and grows by integrating the best of what it consumes, this app allows food lovers to nurture, discover, and evolve their culinary environment."})]}),b.jsx("div",{className:"flex flex-col align-items-center mt-10",children:b.jsx(Me,{onClick:a,children:"Start Your Journey"})})]})},B6=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[a,u]=T.useState(!1),[l,d]=T.useState(""),f=un(),h=gt(),g=async y=>{if(y.preventDefault(),d(""),e.length<6){d("Password must be at least 6 characters long.");return}if(e!==n){d("Passwords do not match.");return}try{u(!0),await ds.updatePassword(e),f.success("Password updated successfully! You can now sign in."),h("/sign-in")}catch(_){f.error(_.message)}finally{u(!1)}};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Reset Password"}),b.jsxs("form",{onSubmit:g,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"new-password",id:"new-password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:y=>t(y.target.value),required:!0}),b.jsx("label",{htmlFor:"new-password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"New Password"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"confirm-password",id:"confirm-password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:y=>r(y.target.value),required:!0}),b.jsx("label",{htmlFor:"confirm-password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Confirm Password"})]}),l&&b.jsx("p",{className:"text-red-500 text-sm mb-4",children:l}),b.jsx(Me,{type:"submit",isLoading:a,className:"w-full",children:"Reset Password"})]})]})})},U6=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[a,u]=T.useState(!1),l=un(),d=gt(),f=async h=>{h.preventDefault();try{u(!0),await ds.signIn(e,n),d("/")}catch(g){l.error(g.message)}finally{u(!1)}};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold text-leaf-green-600 dark:text-white mb-4 text-center",children:"Sign In"}),b.jsxs("form",{onSubmit:f,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:h=>t(h.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"password",id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:h=>r(h.target.value),required:!0}),b.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"})]}),b.jsx("div",{className:"mb-2 text-right",children:b.jsx(sn,{to:"/forgot-password",children:"Forgot password?"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(Me,{type:"submit",isLoading:a,className:"w-full",children:"Sign In"}),b.jsx(sn,{to:"/register",children:b.jsx(Me,{btnType:"secondary",className:"w-full",children:"Register"})})]})]})]})})},j6=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[a,u]=T.useState(!1),l=un(),d=gt(),f=async h=>{h.preventDefault();try{u(!0),await ds.signUp(e,n),l.success("Registration successful! A confirmation link has been sent to your email."),d("/")}catch(g){l.error(g.message)}finally{u(!1)}};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-leaf-green-600 dark:text-white text-center",children:"Register"}),b.jsxs("form",{onSubmit:f,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:h=>t(h.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"password",id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:h=>r(h.target.value),required:!0}),b.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(Me,{type:"submit",isLoading:a,className:"w-full",children:"Register"}),b.jsx(sn,{to:"/sign-in",children:b.jsx(Me,{btnType:"secondary",className:"w-full",children:"Back to Sign In"})})]})]})]})})},H6=async(e,t,n)=>await Te.request("getList",async r=>{let a=r.from(ke.COLLECTIONS).select("*",{count:"exact"});n&&(a=a.or(`title.ilike.%${n}%,description.ilike.%${n}%`));const{data:u,count:l,error:d}=await a.range(e,e+t-1);if(d)throw new Error("Failed to fetch collections.");return{data:u,count:l}}),$6=async(e,t)=>await Te.request(`getDetail-${e}`,async n=>{let r=n.from(ke.COLLECTIONS).select(`
          id, title, description, img_url, is_public, user_id,
          collection_to_recipes!left(
            recipes!inner(
              id, title, description, img_url, user_id, is_public, 
              recipe_to_tags!left(tags!inner(id, title))
            )
          ),
          collection_to_tags!left(tags!inner(id, title, recipe_to_tags!left(recipes!inner(id, title, description, img_url, user_id, is_public)))) ,
          collection_to_users!left(permission)
          `).eq("id",e);t?r=r.or(`is_public.eq.true,user_id.eq.${t}`):r=r.eq("is_public",!0);const{data:a,error:u}=await r.maybeSingle();if(u)throw new Error("Failed to fetch collection details.");if(!a)throw new Error("No data returned.");const l=a?.collection_to_tags?.flatMap(g=>g.tags)||[],d=a?.collection_to_recipes?.flatMap(g=>{const y=g.recipes;return{...y,tags:y.recipe_to_tags?.map(_=>_.tags)||[]}})||[],f=a?.collection_to_tags?.flatMap(g=>g.tags.recipe_to_tags?.map(y=>({...y.recipes,tags:y.recipes.recipe_to_tags?.map(_=>_.tags)||[]}))||[])||[],h=new Map;return[...d,...f].forEach(g=>{h.set(g.id,g)}),{...a,recipes:Array.from(h.values()),tags:l,can_edit:a.user_id===t||a.collection_to_users&&a.collection_to_users.some(g=>g.permission==="edit")}}),z6=async(e,t,n)=>await Te.request(`upsert-${e||"new"}`,async r=>{let a=e;if(e){const{error:u}=await r.from(ke.COLLECTIONS).update(t).eq("id",e);if(u)throw new Error(`Failed to update collection: ${u.message}`)}else{const{data:u,error:l}=await r.from(ke.COLLECTIONS).insert([{title:t.title,description:t.description,img_url:t.img_url,is_public:t.is_public,user_id:n}]).select().single();if(l)throw new Error(`Failed to insert new collection: ${l.message}`);a=u.id}return{success:!0,collectionId:a}}),q6=async e=>await Te.request(`deleteById-${e}`,async t=>{const{error:n}=await t.from(ke.COLLECTIONS).delete().eq("id",e);if(n)throw new Error("Failed to delete collection.")}),W6=async(e,t)=>await Te.request(`setIsPublic-${e}`,async n=>{const{error:r}=await n.from(ke.COLLECTIONS).update({is_public:!t}).eq("id",e);if(r)throw new Error("Failed to update public status.");return!t}),Y6=async e=>await Te.request(`fetchSharedUsers-${e}`,async t=>{const{data:n,error:r}=await t.from(ke.COLLECTION_TO_USERS).select("id, user_id, permission, users(email)").eq("collection_id",e);return r?(console.error("Error fetching shared users:",r),[]):n||[]}),V6=async(e,t,n)=>await Te.request(`share-${e}-${t}`,async r=>{const{error:a}=await r.from(ke.COLLECTION_TO_USERS).insert([{collection_id:e,user_id:t,permission:n}]);if(a)throw new Error("Failed to share collection.")}),G6=async e=>await Te.request(`revokeAccess-${e}`,async t=>{const{error:n}=await t.from(ke.COLLECTION_TO_USERS).delete().eq("id",e);if(n)throw new Error("Failed to revoke access.")}),Q6=async e=>await Te.request(`getIsPublic-${e}`,async t=>{const{data:n,error:r}=await t.from(ke.COLLECTIONS).select("is_public").eq("id",e).single();return r?(console.error("Error fetching collection visibility:",r),!1):n.is_public}),En={getList:H6,getDetail:$6,upsert:z6,deleteById:q6,getIsPublic:Q6,setIsPublic:W6,fetchSharedUsers:Y6,share:V6,revokeAccess:G6},K6=({collection:e})=>{const t=gt(),n=un(),{openModal:r,closeModal:a}=pr(),[u,l]=T.useState(e.is_public||!1),[d,f]=T.useState([]),h=()=>{t(`/collections/${e.id}/edit`,{state:{collection:e}})},g=()=>r(b.jsx(hy,{label:"collection",onCancelDelete:a,onDelete:N}));T.useEffect(()=>{(async()=>{if(e.id){const j=await En.fetchSharedUsers(e.id);f(j)}})()},[e.id]);const y=async()=>{l(!u);try{await En.setIsPublic(e.id,u),n.success(`Collection is now ${u?"public":"private"}!`)}catch(P){n.error(P.message)}},_=async(P,j)=>{if(!P)return n.error("Please enter a valid email.");if(!e.id)return n.error();try{const L=await ds.findByEmail(P);await En.share(e.id,L?.id,j),n.success(`Collection shared with ${L?.display_name} as ${j}.`);const q=await En.fetchSharedUsers(e.id);f(q)}catch(L){n.error(L.message)}},x=async P=>{if(!e.id)return n.error();try{await En.revokeAccess(P),n.success("Access revoked.");const j=await En.fetchSharedUsers(e.id);f(j)}catch(j){n.error(j.message)}},S=()=>{const P=`${window.location.origin}/collections/${e.id}`;navigator.clipboard.writeText(P),n.success("Public link copied!")},A=()=>{r(b.jsx(fy,{typeOfShare:"Collection",sharedUsers:d,isPublic:u,onTogglePublicShare:y,shareWithUser:_,onRevokeAccess:x,onCopyLink:S,onClose:a}))},N=async()=>{try{if(!e.id)return n.error();await En.deleteById(e.id),n.success("Collection deleted successfully!"),a(),t("/collections")}catch{n.error("Failed to delete collection. Please try again.")}},I=[{label:"Edit",onClick:h},{label:"Delete",onClick:g},{label:"Share",onClick:A}];return b.jsx(Hl,{options:I,icon:b.jsx(TE,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})},Du=({message:e})=>b.jsx("div",{className:"text-center text-gray-500 p-4 border border-gray-200 rounded-lg mb-4",children:e}),ic=({title:e,description:t,classes:n="",actionName:r="",onAction:a})=>{const{isAuthenticated:u}=hr();return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:`w-full flex space-x-3 text-left ${n}`,children:[b.jsx("h1",{className:"text-3xl font-medium text-leaf-green-900 dark:text-leaf-green-100",children:e}),u&&r?.length>0&&b.jsx(Ps,{className:"hover:bg-white dar:hover:bg-white/50",title:r,onClick:a,icon:b.jsx(bh,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})})]}),!!t?.length&&b.jsx("p",{className:"text-leaf-green-800 dark:text-gray-300 mt-4 mb-4",children:t})]})},Qh=({title:e,img_url:t})=>b.jsxs(b.Fragment,{children:[t&&b.jsx("img",{src:t,alt:e,className:"w-full h-32 object-cover rounded-t-lg"}),b.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-b-lg shadow-md p-4 hover:shadow-lg transition-shadow-xs ${t?"":"rounded-t-lg"}`,children:b.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-leaf-green-100 mb-2",children:e})})]}),X6=()=>{const e=gt(),{id:t}=Bl(),{user:n}=hr(),[r,a]=T.useState(null),[u,l]=T.useState(!0);return T.useEffect(()=>{(async()=>{l(!0);try{if(!t||!n?.id)throw new Error("no id found");const f=await En.getDetail(t,n?.id);if(!f)throw new Error("no data returned");a(f)}finally{l(!1)}})()},[t,n?.id]),u?b.jsx(Pi,{className:"mt-40"}):r?b.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-between items-center mb-4",children:[b.jsx(sn,{to:"/collections",children:b.jsxs("div",{className:"flex justify-center items-center font-medium text-center text-leaf-green-600 dark:text-leaf-green-100",children:[b.jsx(yE,{"aria-hidden":"true",className:"size-6"}),b.jsx("p",{children:"Collections"})]})}),b.jsx("div",{className:"flex justify-end flex-wrap gap-2",children:!!n?.id&&b.jsx(K6,{collection:r})})]}),!!r?.img_url?.length&&b.jsx("div",{className:"relative",children:b.jsx("img",{src:r.img_url,alt:r.title,className:"w-full h-64 object-cover rounded-t-lg"})}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-b-lg p-6 ${!r?.img_url&&"rounded-t-lg"}`,children:[b.jsx(ic,{title:r.title,description:r.description}),r.tags&&r.tags.length>0&&b.jsx("div",{className:"mt-4",children:r.tags.map(d=>b.jsx(fu,{title:d.title,isReadOnly:!0,onClick:()=>{e("/",{state:{selectedTags:[d]}})}},d.id))})]}),b.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:r.recipes&&r.recipes.map(d=>b.jsx(sn,{to:`/recipes/${d.id}`,children:b.jsx(Qh,{title:d.title,description:d.description,img_url:d.img_url},d.id)},d.id))})]}):b.jsx(Du,{message:"Collection not found."})};function J6(){const[e,t]=T.useState(0),[n]=T.useState(10),[r,a]=T.useState([]),[u,l]=T.useState(""),[d,f]=T.useState(!1),[h,g]=T.useState(0),[y,_]=T.useState(!0);return{collections:r,searchTerm:u,setSearchTerm:l,loading:d,hasMore:y,totalCount:h,loadMoreCollections:async()=>{if(!(d||!y)){f(!0);try{const S=await En.getList(e,n,u);!S||S.data.length===0?_(!1):(a(A=>[...A,...S.data]),t(A=>A+S.data.length),g(S.count||0)),f(!1)}catch(S){console.error("Error fetching collections:",S.message)}finally{f(!1)}}}}}const my=({threshold:e=1,onScrolled:t,children:n})=>{const r=T.useRef(null);return T.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(l=>{l.isIntersecting&&t()})},{threshold:e});return r.current&&a.observe(r.current),()=>{a.disconnect()}},[e,t]),b.jsx("div",{ref:r,children:n})},Z6=()=>{const e=gt(),{collections:t,loading:n,hasMore:r,loadMoreCollections:a}=J6();a();const u=T.useCallback(()=>{!n&&r&&a()},[r,n,a]);return b.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col justify-center items-center transition-all duration-300",children:[b.jsxs("div",{className:"w-full",children:[b.jsx(ic,{title:"Collections",actionName:"+ New Collection",classes:"mb-2",onAction:()=>e("add-new")}),b.jsxs("p",{className:"text-gray-600 dark:text-leaf-green-100 mb-4",children:["A collection is like a ",b.jsx("strong",{children:"recipe book"})," where you can"," ",b.jsx("strong",{children:"organize recipes, share them"})," with others, or"," ",b.jsx("strong",{children:"keep them private"}),"."]})]}),n&&b.jsx(Pi,{className:"mt-6"}),!n&&t.length===0&&b.jsx(Du,{message:"You don't have any collections yet. Create one now!"}),t.length>0&&b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full mt-6",children:t.map(l=>b.jsx(sn,{to:`${l.id}`,children:b.jsx(Qh,{title:l.title,description:l.description,img_url:l.img_url})},l.id))}),r&&b.jsx(my,{threshold:.1,onScrolled:u,children:b.jsx("div",{className:"h-1"})})]})},eO=e=>{const t=e.split(".").pop();return`${e.replace(/\.[^/.]+$/,"").toLowerCase().replace(/[^a-z0-9_\-.]/g,"").replace(/\s+/g,"_")}_${Date.now()}_${Math.floor(Math.random()*1e4)}.${t}`},tO=async e=>await Te.request("addPhoto",async t=>{try{const n=eO(e.name),{error:r}=await t.storage.from("elysia_recipe_photo").upload(n,e,{cacheControl:"3600",upsert:!0});if(r)throw new Error(`Error uploading file: ${r.message}`);return gy(n)}catch(n){throw console.error("Error in addPhoto:",n.message),n}}),gy=e=>Te.request("getPhotoUrl",async t=>{const{data:n}=t.storage.from("elysia_recipe_photo").getPublicUrl(e);if(!n)throw new Error("Failed to get public URL");return n.publicUrl}),nO=async e=>await Te.request("deletePhoto",async t=>{const n=e.split("/").slice(-1)[0];return await t.storage.from("elysia_recipe_photo").remove([n])}),b1={addPhoto:tO,getPhotoUrl:gy,deletePhoto:nO},Ey=({imgUrl:e,onImgUrlChange:t})=>{const[n,r]=T.useState(!1),[a,u]=T.useState(!1),[l,d]=T.useState(!1),f=T.useRef(null),h=un(),g=async I=>{try{u(!0);const P=await b1.addPhoto(I);P!==null&&t(P)}catch(P){console.error("Error uploading file:",P.message),h.error("Failed to upload file. Please try again.")}finally{u(!1)}},y=async()=>{if(!e){t("");return}try{if((await b1.deletePhoto(e))?.error){h.error("Failed to delete file. Please try again.");return}else t("")}catch(I){console.error("Error removing file:",I.message)}},_=I=>{const P=I.target.files?.[0];P&&g(P)},x=()=>{f.current&&f.current.click()},S=I=>{I.preventDefault(),d(!0)},A=I=>{I.preventDefault(),d(!1)},N=I=>{I.preventDefault(),d(!1);const P=I.dataTransfer.files[0];P&&g(P)};return b.jsx("div",{className:`relative w-full max-h-64 rounded-t-lg overflow-hidden ${!e?.length&&"rounded-b-lg"}`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:e?.length?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:e,alt:"Uploaded",className:"w-full h-full object-cover"}),n&&b.jsx("div",{className:"absolute inset-0 bg-gray-800/80 flex items-center justify-center",children:b.jsx("button",{onClick:y,className:"text-white text-2xl hover:text-red-500",children:b.jsx(_E,{className:"w-11 h-11 text-red-500 dark:text-red-600",title:"Delete Image"})})})]}):b.jsxs("div",{className:`border-2 ${l?"border-blue-500 bg-leaf-green-50":"border-dashed border-gray-300"} rounded-t-lg p-6 flex flex-col items-center justify-center ${e?"max-h-64":"rounded-b-lg mb-4"}`,onDragOver:S,onDragLeave:A,onDrop:N,children:[b.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:"Drag & drop a photo here, or click to upload."}),b.jsx(Me,{onClick:x,disabled:a,children:a?"Uploading...":"Upload File"}),b.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:_,className:"hidden"}),b.jsx("div",{className:"mt-4 w-full",children:b.jsx("input",{type:"text",placeholder:"Or paste an image URL",value:e,onChange:I=>t(I.target.value),className:"border border-gray-300 rounded-lg p-2 w-full"})})]})})},by=({title:e,description:t,onFormChange:n})=>b.jsxs("form",{className:"w-full",children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"title",id:"title",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:r=>n("title",r.target.value),required:!0}),b.jsx("label",{htmlFor:"title",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Title"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("textarea",{name:"description",id:"description",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:t,onChange:r=>n("description",r.target.value),required:!0}),b.jsx("label",{htmlFor:"description",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Description"})]})]}),Ri=({inputId:e="",options:t=[],selectedOptions:n=[],placeholder:r="",setSelectedOptions:a,onSearch:u})=>{const[l,d]=T.useState(!1),[f,h]=T.useState(!1),[g,y]=T.useState([]),[_,x]=T.useState(""),S=T.useRef(null),A=T.useRef(null),N=T.useRef(null);T.useEffect(()=>{y(n.map(L=>L?.id||""))},[n]),T.useEffect(()=>{const L=setTimeout(()=>{u(_)},400);return()=>clearTimeout(L)},[_,u]),T.useEffect(()=>{const L=q=>{S.current&&!S.current.contains(q.target)&&d(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]),T.useEffect(()=>{l&&A.current&&A.current.focus()},[l]),T.useEffect(()=>{if(l&&S.current){const L=S.current.getBoundingClientRect(),q=window.innerHeight-L.bottom;h(q<200)}},[l]);const I=L=>{L.id&&(g.includes(L.id)?a(n.filter(q=>q.id!==L.id)):(a([...n,L]),x("")))},P=L=>{const q=n.filter(K=>K.id!==L.id);a(q)},j=L=>{L.key==="Backspace"&&_===""&&n.length>0&&P(n[n.length-1]),L.key==="ArrowDown"&&(d(!0),N.current?.focus())};return b.jsxs("div",{className:"relative w-full",ref:S,children:[b.jsx("label",{id:"multi-select-label",className:"sr-only",children:"Select options"}),b.jsxs("div",{className:`border border-gray-300 p-2 cursor-text flex flex-wrap items-center gap-2 ${l?`rounded-${f?"b":"t"}-lg`:"rounded-lg"}`,onClick:()=>d(!0),"aria-haspopup":"listbox","aria-expanded":l,role:"combobox","aria-controls":"multi-select-listbox",children:[n.map(L=>b.jsx(fu,{title:L.title,onClick:q=>{q.stopPropagation(),P(L)}},L.id)),b.jsx("input",{type:"text",id:e,ref:A,placeholder:n.length===0?r:"",className:"flex-1 p-1 border-none outline-hidden bg-transparent text-gray-900 dark:text-gray-100",value:_,onChange:L=>x(L.target.value),onKeyDown:j,"aria-labelledby":"multi-select-label"})]}),l&&b.jsxs("div",{ref:N,role:"listbox",tabIndex:0,"aria-labelledby":"multi-select-label",className:`absolute w-full z-10 border border-gray-300 bg-white dark:bg-gray-800 shadow-md max-h-40 overflow-y-auto focus:outline-hidden ${f?"bottom-full pb-2 rounded-t-lg":"top-full pt-2 rounded-b-lg"}`,children:[t.length>0?t.map(L=>b.jsx(Me,{btnType:"dropdown",className:L.id&&g.includes(L.id)?"bg-leaf-green-100 dark:text-leaf-green-600":"",onClick:q=>{q.stopPropagation(),I(L)},role:"option","aria-selected":L.id&&g.includes(L.id)?!0:void 0,children:L.title},L.id)):b.jsx("div",{className:"p-2 text-gray-500 dark:text-gray-400",role:"status",children:"No results found"}),t.length>=25&&b.jsx("div",{className:"px-4 py-2 border-t border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-900",children:b.jsx("small",{className:"text-gray-500 dark:text-gray-400",children:"Search results are limited to 25 results."})})]})]})},rO=()=>{const e=gt(),t=Ln(),{id:n}=Bl(),{user:r}=hr(),a=!!n,[u,l]=T.useState(!1),[d,f]=T.useState(""),[h,g]=T.useState([]),[y,_]=T.useState(""),[x,S]=T.useState([]),[A,N]=T.useState(null),[I,P]=T.useState({title:"",description:"",img_url:"",recipes:[],tags:[]});T.useEffect(()=>{if(a){const K=t.state?.collection;K&&(P({title:K.title||"",description:K.description||"",img_url:K.img_url||"",recipes:K.recipes||[],tags:K.tags||[]}),N(K))}},[a,t.state?.collection]);const j=T.useCallback(async()=>{try{const K=await ze.getList(0,25,d);K?.data&&g(K.data)}catch(K){console.error("Error fetching recipes:",K)}},[d]),L=T.useCallback(async()=>{try{const K=await In.getList(0,25,y);K?.data&&S(K.data)}catch(K){console.error("Error fetching tags:",K)}},[y]);return T.useEffect(()=>{j()},[j]),T.useEffect(()=>{L()},[L]),{formData:I,originalData:A,onFormChange:(K,se)=>{P(ne=>({...ne,[K]:se}))},isEditing:a,loading:u,setLoading:l,navigate:e,recipeList:h,tagList:x,setRecipeSearch:f,setTagSearch:_,userId:r?.id,collectionId:n}},Xf=(e,t)=>{if(e===t)return null;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return t;if(Array.isArray(e)&&Array.isArray(t)){const a=t.reduce((u,l,d)=>{const f=e[d];return typeof l=="object"&&l!==null?Xf(f,l)!==null&&u.push(l):l!==f&&u.push(l),u},[]);return e.length>t.length?t:a.length>0?a:null}const n={};return new Set([...Object.keys(e),...Object.keys(t)]).forEach(a=>{const u=Xf(e[a],t[a]);u!==null&&(n[a]=u)}),Object.keys(n).length>0?n:null},sO=(e,t)=>Xf(e,t)||{},iO=e=>Object.keys(e).reduce((t,n)=>{const r=e[n];return(typeof r=="string"||typeof r=="number"||typeof r=="boolean")&&(t[n]=r),t},{}),aO=e=>e?.filter(t=>t.isActive).map(t=>t.id)||[],Si={getChangedFields:sO,extractSimpleValues:iO,getStepIngredientsToDelete:aO},uO=(e,t,n,r,a)=>{const u=un(),l=gt();return{handleSave:async f=>{f.preventDefault();try{if(!a){u.error("User is not authenticated.");return}let h=r||"";if(t&&h&&n){const g=Si.getChangedFields(n,e);if(!g||Object.keys(g).length===0){u.info("No changes detected.");return}const y=Si.extractSimpleValues(g);await En.upsert(h,y),u.success("Collection updated successfully!"),await oO(h,n.tags||[],e.tags||[]),await lO(h,n.recipes||[],e.recipes||[])}else{const g=Si.extractSimpleValues(e),y=await En.upsert("",g,a);if(!y?.collectionId)throw new Error("Failed to create collection.");h=y.collectionId,e.tags&&e.tags.length>0&&await In.addToCollection(h,e.tags),e.recipes&&e.recipes.length>0&&await ze.addManyToOneCollection(h,e.recipes),u.success("Collection added successfully!")}l(`/collections/${h}`)}catch(h){console.error(`Error ${t?"updating":"adding"} collection:`,h.message),u.error(`Failed to ${t?"update":"add"} collection. Please try again.`)}}}},oO=async(e,t,n)=>{const r=n.filter(u=>!t.some(l=>l.id===u.id)),a=t.filter(u=>!n.some(l=>l.id===u.id));r.length>0&&await In.addToCollection(e,r),a.length>0&&await In.removeFromCollection(e,a)},lO=async(e,t,n)=>{const r=n.filter(u=>!t.some(l=>l.id===u.id)),a=t.filter(u=>!n.some(l=>l.id===u.id));r.length>0&&await ze.addManyToOneCollection(e,r),a.length>0&&await ze.removeManyFromManyCollections([e],a)},y1=()=>{const{formData:e,originalData:t,onFormChange:n,isEditing:r,loading:a,navigate:u,recipeList:l,tagList:d,setRecipeSearch:f,setTagSearch:h,userId:g,collectionId:y}=rO(),{handleSave:_}=uO(e,r,t,y,g);return b.jsxs("div",{className:"max-w-2xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-end items-center mb-4 gap-4",children:[b.jsx(Me,{btnType:"dismissable",onClick:()=>u(-1),children:"Cancel"}),b.jsx(Me,{onClick:_,isLoading:a,children:r?"Save":"Add"})]}),b.jsx(Ey,{imgUrl:e.img_url,onImgUrlChange:x=>n("img_url",x)}),b.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md",children:[b.jsx(by,{title:e.title,description:e.description,onFormChange:n}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Recipes",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Recipes"}),b.jsx(Ri,{placeholder:"Search for recipes...",inputId:"Recipes",options:l,selectedOptions:e.recipes,setSelectedOptions:x=>n("recipes",x),onSearch:f})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Tags",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Tags"}),b.jsx(Ri,{placeholder:"Search for tags...",inputId:"Tags",options:d,selectedOptions:e.tags,setSelectedOptions:x=>n("tags",x),onSearch:h})]})]})]})},cO=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(!1),a=un(),u=async l=>{if(l.preventDefault(),!e){a.error("Please enter your email.");return}try{r(!0),await ds.resetPassword(e,`${window.location.origin}/elysia/reset-password`),a.success("Password reset link sent to your email!")}catch(d){a.error(d.message)}finally{r(!1)}};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-center text-leaf-green-600 dark:text-white",children:"Reset Password"}),b.jsxs("form",{onSubmit:u,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:l=>t(l.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(Me,{type:"submit",isLoading:n,className:"w-full",children:n?"Sending...":"Send Reset Link"}),b.jsx(sn,{to:"/sign-in",children:b.jsx(Me,{btnType:"secondary",className:"w-full",children:"Back to Sign In"})})]})]})]})})},yy=({value:e,index:t})=>b.jsx("li",{className:"text-leaf-green-800 dark:text-gray-200 p-2",children:e},t),dO=({ingredients:e})=>b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Ingredients"}),b.jsx("ul",{className:"list-disc pl-6 mb-6",children:e?.map((t,n)=>b.jsx(yy,{value:t.value,index:n},n))})]}),fO=({steps:e})=>b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mt-8 mb-2",children:"Steps"}),e?.length>0&&b.jsx("ol",{className:"list-decimal pl-6 mb-6 text-leaf-green-800 dark:text-gray-300",children:e.map((t,n)=>b.jsx(yy,{value:t.value,index:n},n))})]}),hO=864e5,pO=6e4,mO=36e5,T1=Symbol.for("constructDateFrom");function Ii(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&T1 in e?e[T1](t):e instanceof Date?new e.constructor(t):new Date(t)}function On(e,t){return Ii(e,e)}function gO(e,t,n){const r=On(e);return isNaN(t)?Ii(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function EO(e,t,n){const r=On(e);if(isNaN(t))return Ii(e,NaN);if(!t)return r;const a=r.getDate(),u=Ii(e,r.getTime());u.setMonth(r.getMonth()+t+1,0);const l=u.getDate();return a>=l?u:(r.setFullYear(u.getFullYear(),u.getMonth(),a),r)}function Ya(e,t,n){const{years:r=0,months:a=0,weeks:u=0,days:l=0,hours:d=0,minutes:f=0,seconds:h=0}=t,g=On(e),y=a||r?EO(g,a+r*12):g,_=l||u?gO(y,l+u*7):y,x=f+d*60,A=(h+x*60)*1e3;return Ii(e,+_+A)}let bO={};function yO(){return bO}function _1(e){const t=On(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ps(e,...t){const n=Ii.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function w1(e,t){const n=On(e);return n.setHours(0,0,0,0),n}function TO(e,t,n){const[r,a]=ps(n?.in,e,t),u=w1(r),l=w1(a),d=+u-_1(u),f=+l-_1(l);return Math.round((d-f)/hO)}function au(e,t){const n=+On(e)-+On(t);return n<0?-1:n>0?1:n}function _O(e,t,n){const[r,a]=ps(n?.in,e,t),u=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return u*12+l}function wO(e,t,n){const[r,a]=ps(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function xO(e,t,n){const[r,a]=ps(n?.in,e,t),u=x1(r,a),l=Math.abs(TO(r,a));r.setDate(r.getDate()-u*l);const d=+(x1(r,a)===-u),f=u*(l-d);return f===0?0:f}function x1(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Kh(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function SO(e,t,n){const[r,a]=ps(n?.in,e,t),u=(+r-+a)/mO;return Kh(n?.roundingMethod)(u)}function Ty(e,t){return+On(e)-+On(t)}function vO(e,t,n){const r=Ty(e,t)/pO;return Kh(n?.roundingMethod)(r)}function CO(e,t){const n=On(e);return n.setHours(23,59,59,999),n}function AO(e,t){const n=On(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function NO(e,t){const n=On(e);return+CO(n)==+AO(n)}function kO(e,t,n){const[r,a,u]=ps(n?.in,e,e,t),l=au(a,u),d=Math.abs(_O(a,u));if(d<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*d);let f=au(a,u)===-l;NO(r)&&d===1&&au(r,u)===1&&(f=!1);const h=l*(d-+f);return h===0?0:h}function RO(e,t,n){const r=Ty(e,t)/1e3;return Kh(n?.roundingMethod)(r)}function IO(e,t,n){const[r,a]=ps(n?.in,e,t),u=au(r,a),l=Math.abs(wO(r,a));r.setFullYear(1584),a.setFullYear(1584);const d=au(r,a)===-u,f=u*(l-+d);return f===0?0:f}function OO(e,t){const[n,r]=ps(e,t.start,t.end);return{start:n,end:r}}const LO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DO=(e,t,n)=>{let r;const a=LO[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ef(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const PO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BO={date:Ef({formats:PO,defaultWidth:"full"}),time:Ef({formats:MO,defaultWidth:"full"}),dateTime:Ef({formats:FO,defaultWidth:"full"})},UO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jO=(e,t,n,r)=>UO[e];function Va(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):l;a=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;a=e.values[d]||e.values[l]}const u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}const HO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$O={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},WO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},YO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},GO={ordinalNumber:VO,era:Va({values:HO,defaultWidth:"wide"}),quarter:Va({values:$O,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Va({values:zO,defaultWidth:"wide"}),day:Va({values:qO,defaultWidth:"wide"}),dayPeriod:Va({values:WO,defaultWidth:"wide",formattingValues:YO,defaultFormattingWidth:"wide"})};function Ga(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],u=t.match(a);if(!u)return null;const l=u[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?KO(d,y=>y.test(l)):QO(d,y=>y.test(l));let h;h=e.valueCallback?e.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const g=t.slice(l.length);return{value:h,rest:g}}}function QO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function KO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function XO(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],u=t.match(e.parsePattern);if(!u)return null;let l=e.valueCallback?e.valueCallback(u[0]):u[0];l=n.valueCallback?n.valueCallback(l):l;const d=t.slice(a.length);return{value:l,rest:d}}}const JO=/^(\d+)(th|st|nd|rd)?/i,ZO=/\d+/i,e4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},t4={any:[/^b/i,/^(a|c)/i]},n4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},r4={any:[/1/i,/2/i,/3/i,/4/i]},s4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},i4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},a4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},u4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},o4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},l4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},c4={ordinalNumber:XO({matchPattern:JO,parsePattern:ZO,valueCallback:e=>parseInt(e,10)}),era:Ga({matchPatterns:e4,defaultMatchWidth:"wide",parsePatterns:t4,defaultParseWidth:"any"}),quarter:Ga({matchPatterns:n4,defaultMatchWidth:"wide",parsePatterns:r4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ga({matchPatterns:s4,defaultMatchWidth:"wide",parsePatterns:i4,defaultParseWidth:"any"}),day:Ga({matchPatterns:a4,defaultMatchWidth:"wide",parsePatterns:u4,defaultParseWidth:"any"}),dayPeriod:Ga({matchPatterns:o4,defaultMatchWidth:"any",parsePatterns:l4,defaultParseWidth:"any"})},d4={code:"en-US",formatDistance:DO,formatLong:BO,formatRelative:jO,localize:GO,match:c4,options:{weekStartsOn:0,firstWeekContainsDate:1}},f4=["years","months","weeks","days","hours","minutes","seconds"];function h4(e,t){const n=yO(),r=t?.locale??n.locale??d4,a=t?.format??f4,u=t?.zero??!1,l=t?.delimiter??" ";return r.formatDistance?a.reduce((f,h)=>{const g=`x${h.replace(/(^.)/,_=>_.toUpperCase())}`,y=e[h];return y!==void 0&&(u||e[h])?f.concat(r.formatDistance(g,y)):f},[]).join(l):""}function p4(e,t){const{start:n,end:r}=OO(t?.in,e),a={},u=IO(r,n);u&&(a.years=u);const l=Ya(n,{years:a.years}),d=kO(r,l);d&&(a.months=d);const f=Ya(l,{months:a.months}),h=xO(r,f);h&&(a.days=h);const g=Ya(f,{days:a.days}),y=SO(r,g);y&&(a.hours=y);const _=Ya(g,{hours:a.hours}),x=vO(r,_);x&&(a.minutes=x);const S=Ya(_,{minutes:a.minutes}),A=RO(r,S);return A&&(a.seconds=A),a}const S1=e=>{const t=p4({start:0,end:(e||0)*60*1e3});return h4(t,{format:["hours","minutes"]})},m4=({activeTab:e,onTabChange:t})=>b.jsx("div",{className:"block md:hidden mb-4",children:b.jsxs("div",{className:"border-b border-gray-300 dark:border-gray-700 flex",children:[b.jsx("button",{className:`flex-1 p-2 text-lg font-semibold ${e==="ingredients"?"border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100":"text-gray-500"}`,onClick:()=>t("ingredients"),children:"Ingredients"}),b.jsx("button",{className:`flex-1 p-2 text-lg font-semibold ${e==="directions"?"border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100":"text-gray-500"}`,onClick:()=>t("directions"),children:"Directions"})]})});function g4({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const E4=T.forwardRef(g4),b4=({index:e,ingredient:t,isChecked:n,onCheck:r})=>b.jsxs("div",{className:"flex items-start gap-3",onClick:()=>r(e),children:[b.jsx("input",{type:"checkbox",checked:n,onChange:()=>r(e),className:"peer hidden",id:`checkbox-${e}`}),b.jsx("label",{htmlFor:`checkbox-${e}`,className:`w-6 h-6 flex items-center justify-center border-2 border-gray-400 rounded-md cursor-pointer transition-all 
            peer-checked:bg-leaf-green-500 peer-checked:border-leaf-green-500 
            dark:border-gray-600 dark:peer-checked:bg-leaf-green-400 dark:peer-checked:border-leaf-green-400`,children:b.jsx(E4,{className:`w-4 h-4 text-white peer-checked:block ${!n&&"hidden"}`})}),b.jsx("span",{className:`text-lg leading-6 flex-1 transition-all ${n?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-gray-300"}`,children:t.value})]}),_y=({ingredients:e,checkedItems:t,onCheck:n})=>b.jsx("div",{className:"flex flex-col space-y-4",children:e.map((r,a)=>b.jsx(b4,{ingredient:r,index:a,onCheck:n,isChecked:!!t[a]||!1},a))}),wy=({steps:e})=>b.jsx("ol",{className:"list-decimal space-y-4 ml-5 text-gray-800 dark:text-gray-300",children:e.map((t,n)=>b.jsx("li",{className:"text-lg p-2 leading-relaxed",children:t.value},n))}),y4=({recipe:e,checkedItems:t,onCheck:n})=>b.jsxs("div",{className:"hidden md:flex md:flex-row gap-6 w-full",children:[b.jsxs("div",{className:"w-1/3 h-full overflow-y-auto px-4 xs:py-4 border-r border-gray-300 dark:border-leaf-green-100",children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Ingredients"}),b.jsx(_y,{ingredients:e.ingredients,checkedItems:t,onCheck:n})]}),b.jsxs("div",{className:"w-2/3 h-full overflow-y-auto px-4 xs:py-4",children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Directions"}),b.jsx(wy,{steps:e.steps})]})]}),T4=({activeTab:e,recipe:t,checkedItems:n,onCheck:r})=>b.jsx("div",{className:"block md:hidden h-full w-full overflow-y-auto px-4 sm:pt-4",children:e==="ingredients"?b.jsx(_y,{ingredients:t.ingredients,checkedItems:n,onCheck:r}):b.jsx(wy,{steps:t.steps})}),_4=({recipe:e})=>{const[t,n]=T.useState({}),[r,a]=T.useState("ingredients"),u=l=>{n(d=>({...d,[l]:!d[l]}))};return b.jsxs("div",{className:"w-full h-full p-4 pt-[1.5rem]",children:[b.jsx(m4,{activeTab:r,onTabChange:a}),b.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[b.jsx(T4,{activeTab:r,recipe:e,checkedItems:t,onCheck:u}),b.jsx(y4,{recipe:e,checkedItems:t,onCheck:u})]})]})},bf=({label:e,value:t})=>b.jsxs(b.Fragment,{children:[b.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:e}),b.jsx("div",{className:"text-leaf-green-700 dark:text-white",children:b.jsx("strong",{children:t})})]}),w4=({recipe:e})=>{const{openModal:t}=pr(),n=gt(),r=()=>{t(b.jsx(_4,{recipe:e}),Bs.Large)};return b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs(Me,{className:"w-full bg-white dark:bg-gray-900",btnType:"secondary",onClick:r,children:["Get Cookin",b.jsx(AS,{className:"h-5 w-5"})]}),b.jsxs("div",{className:"py-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[e.servings>0&&b.jsx("div",{className:"mb-2",children:b.jsx(bf,{label:"servings",value:e.servings})}),e.prep_time>0&&b.jsx("div",{className:"mb-2",children:b.jsx(bf,{label:"prep time",value:S1(e.prep_time)})}),e.total_time>0&&b.jsx("div",{className:"mb-3",children:b.jsx(bf,{label:"total time",value:S1(e.total_time)})})]}),e.collections&&e.collections.length>0&&b.jsxs("div",{className:"pt-2 pb-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[b.jsx("div",{className:"mb-1",children:b.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:"collections"})}),b.jsx("div",{className:"flex flex-wrap gap-2",children:e.collections.map(a=>b.jsx(fu,{title:a.title,isReadOnly:!0,displayHover:!1},a.id))})]}),e.tags&&e.tags.length>0&&b.jsxs("div",{className:"pt-2 pb-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[b.jsx("div",{className:"mb-1",children:b.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:"tags"})}),b.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(a=>b.jsx(fu,{title:a.title,isReadOnly:!0,onClick:()=>{n("/",{state:{selectedTags:[a]}})}},a.id))})]})]})},x4=({recipe:e})=>{const t=gt(),n=un(),{openModal:r,closeModal:a}=pr();let u=e.is_public;const[l,d]=T.useState([]),f=()=>{t(`/recipes/${e.id}/edit`,{state:{recipe:e}})},h=()=>r(b.jsx(hy,{label:"recipe",onCancelDelete:a,onDelete:A})),g=async()=>{u=!u;try{await ze.setIsPublic(e.id,u),n.success(`Recipe is now ${u?"public":"private"}!`)}catch(I){n.error(I.message)}},y=async(I,P)=>{if(!I)return n.error("Please enter a valid email.");try{const j=await ds.findByEmail(I);if(!j)throw Error("user not found");await ze.shareWithUser(e.id,j?.id,P),n.success(`Recipe shared with ${j.display_name} as ${P}.`);const L=await ze.getSharedUsers(e.id);d(L)}catch(j){n.error(j.message)}},_=async I=>{try{await ze.revokeAccess(I),n.success("Access revoked.");const P=await ze.getSharedUsers(e.id);d(P)}catch(P){n.error(P.message)}},x=()=>{navigator.clipboard.writeText(window.location.href),n.success("Public link copied!")},S=()=>{r(b.jsx(fy,{typeOfShare:"Recipe",sharedUsers:l,isPublic:u,onTogglePublicShare:g,shareWithUser:y,onRevokeAccess:_,onCopyLink:x,onClose:a}))},A=async()=>{try{await ze.deleteById(e.id),n.success("Recipe deleted successfully!"),a(),t("/")}catch{n.error("Failed to delete recipe. Please try again.")}},N=[{label:"Edit",onClick:f},{label:"Delete",onClick:h},{label:"Share",onClick:S}];return b.jsx(Hl,{options:N,icon:b.jsx(TE,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})},S4=e=>({id:e?.id||"",title:e?.title||"",description:e?.description||"",img_url:e?.img_url||"",original_recipe_url:e?.original_recipe_url||"",prep_time:e?.prep_time||0,cook_time:e?.cook_time||0,servings:e?.servings||1,is_public:e?.is_public||!1,total_time:e?.prep_time+e?.cook_time||0,steps:(e?.steps||[]).sort((n,r)=>n.sort_number-r.sort_number).map(n=>({...n,isActive:!0})),ingredients:(e?.ingredients||[]).sort((n,r)=>n.sort_number-r.sort_number).map(n=>({...n,isActive:!0})),collections:(e?.collection_to_recipes||[]).flatMap(n=>n.collections),tags:(e?.recipe_to_tags||[]).flatMap(n=>n.tags)}),v4=(e,t)=>{const[n,r]=T.useState(null),[a,u]=T.useState(!0),l=async()=>{u(!0);try{const d=await ze.getDetail(e,t);r(S4(d))}catch(d){console.error("Failed to fetch recipe details",d)}finally{u(!1)}};return T.useEffect(()=>{e&&l()},[e,t]),{recipe:n,loading:a,fetchRecipe:l}},C4=({recipeId:e,collectionAdded:t})=>{const{closeModal:n}=pr(),r=un(),[a,u]=T.useState([]),[l,d]=T.useState([]),[f,h]=T.useState(""),g=_=>{h(_)};T.useEffect(()=>{(async()=>{try{const x=await En.getList(0,25,f);x&&x.data&&u(x.data)}catch(x){console.error("Error fetching tags:",x)}})()},[f]);const y=async()=>{const _=l.map(x=>x.id);if(e&&_.length>0)try{await ze.addOneToManyCollections(e,_),t(),r.success("Recipe has been added to selected collection(s)!"),n()}catch(x){console.error("Error fetching tags:",x)}};return b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"text-xl font-medium mb-4 text-leaf-green-900 dark:text-leaf-green-100",children:"Add to Collections"}),b.jsx(Ri,{inputId:"collections",options:a,selectedOptions:l,placeholder:"Select collections",setSelectedOptions:_=>d(_),onSearch:g}),b.jsxs("div",{className:"flex justify-end mt-4",children:[b.jsx(Me,{btnType:"secondary",onClick:n,children:"Cancel"}),b.jsx(Me,{btnType:"primary",onClick:y,className:"ml-2",children:"Save"})]})]})},A4=({recipeId:e,tagAdded:t})=>{const{closeModal:n}=pr(),r=un(),[a,u]=T.useState([]),[l,d]=T.useState([]),[f,h]=T.useState(""),g=_=>{h(_)};T.useEffect(()=>{(async()=>{try{const x=await In.getList(0,25,f);x&&x.data&&u(x.data)}catch(x){console.error("Error fetching tags:",x)}})()},[f]);const y=async()=>{if(e)try{await In.addToRecipe(e,l),t(),r.success("Tags have been added to recipe!"),n()}catch(_){console.error("Error associating tags:",_)}};return b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"text-xl font-medium mb-4 text-leaf-green-900 dark:text-leaf-green-100",children:"Add Tags"}),b.jsx(Ri,{inputId:"tags",options:a,selectedOptions:l,placeholder:"Select tags",setSelectedOptions:_=>d(_),onSearch:g}),b.jsxs("div",{className:"flex justify-end mt-4",children:[b.jsx(Me,{btnType:"secondary",onClick:n,children:"Cancel"}),b.jsx(Me,{btnType:"primary",onClick:y,className:"ml-2",children:"Save"})]})]})},N4=()=>{const{id:e}=Bl(),{user:t}=hr(),{openModal:n}=pr(),{recipe:r,loading:a,fetchRecipe:u}=v4(e,t?.id);if(a)return b.jsx(Pi,{className:"mt-40"});if(!r)return b.jsx(Du,{message:"Recipe not found."});const l=[{label:"Add Tags",onClick:()=>n(b.jsx(A4,{recipeId:r.id,tagAdded:u}))},{label:"Add to Collection",onClick:()=>n(b.jsx(C4,{recipeId:r.id,collectionAdded:u}))}];return b.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[b.jsx(k4,{user:t,options:l,recipe:r}),b.jsx(R4,{recipe:r})]})},k4=({user:e,options:t,recipe:n})=>b.jsxs("div",{className:"w-full flex justify-between items-center mb-4",children:[b.jsx(sn,{to:"/",children:b.jsxs("div",{className:"flex items-center font-medium text-leaf-green-600 dark:text-leaf-green-100",children:[b.jsx(yE,{className:"size-6"}),b.jsx("p",{children:"Recipes"})]})}),e?.id&&b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Hl,{options:t,icon:b.jsx(bh,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})}),b.jsx(x4,{recipe:n})]})]}),R4=({recipe:e})=>b.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-6",children:[b.jsxs("div",{className:"w-full md:w-3/4",children:[e.img_url&&b.jsx("img",{src:e.img_url,alt:e.title,className:"w-full h-64 object-cover rounded-t-lg"}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 p-6 ${!e.img_url&&"rounded-lg"}`,children:[b.jsx(ic,{title:e.title,description:e.description}),b.jsx(dO,{ingredients:e.ingredients}),b.jsx(fO,{steps:e.steps}),e.original_recipe_url&&b.jsx(I4,{url:e.original_recipe_url})]})]}),b.jsx("div",{className:"w-full md:w-1/4",children:b.jsx(w4,{recipe:e})})]}),I4=({url:e})=>b.jsx("div",{className:"mx-2",children:b.jsxs("small",{children:["source:"," ",b.jsx("a",{className:"pl-1 italic",href:e,children:e})]})});function O4(){const e=Ln(),{user:t,authHasBeenChecked:n}=hr(),[r,a]=T.useState([]),[u,l]=T.useState([]),[d,f]=T.useState([]),[h,g]=T.useState(""),[y,_]=T.useState(0),[x,S]=T.useState(!1),[A,N]=T.useState(!1),I=T.useRef(!1),P=T.useCallback(async(q,K,se)=>{S(!0);try{const ne=await ze.getList(q,10,K,t?.id,se);if(!ne)throw new Error("Something went wrong.");const pe=await In.getList(0,1e6,K);pe?.data&&l(pe.data),a(Re=>q===0?ne.data:[...Re,...ne.data]);const xe=q+ne.data.length;_(xe),N(ne.count!==null&&xe<ne.count)}catch(ne){console.error("Error fetching recipes:",ne)}finally{S(!1)}},[t]);T.useEffect(()=>{const q=e.state?.selectedTags;q&&(f(q),_(0),a([]),I.current=!0,P(0,h,q).finally(()=>{I.current=!1}))},[e.state?.selectedTags,P,h]);const j=T.useCallback(async()=>{I.current||!n||(_(0),a([]),I.current=!0,await P(0,h,d),I.current=!1)},[n,P,h,d]),L=T.useCallback(()=>{I.current||!A||!n||(I.current=!0,P(y,h,d).finally(()=>{I.current=!1}))},[y,A,n,P,h,d]);return{tags:u,selectedTags:d,setSelectedTags:f,recipes:r,searchTerm:h,setSearchTerm:g,loading:x,hasMore:A,resetAndLoadRecipes:j,loadMoreRecipes:L}}const L4=({options:e=[],selectedOptions:t=[],placeholder:n="Search by title, description, ingredient or tag...",setSelectedOptions:r,onSearch:a})=>{const[u,l]=T.useState([]),[d,f]=T.useState(!1),[h,g]=T.useState(""),[y,_]=T.useState(!1),x=T.useRef(null),S=T.useRef(null),A=T.useRef(null);T.useEffect(()=>{l(t.map(L=>L?.id||""))},[t]),T.useEffect(()=>{const L=setTimeout(()=>{a(h)},500);return()=>clearTimeout(L)},[h,a]),T.useEffect(()=>{const L=q=>{x.current&&!x.current.contains(q.target)&&f(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]),T.useEffect(()=>{d&&S.current&&S.current.focus()},[d]),T.useEffect(()=>{if(d&&x.current){const L=x.current.getBoundingClientRect(),q=window.innerHeight-L.bottom;_(q<250)}},[d]);const N=L=>{if(L.id){const q=u.includes(L.id)?t.filter(K=>K.id!==L.id):[...t,L];r(q)}},I=L=>{const q=t.filter(K=>K.id!==L.id);r(q)},P=L=>{L.key==="Backspace"&&h===""&&t.length>0&&I(t[t.length-1]),L.key==="ArrowDown"&&(f(!0),A.current?.focus())},j=()=>{g(""),r([])};return b.jsxs("div",{className:"relative w-full mb-4",ref:x,children:[b.jsxs("div",{className:`border border-gray-300 p-2 cursor-text flex flex-wrap items-center gap-2 ${d?`rounded-${y?"b":"t"}-lg`:"rounded-lg"}`,onClick:()=>e.length>0&&f(!0),children:[b.jsx(LS,{className:"w-5 h-5"}),t.map(L=>b.jsx(fu,{title:L.title,onClick:q=>{q.stopPropagation(),I(L)}},L.id)),b.jsx("input",{type:"text",ref:S,placeholder:t.length===0?n:"",className:"flex-1 p-1 border-none outline-none bg-transparent text-gray-900 dark:text-white",value:h,onChange:L=>g(L.target.value),onKeyDown:P}),(h?.length>0||t?.length>0)&&b.jsx(Eh,{className:"w-6 h-6 cursor-pointer",title:"Clear Search Bar",onClick:j})]}),d&&e.length>0&&b.jsx("div",{ref:A,role:"listbox","aria-labelledby":"multi-select-label",className:`absolute w-full z-10 max-w-[320px] border border-gray-300 bg-white dark:bg-gray-800 shadow-md max-h-40 overflow-y-auto focus:outline-hidden ${y?"bottom-full pb-2 rounded-t-lg":"top-full pt-2 rounded-b-lg"}`,children:e.map(L=>b.jsx(Me,{btnType:"dropdown",className:L.id&&u.includes(L.id)?"bg-leaf-green-100 dark:text-leaf-green-600":"",onClick:q=>{q.stopPropagation(),N(L)},role:"option","aria-selected":L.id&&u.includes(L.id)?!0:void 0,children:L.title},L.id))})]})},D4=()=>{const{recipes:e,tags:t,selectedTags:n,setSelectedTags:r,loading:a,hasMore:u,searchTerm:l,setSearchTerm:d,resetAndLoadRecipes:f,loadMoreRecipes:h}=O4(),{openModal:g,closeModal:y}=pr(),{authHasBeenChecked:_}=hr(),x=()=>{g(b.jsx(Gh,{onClose:y}))};T.useEffect(()=>{f()},[l,_,n,f]);const S=T.useCallback(()=>{!a&&u&&h()},[a,u,h]);return b.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col justify-center items-center text-center transition-all duration-300",children:[b.jsx(ic,{classes:"mb-4",title:"Recipes",actionName:"+ New Recipe",onAction:x}),b.jsx(L4,{options:t,selectedOptions:n,setSelectedOptions:r,onSearch:d}),a&&b.jsx(Pi,{className:"mt-6"}),!a&&e.length===0&&b.jsx(Du,{message:"No recipes found. Add some to get started!"}),e.length>0&&b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:e.map(A=>b.jsx(sn,{to:`/recipes/${A.id}`,children:b.jsx(Qh,{...A})},A.id))}),u&&b.jsx(my,{threshold:.1,onScrolled:S,children:b.jsx("div",{className:"h-1"})})]})};function P4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const ac=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Hi(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Xh(e){return"nodeType"in e}function on(e){var t,n;return e?Hi(e)?e:Xh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Jh(e){const{Document:t}=on(e);return e instanceof t}function Pu(e){return Hi(e)?!1:e instanceof on(e).HTMLElement}function xy(e){return e instanceof on(e).SVGElement}function $i(e){return e?Hi(e)?e.document:Xh(e)?Jh(e)?e:Pu(e)||xy(e)?e.ownerDocument:document:document:document}const fr=ac?T.useLayoutEffect:T.useEffect;function Zh(e){const t=T.useRef(e);return fr(()=>{t.current=e}),T.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function M4(){const e=T.useRef(null),t=T.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=T.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Tu(e,t){t===void 0&&(t=[e]);const n=T.useRef(e);return fr(()=>{n.current!==e&&(n.current=e)},t),n}function Mu(e,t){const n=T.useRef();return T.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Ol(e){const t=Zh(e),n=T.useRef(null),r=T.useCallback(a=>{a!==n.current&&t?.(a,n.current),n.current=a},[]);return[n,r]}function Jf(e){const t=T.useRef();return T.useEffect(()=>{t.current=e},[e]),t.current}let yf={};function Fu(e,t){return T.useMemo(()=>{if(t)return t;const n=yf[e]==null?0:yf[e]+1;return yf[e]=n,e+"-"+n},[e,t])}function Sy(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((u,l)=>{const d=Object.entries(l);for(const[f,h]of d){const g=u[f];g!=null&&(u[f]=g+e*h)}return u},{...t})}}const vi=Sy(1),Ll=Sy(-1);function F4(e){return"clientX"in e&&"clientY"in e}function e0(e){if(!e)return!1;const{KeyboardEvent:t}=on(e.target);return t&&e instanceof t}function B4(e){if(!e)return!1;const{TouchEvent:t}=on(e.target);return t&&e instanceof t}function Zf(e){if(B4(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return F4(e)?{x:e.clientX,y:e.clientY}:null}const _u=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[_u.Translate.toString(e),_u.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),v1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function U4(e){return e.matches(v1)?e:e.querySelector(v1)}const j4={display:"none"};function H4(e){let{id:t,value:n}=e;return nn.createElement("div",{id:t,style:j4},n)}function $4(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return nn.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function z4(){const[e,t]=T.useState("");return{announce:T.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const vy=T.createContext(null);function q4(e){const t=T.useContext(vy);T.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function W4(){const[e]=T.useState(()=>new Set),t=T.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[T.useCallback(r=>{let{type:a,event:u}=r;e.forEach(l=>{var d;return(d=l[a])==null?void 0:d.call(l,u)})},[e]),t]}const Y4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},V4={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function G4(e){let{announcements:t=V4,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=Y4}=e;const{announce:u,announcement:l}=z4(),d=Fu("DndLiveRegion"),[f,h]=T.useState(!1);if(T.useEffect(()=>{h(!0)},[]),q4(T.useMemo(()=>({onDragStart(y){let{active:_}=y;u(t.onDragStart({active:_}))},onDragMove(y){let{active:_,over:x}=y;t.onDragMove&&u(t.onDragMove({active:_,over:x}))},onDragOver(y){let{active:_,over:x}=y;u(t.onDragOver({active:_,over:x}))},onDragEnd(y){let{active:_,over:x}=y;u(t.onDragEnd({active:_,over:x}))},onDragCancel(y){let{active:_,over:x}=y;u(t.onDragCancel({active:_,over:x}))}}),[u,t])),!f)return null;const g=nn.createElement(nn.Fragment,null,nn.createElement(H4,{id:r,value:a.draggable}),nn.createElement($4,{id:d,announcement:l}));return n?Qa.createPortal(g,n):g}var pt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(pt||(pt={}));function Dl(){}const Gn=Object.freeze({x:0,y:0});function Q4(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function K4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function X4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function J4(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function C1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Z4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=C1(t,t.left,t.top),u=[];for(const l of r){const{id:d}=l,f=n.get(d);if(f){const h=Q4(C1(f),a);u.push({id:d,data:{droppableContainer:l,value:h}})}}return u.sort(K4)};function eL(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),u=Math.min(t.top+t.height,e.top+e.height),l=a-r,d=u-n;if(r<a&&n<u){const f=t.width*t.height,h=e.width*e.height,g=l*d,y=g/(f+h-g);return Number(y.toFixed(4))}return 0}const tL=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const u of r){const{id:l}=u,d=n.get(l);if(d){const f=eL(d,t);f>0&&a.push({id:l,data:{droppableContainer:u,value:f}})}}return a.sort(X4)};function nL(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Cy(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Gn}function rL(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return a.reduce((l,d)=>({...l,top:l.top+e*d.y,bottom:l.bottom+e*d.y,left:l.left+e*d.x,right:l.right+e*d.x}),{...n})}}const sL=rL(1);function iL(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function aL(e,t,n){const r=iL(t);if(!r)return e;const{scaleX:a,scaleY:u,x:l,y:d}=r,f=e.left-l-(1-a)*parseFloat(n),h=e.top-d-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?e.width/a:e.width,y=u?e.height/u:e.height;return{width:g,height:y,top:h,right:f+g,bottom:h+y,left:f}}const uL={ignoreTransform:!1};function zi(e,t){t===void 0&&(t=uL);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:g}=on(e).getComputedStyle(e);h&&(n=aL(n,h,g))}const{top:r,left:a,width:u,height:l,bottom:d,right:f}=n;return{top:r,left:a,width:u,height:l,bottom:d,right:f}}function A1(e){return zi(e,{ignoreTransform:!0})}function oL(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function lL(e,t){return t===void 0&&(t=on(e).getComputedStyle(e)),t.position==="fixed"}function cL(e,t){t===void 0&&(t=on(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const u=t[a];return typeof u=="string"?n.test(u):!1})}function t0(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(Jh(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Pu(a)||xy(a)||n.includes(a))return n;const u=on(e).getComputedStyle(a);return a!==e&&cL(a,u)&&n.push(a),lL(a,u)?n:r(a.parentNode)}return e?r(e):n}function Ay(e){const[t]=t0(e,1);return t??null}function Tf(e){return!ac||!e?null:Hi(e)?e:Xh(e)?Jh(e)||e===$i(e).scrollingElement?window:Pu(e)?e:null:null}function Ny(e){return Hi(e)?e.scrollX:e.scrollLeft}function ky(e){return Hi(e)?e.scrollY:e.scrollTop}function eh(e){return{x:Ny(e),y:ky(e)}}var wt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(wt||(wt={}));function Ry(e){return!ac||!e?!1:e===document.scrollingElement}function Iy(e){const t={x:0,y:0},n=Ry(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,u=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,d=e.scrollLeft>=r.x;return{isTop:a,isLeft:u,isBottom:l,isRight:d,maxScroll:r,minScroll:t}}const dL={x:.2,y:.2};function fL(e,t,n,r,a){let{top:u,left:l,right:d,bottom:f}=n;r===void 0&&(r=10),a===void 0&&(a=dL);const{isTop:h,isBottom:g,isLeft:y,isRight:_}=Iy(e),x={x:0,y:0},S={x:0,y:0},A={height:t.height*a.y,width:t.width*a.x};return!h&&u<=t.top+A.height?(x.y=wt.Backward,S.y=r*Math.abs((t.top+A.height-u)/A.height)):!g&&f>=t.bottom-A.height&&(x.y=wt.Forward,S.y=r*Math.abs((t.bottom-A.height-f)/A.height)),!_&&d>=t.right-A.width?(x.x=wt.Forward,S.x=r*Math.abs((t.right-A.width-d)/A.width)):!y&&l<=t.left+A.width&&(x.x=wt.Backward,S.x=r*Math.abs((t.left+A.width-l)/A.width)),{direction:x,speed:S}}function hL(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:l}=window;return{top:0,left:0,right:u,bottom:l,width:u,height:l}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Oy(e){return e.reduce((t,n)=>vi(t,eh(n)),Gn)}function pL(e){return e.reduce((t,n)=>t+Ny(n),0)}function mL(e){return e.reduce((t,n)=>t+ky(n),0)}function gL(e,t){if(t===void 0&&(t=zi),!e)return;const{top:n,left:r,bottom:a,right:u}=t(e);Ay(e)&&(a<=0||u<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const EL=[["x",["left","right"],pL],["y",["top","bottom"],mL]];class n0{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=t0(n),a=Oy(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,l,d]of EL)for(const f of l)Object.defineProperty(this,f,{get:()=>{const h=d(r),g=a[u]-h;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class uu{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function bL(e){const{EventTarget:t}=on(e);return e instanceof t?e:$i(e)}function _f(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Nn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Nn||(Nn={}));function N1(e){e.preventDefault()}function yL(e){e.stopPropagation()}var Ue;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ue||(Ue={}));const Ly={start:[Ue.Space,Ue.Enter],cancel:[Ue.Esc],end:[Ue.Space,Ue.Enter,Ue.Tab]},TL=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ue.Right:return{...n,x:n.x+25};case Ue.Left:return{...n,x:n.x-25};case Ue.Down:return{...n,y:n.y+25};case Ue.Up:return{...n,y:n.y-25}}};class Dy{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new uu($i(n)),this.windowListeners=new uu(on(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Nn.Resize,this.handleCancel),this.windowListeners.add(Nn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Nn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&gL(r),n(Gn)}handleKeyDown(t){if(e0(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:u=Ly,coordinateGetter:l=TL,scrollBehavior:d="smooth"}=a,{code:f}=t;if(u.end.includes(f)){this.handleEnd(t);return}if(u.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:h}=r.current,g=h?{x:h.left,y:h.top}:Gn;this.referenceCoordinates||(this.referenceCoordinates=g);const y=l(t,{active:n,context:r.current,currentCoordinates:g});if(y){const _=Ll(y,g),x={x:0,y:0},{scrollableAncestors:S}=r.current;for(const A of S){const N=t.code,{isTop:I,isRight:P,isLeft:j,isBottom:L,maxScroll:q,minScroll:K}=Iy(A),se=hL(A),ne={x:Math.min(N===Ue.Right?se.right-se.width/2:se.right,Math.max(N===Ue.Right?se.left:se.left+se.width/2,y.x)),y:Math.min(N===Ue.Down?se.bottom-se.height/2:se.bottom,Math.max(N===Ue.Down?se.top:se.top+se.height/2,y.y))},pe=N===Ue.Right&&!P||N===Ue.Left&&!j,xe=N===Ue.Down&&!L||N===Ue.Up&&!I;if(pe&&ne.x!==y.x){const Re=A.scrollLeft+_.x,rt=N===Ue.Right&&Re<=q.x||N===Ue.Left&&Re>=K.x;if(rt&&!_.y){A.scrollTo({left:Re,behavior:d});return}rt?x.x=A.scrollLeft-Re:x.x=N===Ue.Right?A.scrollLeft-q.x:A.scrollLeft-K.x,x.x&&A.scrollBy({left:-x.x,behavior:d});break}else if(xe&&ne.y!==y.y){const Re=A.scrollTop+_.y,rt=N===Ue.Down&&Re<=q.y||N===Ue.Up&&Re>=K.y;if(rt&&!_.x){A.scrollTo({top:Re,behavior:d});return}rt?x.y=A.scrollTop-Re:x.y=N===Ue.Down?A.scrollTop-q.y:A.scrollTop-K.y,x.y&&A.scrollBy({top:-x.y,behavior:d});break}}this.handleMove(t,vi(Ll(y,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Dy.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Ly,onActivation:a}=t,{active:u}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const d=u.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),a?.({event:e.nativeEvent}),!0)}return!1}}];function k1(e){return!!(e&&"distance"in e)}function R1(e){return!!(e&&"delay"in e)}class r0{constructor(t,n,r){var a;r===void 0&&(r=bL(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:u}=t,{target:l}=u;this.props=t,this.events=n,this.document=$i(l),this.documentListeners=new uu(this.document),this.listeners=new uu(r),this.windowListeners=new uu(on(l)),this.initialCoordinates=(a=Zf(u))!=null?a:Gn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Nn.Resize,this.handleCancel),this.windowListeners.add(Nn.DragStart,N1),this.windowListeners.add(Nn.VisibilityChange,this.handleCancel),this.windowListeners.add(Nn.ContextMenu,N1),this.documentListeners.add(Nn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(R1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(k1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Nn.Click,yL,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Nn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:u}=this,{onMove:l,options:{activationConstraint:d}}=u;if(!a)return;const f=(n=Zf(t))!=null?n:Gn,h=Ll(a,f);if(!r&&d){if(k1(d)){if(d.tolerance!=null&&_f(h,d.tolerance))return this.handleCancel();if(_f(h,d.distance))return this.handleStart()}if(R1(d)&&_f(h,d.tolerance))return this.handleCancel();this.handlePending(d,h);return}t.cancelable&&t.preventDefault(),l(f)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ue.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const _L={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Py extends r0{constructor(t){const{event:n}=t,r=$i(n.target);super(t,_L,r)}}Py.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const wL={move:{name:"mousemove"},end:{name:"mouseup"}};var th;(function(e){e[e.RightClick=2]="RightClick"})(th||(th={}));class xL extends r0{constructor(t){super(t,wL,$i(t.event.target))}}xL.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===th.RightClick?!1:(r?.({event:n}),!0)}}];const wf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class SL extends r0{constructor(t){super(t,wf)}static setup(){return window.addEventListener(wf.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(wf.move.name,t)};function t(){}}}SL.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var ou;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ou||(ou={}));var Pl;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Pl||(Pl={}));function vL(e){let{acceleration:t,activator:n=ou.Pointer,canScroll:r,draggingRect:a,enabled:u,interval:l=5,order:d=Pl.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:g,delta:y,threshold:_}=e;const x=AL({delta:y,disabled:!u}),[S,A]=M4(),N=T.useRef({x:0,y:0}),I=T.useRef({x:0,y:0}),P=T.useMemo(()=>{switch(n){case ou.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case ou.DraggableRect:return a}},[n,a,f]),j=T.useRef(null),L=T.useCallback(()=>{const K=j.current;if(!K)return;const se=N.current.x*I.current.x,ne=N.current.y*I.current.y;K.scrollBy(se,ne)},[]),q=T.useMemo(()=>d===Pl.TreeOrder?[...h].reverse():h,[d,h]);T.useEffect(()=>{if(!u||!h.length||!P){A();return}for(const K of q){if(r?.(K)===!1)continue;const se=h.indexOf(K),ne=g[se];if(!ne)continue;const{direction:pe,speed:xe}=fL(K,ne,P,t,_);for(const Re of["x","y"])x[Re][pe[Re]]||(xe[Re]=0,pe[Re]=0);if(xe.x>0||xe.y>0){A(),j.current=K,S(L,l),N.current=xe,I.current=pe;return}}N.current={x:0,y:0},I.current={x:0,y:0},A()},[t,L,r,A,u,l,JSON.stringify(P),JSON.stringify(x),S,h,q,g,JSON.stringify(_)])}const CL={x:{[wt.Backward]:!1,[wt.Forward]:!1},y:{[wt.Backward]:!1,[wt.Forward]:!1}};function AL(e){let{delta:t,disabled:n}=e;const r=Jf(t);return Mu(a=>{if(n||!r||!a)return CL;const u={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[wt.Backward]:a.x[wt.Backward]||u.x===-1,[wt.Forward]:a.x[wt.Forward]||u.x===1},y:{[wt.Backward]:a.y[wt.Backward]||u.y===-1,[wt.Forward]:a.y[wt.Forward]||u.y===1}}},[n,t,r])}function NL(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Mu(a=>{var u;return t==null?null:(u=r??a)!=null?u:null},[r,t])}function kL(e,t){return T.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,u=a.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...u]},[]),[e,t])}var wu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(wu||(wu={}));var nh;(function(e){e.Optimized="optimized"})(nh||(nh={}));const I1=new Map;function RL(e,t){let{dragging:n,dependencies:r,config:a}=t;const[u,l]=T.useState(null),{frequency:d,measure:f,strategy:h}=a,g=T.useRef(e),y=N(),_=Tu(y),x=T.useCallback(function(I){I===void 0&&(I=[]),!_.current&&l(P=>P===null?I:P.concat(I.filter(j=>!P.includes(j))))},[_]),S=T.useRef(null),A=Mu(I=>{if(y&&!n)return I1;if(!I||I===I1||g.current!==e||u!=null){const P=new Map;for(let j of e){if(!j)continue;if(u&&u.length>0&&!u.includes(j.id)&&j.rect.current){P.set(j.id,j.rect.current);continue}const L=j.node.current,q=L?new n0(f(L),L):null;j.rect.current=q,q&&P.set(j.id,q)}return P}return I},[e,u,n,y,f]);return T.useEffect(()=>{g.current=e},[e]),T.useEffect(()=>{y||x()},[n,y]),T.useEffect(()=>{u&&u.length>0&&l(null)},[JSON.stringify(u)]),T.useEffect(()=>{y||typeof d!="number"||S.current!==null||(S.current=setTimeout(()=>{x(),S.current=null},d))},[d,y,x,...r]),{droppableRects:A,measureDroppableContainers:x,measuringScheduled:u!=null};function N(){switch(h){case wu.Always:return!1;case wu.BeforeDragging:return n;default:return!n}}}function My(e,t){return Mu(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function IL(e,t){return My(e,t)}function OL(e){let{callback:t,disabled:n}=e;const r=Zh(t),a=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(r)},[r,n]);return T.useEffect(()=>()=>a?.disconnect(),[a]),a}function uc(e){let{callback:t,disabled:n}=e;const r=Zh(t),a=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(r)},[n]);return T.useEffect(()=>()=>a?.disconnect(),[a]),a}function LL(e){return new n0(zi(e),e)}function O1(e,t,n){t===void 0&&(t=LL);const[r,a]=T.useState(null);function u(){a(f=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=f??n)!=null?h:null}const g=t(e);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const l=OL({callback(f){if(e)for(const h of f){const{type:g,target:y}=h;if(g==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),d=uc({callback:u});return fr(()=>{u(),e?(d?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),l?.disconnect())},[e]),r}function DL(e){const t=My(e);return Cy(e,t)}const L1=[];function PL(e){const t=T.useRef(e),n=Mu(r=>e?r&&r!==L1&&e&&t.current&&e.parentNode===t.current.parentNode?r:t0(e):L1,[e]);return T.useEffect(()=>{t.current=e},[e]),n}function ML(e){const[t,n]=T.useState(null),r=T.useRef(e),a=T.useCallback(u=>{const l=Tf(u.target);l&&n(d=>d?(d.set(l,eh(l)),new Map(d)):null)},[]);return T.useEffect(()=>{const u=r.current;if(e!==u){l(u);const d=e.map(f=>{const h=Tf(f);return h?(h.addEventListener("scroll",a,{passive:!0}),[h,eh(h)]):null}).filter(f=>f!=null);n(d.length?new Map(d):null),r.current=e}return()=>{l(e),l(u)};function l(d){d.forEach(f=>{const h=Tf(f);h?.removeEventListener("scroll",a)})}},[a,e]),T.useMemo(()=>e.length?t?Array.from(t.values()).reduce((u,l)=>vi(u,l),Gn):Oy(e):Gn,[e,t])}function D1(e,t){t===void 0&&(t=[]);const n=T.useRef(null);return T.useEffect(()=>{n.current=null},t),T.useEffect(()=>{const r=e!==Gn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Ll(e,n.current):Gn}function FL(e){T.useEffect(()=>{if(!ac)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function BL(e,t){return T.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:u}=r;return n[a]=l=>{u(l,t)},n},{}),[e,t])}function Fy(e){return T.useMemo(()=>e?oL(e):null,[e])}const P1=[];function UL(e,t){t===void 0&&(t=zi);const[n]=e,r=Fy(n?on(n):null),[a,u]=T.useState(P1);function l(){u(()=>e.length?e.map(f=>Ry(f)?r:new n0(t(f),f)):P1)}const d=uc({callback:l});return fr(()=>{d?.disconnect(),l(),e.forEach(f=>d?.observe(f))},[e]),a}function jL(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Pu(t)?t:e}function HL(e){let{measure:t}=e;const[n,r]=T.useState(null),a=T.useCallback(h=>{for(const{target:g}of h)if(Pu(g)){r(y=>{const _=t(g);return y?{...y,width:_.width,height:_.height}:_});break}},[t]),u=uc({callback:a}),l=T.useCallback(h=>{const g=jL(h);u?.disconnect(),g&&u?.observe(g),r(g?t(g):null)},[t,u]),[d,f]=Ol(l);return T.useMemo(()=>({nodeRef:d,rect:n,setRef:f}),[n,d,f])}const $L=[{sensor:Py,options:{}},{sensor:Dy,options:{}}],zL={current:{}},gl={draggable:{measure:A1},droppable:{measure:A1,strategy:wu.WhileDragging,frequency:nh.Optimized},dragOverlay:{measure:zi}};class lu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const qL={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new lu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Dl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:gl,measureDroppableContainers:Dl,windowRect:null,measuringScheduled:!1},WL={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Dl,draggableNodes:new Map,over:null,measureDroppableContainers:Dl},oc=T.createContext(WL),By=T.createContext(qL);function YL(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new lu}}}function VL(e,t){switch(t.type){case pt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case pt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case pt.DragEnd:case pt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case pt.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new lu(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case pt.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,u=e.droppable.containers.get(n);if(!u||r!==u.key)return e;const l=new lu(e.droppable.containers);return l.set(n,{...u,disabled:a}),{...e,droppable:{...e.droppable,containers:l}}}case pt.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const u=new lu(e.droppable.containers);return u.delete(n),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function GL(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=T.useContext(oc),u=Jf(r),l=Jf(n?.id);return T.useEffect(()=>{if(!t&&!r&&u&&l!=null){if(!e0(u)||document.activeElement===u.target)return;const d=a.get(l);if(!d)return;const{activatorNode:f,node:h}=d;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[f.current,h.current]){if(!g)continue;const y=U4(g);if(y){y.focus();break}}})}},[r,t,a,l,u]),null}function QL(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,u)=>u({transform:a,...r}),n):n}function KL(e){return T.useMemo(()=>({draggable:{...gl.draggable,...e?.draggable},droppable:{...gl.droppable,...e?.droppable},dragOverlay:{...gl.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function XL(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const u=T.useRef(!1),{x:l,y:d}=typeof a=="boolean"?{x:a,y:a}:a;fr(()=>{if(!l&&!d||!t){u.current=!1;return}if(u.current||!r)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),y=Cy(g,r);if(l||(y.x=0),d||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const _=Ay(h);_&&_.scrollBy({top:y.y,left:y.x})}},[t,l,d,r,n])}const Uy=T.createContext({...Gn,scaleX:1,scaleY:1});var as;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(as||(as={}));const JL=T.memo(function(t){var n,r,a,u;let{id:l,accessibility:d,autoScroll:f=!0,children:h,sensors:g=$L,collisionDetection:y=tL,measuring:_,modifiers:x,...S}=t;const A=T.useReducer(VL,void 0,YL),[N,I]=A,[P,j]=W4(),[L,q]=T.useState(as.Uninitialized),K=L===as.Initialized,{draggable:{active:se,nodes:ne,translate:pe},droppable:{containers:xe}}=N,Re=se!=null?ne.get(se):null,rt=T.useRef({initial:null,translated:null}),Ye=T.useMemo(()=>{var Je;return se!=null?{id:se,data:(Je=Re?.data)!=null?Je:zL,rect:rt}:null},[se,Re]),st=T.useRef(null),[kt,dt]=T.useState(null),[Ie,ee]=T.useState(null),le=Tu(S,Object.values(S)),te=Fu("DndDescribedBy",l),M=T.useMemo(()=>xe.getEnabled(),[xe]),W=KL(_),{droppableRects:me,measureDroppableContainers:be,measuringScheduled:ve}=RL(M,{dragging:K,dependencies:[pe.x,pe.y],config:W.droppable}),ye=NL(ne,se),Be=T.useMemo(()=>Ie?Zf(Ie):null,[Ie]),Ce=Pr(),Le=IL(ye,W.draggable.measure);XL({activeNode:se!=null?ne.get(se):null,config:Ce.layoutShiftCompensation,initialRect:Le,measure:W.draggable.measure});const _e=O1(ye,W.draggable.measure,Le),Zn=O1(ye?ye.parentElement:null),ln=T.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:ne,draggingNode:null,draggingNodeRect:null,droppableContainers:xe,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Dn=xe.getNodeFor((n=ln.current.over)==null?void 0:n.id),cn=HL({measure:W.dragOverlay.measure}),mr=(r=cn.nodeRef.current)!=null?r:ye,gr=K?(a=cn.rect)!=null?a:_e:null,Vs=!!(cn.nodeRef.current&&cn.rect),qi=DL(Vs?null:_e),ms=Fy(mr?on(mr):null),zt=PL(K?Dn??ye:null),Pn=UL(zt),Or=QL(x,{transform:{x:pe.x-qi.x,y:pe.y-qi.y,scaleX:1,scaleY:1},activatorEvent:Ie,active:Ye,activeNodeRect:_e,containerNodeRect:Zn,draggingNodeRect:gr,over:ln.current.over,overlayNodeRect:cn.rect,scrollableAncestors:zt,scrollableAncestorRects:Pn,windowRect:ms}),Wi=Be?vi(Be,pe):null,Yi=ML(zt),Bu=D1(Yi),Uu=D1(Yi,[_e]),er=vi(Or,Bu),Mn=gr?sL(gr,Or):null,Lr=Ye&&Mn?y({active:Ye,collisionRect:Mn,droppableRects:me,droppableContainers:M,pointerCoordinates:Wi}):null,Dr=J4(Lr,"id"),[qt,ju]=T.useState(null),Hu=Vs?Or:vi(Or,Uu),$u=nL(Hu,(u=qt?.rect)!=null?u:null,_e),Vi=T.useRef(null),Gs=T.useCallback((Je,Rt)=>{let{sensor:It,options:Fn}=Rt;if(st.current==null)return;const jt=ne.get(st.current);if(!jt)return;const Ot=Je.nativeEvent,Wt=new It({active:st.current,activeNode:jt,event:Ot,options:Fn,context:ln,onAbort(Ze){if(!ne.get(Ze))return;const{onDragAbort:Lt}=le.current,Bn={id:Ze};Lt?.(Bn),P({type:"onDragAbort",event:Bn})},onPending(Ze,Tn,Lt,Bn){if(!ne.get(Ze))return;const{onDragPending:tr}=le.current,dn={id:Ze,constraint:Tn,initialCoordinates:Lt,offset:Bn};tr?.(dn),P({type:"onDragPending",event:dn})},onStart(Ze){const Tn=st.current;if(Tn==null)return;const Lt=ne.get(Tn);if(!Lt)return;const{onDragStart:Bn}=le.current,Un={activatorEvent:Ot,active:{id:Tn,data:Lt.data,rect:rt}};Qa.unstable_batchedUpdates(()=>{Bn?.(Un),q(as.Initializing),I({type:pt.DragStart,initialCoordinates:Ze,active:Tn}),P({type:"onDragStart",event:Un}),dt(Vi.current),ee(Ot)})},onMove(Ze){I({type:pt.DragMove,coordinates:Ze})},onEnd:Er(pt.DragEnd),onCancel:Er(pt.DragCancel)});Vi.current=Wt;function Er(Ze){return async function(){const{active:Lt,collisions:Bn,over:Un,scrollAdjustedTranslate:tr}=ln.current;let dn=null;if(Lt&&tr){const{cancelDrop:br}=le.current;dn={activatorEvent:Ot,active:Lt,collisions:Bn,delta:tr,over:Un},Ze===pt.DragEnd&&typeof br=="function"&&await Promise.resolve(br(dn))&&(Ze=pt.DragCancel)}st.current=null,Qa.unstable_batchedUpdates(()=>{I({type:Ze}),q(as.Uninitialized),ju(null),dt(null),ee(null),Vi.current=null;const br=Ze===pt.DragEnd?"onDragEnd":"onDragCancel";if(dn){const Xi=le.current[br];Xi?.(dn),P({type:br,event:dn})}})}}},[ne]),Gi=T.useCallback((Je,Rt)=>(It,Fn)=>{const jt=It.nativeEvent,Ot=ne.get(Fn);if(st.current!==null||!Ot||jt.dndKit||jt.defaultPrevented)return;const Wt={active:Ot};Je(It,Rt.options,Wt)===!0&&(jt.dndKit={capturedBy:Rt.sensor},st.current=Fn,Gs(It,Rt))},[ne,Gs]),Qs=kL(g,Gi);FL(g),fr(()=>{_e&&L===as.Initializing&&q(as.Initialized)},[_e,L]),T.useEffect(()=>{const{onDragMove:Je}=le.current,{active:Rt,activatorEvent:It,collisions:Fn,over:jt}=ln.current;if(!Rt||!It)return;const Ot={active:Rt,activatorEvent:It,collisions:Fn,delta:{x:er.x,y:er.y},over:jt};Qa.unstable_batchedUpdates(()=>{Je?.(Ot),P({type:"onDragMove",event:Ot})})},[er.x,er.y]),T.useEffect(()=>{const{active:Je,activatorEvent:Rt,collisions:It,droppableContainers:Fn,scrollAdjustedTranslate:jt}=ln.current;if(!Je||st.current==null||!Rt||!jt)return;const{onDragOver:Ot}=le.current,Wt=Fn.get(Dr),Er=Wt&&Wt.rect.current?{id:Wt.id,rect:Wt.rect.current,data:Wt.data,disabled:Wt.disabled}:null,Ze={active:Je,activatorEvent:Rt,collisions:It,delta:{x:jt.x,y:jt.y},over:Er};Qa.unstable_batchedUpdates(()=>{ju(Er),Ot?.(Ze),P({type:"onDragOver",event:Ze})})},[Dr]),fr(()=>{ln.current={activatorEvent:Ie,active:Ye,activeNode:ye,collisionRect:Mn,collisions:Lr,droppableRects:me,draggableNodes:ne,draggingNode:mr,draggingNodeRect:gr,droppableContainers:xe,over:qt,scrollableAncestors:zt,scrollAdjustedTranslate:er},rt.current={initial:gr,translated:Mn}},[Ye,ye,Lr,Mn,ne,mr,gr,me,xe,qt,zt,er]),vL({...Ce,delta:pe,draggingRect:Mn,pointerCoordinates:Wi,scrollableAncestors:zt,scrollableAncestorRects:Pn});const Qi=T.useMemo(()=>({active:Ye,activeNode:ye,activeNodeRect:_e,activatorEvent:Ie,collisions:Lr,containerNodeRect:Zn,dragOverlay:cn,draggableNodes:ne,droppableContainers:xe,droppableRects:me,over:qt,measureDroppableContainers:be,scrollableAncestors:zt,scrollableAncestorRects:Pn,measuringConfiguration:W,measuringScheduled:ve,windowRect:ms}),[Ye,ye,_e,Ie,Lr,Zn,cn,ne,xe,me,qt,be,zt,Pn,W,ve,ms]),Ki=T.useMemo(()=>({activatorEvent:Ie,activators:Qs,active:Ye,activeNodeRect:_e,ariaDescribedById:{draggable:te},dispatch:I,draggableNodes:ne,over:qt,measureDroppableContainers:be}),[Ie,Qs,Ye,_e,I,te,ne,qt,be]);return nn.createElement(vy.Provider,{value:j},nn.createElement(oc.Provider,{value:Ki},nn.createElement(By.Provider,{value:Qi},nn.createElement(Uy.Provider,{value:$u},h)),nn.createElement(GL,{disabled:d?.restoreFocus===!1})),nn.createElement(G4,{...d,hiddenTextDescribedById:te}));function Pr(){const Je=kt?.autoScrollEnabled===!1,Rt=typeof f=="object"?f.enabled===!1:f===!1,It=K&&!Je&&!Rt;return typeof f=="object"?{...f,enabled:It}:{enabled:It}}}),ZL=T.createContext(null),M1="button",e5="Draggable";function t5(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const u=Fu(e5),{activators:l,activatorEvent:d,active:f,activeNodeRect:h,ariaDescribedById:g,draggableNodes:y,over:_}=T.useContext(oc),{role:x=M1,roleDescription:S="draggable",tabIndex:A=0}=a??{},N=f?.id===t,I=T.useContext(N?Uy:ZL),[P,j]=Ol(),[L,q]=Ol(),K=BL(l,t),se=Tu(n);fr(()=>(y.set(t,{id:t,key:u,node:P,activatorNode:L,data:se}),()=>{const pe=y.get(t);pe&&pe.key===u&&y.delete(t)}),[y,t]);const ne=T.useMemo(()=>({role:x,tabIndex:A,"aria-disabled":r,"aria-pressed":N&&x===M1?!0:void 0,"aria-roledescription":S,"aria-describedby":g.draggable}),[r,x,A,N,S,g.draggable]);return{active:f,activatorEvent:d,activeNodeRect:h,attributes:ne,isDragging:N,listeners:r?void 0:K,node:P,over:_,setNodeRef:j,setActivatorNodeRef:q,transform:I}}function n5(){return T.useContext(By)}const r5="Droppable",s5={timeout:25};function i5(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const u=Fu(r5),{active:l,dispatch:d,over:f,measureDroppableContainers:h}=T.useContext(oc),g=T.useRef({disabled:n}),y=T.useRef(!1),_=T.useRef(null),x=T.useRef(null),{disabled:S,updateMeasurementsFor:A,timeout:N}={...s5,...a},I=Tu(A??r),P=T.useCallback(()=>{if(!y.current){y.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{h(Array.isArray(I.current)?I.current:[I.current]),x.current=null},N)},[N]),j=uc({callback:P,disabled:S||!l}),L=T.useCallback((ne,pe)=>{j&&(pe&&(j.unobserve(pe),y.current=!1),ne&&j.observe(ne))},[j]),[q,K]=Ol(L),se=Tu(t);return T.useEffect(()=>{!j||!q.current||(j.disconnect(),y.current=!1,j.observe(q.current))},[q,j]),T.useEffect(()=>(d({type:pt.RegisterDroppable,element:{id:r,key:u,disabled:n,node:q,rect:_,data:se}}),()=>d({type:pt.UnregisterDroppable,key:u,id:r})),[r]),T.useEffect(()=>{n!==g.current.disabled&&(d({type:pt.SetDroppableDisabled,id:r,key:u,disabled:n}),g.current.disabled=n)},[r,u,n,d]),{active:l,rect:_,isOver:f?.id===r,node:q,over:f,setNodeRef:K}}function s0(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function a5(e,t){return e.reduce((n,r,a)=>{const u=t.get(r);return u&&(n[a]=u),n},Array(e.length))}function ul(e){return e!==null&&e>=0}function u5(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function o5(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const jy=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const u=s0(t,r,n),l=t[a],d=u[a];return!d||!l?null:{x:d.left-l.left,y:d.top-l.top,scaleX:d.width/l.width,scaleY:d.height/l.height}},ol={scaleX:1,scaleY:1},l5=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:u,overIndex:l}=e;const d=(t=u[n])!=null?t:r;if(!d)return null;if(a===n){const h=u[l];return h?{x:0,y:n<l?h.top+h.height-(d.top+d.height):h.top-d.top,...ol}:null}const f=c5(u,a,n);return a>n&&a<=l?{x:0,y:-d.height-f,...ol}:a<n&&a>=l?{x:0,y:d.height+f,...ol}:{x:0,y:0,...ol}};function c5(e,t,n){const r=e[t],a=e[t-1],u=e[t+1];return r?n<t?a?r.top-(a.top+a.height):u?u.top-(r.top+r.height):0:u?u.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const Hy="Sortable",$y=nn.createContext({activeIndex:-1,containerId:Hy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:jy,disabled:{draggable:!1,droppable:!1}});function d5(e){let{children:t,id:n,items:r,strategy:a=jy,disabled:u=!1}=e;const{active:l,dragOverlay:d,droppableRects:f,over:h,measureDroppableContainers:g}=n5(),y=Fu(Hy,n),_=d.rect!==null,x=T.useMemo(()=>r.map(K=>typeof K=="object"&&"id"in K?K.id:K),[r]),S=l!=null,A=l?x.indexOf(l.id):-1,N=h?x.indexOf(h.id):-1,I=T.useRef(x),P=!u5(x,I.current),j=N!==-1&&A===-1||P,L=o5(u);fr(()=>{P&&S&&g(x)},[P,x,S,g]),T.useEffect(()=>{I.current=x},[x]);const q=T.useMemo(()=>({activeIndex:A,containerId:y,disabled:L,disableTransforms:j,items:x,overIndex:N,useDragOverlay:_,sortedRects:a5(x,f),strategy:a}),[A,y,L.draggable,L.droppable,j,x,N,f,_,a]);return nn.createElement($y.Provider,{value:q},t)}const f5=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return s0(n,r,a).indexOf(t)},h5=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:u,newIndex:l,previousItems:d,previousContainerId:f,transition:h}=e;return!h||!r||d!==u&&a===l?!1:n?!0:l!==a&&t===f},p5={duration:200,easing:"ease"},zy="transform",m5=_u.Transition.toString({property:zy,duration:0,easing:"linear"}),g5={roleDescription:"sortable"};function E5(e){let{disabled:t,index:n,node:r,rect:a}=e;const[u,l]=T.useState(null),d=T.useRef(n);return fr(()=>{if(!t&&n!==d.current&&r.current){const f=a.current;if(f){const h=zi(r.current,{ignoreTransform:!0}),g={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(g.x||g.y)&&l(g)}}n!==d.current&&(d.current=n)},[t,n,r,a]),T.useEffect(()=>{u&&l(null)},[u]),u}function b5(e){let{animateLayoutChanges:t=h5,attributes:n,disabled:r,data:a,getNewIndex:u=f5,id:l,strategy:d,resizeObserverConfig:f,transition:h=p5}=e;const{items:g,containerId:y,activeIndex:_,disabled:x,disableTransforms:S,sortedRects:A,overIndex:N,useDragOverlay:I,strategy:P}=T.useContext($y),j=y5(r,x),L=g.indexOf(l),q=T.useMemo(()=>({sortable:{containerId:y,index:L,items:g},...a}),[y,a,L,g]),K=T.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:se,node:ne,isOver:pe,setNodeRef:xe}=i5({id:l,data:q,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:K,...f}}),{active:Re,activatorEvent:rt,activeNodeRect:Ye,attributes:st,setNodeRef:kt,listeners:dt,isDragging:Ie,over:ee,setActivatorNodeRef:le,transform:te}=t5({id:l,data:q,attributes:{...g5,...n},disabled:j.draggable}),M=P4(xe,kt),W=!!Re,me=W&&!S&&ul(_)&&ul(N),be=!I&&Ie,ve=be&&me?te:null,Be=me?ve??(d??P)({rects:A,activeNodeRect:Ye,activeIndex:_,overIndex:N,index:L}):null,Ce=ul(_)&&ul(N)?u({id:l,items:g,activeIndex:_,overIndex:N}):L,Le=Re?.id,_e=T.useRef({activeId:Le,items:g,newIndex:Ce,containerId:y}),Zn=g!==_e.current.items,ln=t({active:Re,containerId:y,isDragging:Ie,isSorting:W,id:l,index:L,items:g,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:h,wasDragging:_e.current.activeId!=null}),Dn=E5({disabled:!ln,index:L,node:ne,rect:se});return T.useEffect(()=>{W&&_e.current.newIndex!==Ce&&(_e.current.newIndex=Ce),y!==_e.current.containerId&&(_e.current.containerId=y),g!==_e.current.items&&(_e.current.items=g)},[W,Ce,y,g]),T.useEffect(()=>{if(Le===_e.current.activeId)return;if(Le!=null&&_e.current.activeId==null){_e.current.activeId=Le;return}const mr=setTimeout(()=>{_e.current.activeId=Le},50);return()=>clearTimeout(mr)},[Le]),{active:Re,activeIndex:_,attributes:st,data:q,rect:se,index:L,newIndex:Ce,items:g,isOver:pe,isSorting:W,isDragging:Ie,listeners:dt,node:ne,overIndex:N,over:ee,setNodeRef:M,setActivatorNodeRef:le,setDroppableNodeRef:xe,setDraggableNodeRef:kt,transform:Dn??Be,transition:cn()};function cn(){if(Dn||Zn&&_e.current.newIndex===L)return m5;if(!(be&&!e0(rt)||!h)&&(W||ln))return _u.Transition.toString({...h,property:zy})}}function y5(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}Ue.Down,Ue.Right,Ue.Up,Ue.Left;const T5=({placeholder:e,onChange:t,value:n})=>{const r=T.useRef(null);return T.useEffect(()=>{r.current&&(r.current.style.height="auto",r.current.style.height=`${r.current.scrollHeight}px`)},[n]),b.jsx("textarea",{className:"border rounded-xs px-2 py-1 w-full mr-3 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 resize-none overflow-hidden",ref:r,onChange:t,placeholder:e,value:n})},_5=({id:e,formValue:t,onEditFormValue:n,onDeleteClick:r})=>{const{attributes:a,listeners:u,setNodeRef:l,transform:d,transition:f}=b5({id:e}),h={transform:d?_u.Transform.toString(d):void 0,transition:f||"all 0.2s ease"},g=y=>{n({...t,value:y.target.value})};return b.jsxs("li",{ref:l,style:h,className:"text-gray-700 dark:text-gray-300 flex items-center justify-between mb-2",children:[b.jsx(T5,{onChange:g,value:t.value,placeholder:" "}),b.jsx(Ps,{icon:b.jsx(kS,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"}),title:"Drag Step",attributes:a,listeners:u}),b.jsx(xE,{onClick:()=>r(t.id)})]})},F1=({originalFormState:e,setOriginalFormState:t,sectionName:n})=>{const[r,a]=T.useState(e);T.useEffect(()=>{a([...e])},[e]),T.useEffect(()=>{const h=setTimeout(()=>{t(r)},400);return()=>clearTimeout(h)},[r,t]);const u=h=>{const g=r.map(y=>y.id===h.id?h:y);a(g)},l=()=>{a(h=>[...h,{id:Vh(),value:"",isActive:!0,sort_number:0}])},d=h=>{const g=r.map(y=>y.id===h?{...y,isActive:!1}:y);a(g)},f=h=>{const{active:g,over:y}=h;if(!y||g.id===y.id)return;const _=r.findIndex(S=>S.id===g.id),x=r.findIndex(S=>S.id===y.id);a(s0(r,_,x))};return b.jsxs("div",{className:"mb-4",children:[b.jsxs("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:[n,"s"]}),!(r?.length>0)&&b.jsx(Du,{message:`No ${n}s added yet. Add some to get started!`}),b.jsx(JL,{collisionDetection:Z4,onDragEnd:f,children:b.jsx(d5,{items:r.filter(h=>h.isActive).map(h=>h.id),strategy:l5,children:r.length>0&&b.jsx("ol",{className:"list-decimal mb-6 text-gray-700 dark:text-gray-300",children:r.filter(h=>h.isActive).map(h=>b.jsx(_5,{id:h.id,formValue:h,onEditFormValue:u,onDeleteClick:d},h.id))})})}),b.jsxs(Me,{type:"button",onClick:l,children:["Add ",n]})]})},w5=({formData:e,onFormChange:t})=>b.jsxs("form",{className:"w-full",children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"servings",id:"servings",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.servings,onChange:n=>t("servings",Number(n.target.value))}),b.jsx("label",{htmlFor:"servings",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Servings"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"prep_time",id:"prep_time",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.prep_time,onChange:n=>t("prep_time",Number(n.target.value))}),b.jsx("label",{htmlFor:"prep_time",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Prep Time (minutes)"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"cook_time",id:"cook_time",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.cook_time,onChange:n=>t("cook_time",Number(n.target.value))}),b.jsx("label",{htmlFor:"cook_time",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Cook Time (minutes)"})]})]}),x5=()=>{const e=Ln(),{id:t}=Bl(),n=!!t,[r,a]=T.useState(""),[u,l]=T.useState([]),[d,f]=T.useState(""),[h,g]=T.useState([]),[y,_]=T.useState({title:"",description:"",img_url:"",prep_time:0,cook_time:0,servings:1,original_recipe_url:"",ingredients:[],steps:[],collections:[],tags:[]}),[x,S]=T.useState({title:"",description:"",img_url:"",prep_time:0,cook_time:0,servings:1,original_recipe_url:"",ingredients:[],steps:[],collections:[],tags:[]});T.useEffect(()=>{const P=e.state?.recipe;if(P){const j={title:P.title||"",description:P.description||"",img_url:P.img_url||"",prep_time:P.prep_time||0,cook_time:P.cook_time||0,servings:P.servings||1,original_recipe_url:P.original_recipe_url||"",ingredients:P.ingredients||[],steps:P.steps||[],tags:P.tags?[...P.tags]:[],collections:P.collections?[...P.collections]:[]};_(j),S(j)}},[e.state?.recipe]);const A=(P,j)=>{_(L=>({...L,[P]:j}))},N=T.useCallback(async()=>{try{const P=await In.getList(0,25,d);P?.data&&g(P.data)}catch(P){console.error("Error fetching tags:",P)}},[d]),I=T.useCallback(async()=>{try{const P=await En.getList(0,25,r);P?.data&&l(P.data)}catch(P){console.error("Error fetching recipes:",P)}},[r]);return T.useEffect(()=>{I()},[r]),T.useEffect(()=>{N()},[N]),{formData:y,originalData:x,onFormChange:A,isEditing:n,id:t,collectionList:u,tagList:h,setCollectionSearch:a,setTagSearch:f}},Ml=(e,t)=>t?.filter(n=>n.isActive).map((n,r)=>({id:n.id,recipe_id:e,sort_number:r+1,value:n.value}))||[],S5=(e,t,n,r)=>{const a=un(),{user:u}=hr(),[l,d]=T.useState(!1),f=gt();return{handleSave:async g=>{g.preventDefault(),d(!0);try{if(n&&r){const y=Si.getChangedFields(t,e);if(!y){a.success("No changes detected.");return}const _=Si.extractSimpleValues(y);Object.keys(_).length>0&&await ze.upsert(r,_),await v5(r,y.ingredients||[]),await C5(r,y.steps||[]),await A5(r,y.tags||[],t?.tags||[]),await N5(r,y.collections||[],t?.collections||[]),a.success("Recipe updated successfully!"),f(`/recipes/${r}`)}else{const y=Si.extractSimpleValues(e),_=await ze.upsert(void 0,y,u?.id),x=_?.recipeId||"",S=Ml(x,e.ingredients);S.length>0&&await ze.upsertIngredients(S);const A=Ml(x,e.steps);A.length>0&&await ze.upsertSteps(A),e.tags&&e.tags.length>0&&await In.addToRecipe(x,e.tags),e.collections&&e.collections.length>0&&await ze.addOneToManyCollections(x,e.collections.map(N=>N.id)),await ze.refreshRecipeSearch(),a.success("Recipe added successfully!"),f(`/recipes/${_?.recipeId}`)}}catch(y){a.error(y.message)}finally{d(!1)}},isLoading:l}},v5=async(e,t)=>{const n=Ml(e,t),r=t.filter(a=>!a.isActive).map(a=>a.id);n.length>0&&await ze.upsertIngredients(n),r.length>0&&await ze.deleteIngredients(r)},C5=async(e,t)=>{const n=Ml(e,t),r=t.filter(a=>!a.isActive).map(a=>a.id);n.length>0&&await ze.upsertSteps(n),r.length>0&&await ze.deleteSteps(r)},A5=async(e,t,n)=>{const r=t.filter(u=>!n.some(l=>l.id===u.id)),a=n.filter(u=>!t.some(l=>l.id===u.id));r.length>0&&await In.addToRecipe(e,r),a.length>0&&await In.removeFromRecipe(e,a)},N5=async(e,t,n)=>{const r=t.filter(u=>!n.some(l=>l.id===u.id)),a=n.filter(u=>!t.some(l=>l.id===u.id));r.length>0&&await ze.addOneToManyCollections(e,r),a.length>0&&await ze.removeManyFromManyCollections([e],a)},B1=()=>{const e=gt(),{formData:t,originalData:n,onFormChange:r,isEditing:a,id:u,collectionList:l,tagList:d,setCollectionSearch:f,setTagSearch:h}=x5(),{handleSave:g,isLoading:y}=S5(t,n,a,u);return b.jsxs("div",{className:"max-w-2xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-end items-center mb-4 gap-4",children:[b.jsx(Me,{btnType:"dismissable",onClick:()=>e(-1),children:"Cancel"}),b.jsx(Me,{onClick:g,isLoading:y,children:a?"Save":"Add"})]}),b.jsx(Ey,{imgUrl:t.img_url,onImgUrlChange:_=>r("img_url",_)}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 p-6 rounded-b-lg shadow-md ${!t.img_url?.length&&"rounded-t-lg"}`,children:[b.jsx(by,{title:t.title,description:t.description,onFormChange:r}),b.jsx(w5,{formData:t,onFormChange:r}),b.jsx(F1,{originalFormState:t.ingredients,setOriginalFormState:_=>r("ingredients",_),sectionName:"Ingredient"}),b.jsx(F1,{originalFormState:t.steps,setOriginalFormState:_=>r("steps",_),sectionName:"Step"}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Tags",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Tags"}),b.jsx(Ri,{placeholder:"Search for tags...",inputId:"Tags",options:d,selectedOptions:t.tags||[],setSelectedOptions:_=>r("tags",_),onSearch:h})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Collections",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Collections"}),b.jsx(Ri,{placeholder:"Search for collections...",inputId:"Collections",options:l,selectedOptions:t.collections||[],setSelectedOptions:_=>r("collections",_),onSearch:f})]})]})]})},k5=()=>b.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 pb-6",children:b.jsx(rw,{children:b.jsxs(P6,{children:[b.jsx(M6,{}),b.jsx("div",{className:"container mx-auto px-4",children:b.jsxs(L2,{children:[b.jsx(en,{path:"/sign-in",element:b.jsx(nl,{children:b.jsx(U6,{})})}),b.jsx(en,{path:"/register",element:b.jsx(j6,{})}),b.jsx(en,{path:"/forgot-password",element:b.jsx(cO,{})}),b.jsx(en,{path:"/reset-password",element:b.jsx(B6,{})}),b.jsx(en,{path:"/",element:b.jsx(D4,{})}),b.jsx(en,{path:"/about",element:b.jsx(F6,{})}),b.jsx(en,{path:"/add-new",element:b.jsx(nl,{children:b.jsx(B1,{})})}),b.jsx(en,{path:"/recipes/:id",element:b.jsx(N4,{})}),b.jsx(en,{path:"/recipes/:id/edit",element:b.jsx(nl,{children:b.jsx(B1,{})})}),b.jsx(en,{path:"/collections",element:b.jsx(Z6,{})}),b.jsx(en,{path:"/collections/add-new",element:b.jsx(nl,{children:b.jsx(y1,{})})}),b.jsx(en,{path:"/collections/:id",element:b.jsx(X6,{})}),b.jsx(en,{path:"/collections/:id/edit",element:b.jsx(y1,{})})]})})]})})});z_.createRoot(document.getElementById("root")).render(b.jsx(T.StrictMode,{children:b.jsx(yS,{children:b.jsx(zS,{children:b.jsx(u6,{children:b.jsx(k5,{})})})})}));export{rh as g};
//# sourceMappingURL=index-BcRHw3zy.js.map
