(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function Xf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Md={exports:{}},Ca={},Fd={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function R_(){if(Rm)return Ce;Rm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),T=Symbol.iterator;function _(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,N={};function A(P,q,me){this.props=P,this.context=q,this.refs=N,this.updater=me||v}A.prototype.isReactComponent={},A.prototype.setState=function(P,q){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,q,"setState")},A.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function R(){}R.prototype=A.prototype;function L(P,q,me){this.props=P,this.context=q,this.refs=N,this.updater=me||v}var H=L.prototype=new R;H.constructor=L,x(H,A.prototype),H.isPureReactComponent=!0;var U=Array.isArray,W=Object.prototype.hasOwnProperty,te={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function Z(P,q,me){var be,Se={},ye=null,Me=null;if(q!=null)for(be in q.ref!==void 0&&(Me=q.ref),q.key!==void 0&&(ye=""+q.key),q)W.call(q,be)&&!se.hasOwnProperty(be)&&(Se[be]=q[be]);var Ae=arguments.length-2;if(Ae===1)Se.children=me;else if(1<Ae){for(var Oe=Array(Ae),_e=0;_e<Ae;_e++)Oe[_e]=arguments[_e+2];Se.children=Oe}if(P&&P.defaultProps)for(be in Ae=P.defaultProps,Ae)Se[be]===void 0&&(Se[be]=Ae[be]);return{$$typeof:e,type:P,key:ye,ref:Me,props:Se,_owner:te.current}}function ce(P,q){return{$$typeof:e,type:P.type,key:q,ref:P.ref,props:P.props,_owner:P._owner}}function ve(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function Re(P){var q={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(me){return q[me]})}var tt=/\/+/g;function ze(P,q){return typeof P=="object"&&P!==null&&P.key!=null?Re(""+P.key):q.toString(36)}function nt(P,q,me,be,Se){var ye=typeof P;(ye==="undefined"||ye==="boolean")&&(P=null);var Me=!1;if(P===null)Me=!0;else switch(ye){case"string":case"number":Me=!0;break;case"object":switch(P.$$typeof){case e:case t:Me=!0}}if(Me)return Me=P,Se=Se(Me),P=be===""?"."+ze(Me,0):be,U(Se)?(me="",P!=null&&(me=P.replace(tt,"$&/")+"/"),nt(Se,q,me,"",function(_e){return _e})):Se!=null&&(ve(Se)&&(Se=ce(Se,me+(!Se.key||Me&&Me.key===Se.key?"":(""+Se.key).replace(tt,"$&/")+"/")+P)),q.push(Se)),1;if(Me=0,be=be===""?".":be+":",U(P))for(var Ae=0;Ae<P.length;Ae++){ye=P[Ae];var Oe=be+ze(ye,Ae);Me+=nt(ye,q,me,Oe,Se)}else if(Oe=_(P),typeof Oe=="function")for(P=Oe.call(P),Ae=0;!(ye=P.next()).done;)ye=ye.value,Oe=be+ze(ye,Ae++),Me+=nt(ye,q,me,Oe,Se);else if(ye==="object")throw q=String(P),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Me}function At(P,q,me){if(P==null)return P;var be=[],Se=0;return nt(P,be,"","",function(ye){return q.call(me,ye,Se++)}),be}function lt(P){if(P._status===-1){var q=P._result;q=q(),q.then(function(me){(P._status===0||P._status===-1)&&(P._status=1,P._result=me)},function(me){(P._status===0||P._status===-1)&&(P._status=2,P._result=me)}),P._status===-1&&(P._status=0,P._result=q)}if(P._status===1)return P._result.default;throw P._result}var ke={current:null},ee={transition:null},le={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:ee,ReactCurrentOwner:te};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:At,forEach:function(P,q,me){At(P,function(){q.apply(this,arguments)},me)},count:function(P){var q=0;return At(P,function(){q++}),q},toArray:function(P){return At(P,function(q){return q})||[]},only:function(P){if(!ve(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ce.Component=A,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=L,Ce.StrictMode=r,Ce.Suspense=f,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ce.act=ne,Ce.cloneElement=function(P,q,me){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var be=x({},P.props),Se=P.key,ye=P.ref,Me=P._owner;if(q!=null){if(q.ref!==void 0&&(ye=q.ref,Me=te.current),q.key!==void 0&&(Se=""+q.key),P.type&&P.type.defaultProps)var Ae=P.type.defaultProps;for(Oe in q)W.call(q,Oe)&&!se.hasOwnProperty(Oe)&&(be[Oe]=q[Oe]===void 0&&Ae!==void 0?Ae[Oe]:q[Oe])}var Oe=arguments.length-2;if(Oe===1)be.children=me;else if(1<Oe){Ae=Array(Oe);for(var _e=0;_e<Oe;_e++)Ae[_e]=arguments[_e+2];be.children=Ae}return{$$typeof:e,type:P.type,key:Se,ref:ye,props:be,_owner:Me}},Ce.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:u,_context:P},P.Consumer=P},Ce.createElement=Z,Ce.createFactory=function(P){var q=Z.bind(null,P);return q.type=P,q},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:d,render:P}},Ce.isValidElement=ve,Ce.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:lt}},Ce.memo=function(P,q){return{$$typeof:h,type:P,compare:q===void 0?null:q}},Ce.startTransition=function(P){var q=ee.transition;ee.transition={};try{P()}finally{ee.transition=q}},Ce.unstable_act=ne,Ce.useCallback=function(P,q){return ke.current.useCallback(P,q)},Ce.useContext=function(P){return ke.current.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P){return ke.current.useDeferredValue(P)},Ce.useEffect=function(P,q){return ke.current.useEffect(P,q)},Ce.useId=function(){return ke.current.useId()},Ce.useImperativeHandle=function(P,q,me){return ke.current.useImperativeHandle(P,q,me)},Ce.useInsertionEffect=function(P,q){return ke.current.useInsertionEffect(P,q)},Ce.useLayoutEffect=function(P,q){return ke.current.useLayoutEffect(P,q)},Ce.useMemo=function(P,q){return ke.current.useMemo(P,q)},Ce.useReducer=function(P,q,me){return ke.current.useReducer(P,q,me)},Ce.useRef=function(P){return ke.current.useRef(P)},Ce.useState=function(P){return ke.current.useState(P)},Ce.useSyncExternalStore=function(P,q,me){return ke.current.useSyncExternalStore(P,q,me)},Ce.useTransition=function(){return ke.current.useTransition()},Ce.version="18.3.1",Ce}var Im;function Jf(){return Im||(Im=1,Fd.exports=R_()),Fd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function I_(){if(Om)return Ca;Om=1;var e=Jf(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(d,f,h){var g,T={},_=null,v=null;h!==void 0&&(_=""+h),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(v=f.ref);for(g in f)r.call(f,g)&&!u.hasOwnProperty(g)&&(T[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)T[g]===void 0&&(T[g]=f[g]);return{$$typeof:t,type:d,key:_,ref:v,props:T,_owner:a.current}}return Ca.Fragment=n,Ca.jsx=l,Ca.jsxs=l,Ca}var Dm;function O_(){return Dm||(Dm=1,Md.exports=I_()),Md.exports}var b=O_(),y=Jf();const en=Xf(y);var qo={},Bd={exports:{}},Kt={},Ud={exports:{}},jd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function D_(){return Lm||(Lm=1,function(e){function t(ee,le){var ne=ee.length;ee.push(le);e:for(;0<ne;){var P=ne-1>>>1,q=ee[P];if(0<a(q,le))ee[P]=le,ee[ne]=q,ne=P;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var le=ee[0],ne=ee.pop();if(ne!==le){ee[0]=ne;e:for(var P=0,q=ee.length,me=q>>>1;P<me;){var be=2*(P+1)-1,Se=ee[be],ye=be+1,Me=ee[ye];if(0>a(Se,ne))ye<q&&0>a(Me,Se)?(ee[P]=Me,ee[ye]=ne,P=ye):(ee[P]=Se,ee[be]=ne,P=be);else if(ye<q&&0>a(Me,ne))ee[P]=Me,ee[ye]=ne,P=ye;else break e}}return le}function a(ee,le){var ne=ee.sortIndex-le.sortIndex;return ne!==0?ne:ee.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],g=1,T=null,_=3,v=!1,x=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(ee){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=ee)r(h),le.sortIndex=le.expirationTime,t(f,le);else break;le=n(h)}}function U(ee){if(N=!1,H(ee),!x)if(n(f)!==null)x=!0,lt(W);else{var le=n(h);le!==null&&ke(U,le.startTime-ee)}}function W(ee,le){x=!1,N&&(N=!1,R(Z),Z=-1),v=!0;var ne=_;try{for(H(le),T=n(f);T!==null&&(!(T.expirationTime>le)||ee&&!Re());){var P=T.callback;if(typeof P=="function"){T.callback=null,_=T.priorityLevel;var q=P(T.expirationTime<=le);le=e.unstable_now(),typeof q=="function"?T.callback=q:T===n(f)&&r(f),H(le)}else r(f);T=n(f)}if(T!==null)var me=!0;else{var be=n(h);be!==null&&ke(U,be.startTime-le),me=!1}return me}finally{T=null,_=ne,v=!1}}var te=!1,se=null,Z=-1,ce=5,ve=-1;function Re(){return!(e.unstable_now()-ve<ce)}function tt(){if(se!==null){var ee=e.unstable_now();ve=ee;var le=!0;try{le=se(!0,ee)}finally{le?ze():(te=!1,se=null)}}else te=!1}var ze;if(typeof L=="function")ze=function(){L(tt)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,At=nt.port2;nt.port1.onmessage=tt,ze=function(){At.postMessage(null)}}else ze=function(){A(tt,0)};function lt(ee){se=ee,te||(te=!0,ze())}function ke(ee,le){Z=A(function(){ee(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,lt(W))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(ee){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var ne=_;_=le;try{return ee()}finally{_=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ne=_;_=ee;try{return le()}finally{_=ne}},e.unstable_scheduleCallback=function(ee,le,ne){var P=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?P+ne:P):ne=P,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ne+q,ee={id:g++,callback:le,priorityLevel:ee,startTime:ne,expirationTime:q,sortIndex:-1},ne>P?(ee.sortIndex=ne,t(h,ee),n(f)===null&&ee===n(h)&&(N?(R(Z),Z=-1):N=!0,ke(U,ne-P))):(ee.sortIndex=q,t(f,ee),x||v||(x=!0,lt(W))),ee},e.unstable_shouldYield=Re,e.unstable_wrapCallback=function(ee){var le=_;return function(){var ne=_;_=le;try{return ee.apply(this,arguments)}finally{_=ne}}}}(jd)),jd}var Pm;function L_(){return Pm||(Pm=1,Ud.exports=D_()),Ud.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function P_(){if(Mm)return Kt;Mm=1;var e=Jf(),t=L_();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function u(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(a[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},T={};function _(s){return f.call(T,s)?!0:f.call(g,s)?!1:h.test(s)?T[s]=!0:(g[s]=!0,!1)}function v(s,i,o,c){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,i,o,c){if(i===null||typeof i>"u"||v(s,i,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(s,i,o,c,m,E,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=s,this.type=i,this.sanitizeURL=E,this.removeEmptyString=w}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];A[i]=new N(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(R,L);A[i]=new N(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(R,L);A[i]=new N(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(R,L);A[i]=new N(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function H(s,i,o,c){var m=A.hasOwnProperty(i)?A[i]:null;(m!==null?m.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(x(i,o,m,c)&&(o=null),c||m===null?_(i)&&(o===null?s.removeAttribute(i):s.setAttribute(i,""+o)):m.mustUseProperty?s[m.propertyName]=o===null?m.type===3?!1:"":o:(i=m.attributeName,c=m.attributeNamespace,o===null?s.removeAttribute(i):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,c?s.setAttributeNS(c,i,o):s.setAttribute(i,o))))}var U=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),te=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),Re=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),ee=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,P;function q(s){if(P===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+s}var me=!1;function be(s,i){if(!s||me)return"";me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(j){var c=j}Reflect.construct(s,[],i)}else{try{i.call()}catch(j){c=j}s.call(i.prototype)}else{try{throw Error()}catch(j){c=j}s()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var m=j.stack.split(`
`),E=c.stack.split(`
`),w=m.length-1,k=E.length-1;1<=w&&0<=k&&m[w]!==E[k];)k--;for(;1<=w&&0<=k;w--,k--)if(m[w]!==E[k]){if(w!==1||k!==1)do if(w--,k--,0>k||m[w]!==E[k]){var O=`
`+m[w].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=w&&0<=k);break}}}finally{me=!1,Error.prepareStackTrace=o}return(s=s?s.displayName||s.name:"")?q(s):""}function Se(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function ye(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case se:return"Fragment";case te:return"Portal";case ce:return"Profiler";case Z:return"StrictMode";case ze:return"Suspense";case nt:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Re:return(s.displayName||"Context")+".Consumer";case ve:return(s._context.displayName||"Context")+".Provider";case tt:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case At:return i=s.displayName||null,i!==null?i:ye(s.type)||"Memo";case lt:i=s._payload,s=s._init;try{return ye(s(i))}catch{}}return null}function Me(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(i);case 8:return i===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Oe(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _e(s){var i=Oe(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),c=""+s[i];if(!s.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,E=o.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){c=""+w,E.call(this,w)}}),Object.defineProperty(s,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Gn(s){s._valueTracker||(s._valueTracker=_e(s))}function sn(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return s&&(c=Oe(s)?s.checked?"true":"false":s.value),s=c,s!==o?(i.setValue(s),!0):!1}function Cn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function an(s,i){var o=i.checked;return ne({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??s._wrapperState.initialChecked})}function lr(s,i){var o=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;o=Ae(i.value!=null?i.value:o),s._wrapperState={initialChecked:c,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function cr(s,i){i=i.checked,i!=null&&H(s,"checked",i,!1)}function qs(s,i){cr(s,i);var o=Ae(i.value),c=i.type;if(o!=null)c==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+o):s.value!==""+o&&(s.value=""+o);else if(c==="submit"||c==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ls(s,i.type,o):i.hasOwnProperty("defaultValue")&&ls(s,i.type,Ae(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function ji(s,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,o||i===s.value||(s.value=i),s.defaultValue=i}o=s.name,o!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,o!==""&&(s.name=o)}function ls(s,i,o){(i!=="number"||Cn(s.ownerDocument)!==s)&&(o==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+o&&(s.defaultValue=""+o))}var $t=Array.isArray;function Nn(s,i,o,c){if(s=s.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=i.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&c&&(s[o].defaultSelected=!0)}else{for(o=""+Ae(o),i=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Ar(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Hi(s,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(n(92));if($t(o)){if(1<o.length)throw Error(n(93));o=o[0]}i=o}i==null&&(i=""),o=i}s._wrapperState={initialValue:Ae(o)}}function $i(s,i){var o=Ae(i.value),c=Ae(i.defaultValue);o!=null&&(o=""+o,o!==s.value&&(s.value=o),i.defaultValue==null&&s.defaultValue!==o&&(s.defaultValue=o)),c!=null&&(s.defaultValue=""+c)}function Du(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Lu(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kn(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Lu(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var kn,Cr=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,c,m){MSApp.execUnsafeLocalFunction(function(){return s(i,o,c,m)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=kn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Nr(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pu=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(s){Pu.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),zt[i]=zt[s]})});function Mu(s,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||zt.hasOwnProperty(s)&&zt[s]?(""+i).trim():i+"px"}function Fu(s,i){s=s.style;for(var o in i)if(i.hasOwnProperty(o)){var c=o.indexOf("--")===0,m=Mu(o,i[o],c);o==="float"&&(o="cssFloat"),c?s.setProperty(o,m):s[o]=m}}var zi=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ws(s,i){if(i){if(zi[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function qi(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=null;function Wi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yi=null,kr=null,Ke=null;function Ct(s){if(s=fa(s)){if(typeof Yi!="function")throw Error(n(280));var i=s.stateNode;i&&(i=so(i),Yi(s.stateNode,s.type,i))}}function Nt(s){kr?Ke?Ke.push(s):Ke=[s]:kr=s}function Rn(){if(kr){var s=kr,i=Ke;if(Ke=kr=null,Ct(s),i)for(s=0;s<i.length;s++)Ct(i[s])}}function Ft(s,i){return s(i)}function kt(){}var qt=!1;function dr(s,i,o){if(qt)return s(i,o);qt=!0;try{return Ft(s,i,o)}finally{qt=!1,(kr!==null||Ke!==null)&&(kt(),Rn())}}function Xe(s,i){var o=s.stateNode;if(o===null)return null;var c=so(o);if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(n(231,i,typeof o));return o}var gn=!1;if(d)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){gn=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{gn=!1}function In(s,i,o,c,m,E,w,k,O){var j=Array.prototype.slice.call(arguments,3);try{i.apply(o,j)}catch(Q){this.onError(Q)}}var On=!1,Xn=null,un=!1,fr=null,Vi={onError:function(s){On=!0,Xn=s}};function By(s,i,o,c,m,E,w,k,O){On=!1,Xn=null,In.apply(Vi,arguments)}function Uy(s,i,o,c,m,E,w,k,O){if(By.apply(this,arguments),On){if(On){var j=Xn;On=!1,Xn=null}else throw Error(n(198));un||(un=!0,fr=j)}}function cs(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,i.flags&4098&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function Zh(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function e0(s){if(cs(s)!==s)throw Error(n(188))}function jy(s){var i=s.alternate;if(!i){if(i=cs(s),i===null)throw Error(n(188));return i!==s?null:s}for(var o=s,c=i;;){var m=o.return;if(m===null)break;var E=m.alternate;if(E===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===E.child){for(E=m.child;E;){if(E===o)return e0(m),s;if(E===c)return e0(m),i;E=E.sibling}throw Error(n(188))}if(o.return!==c.return)o=m,c=E;else{for(var w=!1,k=m.child;k;){if(k===o){w=!0,o=m,c=E;break}if(k===c){w=!0,c=m,o=E;break}k=k.sibling}if(!w){for(k=E.child;k;){if(k===o){w=!0,o=E,c=m;break}if(k===c){w=!0,c=E,o=m;break}k=k.sibling}if(!w)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?s:i}function t0(s){return s=jy(s),s!==null?n0(s):null}function n0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=n0(s);if(i!==null)return i;s=s.sibling}return null}var r0=t.unstable_scheduleCallback,s0=t.unstable_cancelCallback,Hy=t.unstable_shouldYield,$y=t.unstable_requestPaint,st=t.unstable_now,zy=t.unstable_getCurrentPriorityLevel,nc=t.unstable_ImmediatePriority,i0=t.unstable_UserBlockingPriority,Bu=t.unstable_NormalPriority,qy=t.unstable_LowPriority,a0=t.unstable_IdlePriority,Uu=null,Jn=null;function Wy(s){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Uu,s,void 0,(s.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:Qy,Yy=Math.log,Vy=Math.LN2;function Qy(s){return s>>>=0,s===0?32:31-(Yy(s)/Vy|0)|0}var ju=64,Hu=4194304;function Qi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $u(s,i){var o=s.pendingLanes;if(o===0)return 0;var c=0,m=s.suspendedLanes,E=s.pingedLanes,w=o&268435455;if(w!==0){var k=w&~m;k!==0?c=Qi(k):(E&=w,E!==0&&(c=Qi(E)))}else w=o&~m,w!==0?c=Qi(w):E!==0&&(c=Qi(E));if(c===0)return 0;if(i!==0&&i!==c&&!(i&m)&&(m=c&-c,E=i&-i,m>=E||m===16&&(E&4194240)!==0))return i;if(c&4&&(c|=o&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=c;0<i;)o=31-Dn(i),m=1<<o,c|=s[o],i&=~m;return c}function Gy(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ky(s,i){for(var o=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,E=s.pendingLanes;0<E;){var w=31-Dn(E),k=1<<w,O=m[w];O===-1?(!(k&o)||k&c)&&(m[w]=Gy(k,i)):O<=i&&(s.expiredLanes|=k),E&=~k}}function rc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function u0(){var s=ju;return ju<<=1,!(ju&4194240)&&(ju=64),s}function sc(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function Gi(s,i,o){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Dn(i),s[i]=o}function Xy(s,i){var o=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var c=s.eventTimes;for(s=s.expirationTimes;0<o;){var m=31-Dn(o),E=1<<m;i[m]=0,c[m]=-1,s[m]=-1,o&=~E}}function ic(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var c=31-Dn(o),m=1<<c;m&i|s[c]&i&&(s[c]|=i),o&=~m}}var Ue=0;function o0(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var l0,ac,c0,d0,f0,uc=!1,zu=[],Rr=null,Ir=null,Or=null,Ki=new Map,Xi=new Map,Dr=[],Jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h0(s,i){switch(s){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Ki.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(i.pointerId)}}function Ji(s,i,o,c,m,E){return s===null||s.nativeEvent!==E?(s={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:E,targetContainers:[m]},i!==null&&(i=fa(i),i!==null&&ac(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function Zy(s,i,o,c,m){switch(i){case"focusin":return Rr=Ji(Rr,s,i,o,c,m),!0;case"dragenter":return Ir=Ji(Ir,s,i,o,c,m),!0;case"mouseover":return Or=Ji(Or,s,i,o,c,m),!0;case"pointerover":var E=m.pointerId;return Ki.set(E,Ji(Ki.get(E)||null,s,i,o,c,m)),!0;case"gotpointercapture":return E=m.pointerId,Xi.set(E,Ji(Xi.get(E)||null,s,i,o,c,m)),!0}return!1}function p0(s){var i=ds(s.target);if(i!==null){var o=cs(i);if(o!==null){if(i=o.tag,i===13){if(i=Zh(o),i!==null){s.blockedOn=i,f0(s.priority,function(){c0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function qu(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=lc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);Ys=c,o.target.dispatchEvent(c),Ys=null}else return i=fa(o),i!==null&&ac(i),s.blockedOn=o,!1;i.shift()}return!0}function m0(s,i,o){qu(s)&&o.delete(i)}function eT(){uc=!1,Rr!==null&&qu(Rr)&&(Rr=null),Ir!==null&&qu(Ir)&&(Ir=null),Or!==null&&qu(Or)&&(Or=null),Ki.forEach(m0),Xi.forEach(m0)}function Zi(s,i){s.blockedOn===i&&(s.blockedOn=null,uc||(uc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eT)))}function ea(s){function i(m){return Zi(m,s)}if(0<zu.length){Zi(zu[0],s);for(var o=1;o<zu.length;o++){var c=zu[o];c.blockedOn===s&&(c.blockedOn=null)}}for(Rr!==null&&Zi(Rr,s),Ir!==null&&Zi(Ir,s),Or!==null&&Zi(Or,s),Ki.forEach(i),Xi.forEach(i),o=0;o<Dr.length;o++)c=Dr[o],c.blockedOn===s&&(c.blockedOn=null);for(;0<Dr.length&&(o=Dr[0],o.blockedOn===null);)p0(o),o.blockedOn===null&&Dr.shift()}var Vs=U.ReactCurrentBatchConfig,Wu=!0;function tT(s,i,o,c){var m=Ue,E=Vs.transition;Vs.transition=null;try{Ue=1,oc(s,i,o,c)}finally{Ue=m,Vs.transition=E}}function nT(s,i,o,c){var m=Ue,E=Vs.transition;Vs.transition=null;try{Ue=4,oc(s,i,o,c)}finally{Ue=m,Vs.transition=E}}function oc(s,i,o,c){if(Wu){var m=lc(s,i,o,c);if(m===null)Ac(s,i,c,Yu,o),h0(s,c);else if(Zy(m,s,i,o,c))c.stopPropagation();else if(h0(s,c),i&4&&-1<Jy.indexOf(s)){for(;m!==null;){var E=fa(m);if(E!==null&&l0(E),E=lc(s,i,o,c),E===null&&Ac(s,i,c,Yu,o),E===m)break;m=E}m!==null&&c.stopPropagation()}else Ac(s,i,c,null,o)}}var Yu=null;function lc(s,i,o,c){if(Yu=null,s=Wi(c),s=ds(s),s!==null)if(i=cs(s),i===null)s=null;else if(o=i.tag,o===13){if(s=Zh(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Yu=s,null}function g0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zy()){case nc:return 1;case i0:return 4;case Bu:case qy:return 16;case a0:return 536870912;default:return 16}default:return 16}}var Lr=null,cc=null,Vu=null;function E0(){if(Vu)return Vu;var s,i=cc,o=i.length,c,m="value"in Lr?Lr.value:Lr.textContent,E=m.length;for(s=0;s<o&&i[s]===m[s];s++);var w=o-s;for(c=1;c<=w&&i[o-c]===m[E-c];c++);return Vu=m.slice(s,1<c?1-c:void 0)}function Qu(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Gu(){return!0}function b0(){return!1}function on(s){function i(o,c,m,E,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=E,this.target=w,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(o=s[k],this[k]=o?o(E):E[k]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Gu:b0,this.isPropagationStopped=b0,this}return ne(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),i}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=on(Qs),ta=ne({},Qs,{view:0,detail:0}),rT=on(ta),fc,hc,na,Ku=ne({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==na&&(na&&s.type==="mousemove"?(fc=s.screenX-na.screenX,hc=s.screenY-na.screenY):hc=fc=0,na=s),fc)},movementY:function(s){return"movementY"in s?s.movementY:hc}}),y0=on(Ku),sT=ne({},Ku,{dataTransfer:0}),iT=on(sT),aT=ne({},ta,{relatedTarget:0}),pc=on(aT),uT=ne({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),oT=on(uT),lT=ne({},Qs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),cT=on(lT),dT=ne({},Qs,{data:0}),T0=on(dT),fT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mT(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=pT[s])?!!i[s]:!1}function mc(){return mT}var gT=ne({},ta,{key:function(s){if(s.key){var i=fT[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Qu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hT[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(s){return s.type==="keypress"?Qu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ET=on(gT),bT=ne({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_0=on(bT),yT=ne({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),TT=on(yT),_T=ne({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),wT=on(_T),xT=ne({},Ku,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),vT=on(xT),ST=[9,13,27,32],gc=d&&"CompositionEvent"in window,ra=null;d&&"documentMode"in document&&(ra=document.documentMode);var AT=d&&"TextEvent"in window&&!ra,w0=d&&(!gc||ra&&8<ra&&11>=ra),x0=" ",v0=!1;function S0(s,i){switch(s){case"keyup":return ST.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Gs=!1;function CT(s,i){switch(s){case"compositionend":return A0(i);case"keypress":return i.which!==32?null:(v0=!0,x0);case"textInput":return s=i.data,s===x0&&v0?null:s;default:return null}}function NT(s,i){if(Gs)return s==="compositionend"||!gc&&S0(s,i)?(s=E0(),Vu=cc=Lr=null,Gs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return w0&&i.locale!=="ko"?null:i.data;default:return null}}var kT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C0(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!kT[s.type]:i==="textarea"}function N0(s,i,o,c){Nt(c),i=to(i,"onChange"),0<i.length&&(o=new dc("onChange","change",null,o,c),s.push({event:o,listeners:i}))}var sa=null,ia=null;function RT(s){Y0(s,0)}function Xu(s){var i=ei(s);if(sn(i))return s}function IT(s,i){if(s==="change")return i}var k0=!1;if(d){var Ec;if(d){var bc="oninput"in document;if(!bc){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),bc=typeof R0.oninput=="function"}Ec=bc}else Ec=!1;k0=Ec&&(!document.documentMode||9<document.documentMode)}function I0(){sa&&(sa.detachEvent("onpropertychange",O0),ia=sa=null)}function O0(s){if(s.propertyName==="value"&&Xu(ia)){var i=[];N0(i,ia,s,Wi(s)),dr(RT,i)}}function OT(s,i,o){s==="focusin"?(I0(),sa=i,ia=o,sa.attachEvent("onpropertychange",O0)):s==="focusout"&&I0()}function DT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xu(ia)}function LT(s,i){if(s==="click")return Xu(i)}function PT(s,i){if(s==="input"||s==="change")return Xu(i)}function MT(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Ln=typeof Object.is=="function"?Object.is:MT;function aa(s,i){if(Ln(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!f.call(i,m)||!Ln(s[m],i[m]))return!1}return!0}function D0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function L0(s,i){var o=D0(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=i&&c>=i)return{node:o,offset:i-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=D0(o)}}function P0(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?P0(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function M0(){for(var s=window,i=Cn();i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=Cn(s.document)}return i}function yc(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function FT(s){var i=M0(),o=s.focusedElem,c=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&P0(o.ownerDocument.documentElement,o)){if(c!==null&&yc(o)){if(i=c.start,s=c.end,s===void 0&&(s=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(s,o.value.length);else if(s=(i=o.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var m=o.textContent.length,E=Math.min(c.start,m);c=c.end===void 0?E:Math.min(c.end,m),!s.extend&&E>c&&(m=c,c=E,E=m),m=L0(o,E);var w=L0(o,c);m&&w&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==w.node||s.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),s.removeAllRanges(),E>c?(s.addRange(i),s.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),s.addRange(i)))}}for(i=[],s=o;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)s=i[o],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var BT=d&&"documentMode"in document&&11>=document.documentMode,Ks=null,Tc=null,ua=null,_c=!1;function F0(s,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_c||Ks==null||Ks!==Cn(c)||(c=Ks,"selectionStart"in c&&yc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ua&&aa(ua,c)||(ua=c,c=to(Tc,"onSelect"),0<c.length&&(i=new dc("onSelect","select",null,i,o),s.push({event:i,listeners:c}),i.target=Ks)))}function Ju(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var Xs={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},wc={},B0={};d&&(B0=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Zu(s){if(wc[s])return wc[s];if(!Xs[s])return s;var i=Xs[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in B0)return wc[s]=i[o];return s}var U0=Zu("animationend"),j0=Zu("animationiteration"),H0=Zu("animationstart"),$0=Zu("transitionend"),z0=new Map,q0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(s,i){z0.set(s,i),u(i,[s])}for(var xc=0;xc<q0.length;xc++){var vc=q0[xc],UT=vc.toLowerCase(),jT=vc[0].toUpperCase()+vc.slice(1);Pr(UT,"on"+jT)}Pr(U0,"onAnimationEnd"),Pr(j0,"onAnimationIteration"),Pr(H0,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr($0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HT=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function W0(s,i,o){var c=s.type||"unknown-event";s.currentTarget=o,Uy(c,i,void 0,s),s.currentTarget=null}function Y0(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],m=c.event;c=c.listeners;e:{var E=void 0;if(i)for(var w=c.length-1;0<=w;w--){var k=c[w],O=k.instance,j=k.currentTarget;if(k=k.listener,O!==E&&m.isPropagationStopped())break e;W0(m,k,j),E=O}else for(w=0;w<c.length;w++){if(k=c[w],O=k.instance,j=k.currentTarget,k=k.listener,O!==E&&m.isPropagationStopped())break e;W0(m,k,j),E=O}}}if(un)throw s=fr,un=!1,fr=null,s}function qe(s,i){var o=i[Oc];o===void 0&&(o=i[Oc]=new Set);var c=s+"__bubble";o.has(c)||(V0(i,s,2,!1),o.add(c))}function Sc(s,i,o){var c=0;i&&(c|=4),V0(o,s,c,i)}var eo="_reactListening"+Math.random().toString(36).slice(2);function la(s){if(!s[eo]){s[eo]=!0,r.forEach(function(o){o!=="selectionchange"&&(HT.has(o)||Sc(o,!1,s),Sc(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[eo]||(i[eo]=!0,Sc("selectionchange",!1,i))}}function V0(s,i,o,c){switch(g0(i)){case 1:var m=tT;break;case 4:m=nT;break;default:m=oc}o=m.bind(null,i,o,s),m=void 0,!gn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(i,o,{capture:!0,passive:m}):s.addEventListener(i,o,!0):m!==void 0?s.addEventListener(i,o,{passive:m}):s.addEventListener(i,o,!1)}function Ac(s,i,o,c,m){var E=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var k=c.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(w===4)for(w=c.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;w=w.return}for(;k!==null;){if(w=ds(k),w===null)return;if(O=w.tag,O===5||O===6){c=E=w;continue e}k=k.parentNode}}c=c.return}dr(function(){var j=E,Q=Wi(o),K=[];e:{var V=z0.get(s);if(V!==void 0){var re=dc,ae=s;switch(s){case"keypress":if(Qu(o)===0)break e;case"keydown":case"keyup":re=ET;break;case"focusin":ae="focus",re=pc;break;case"focusout":ae="blur",re=pc;break;case"beforeblur":case"afterblur":re=pc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=iT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=TT;break;case U0:case j0:case H0:re=oT;break;case $0:re=wT;break;case"scroll":re=rT;break;case"wheel":re=vT;break;case"copy":case"cut":case"paste":re=cT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=_0}var ue=(i&4)!==0,it=!ue&&s==="scroll",F=ue?V!==null?V+"Capture":null:V;ue=[];for(var D=j,B;D!==null;){B=D;var J=B.stateNode;if(B.tag===5&&J!==null&&(B=J,F!==null&&(J=Xe(D,F),J!=null&&ue.push(ca(D,J,B)))),it)break;D=D.return}0<ue.length&&(V=new re(V,ae,null,o,Q),K.push({event:V,listeners:ue}))}}if(!(i&7)){e:{if(V=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",V&&o!==Ys&&(ae=o.relatedTarget||o.fromElement)&&(ds(ae)||ae[hr]))break e;if((re||V)&&(V=Q.window===Q?Q:(V=Q.ownerDocument)?V.defaultView||V.parentWindow:window,re?(ae=o.relatedTarget||o.toElement,re=j,ae=ae?ds(ae):null,ae!==null&&(it=cs(ae),ae!==it||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=j),re!==ae)){if(ue=y0,J="onMouseLeave",F="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(ue=_0,J="onPointerLeave",F="onPointerEnter",D="pointer"),it=re==null?V:ei(re),B=ae==null?V:ei(ae),V=new ue(J,D+"leave",re,o,Q),V.target=it,V.relatedTarget=B,J=null,ds(Q)===j&&(ue=new ue(F,D+"enter",ae,o,Q),ue.target=B,ue.relatedTarget=it,J=ue),it=J,re&&ae)t:{for(ue=re,F=ae,D=0,B=ue;B;B=Js(B))D++;for(B=0,J=F;J;J=Js(J))B++;for(;0<D-B;)ue=Js(ue),D--;for(;0<B-D;)F=Js(F),B--;for(;D--;){if(ue===F||F!==null&&ue===F.alternate)break t;ue=Js(ue),F=Js(F)}ue=null}else ue=null;re!==null&&Q0(K,V,re,ue,!1),ae!==null&&it!==null&&Q0(K,it,ae,ue,!0)}}e:{if(V=j?ei(j):window,re=V.nodeName&&V.nodeName.toLowerCase(),re==="select"||re==="input"&&V.type==="file")var oe=IT;else if(C0(V))if(k0)oe=PT;else{oe=DT;var de=OT}else(re=V.nodeName)&&re.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(oe=LT);if(oe&&(oe=oe(s,j))){N0(K,oe,o,Q);break e}de&&de(s,V,j),s==="focusout"&&(de=V._wrapperState)&&de.controlled&&V.type==="number"&&ls(V,"number",V.value)}switch(de=j?ei(j):window,s){case"focusin":(C0(de)||de.contentEditable==="true")&&(Ks=de,Tc=j,ua=null);break;case"focusout":ua=Tc=Ks=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,F0(K,o,Q);break;case"selectionchange":if(BT)break;case"keydown":case"keyup":F0(K,o,Q)}var fe;if(gc)e:{switch(s){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Gs?S0(s,o)&&(ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(ge="onCompositionStart");ge&&(w0&&o.locale!=="ko"&&(Gs||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Gs&&(fe=E0()):(Lr=Q,cc="value"in Lr?Lr.value:Lr.textContent,Gs=!0)),de=to(j,ge),0<de.length&&(ge=new T0(ge,s,null,o,Q),K.push({event:ge,listeners:de}),fe?ge.data=fe:(fe=A0(o),fe!==null&&(ge.data=fe)))),(fe=AT?CT(s,o):NT(s,o))&&(j=to(j,"onBeforeInput"),0<j.length&&(Q=new T0("onBeforeInput","beforeinput",null,o,Q),K.push({event:Q,listeners:j}),Q.data=fe))}Y0(K,i)})}function ca(s,i,o){return{instance:s,listener:i,currentTarget:o}}function to(s,i){for(var o=i+"Capture",c=[];s!==null;){var m=s,E=m.stateNode;m.tag===5&&E!==null&&(m=E,E=Xe(s,o),E!=null&&c.unshift(ca(s,E,m)),E=Xe(s,i),E!=null&&c.push(ca(s,E,m))),s=s.return}return c}function Js(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Q0(s,i,o,c,m){for(var E=i._reactName,w=[];o!==null&&o!==c;){var k=o,O=k.alternate,j=k.stateNode;if(O!==null&&O===c)break;k.tag===5&&j!==null&&(k=j,m?(O=Xe(o,E),O!=null&&w.unshift(ca(o,O,k))):m||(O=Xe(o,E),O!=null&&w.push(ca(o,O,k)))),o=o.return}w.length!==0&&s.push({event:i,listeners:w})}var $T=/\r\n?/g,zT=/\u0000|\uFFFD/g;function G0(s){return(typeof s=="string"?s:""+s).replace($T,`
`).replace(zT,"")}function no(s,i,o){if(i=G0(i),G0(s)!==i&&o)throw Error(n(425))}function ro(){}var Cc=null,Nc=null;function kc(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rc=typeof setTimeout=="function"?setTimeout:void 0,qT=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(s){return K0.resolve(null).then(s).catch(YT)}:Rc;function YT(s){setTimeout(function(){throw s})}function Ic(s,i){var o=i,c=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(c===0){s.removeChild(m),ea(i);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=m}while(o);ea(i)}function Mr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function X0(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return s;i--}else o==="/$"&&i++}s=s.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Zs,da="__reactProps$"+Zs,hr="__reactContainer$"+Zs,Oc="__reactEvents$"+Zs,VT="__reactListeners$"+Zs,QT="__reactHandles$"+Zs;function ds(s){var i=s[Zn];if(i)return i;for(var o=s.parentNode;o;){if(i=o[hr]||o[Zn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=X0(s);s!==null;){if(o=s[Zn])return o;s=X0(s)}return i}s=o,o=s.parentNode}return null}function fa(s){return s=s[Zn]||s[hr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ei(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function so(s){return s[da]||null}var Dc=[],ti=-1;function Fr(s){return{current:s}}function We(s){0>ti||(s.current=Dc[ti],Dc[ti]=null,ti--)}function He(s,i){ti++,Dc[ti]=s.current,s.current=i}var Br={},It=Fr(Br),Wt=Fr(!1),fs=Br;function ni(s,i){var o=s.type.contextTypes;if(!o)return Br;var c=s.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var m={},E;for(E in o)m[E]=i[E];return c&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=m),m}function Yt(s){return s=s.childContextTypes,s!=null}function io(){We(Wt),We(It)}function J0(s,i,o){if(It.current!==Br)throw Error(n(168));He(It,i),He(Wt,o)}function Z0(s,i,o){var c=s.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var m in c)if(!(m in i))throw Error(n(108,Me(s)||"Unknown",m));return ne({},o,c)}function ao(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Br,fs=It.current,He(It,s),He(Wt,Wt.current),!0}function ep(s,i,o){var c=s.stateNode;if(!c)throw Error(n(169));o?(s=Z0(s,i,fs),c.__reactInternalMemoizedMergedChildContext=s,We(Wt),We(It),He(It,s)):We(Wt),He(Wt,o)}var pr=null,uo=!1,Lc=!1;function tp(s){pr===null?pr=[s]:pr.push(s)}function GT(s){uo=!0,tp(s)}function Ur(){if(!Lc&&pr!==null){Lc=!0;var s=0,i=Ue;try{var o=pr;for(Ue=1;s<o.length;s++){var c=o[s];do c=c(!0);while(c!==null)}pr=null,uo=!1}catch(m){throw pr!==null&&(pr=pr.slice(s+1)),r0(nc,Ur),m}finally{Ue=i,Lc=!1}}return null}var ri=[],si=0,oo=null,lo=0,En=[],bn=0,hs=null,mr=1,gr="";function ps(s,i){ri[si++]=lo,ri[si++]=oo,oo=s,lo=i}function np(s,i,o){En[bn++]=mr,En[bn++]=gr,En[bn++]=hs,hs=s;var c=mr;s=gr;var m=32-Dn(c)-1;c&=~(1<<m),o+=1;var E=32-Dn(i)+m;if(30<E){var w=m-m%5;E=(c&(1<<w)-1).toString(32),c>>=w,m-=w,mr=1<<32-Dn(i)+m|o<<m|c,gr=E+s}else mr=1<<E|o<<m|c,gr=s}function Pc(s){s.return!==null&&(ps(s,1),np(s,1,0))}function Mc(s){for(;s===oo;)oo=ri[--si],ri[si]=null,lo=ri[--si],ri[si]=null;for(;s===hs;)hs=En[--bn],En[bn]=null,gr=En[--bn],En[bn]=null,mr=En[--bn],En[bn]=null}var ln=null,cn=null,Ve=!1,Pn=null;function rp(s,i){var o=wn(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=s,i=s.deletions,i===null?(s.deletions=[o],s.flags|=16):i.push(o)}function sp(s,i){switch(s.tag){case 5:var o=s.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,ln=s,cn=Mr(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,ln=s,cn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=hs!==null?{id:mr,overflow:gr}:null,s.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=wn(18,null,null,0),o.stateNode=i,o.return=s,s.child=o,ln=s,cn=null,!0):!1;default:return!1}}function Fc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Bc(s){if(Ve){var i=cn;if(i){var o=i;if(!sp(s,i)){if(Fc(s))throw Error(n(418));i=Mr(o.nextSibling);var c=ln;i&&sp(s,i)?rp(c,o):(s.flags=s.flags&-4097|2,Ve=!1,ln=s)}}else{if(Fc(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ve=!1,ln=s}}}function ip(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ln=s}function co(s){if(s!==ln)return!1;if(!Ve)return ip(s),Ve=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!kc(s.type,s.memoizedProps)),i&&(i=cn)){if(Fc(s))throw ap(),Error(n(418));for(;i;)rp(s,i),i=Mr(i.nextSibling)}if(ip(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"){if(i===0){cn=Mr(s.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}s=s.nextSibling}cn=null}}else cn=ln?Mr(s.stateNode.nextSibling):null;return!0}function ap(){for(var s=cn;s;)s=Mr(s.nextSibling)}function ii(){cn=ln=null,Ve=!1}function Uc(s){Pn===null?Pn=[s]:Pn.push(s)}var KT=U.ReactCurrentBatchConfig;function ha(s,i,o){if(s=o.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,s));var m=c,E=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===E?i.ref:(i=function(w){var k=m.refs;w===null?delete k[E]:k[E]=w},i._stringRef=E,i)}if(typeof s!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,s))}return s}function fo(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function up(s){var i=s._init;return i(s._payload)}function op(s){function i(F,D){if(s){var B=F.deletions;B===null?(F.deletions=[D],F.flags|=16):B.push(D)}}function o(F,D){if(!s)return null;for(;D!==null;)i(F,D),D=D.sibling;return null}function c(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function m(F,D){return F=Vr(F,D),F.index=0,F.sibling=null,F}function E(F,D,B){return F.index=B,s?(B=F.alternate,B!==null?(B=B.index,B<D?(F.flags|=2,D):B):(F.flags|=2,D)):(F.flags|=1048576,D)}function w(F){return s&&F.alternate===null&&(F.flags|=2),F}function k(F,D,B,J){return D===null||D.tag!==6?(D=Rd(B,F.mode,J),D.return=F,D):(D=m(D,B),D.return=F,D)}function O(F,D,B,J){var oe=B.type;return oe===se?Q(F,D,B.props.children,J,B.key):D!==null&&(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===lt&&up(oe)===D.type)?(J=m(D,B.props),J.ref=ha(F,D,B),J.return=F,J):(J=Mo(B.type,B.key,B.props,null,F.mode,J),J.ref=ha(F,D,B),J.return=F,J)}function j(F,D,B,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Id(B,F.mode,J),D.return=F,D):(D=m(D,B.children||[]),D.return=F,D)}function Q(F,D,B,J,oe){return D===null||D.tag!==7?(D=ws(B,F.mode,J,oe),D.return=F,D):(D=m(D,B),D.return=F,D)}function K(F,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Rd(""+D,F.mode,B),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case W:return B=Mo(D.type,D.key,D.props,null,F.mode,B),B.ref=ha(F,null,D),B.return=F,B;case te:return D=Id(D,F.mode,B),D.return=F,D;case lt:var J=D._init;return K(F,J(D._payload),B)}if($t(D)||le(D))return D=ws(D,F.mode,B,null),D.return=F,D;fo(F,D)}return null}function V(F,D,B,J){var oe=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return oe!==null?null:k(F,D,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case W:return B.key===oe?O(F,D,B,J):null;case te:return B.key===oe?j(F,D,B,J):null;case lt:return oe=B._init,V(F,D,oe(B._payload),J)}if($t(B)||le(B))return oe!==null?null:Q(F,D,B,J,null);fo(F,B)}return null}function re(F,D,B,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return F=F.get(B)||null,k(D,F,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case W:return F=F.get(J.key===null?B:J.key)||null,O(D,F,J,oe);case te:return F=F.get(J.key===null?B:J.key)||null,j(D,F,J,oe);case lt:var de=J._init;return re(F,D,B,de(J._payload),oe)}if($t(J)||le(J))return F=F.get(B)||null,Q(D,F,J,oe,null);fo(D,J)}return null}function ae(F,D,B,J){for(var oe=null,de=null,fe=D,ge=D=0,gt=null;fe!==null&&ge<B.length;ge++){fe.index>ge?(gt=fe,fe=null):gt=fe.sibling;var Pe=V(F,fe,B[ge],J);if(Pe===null){fe===null&&(fe=gt);break}s&&fe&&Pe.alternate===null&&i(F,fe),D=E(Pe,D,ge),de===null?oe=Pe:de.sibling=Pe,de=Pe,fe=gt}if(ge===B.length)return o(F,fe),Ve&&ps(F,ge),oe;if(fe===null){for(;ge<B.length;ge++)fe=K(F,B[ge],J),fe!==null&&(D=E(fe,D,ge),de===null?oe=fe:de.sibling=fe,de=fe);return Ve&&ps(F,ge),oe}for(fe=c(F,fe);ge<B.length;ge++)gt=re(fe,F,ge,B[ge],J),gt!==null&&(s&&gt.alternate!==null&&fe.delete(gt.key===null?ge:gt.key),D=E(gt,D,ge),de===null?oe=gt:de.sibling=gt,de=gt);return s&&fe.forEach(function(Qr){return i(F,Qr)}),Ve&&ps(F,ge),oe}function ue(F,D,B,J){var oe=le(B);if(typeof oe!="function")throw Error(n(150));if(B=oe.call(B),B==null)throw Error(n(151));for(var de=oe=null,fe=D,ge=D=0,gt=null,Pe=B.next();fe!==null&&!Pe.done;ge++,Pe=B.next()){fe.index>ge?(gt=fe,fe=null):gt=fe.sibling;var Qr=V(F,fe,Pe.value,J);if(Qr===null){fe===null&&(fe=gt);break}s&&fe&&Qr.alternate===null&&i(F,fe),D=E(Qr,D,ge),de===null?oe=Qr:de.sibling=Qr,de=Qr,fe=gt}if(Pe.done)return o(F,fe),Ve&&ps(F,ge),oe;if(fe===null){for(;!Pe.done;ge++,Pe=B.next())Pe=K(F,Pe.value,J),Pe!==null&&(D=E(Pe,D,ge),de===null?oe=Pe:de.sibling=Pe,de=Pe);return Ve&&ps(F,ge),oe}for(fe=c(F,fe);!Pe.done;ge++,Pe=B.next())Pe=re(fe,F,ge,Pe.value,J),Pe!==null&&(s&&Pe.alternate!==null&&fe.delete(Pe.key===null?ge:Pe.key),D=E(Pe,D,ge),de===null?oe=Pe:de.sibling=Pe,de=Pe);return s&&fe.forEach(function(N_){return i(F,N_)}),Ve&&ps(F,ge),oe}function it(F,D,B,J){if(typeof B=="object"&&B!==null&&B.type===se&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case W:e:{for(var oe=B.key,de=D;de!==null;){if(de.key===oe){if(oe=B.type,oe===se){if(de.tag===7){o(F,de.sibling),D=m(de,B.props.children),D.return=F,F=D;break e}}else if(de.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===lt&&up(oe)===de.type){o(F,de.sibling),D=m(de,B.props),D.ref=ha(F,de,B),D.return=F,F=D;break e}o(F,de);break}else i(F,de);de=de.sibling}B.type===se?(D=ws(B.props.children,F.mode,J,B.key),D.return=F,F=D):(J=Mo(B.type,B.key,B.props,null,F.mode,J),J.ref=ha(F,D,B),J.return=F,F=J)}return w(F);case te:e:{for(de=B.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){o(F,D.sibling),D=m(D,B.children||[]),D.return=F,F=D;break e}else{o(F,D);break}else i(F,D);D=D.sibling}D=Id(B,F.mode,J),D.return=F,F=D}return w(F);case lt:return de=B._init,it(F,D,de(B._payload),J)}if($t(B))return ae(F,D,B,J);if(le(B))return ue(F,D,B,J);fo(F,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,D!==null&&D.tag===6?(o(F,D.sibling),D=m(D,B),D.return=F,F=D):(o(F,D),D=Rd(B,F.mode,J),D.return=F,F=D),w(F)):o(F,D)}return it}var ai=op(!0),lp=op(!1),ho=Fr(null),po=null,ui=null,jc=null;function Hc(){jc=ui=po=null}function $c(s){var i=ho.current;We(ho),s._currentValue=i}function zc(s,i,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===o)break;s=s.return}}function oi(s,i){po=s,jc=ui=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&i&&(Vt=!0),s.firstContext=null)}function yn(s){var i=s._currentValue;if(jc!==s)if(s={context:s,memoizedValue:i,next:null},ui===null){if(po===null)throw Error(n(308));ui=s,po.dependencies={lanes:0,firstContext:s}}else ui=ui.next=s;return i}var ms=null;function qc(s){ms===null?ms=[s]:ms.push(s)}function cp(s,i,o,c){var m=i.interleaved;return m===null?(o.next=o,qc(i)):(o.next=m.next,m.next=o),i.interleaved=o,Er(s,c)}function Er(s,i){s.lanes|=i;var o=s.alternate;for(o!==null&&(o.lanes|=i),o=s,s=s.return;s!==null;)s.childLanes|=i,o=s.alternate,o!==null&&(o.childLanes|=i),o=s,s=s.return;return o.tag===3?o.stateNode:null}var jr=!1;function Wc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function br(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Hr(s,i,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,De&2){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,Er(s,o)}return m=c.interleaved,m===null?(i.next=i,qc(c)):(i.next=m.next,m.next=i),c.interleaved=i,Er(s,o)}function mo(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,ic(s,o)}}function fp(s,i){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,E=null;if(o=o.firstBaseUpdate,o!==null){do{var w={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};E===null?m=E=w:E=E.next=w,o=o.next}while(o!==null);E===null?m=E=i:E=E.next=i}else m=E=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:E,shared:c.shared,effects:c.effects},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}function go(s,i,o,c){var m=s.updateQueue;jr=!1;var E=m.firstBaseUpdate,w=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var O=k,j=O.next;O.next=null,w===null?E=j:w.next=j,w=O;var Q=s.alternate;Q!==null&&(Q=Q.updateQueue,k=Q.lastBaseUpdate,k!==w&&(k===null?Q.firstBaseUpdate=j:k.next=j,Q.lastBaseUpdate=O))}if(E!==null){var K=m.baseState;w=0,Q=j=O=null,k=E;do{var V=k.lane,re=k.eventTime;if((c&V)===V){Q!==null&&(Q=Q.next={eventTime:re,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ae=s,ue=k;switch(V=i,re=o,ue.tag){case 1:if(ae=ue.payload,typeof ae=="function"){K=ae.call(re,K,V);break e}K=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ue.payload,V=typeof ae=="function"?ae.call(re,K,V):ae,V==null)break e;K=ne({},K,V);break e;case 2:jr=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,V=m.effects,V===null?m.effects=[k]:V.push(k))}else re={eventTime:re,lane:V,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Q===null?(j=Q=re,O=K):Q=Q.next=re,w|=V;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;V=k,k=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);if(Q===null&&(O=K),m.baseState=O,m.firstBaseUpdate=j,m.lastBaseUpdate=Q,i=m.shared.interleaved,i!==null){m=i;do w|=m.lane,m=m.next;while(m!==i)}else E===null&&(m.shared.lanes=0);bs|=w,s.lanes=w,s.memoizedState=K}}function hp(s,i,o){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var c=s[i],m=c.callback;if(m!==null){if(c.callback=null,c=o,typeof m!="function")throw Error(n(191,m));m.call(c)}}}var pa={},er=Fr(pa),ma=Fr(pa),ga=Fr(pa);function gs(s){if(s===pa)throw Error(n(174));return s}function Yc(s,i){switch(He(ga,i),He(ma,s),He(er,pa),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Kn(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Kn(i,s)}We(er),He(er,i)}function li(){We(er),We(ma),We(ga)}function pp(s){gs(ga.current);var i=gs(er.current),o=Kn(i,s.type);i!==o&&(He(ma,s),He(er,o))}function Vc(s){ma.current===s&&(We(er),We(ma))}var Je=Fr(0);function Eo(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qc=[];function Gc(){for(var s=0;s<Qc.length;s++)Qc[s]._workInProgressVersionPrimary=null;Qc.length=0}var bo=U.ReactCurrentDispatcher,Kc=U.ReactCurrentBatchConfig,Es=0,Ze=null,ct=null,pt=null,yo=!1,Ea=!1,ba=0,XT=0;function Ot(){throw Error(n(321))}function Xc(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Ln(s[o],i[o]))return!1;return!0}function Jc(s,i,o,c,m,E){if(Es=E,Ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,bo.current=s===null||s.memoizedState===null?t_:n_,s=o(c,m),Ea){E=0;do{if(Ea=!1,ba=0,25<=E)throw Error(n(301));E+=1,pt=ct=null,i.updateQueue=null,bo.current=r_,s=o(c,m)}while(Ea)}if(bo.current=wo,i=ct!==null&&ct.next!==null,Es=0,pt=ct=Ze=null,yo=!1,i)throw Error(n(300));return s}function Zc(){var s=ba!==0;return ba=0,s}function tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ze.memoizedState=pt=s:pt=pt.next=s,pt}function Tn(){if(ct===null){var s=Ze.alternate;s=s!==null?s.memoizedState:null}else s=ct.next;var i=pt===null?Ze.memoizedState:pt.next;if(i!==null)pt=i,ct=s;else{if(s===null)throw Error(n(310));ct=s,s={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},pt===null?Ze.memoizedState=pt=s:pt=pt.next=s}return pt}function ya(s,i){return typeof i=="function"?i(s):i}function ed(s){var i=Tn(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=s;var c=ct,m=c.baseQueue,E=o.pending;if(E!==null){if(m!==null){var w=m.next;m.next=E.next,E.next=w}c.baseQueue=m=E,o.pending=null}if(m!==null){E=m.next,c=c.baseState;var k=w=null,O=null,j=E;do{var Q=j.lane;if((Es&Q)===Q)O!==null&&(O=O.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:s(c,j.action);else{var K={lane:Q,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};O===null?(k=O=K,w=c):O=O.next=K,Ze.lanes|=Q,bs|=Q}j=j.next}while(j!==null&&j!==E);O===null?w=c:O.next=k,Ln(c,i.memoizedState)||(Vt=!0),i.memoizedState=c,i.baseState=w,i.baseQueue=O,o.lastRenderedState=c}if(s=o.interleaved,s!==null){m=s;do E=m.lane,Ze.lanes|=E,bs|=E,m=m.next;while(m!==s)}else m===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function td(s){var i=Tn(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=s;var c=o.dispatch,m=o.pending,E=i.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do E=s(E,w.action),w=w.next;while(w!==m);Ln(E,i.memoizedState)||(Vt=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),o.lastRenderedState=E}return[E,c]}function mp(){}function gp(s,i){var o=Ze,c=Tn(),m=i(),E=!Ln(c.memoizedState,m);if(E&&(c.memoizedState=m,Vt=!0),c=c.queue,nd(yp.bind(null,o,c,s),[s]),c.getSnapshot!==i||E||pt!==null&&pt.memoizedState.tag&1){if(o.flags|=2048,Ta(9,bp.bind(null,o,c,m,i),void 0,null),mt===null)throw Error(n(349));Es&30||Ep(o,i,m)}return m}function Ep(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function bp(s,i,o,c){i.value=o,i.getSnapshot=c,Tp(i)&&_p(s)}function yp(s,i,o){return o(function(){Tp(i)&&_p(s)})}function Tp(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Ln(s,o)}catch{return!0}}function _p(s){var i=Er(s,1);i!==null&&Un(i,s,1,-1)}function wp(s){var i=tr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:s},i.queue=s,s=s.dispatch=e_.bind(null,Ze,s),[i.memoizedState,s]}function Ta(s,i,o,c){return s={tag:s,create:i,destroy:o,deps:c,next:null},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.lastEffect=s.next=s):(o=i.lastEffect,o===null?i.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,i.lastEffect=s)),s}function xp(){return Tn().memoizedState}function To(s,i,o,c){var m=tr();Ze.flags|=s,m.memoizedState=Ta(1|i,o,void 0,c===void 0?null:c)}function _o(s,i,o,c){var m=Tn();c=c===void 0?null:c;var E=void 0;if(ct!==null){var w=ct.memoizedState;if(E=w.destroy,c!==null&&Xc(c,w.deps)){m.memoizedState=Ta(i,o,E,c);return}}Ze.flags|=s,m.memoizedState=Ta(1|i,o,E,c)}function vp(s,i){return To(8390656,8,s,i)}function nd(s,i){return _o(2048,8,s,i)}function Sp(s,i){return _o(4,2,s,i)}function Ap(s,i){return _o(4,4,s,i)}function Cp(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Np(s,i,o){return o=o!=null?o.concat([s]):null,_o(4,4,Cp.bind(null,i,s),o)}function rd(){}function kp(s,i){var o=Tn();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&Xc(i,c[1])?c[0]:(o.memoizedState=[s,i],s)}function Rp(s,i){var o=Tn();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&Xc(i,c[1])?c[0]:(s=s(),o.memoizedState=[s,i],s)}function Ip(s,i,o){return Es&21?(Ln(o,i)||(o=u0(),Ze.lanes|=o,bs|=o,s.baseState=!0),i):(s.baseState&&(s.baseState=!1,Vt=!0),s.memoizedState=o)}function JT(s,i){var o=Ue;Ue=o!==0&&4>o?o:4,s(!0);var c=Kc.transition;Kc.transition={};try{s(!1),i()}finally{Ue=o,Kc.transition=c}}function Op(){return Tn().memoizedState}function ZT(s,i,o){var c=Wr(s);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Dp(s))Lp(i,o);else if(o=cp(s,i,o,c),o!==null){var m=Ut();Un(o,s,c,m),Pp(o,i,c)}}function e_(s,i,o){var c=Wr(s),m={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Dp(s))Lp(i,m);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var w=i.lastRenderedState,k=E(w,o);if(m.hasEagerState=!0,m.eagerState=k,Ln(k,w)){var O=i.interleaved;O===null?(m.next=m,qc(i)):(m.next=O.next,O.next=m),i.interleaved=m;return}}catch{}finally{}o=cp(s,i,m,c),o!==null&&(m=Ut(),Un(o,s,c,m),Pp(o,i,c))}}function Dp(s){var i=s.alternate;return s===Ze||i!==null&&i===Ze}function Lp(s,i){Ea=yo=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function Pp(s,i,o){if(o&4194240){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,ic(s,o)}}var wo={readContext:yn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},t_={readContext:yn,useCallback:function(s,i){return tr().memoizedState=[s,i===void 0?null:i],s},useContext:yn,useEffect:vp,useImperativeHandle:function(s,i,o){return o=o!=null?o.concat([s]):null,To(4194308,4,Cp.bind(null,i,s),o)},useLayoutEffect:function(s,i){return To(4194308,4,s,i)},useInsertionEffect:function(s,i){return To(4,2,s,i)},useMemo:function(s,i){var o=tr();return i=i===void 0?null:i,s=s(),o.memoizedState=[s,i],s},useReducer:function(s,i,o){var c=tr();return i=o!==void 0?o(i):i,c.memoizedState=c.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},c.queue=s,s=s.dispatch=ZT.bind(null,Ze,s),[c.memoizedState,s]},useRef:function(s){var i=tr();return s={current:s},i.memoizedState=s},useState:wp,useDebugValue:rd,useDeferredValue:function(s){return tr().memoizedState=s},useTransition:function(){var s=wp(!1),i=s[0];return s=JT.bind(null,s[1]),tr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,o){var c=Ze,m=tr();if(Ve){if(o===void 0)throw Error(n(407));o=o()}else{if(o=i(),mt===null)throw Error(n(349));Es&30||Ep(c,i,o)}m.memoizedState=o;var E={value:o,getSnapshot:i};return m.queue=E,vp(yp.bind(null,c,E,s),[s]),c.flags|=2048,Ta(9,bp.bind(null,c,E,o,i),void 0,null),o},useId:function(){var s=tr(),i=mt.identifierPrefix;if(Ve){var o=gr,c=mr;o=(c&~(1<<32-Dn(c)-1)).toString(32)+o,i=":"+i+"R"+o,o=ba++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=XT++,i=":"+i+"r"+o.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},n_={readContext:yn,useCallback:kp,useContext:yn,useEffect:nd,useImperativeHandle:Np,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:Rp,useReducer:ed,useRef:xp,useState:function(){return ed(ya)},useDebugValue:rd,useDeferredValue:function(s){var i=Tn();return Ip(i,ct.memoizedState,s)},useTransition:function(){var s=ed(ya)[0],i=Tn().memoizedState;return[s,i]},useMutableSource:mp,useSyncExternalStore:gp,useId:Op,unstable_isNewReconciler:!1},r_={readContext:yn,useCallback:kp,useContext:yn,useEffect:nd,useImperativeHandle:Np,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:Rp,useReducer:td,useRef:xp,useState:function(){return td(ya)},useDebugValue:rd,useDeferredValue:function(s){var i=Tn();return ct===null?i.memoizedState=s:Ip(i,ct.memoizedState,s)},useTransition:function(){var s=td(ya)[0],i=Tn().memoizedState;return[s,i]},useMutableSource:mp,useSyncExternalStore:gp,useId:Op,unstable_isNewReconciler:!1};function Mn(s,i){if(s&&s.defaultProps){i=ne({},i),s=s.defaultProps;for(var o in s)i[o]===void 0&&(i[o]=s[o]);return i}return i}function sd(s,i,o,c){i=s.memoizedState,o=o(c,i),o=o==null?i:ne({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var xo={isMounted:function(s){return(s=s._reactInternals)?cs(s)===s:!1},enqueueSetState:function(s,i,o){s=s._reactInternals;var c=Ut(),m=Wr(s),E=br(c,m);E.payload=i,o!=null&&(E.callback=o),i=Hr(s,E,m),i!==null&&(Un(i,s,m,c),mo(i,s,m))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var c=Ut(),m=Wr(s),E=br(c,m);E.tag=1,E.payload=i,o!=null&&(E.callback=o),i=Hr(s,E,m),i!==null&&(Un(i,s,m,c),mo(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=Ut(),c=Wr(s),m=br(o,c);m.tag=2,i!=null&&(m.callback=i),i=Hr(s,m,c),i!==null&&(Un(i,s,c,o),mo(i,s,c))}};function Mp(s,i,o,c,m,E,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,E,w):i.prototype&&i.prototype.isPureReactComponent?!aa(o,c)||!aa(m,E):!0}function Fp(s,i,o){var c=!1,m=Br,E=i.contextType;return typeof E=="object"&&E!==null?E=yn(E):(m=Yt(i)?fs:It.current,c=i.contextTypes,E=(c=c!=null)?ni(s,m):Br),i=new i(o,E),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=xo,s.stateNode=i,i._reactInternals=s,c&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=E),i}function Bp(s,i,o,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==s&&xo.enqueueReplaceState(i,i.state,null)}function id(s,i,o,c){var m=s.stateNode;m.props=o,m.state=s.memoizedState,m.refs={},Wc(s);var E=i.contextType;typeof E=="object"&&E!==null?m.context=yn(E):(E=Yt(i)?fs:It.current,m.context=ni(s,E)),m.state=s.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(sd(s,i,E,o),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&xo.enqueueReplaceState(m,m.state,null),go(s,o,m,c),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ci(s,i){try{var o="",c=i;do o+=Se(c),c=c.return;while(c);var m=o}catch(E){m=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:i,stack:m,digest:null}}function ad(s,i,o){return{value:s,source:null,stack:o??null,digest:i??null}}function ud(s,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var s_=typeof WeakMap=="function"?WeakMap:Map;function Up(s,i,o){o=br(-1,o),o.tag=3,o.payload={element:null};var c=i.value;return o.callback=function(){Ro||(Ro=!0,wd=c),ud(s,i)},o}function jp(s,i,o){o=br(-1,o),o.tag=3;var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var m=i.value;o.payload=function(){return c(m)},o.callback=function(){ud(s,i)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(o.callback=function(){ud(s,i),typeof c!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),o}function Hp(s,i,o){var c=s.pingCache;if(c===null){c=s.pingCache=new s_;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(m.add(o),s=b_.bind(null,s,i,o),i.then(s,s))}function $p(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function zp(s,i,o,c,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===i?s.flags|=65536:(s.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=br(-1,1),i.tag=2,Hr(o,i,1))),o.lanes|=1),s)}var i_=U.ReactCurrentOwner,Vt=!1;function Bt(s,i,o,c){i.child=s===null?lp(i,null,o,c):ai(i,s.child,o,c)}function qp(s,i,o,c,m){o=o.render;var E=i.ref;return oi(i,m),c=Jc(s,i,o,c,E,m),o=Zc(),s!==null&&!Vt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,yr(s,i,m)):(Ve&&o&&Pc(i),i.flags|=1,Bt(s,i,c,m),i.child)}function Wp(s,i,o,c,m){if(s===null){var E=o.type;return typeof E=="function"&&!kd(E)&&E.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=E,Yp(s,i,E,c,m)):(s=Mo(o.type,null,c,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(E=s.child,!(s.lanes&m)){var w=E.memoizedProps;if(o=o.compare,o=o!==null?o:aa,o(w,c)&&s.ref===i.ref)return yr(s,i,m)}return i.flags|=1,s=Vr(E,c),s.ref=i.ref,s.return=i,i.child=s}function Yp(s,i,o,c,m){if(s!==null){var E=s.memoizedProps;if(aa(E,c)&&s.ref===i.ref)if(Vt=!1,i.pendingProps=c=E,(s.lanes&m)!==0)s.flags&131072&&(Vt=!0);else return i.lanes=s.lanes,yr(s,i,m)}return od(s,i,o,c,m)}function Vp(s,i,o){var c=i.pendingProps,m=c.children,E=s!==null?s.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(fi,dn),dn|=o;else{if(!(o&1073741824))return s=E!==null?E.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,He(fi,dn),dn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=E!==null?E.baseLanes:o,He(fi,dn),dn|=c}else E!==null?(c=E.baseLanes|o,i.memoizedState=null):c=o,He(fi,dn),dn|=c;return Bt(s,i,m,o),i.child}function Qp(s,i){var o=i.ref;(s===null&&o!==null||s!==null&&s.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function od(s,i,o,c,m){var E=Yt(o)?fs:It.current;return E=ni(i,E),oi(i,m),o=Jc(s,i,o,c,E,m),c=Zc(),s!==null&&!Vt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,yr(s,i,m)):(Ve&&c&&Pc(i),i.flags|=1,Bt(s,i,o,m),i.child)}function Gp(s,i,o,c,m){if(Yt(o)){var E=!0;ao(i)}else E=!1;if(oi(i,m),i.stateNode===null)So(s,i),Fp(i,o,c),id(i,o,c,m),c=!0;else if(s===null){var w=i.stateNode,k=i.memoizedProps;w.props=k;var O=w.context,j=o.contextType;typeof j=="object"&&j!==null?j=yn(j):(j=Yt(o)?fs:It.current,j=ni(i,j));var Q=o.getDerivedStateFromProps,K=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function";K||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==c||O!==j)&&Bp(i,w,c,j),jr=!1;var V=i.memoizedState;w.state=V,go(i,c,w,m),O=i.memoizedState,k!==c||V!==O||Wt.current||jr?(typeof Q=="function"&&(sd(i,o,Q,c),O=i.memoizedState),(k=jr||Mp(i,o,k,c,V,O,j))?(K||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=O),w.props=c,w.state=O,w.context=j,c=k):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{w=i.stateNode,dp(s,i),k=i.memoizedProps,j=i.type===i.elementType?k:Mn(i.type,k),w.props=j,K=i.pendingProps,V=w.context,O=o.contextType,typeof O=="object"&&O!==null?O=yn(O):(O=Yt(o)?fs:It.current,O=ni(i,O));var re=o.getDerivedStateFromProps;(Q=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==K||V!==O)&&Bp(i,w,c,O),jr=!1,V=i.memoizedState,w.state=V,go(i,c,w,m);var ae=i.memoizedState;k!==K||V!==ae||Wt.current||jr?(typeof re=="function"&&(sd(i,o,re,c),ae=i.memoizedState),(j=jr||Mp(i,o,j,c,V,ae,O)||!1)?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ae,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ae,O)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ae),w.props=c,w.state=ae,w.context=O,c=j):(typeof w.componentDidUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=1024),c=!1)}return ld(s,i,o,c,E,m)}function ld(s,i,o,c,m,E){Qp(s,i);var w=(i.flags&128)!==0;if(!c&&!w)return m&&ep(i,o,!1),yr(s,i,E);c=i.stateNode,i_.current=i;var k=w&&typeof o.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,s!==null&&w?(i.child=ai(i,s.child,null,E),i.child=ai(i,null,k,E)):Bt(s,i,k,E),i.memoizedState=c.state,m&&ep(i,o,!0),i.child}function Kp(s){var i=s.stateNode;i.pendingContext?J0(s,i.pendingContext,i.pendingContext!==i.context):i.context&&J0(s,i.context,!1),Yc(s,i.containerInfo)}function Xp(s,i,o,c,m){return ii(),Uc(m),i.flags|=256,Bt(s,i,o,c),i.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function dd(s){return{baseLanes:s,cachePool:null,transitions:null}}function Jp(s,i,o){var c=i.pendingProps,m=Je.current,E=!1,w=(i.flags&128)!==0,k;if((k=w)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(E=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),He(Je,m&1),s===null)return Bc(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(i.mode&1?s.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(w=c.children,s=c.fallback,E?(c=i.mode,E=i.child,w={mode:"hidden",children:w},!(c&1)&&E!==null?(E.childLanes=0,E.pendingProps=w):E=Fo(w,c,0,null),s=ws(s,c,o,null),E.return=i,s.return=i,E.sibling=s,i.child=E,i.child.memoizedState=dd(o),i.memoizedState=cd,s):fd(i,w));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return a_(s,i,w,c,k,m,o);if(E){E=c.fallback,w=i.mode,m=s.child,k=m.sibling;var O={mode:"hidden",children:c.children};return!(w&1)&&i.child!==m?(c=i.child,c.childLanes=0,c.pendingProps=O,i.deletions=null):(c=Vr(m,O),c.subtreeFlags=m.subtreeFlags&14680064),k!==null?E=Vr(k,E):(E=ws(E,w,o,null),E.flags|=2),E.return=i,c.return=i,c.sibling=E,i.child=c,c=E,E=i.child,w=s.child.memoizedState,w=w===null?dd(o):{baseLanes:w.baseLanes|o,cachePool:null,transitions:w.transitions},E.memoizedState=w,E.childLanes=s.childLanes&~o,i.memoizedState=cd,c}return E=s.child,s=E.sibling,c=Vr(E,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=o),c.return=i,c.sibling=null,s!==null&&(o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)),i.child=c,i.memoizedState=null,c}function fd(s,i){return i=Fo({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function vo(s,i,o,c){return c!==null&&Uc(c),ai(i,s.child,null,o),s=fd(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function a_(s,i,o,c,m,E,w){if(o)return i.flags&256?(i.flags&=-257,c=ad(Error(n(422))),vo(s,i,w,c)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(E=c.fallback,m=i.mode,c=Fo({mode:"visible",children:c.children},m,0,null),E=ws(E,m,w,null),E.flags|=2,c.return=i,E.return=i,c.sibling=E,i.child=c,i.mode&1&&ai(i,s.child,null,w),i.child.memoizedState=dd(w),i.memoizedState=cd,E);if(!(i.mode&1))return vo(s,i,w,null);if(m.data==="$!"){if(c=m.nextSibling&&m.nextSibling.dataset,c)var k=c.dgst;return c=k,E=Error(n(419)),c=ad(E,c,void 0),vo(s,i,w,c)}if(k=(w&s.childLanes)!==0,Vt||k){if(c=mt,c!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(c.suspendedLanes|w)?0:m,m!==0&&m!==E.retryLane&&(E.retryLane=m,Er(s,m),Un(c,s,m,-1))}return Nd(),c=ad(Error(n(421))),vo(s,i,w,c)}return m.data==="$?"?(i.flags|=128,i.child=s.child,i=y_.bind(null,s),m._reactRetry=i,null):(s=E.treeContext,cn=Mr(m.nextSibling),ln=i,Ve=!0,Pn=null,s!==null&&(En[bn++]=mr,En[bn++]=gr,En[bn++]=hs,mr=s.id,gr=s.overflow,hs=i),i=fd(i,c.children),i.flags|=4096,i)}function Zp(s,i,o){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),zc(s.return,i,o)}function hd(s,i,o,c,m){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=m)}function em(s,i,o){var c=i.pendingProps,m=c.revealOrder,E=c.tail;if(Bt(s,i,c.children,o),c=Je.current,c&2)c=c&1|2,i.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Zp(s,o,i);else if(s.tag===19)Zp(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}if(He(Je,c),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(o=i.child,m=null;o!==null;)s=o.alternate,s!==null&&Eo(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),hd(i,!1,m,o,E);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&Eo(s)===null){i.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}hd(i,!0,o,null,E);break;case"together":hd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function So(s,i){!(i.mode&1)&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function yr(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),bs|=i.lanes,!(o&i.childLanes))return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,o=Vr(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Vr(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function u_(s,i,o){switch(i.tag){case 3:Kp(i),ii();break;case 5:pp(i);break;case 1:Yt(i.type)&&ao(i);break;case 4:Yc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,m=i.memoizedProps.value;He(ho,c._currentValue),c._currentValue=m;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(He(Je,Je.current&1),i.flags|=128,null):o&i.child.childLanes?Jp(s,i,o):(He(Je,Je.current&1),s=yr(s,i,o),s!==null?s.sibling:null);He(Je,Je.current&1);break;case 19:if(c=(o&i.childLanes)!==0,s.flags&128){if(c)return em(s,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),He(Je,Je.current),c)break;return null;case 22:case 23:return i.lanes=0,Vp(s,i,o)}return yr(s,i,o)}var tm,pd,nm,rm;tm=function(s,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)s.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},pd=function(){},nm=function(s,i,o,c){var m=s.memoizedProps;if(m!==c){s=i.stateNode,gs(er.current);var E=null;switch(o){case"input":m=an(s,m),c=an(s,c),E=[];break;case"select":m=ne({},m,{value:void 0}),c=ne({},c,{value:void 0}),E=[];break;case"textarea":m=Ar(s,m),c=Ar(s,c),E=[];break;default:typeof m.onClick!="function"&&typeof c.onClick=="function"&&(s.onclick=ro)}Ws(o,c);var w;o=null;for(j in m)if(!c.hasOwnProperty(j)&&m.hasOwnProperty(j)&&m[j]!=null)if(j==="style"){var k=m[j];for(w in k)k.hasOwnProperty(w)&&(o||(o={}),o[w]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?E||(E=[]):(E=E||[]).push(j,null));for(j in c){var O=c[j];if(k=m?.[j],c.hasOwnProperty(j)&&O!==k&&(O!=null||k!=null))if(j==="style")if(k){for(w in k)!k.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(o||(o={}),o[w]="");for(w in O)O.hasOwnProperty(w)&&k[w]!==O[w]&&(o||(o={}),o[w]=O[w])}else o||(E||(E=[]),E.push(j,o)),o=O;else j==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(E=E||[]).push(j,O)):j==="children"?typeof O!="string"&&typeof O!="number"||(E=E||[]).push(j,""+O):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(a.hasOwnProperty(j)?(O!=null&&j==="onScroll"&&qe("scroll",s),E||k===O||(E=[])):(E=E||[]).push(j,O))}o&&(E=E||[]).push("style",o);var j=E;(i.updateQueue=j)&&(i.flags|=4)}},rm=function(s,i,o,c){o!==c&&(i.flags|=4)};function _a(s,i){if(!Ve)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Dt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(i)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&14680064,c|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=o,i}function o_(s,i,o){var c=i.pendingProps;switch(Mc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Yt(i.type)&&io(),Dt(i),null;case 3:return c=i.stateNode,li(),We(Wt),We(It),Gc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(co(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Pn!==null&&(Sd(Pn),Pn=null))),pd(s,i),Dt(i),null;case 5:Vc(i);var m=gs(ga.current);if(o=i.type,s!==null&&i.stateNode!=null)nm(s,i,o,c,m),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(n(166));return Dt(i),null}if(s=gs(er.current),co(i)){c=i.stateNode,o=i.type;var E=i.memoizedProps;switch(c[Zn]=i,c[da]=E,s=(i.mode&1)!==0,o){case"dialog":qe("cancel",c),qe("close",c);break;case"iframe":case"object":case"embed":qe("load",c);break;case"video":case"audio":for(m=0;m<oa.length;m++)qe(oa[m],c);break;case"source":qe("error",c);break;case"img":case"image":case"link":qe("error",c),qe("load",c);break;case"details":qe("toggle",c);break;case"input":lr(c,E),qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!E.multiple},qe("invalid",c);break;case"textarea":Hi(c,E),qe("invalid",c)}Ws(o,E),m=null;for(var w in E)if(E.hasOwnProperty(w)){var k=E[w];w==="children"?typeof k=="string"?c.textContent!==k&&(E.suppressHydrationWarning!==!0&&no(c.textContent,k,s),m=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(E.suppressHydrationWarning!==!0&&no(c.textContent,k,s),m=["children",""+k]):a.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&qe("scroll",c)}switch(o){case"input":Gn(c),ji(c,E,!0);break;case"textarea":Gn(c),Du(c);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(c.onclick=ro)}c=m,i.updateQueue=c,c!==null&&(i.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Lu(o)),s==="http://www.w3.org/1999/xhtml"?o==="script"?(s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof c.is=="string"?s=w.createElement(o,{is:c.is}):(s=w.createElement(o),o==="select"&&(w=s,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):s=w.createElementNS(s,o),s[Zn]=i,s[da]=c,tm(s,i,!1,!1),i.stateNode=s;e:{switch(w=qi(o,c),o){case"dialog":qe("cancel",s),qe("close",s),m=c;break;case"iframe":case"object":case"embed":qe("load",s),m=c;break;case"video":case"audio":for(m=0;m<oa.length;m++)qe(oa[m],s);m=c;break;case"source":qe("error",s),m=c;break;case"img":case"image":case"link":qe("error",s),qe("load",s),m=c;break;case"details":qe("toggle",s),m=c;break;case"input":lr(s,c),m=an(s,c),qe("invalid",s);break;case"option":m=c;break;case"select":s._wrapperState={wasMultiple:!!c.multiple},m=ne({},c,{value:void 0}),qe("invalid",s);break;case"textarea":Hi(s,c),m=Ar(s,c),qe("invalid",s);break;default:m=c}Ws(o,m),k=m;for(E in k)if(k.hasOwnProperty(E)){var O=k[E];E==="style"?Fu(s,O):E==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Cr(s,O)):E==="children"?typeof O=="string"?(o!=="textarea"||O!=="")&&Nr(s,O):typeof O=="number"&&Nr(s,""+O):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?O!=null&&E==="onScroll"&&qe("scroll",s):O!=null&&H(s,E,O,w))}switch(o){case"input":Gn(s),ji(s,c,!1);break;case"textarea":Gn(s),Du(s);break;case"option":c.value!=null&&s.setAttribute("value",""+Ae(c.value));break;case"select":s.multiple=!!c.multiple,E=c.value,E!=null?Nn(s,!!c.multiple,E,!1):c.defaultValue!=null&&Nn(s,!!c.multiple,c.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=ro)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Dt(i),null;case 6:if(s&&i.stateNode!=null)rm(s,i,s.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(o=gs(ga.current),gs(er.current),co(i)){if(c=i.stateNode,o=i.memoizedProps,c[Zn]=i,(E=c.nodeValue!==o)&&(s=ln,s!==null))switch(s.tag){case 3:no(c.nodeValue,o,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&no(c.nodeValue,o,(s.mode&1)!==0)}E&&(i.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Zn]=i,i.stateNode=c}return Dt(i),null;case 13:if(We(Je),c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ve&&cn!==null&&i.mode&1&&!(i.flags&128))ap(),ii(),i.flags|=98560,E=!1;else if(E=co(i),c!==null&&c.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=i.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Zn]=i}else ii(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Dt(i),E=!1}else Pn!==null&&(Sd(Pn),Pn=null),E=!0;if(!E)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(c=c!==null,c!==(s!==null&&s.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(s===null||Je.current&1?dt===0&&(dt=3):Nd())),i.updateQueue!==null&&(i.flags|=4),Dt(i),null);case 4:return li(),pd(s,i),s===null&&la(i.stateNode.containerInfo),Dt(i),null;case 10:return $c(i.type._context),Dt(i),null;case 17:return Yt(i.type)&&io(),Dt(i),null;case 19:if(We(Je),E=i.memoizedState,E===null)return Dt(i),null;if(c=(i.flags&128)!==0,w=E.rendering,w===null)if(c)_a(E,!1);else{if(dt!==0||s!==null&&s.flags&128)for(s=i.child;s!==null;){if(w=Eo(s),w!==null){for(i.flags|=128,_a(E,!1),c=w.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=o,o=i.child;o!==null;)E=o,s=c,E.flags&=14680066,w=E.alternate,w===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=w.childLanes,E.lanes=w.lanes,E.child=w.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=w.memoizedProps,E.memoizedState=w.memoizedState,E.updateQueue=w.updateQueue,E.type=w.type,s=w.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o=o.sibling;return He(Je,Je.current&1|2),i.child}s=s.sibling}E.tail!==null&&st()>hi&&(i.flags|=128,c=!0,_a(E,!1),i.lanes=4194304)}else{if(!c)if(s=Eo(w),s!==null){if(i.flags|=128,c=!0,o=s.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),_a(E,!0),E.tail===null&&E.tailMode==="hidden"&&!w.alternate&&!Ve)return Dt(i),null}else 2*st()-E.renderingStartTime>hi&&o!==1073741824&&(i.flags|=128,c=!0,_a(E,!1),i.lanes=4194304);E.isBackwards?(w.sibling=i.child,i.child=w):(o=E.last,o!==null?o.sibling=w:i.child=w,E.last=w)}return E.tail!==null?(i=E.tail,E.rendering=i,E.tail=i.sibling,E.renderingStartTime=st(),i.sibling=null,o=Je.current,He(Je,c?o&1|2:o&1),i):(Dt(i),null);case 22:case 23:return Cd(),c=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?dn&1073741824&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function l_(s,i){switch(Mc(i),i.tag){case 1:return Yt(i.type)&&io(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return li(),We(Wt),We(It),Gc(),s=i.flags,s&65536&&!(s&128)?(i.flags=s&-65537|128,i):null;case 5:return Vc(i),null;case 13:if(We(Je),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ii()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return We(Je),null;case 4:return li(),null;case 10:return $c(i.type._context),null;case 22:case 23:return Cd(),null;case 24:return null;default:return null}}var Ao=!1,Lt=!1,c_=typeof WeakSet=="function"?WeakSet:Set,ie=null;function di(s,i){var o=s.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){rt(s,i,c)}else o.current=null}function md(s,i,o){try{o()}catch(c){rt(s,i,c)}}var sm=!1;function d_(s,i){if(Cc=Wu,s=M0(),yc(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,E=c.focusNode;c=c.focusOffset;try{o.nodeType,E.nodeType}catch{o=null;break e}var w=0,k=-1,O=-1,j=0,Q=0,K=s,V=null;t:for(;;){for(var re;K!==o||m!==0&&K.nodeType!==3||(k=w+m),K!==E||c!==0&&K.nodeType!==3||(O=w+c),K.nodeType===3&&(w+=K.nodeValue.length),(re=K.firstChild)!==null;)V=K,K=re;for(;;){if(K===s)break t;if(V===o&&++j===m&&(k=w),V===E&&++Q===c&&(O=w),(re=K.nextSibling)!==null)break;K=V,V=K.parentNode}K=re}o=k===-1||O===-1?null:{start:k,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Nc={focusedElem:s,selectionRange:o},Wu=!1,ie=i;ie!==null;)if(i=ie,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ie=s;else for(;ie!==null;){i=ie;try{var ae=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ue=ae.memoizedProps,it=ae.memoizedState,F=i.stateNode,D=F.getSnapshotBeforeUpdate(i.elementType===i.type?ue:Mn(i.type,ue),it);F.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){rt(i,i.return,J)}if(s=i.sibling,s!==null){s.return=i.return,ie=s;break}ie=i.return}return ae=sm,sm=!1,ae}function wa(s,i,o){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&s)===s){var E=m.destroy;m.destroy=void 0,E!==void 0&&md(i,o,E)}m=m.next}while(m!==c)}}function Co(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&s)===s){var c=o.create;o.destroy=c()}o=o.next}while(o!==i)}}function gd(s){var i=s.ref;if(i!==null){var o=s.stateNode;switch(s.tag){case 5:s=o;break;default:s=o}typeof i=="function"?i(s):i.current=s}}function im(s){var i=s.alternate;i!==null&&(s.alternate=null,im(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Zn],delete i[da],delete i[Oc],delete i[VT],delete i[QT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function am(s){return s.tag===5||s.tag===3||s.tag===4}function um(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||am(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ed(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(s,i):o.insertBefore(s,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(s,o)):(i=o,i.appendChild(s)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ro));else if(c!==4&&(s=s.child,s!==null))for(Ed(s,i,o),s=s.sibling;s!==null;)Ed(s,i,o),s=s.sibling}function bd(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(c!==4&&(s=s.child,s!==null))for(bd(s,i,o),s=s.sibling;s!==null;)bd(s,i,o),s=s.sibling}var _t=null,Fn=!1;function $r(s,i,o){for(o=o.child;o!==null;)om(s,i,o),o=o.sibling}function om(s,i,o){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Uu,o)}catch{}switch(o.tag){case 5:Lt||di(o,i);case 6:var c=_t,m=Fn;_t=null,$r(s,i,o),_t=c,Fn=m,_t!==null&&(Fn?(s=_t,o=o.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):_t.removeChild(o.stateNode));break;case 18:_t!==null&&(Fn?(s=_t,o=o.stateNode,s.nodeType===8?Ic(s.parentNode,o):s.nodeType===1&&Ic(s,o),ea(s)):Ic(_t,o.stateNode));break;case 4:c=_t,m=Fn,_t=o.stateNode.containerInfo,Fn=!0,$r(s,i,o),_t=c,Fn=m;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){m=c=c.next;do{var E=m,w=E.destroy;E=E.tag,w!==void 0&&(E&2||E&4)&&md(o,i,w),m=m.next}while(m!==c)}$r(s,i,o);break;case 1:if(!Lt&&(di(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(k){rt(o,i,k)}$r(s,i,o);break;case 21:$r(s,i,o);break;case 22:o.mode&1?(Lt=(c=Lt)||o.memoizedState!==null,$r(s,i,o),Lt=c):$r(s,i,o);break;default:$r(s,i,o)}}function lm(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var o=s.stateNode;o===null&&(o=s.stateNode=new c_),i.forEach(function(c){var m=T_.bind(null,s,c);o.has(c)||(o.add(c),c.then(m,m))})}}function Bn(s,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];try{var E=s,w=i,k=w;e:for(;k!==null;){switch(k.tag){case 5:_t=k.stateNode,Fn=!1;break e;case 3:_t=k.stateNode.containerInfo,Fn=!0;break e;case 4:_t=k.stateNode.containerInfo,Fn=!0;break e}k=k.return}if(_t===null)throw Error(n(160));om(E,w,m),_t=null,Fn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(j){rt(m,i,j)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)cm(i,s),i=i.sibling}function cm(s,i){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Bn(i,s),nr(s),c&4){try{wa(3,s,s.return),Co(3,s)}catch(ue){rt(s,s.return,ue)}try{wa(5,s,s.return)}catch(ue){rt(s,s.return,ue)}}break;case 1:Bn(i,s),nr(s),c&512&&o!==null&&di(o,o.return);break;case 5:if(Bn(i,s),nr(s),c&512&&o!==null&&di(o,o.return),s.flags&32){var m=s.stateNode;try{Nr(m,"")}catch(ue){rt(s,s.return,ue)}}if(c&4&&(m=s.stateNode,m!=null)){var E=s.memoizedProps,w=o!==null?o.memoizedProps:E,k=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{k==="input"&&E.type==="radio"&&E.name!=null&&cr(m,E),qi(k,w);var j=qi(k,E);for(w=0;w<O.length;w+=2){var Q=O[w],K=O[w+1];Q==="style"?Fu(m,K):Q==="dangerouslySetInnerHTML"?Cr(m,K):Q==="children"?Nr(m,K):H(m,Q,K,j)}switch(k){case"input":qs(m,E);break;case"textarea":$i(m,E);break;case"select":var V=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!E.multiple;var re=E.value;re!=null?Nn(m,!!E.multiple,re,!1):V!==!!E.multiple&&(E.defaultValue!=null?Nn(m,!!E.multiple,E.defaultValue,!0):Nn(m,!!E.multiple,E.multiple?[]:"",!1))}m[da]=E}catch(ue){rt(s,s.return,ue)}}break;case 6:if(Bn(i,s),nr(s),c&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,E=s.memoizedProps;try{m.nodeValue=E}catch(ue){rt(s,s.return,ue)}}break;case 3:if(Bn(i,s),nr(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ea(i.containerInfo)}catch(ue){rt(s,s.return,ue)}break;case 4:Bn(i,s),nr(s);break;case 13:Bn(i,s),nr(s),m=s.child,m.flags&8192&&(E=m.memoizedState!==null,m.stateNode.isHidden=E,!E||m.alternate!==null&&m.alternate.memoizedState!==null||(_d=st())),c&4&&lm(s);break;case 22:if(Q=o!==null&&o.memoizedState!==null,s.mode&1?(Lt=(j=Lt)||Q,Bn(i,s),Lt=j):Bn(i,s),nr(s),c&8192){if(j=s.memoizedState!==null,(s.stateNode.isHidden=j)&&!Q&&s.mode&1)for(ie=s,Q=s.child;Q!==null;){for(K=ie=Q;ie!==null;){switch(V=ie,re=V.child,V.tag){case 0:case 11:case 14:case 15:wa(4,V,V.return);break;case 1:di(V,V.return);var ae=V.stateNode;if(typeof ae.componentWillUnmount=="function"){c=V,o=V.return;try{i=c,ae.props=i.memoizedProps,ae.state=i.memoizedState,ae.componentWillUnmount()}catch(ue){rt(c,o,ue)}}break;case 5:di(V,V.return);break;case 22:if(V.memoizedState!==null){hm(K);continue}}re!==null?(re.return=V,ie=re):hm(K)}Q=Q.sibling}e:for(Q=null,K=s;;){if(K.tag===5){if(Q===null){Q=K;try{m=K.stateNode,j?(E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(k=K.stateNode,O=K.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=Mu("display",w))}catch(ue){rt(s,s.return,ue)}}}else if(K.tag===6){if(Q===null)try{K.stateNode.nodeValue=j?"":K.memoizedProps}catch(ue){rt(s,s.return,ue)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===s)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===s)break e;for(;K.sibling===null;){if(K.return===null||K.return===s)break e;Q===K&&(Q=null),K=K.return}Q===K&&(Q=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Bn(i,s),nr(s),c&4&&lm(s);break;case 21:break;default:Bn(i,s),nr(s)}}function nr(s){var i=s.flags;if(i&2){try{e:{for(var o=s.return;o!==null;){if(am(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var m=c.stateNode;c.flags&32&&(Nr(m,""),c.flags&=-33);var E=um(s);bd(s,E,m);break;case 3:case 4:var w=c.stateNode.containerInfo,k=um(s);Ed(s,k,w);break;default:throw Error(n(161))}}catch(O){rt(s,s.return,O)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function f_(s,i,o){ie=s,dm(s)}function dm(s,i,o){for(var c=(s.mode&1)!==0;ie!==null;){var m=ie,E=m.child;if(m.tag===22&&c){var w=m.memoizedState!==null||Ao;if(!w){var k=m.alternate,O=k!==null&&k.memoizedState!==null||Lt;k=Ao;var j=Lt;if(Ao=w,(Lt=O)&&!j)for(ie=m;ie!==null;)w=ie,O=w.child,w.tag===22&&w.memoizedState!==null?pm(m):O!==null?(O.return=w,ie=O):pm(m);for(;E!==null;)ie=E,dm(E),E=E.sibling;ie=m,Ao=k,Lt=j}fm(s)}else m.subtreeFlags&8772&&E!==null?(E.return=m,ie=E):fm(s)}}function fm(s){for(;ie!==null;){var i=ie;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Lt||Co(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Lt)if(o===null)c.componentDidMount();else{var m=i.elementType===i.type?o.memoizedProps:Mn(i.type,o.memoizedProps);c.componentDidUpdate(m,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var E=i.updateQueue;E!==null&&hp(i,E,c);break;case 3:var w=i.updateQueue;if(w!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}hp(i,w,o)}break;case 5:var k=i.stateNode;if(o===null&&i.flags&4){o=k;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&o.focus();break;case"img":O.src&&(o.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var j=i.alternate;if(j!==null){var Q=j.memoizedState;if(Q!==null){var K=Q.dehydrated;K!==null&&ea(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||i.flags&512&&gd(i)}catch(V){rt(i,i.return,V)}}if(i===s){ie=null;break}if(o=i.sibling,o!==null){o.return=i.return,ie=o;break}ie=i.return}}function hm(s){for(;ie!==null;){var i=ie;if(i===s){ie=null;break}var o=i.sibling;if(o!==null){o.return=i.return,ie=o;break}ie=i.return}}function pm(s){for(;ie!==null;){var i=ie;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Co(4,i)}catch(O){rt(i,o,O)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var m=i.return;try{c.componentDidMount()}catch(O){rt(i,m,O)}}var E=i.return;try{gd(i)}catch(O){rt(i,E,O)}break;case 5:var w=i.return;try{gd(i)}catch(O){rt(i,w,O)}}}catch(O){rt(i,i.return,O)}if(i===s){ie=null;break}var k=i.sibling;if(k!==null){k.return=i.return,ie=k;break}ie=i.return}}var h_=Math.ceil,No=U.ReactCurrentDispatcher,yd=U.ReactCurrentOwner,_n=U.ReactCurrentBatchConfig,De=0,mt=null,ut=null,wt=0,dn=0,fi=Fr(0),dt=0,xa=null,bs=0,ko=0,Td=0,va=null,Qt=null,_d=0,hi=1/0,Tr=null,Ro=!1,wd=null,zr=null,Io=!1,qr=null,Oo=0,Sa=0,xd=null,Do=-1,Lo=0;function Ut(){return De&6?st():Do!==-1?Do:Do=st()}function Wr(s){return s.mode&1?De&2&&wt!==0?wt&-wt:KT.transition!==null?(Lo===0&&(Lo=u0()),Lo):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:g0(s.type)),s):1}function Un(s,i,o,c){if(50<Sa)throw Sa=0,xd=null,Error(n(185));Gi(s,o,c),(!(De&2)||s!==mt)&&(s===mt&&(!(De&2)&&(ko|=o),dt===4&&Yr(s,wt)),Gt(s,c),o===1&&De===0&&!(i.mode&1)&&(hi=st()+500,uo&&Ur()))}function Gt(s,i){var o=s.callbackNode;Ky(s,i);var c=$u(s,s===mt?wt:0);if(c===0)o!==null&&s0(o),s.callbackNode=null,s.callbackPriority=0;else if(i=c&-c,s.callbackPriority!==i){if(o!=null&&s0(o),i===1)s.tag===0?GT(gm.bind(null,s)):tp(gm.bind(null,s)),WT(function(){!(De&6)&&Ur()}),o=null;else{switch(o0(c)){case 1:o=nc;break;case 4:o=i0;break;case 16:o=Bu;break;case 536870912:o=a0;break;default:o=Bu}o=vm(o,mm.bind(null,s))}s.callbackPriority=i,s.callbackNode=o}}function mm(s,i){if(Do=-1,Lo=0,De&6)throw Error(n(327));var o=s.callbackNode;if(pi()&&s.callbackNode!==o)return null;var c=$u(s,s===mt?wt:0);if(c===0)return null;if(c&30||c&s.expiredLanes||i)i=Po(s,c);else{i=c;var m=De;De|=2;var E=bm();(mt!==s||wt!==i)&&(Tr=null,hi=st()+500,Ts(s,i));do try{g_();break}catch(k){Em(s,k)}while(!0);Hc(),No.current=E,De=m,ut!==null?i=0:(mt=null,wt=0,i=dt)}if(i!==0){if(i===2&&(m=rc(s),m!==0&&(c=m,i=vd(s,m))),i===1)throw o=xa,Ts(s,0),Yr(s,c),Gt(s,st()),o;if(i===6)Yr(s,c);else{if(m=s.current.alternate,!(c&30)&&!p_(m)&&(i=Po(s,c),i===2&&(E=rc(s),E!==0&&(c=E,i=vd(s,E))),i===1))throw o=xa,Ts(s,0),Yr(s,c),Gt(s,st()),o;switch(s.finishedWork=m,s.finishedLanes=c,i){case 0:case 1:throw Error(n(345));case 2:_s(s,Qt,Tr);break;case 3:if(Yr(s,c),(c&130023424)===c&&(i=_d+500-st(),10<i)){if($u(s,0)!==0)break;if(m=s.suspendedLanes,(m&c)!==c){Ut(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Rc(_s.bind(null,s,Qt,Tr),i);break}_s(s,Qt,Tr);break;case 4:if(Yr(s,c),(c&4194240)===c)break;for(i=s.eventTimes,m=-1;0<c;){var w=31-Dn(c);E=1<<w,w=i[w],w>m&&(m=w),c&=~E}if(c=m,c=st()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*h_(c/1960))-c,10<c){s.timeoutHandle=Rc(_s.bind(null,s,Qt,Tr),c);break}_s(s,Qt,Tr);break;case 5:_s(s,Qt,Tr);break;default:throw Error(n(329))}}}return Gt(s,st()),s.callbackNode===o?mm.bind(null,s):null}function vd(s,i){var o=va;return s.current.memoizedState.isDehydrated&&(Ts(s,i).flags|=256),s=Po(s,i),s!==2&&(i=Qt,Qt=o,i!==null&&Sd(i)),s}function Sd(s){Qt===null?Qt=s:Qt.push.apply(Qt,s)}function p_(s){for(var i=s;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var m=o[c],E=m.getSnapshot;m=m.value;try{if(!Ln(E(),m))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yr(s,i){for(i&=~Td,i&=~ko,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var o=31-Dn(i),c=1<<o;s[o]=-1,i&=~c}}function gm(s){if(De&6)throw Error(n(327));pi();var i=$u(s,0);if(!(i&1))return Gt(s,st()),null;var o=Po(s,i);if(s.tag!==0&&o===2){var c=rc(s);c!==0&&(i=c,o=vd(s,c))}if(o===1)throw o=xa,Ts(s,0),Yr(s,i),Gt(s,st()),o;if(o===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,_s(s,Qt,Tr),Gt(s,st()),null}function Ad(s,i){var o=De;De|=1;try{return s(i)}finally{De=o,De===0&&(hi=st()+500,uo&&Ur())}}function ys(s){qr!==null&&qr.tag===0&&!(De&6)&&pi();var i=De;De|=1;var o=_n.transition,c=Ue;try{if(_n.transition=null,Ue=1,s)return s()}finally{Ue=c,_n.transition=o,De=i,!(De&6)&&Ur()}}function Cd(){dn=fi.current,We(fi)}function Ts(s,i){s.finishedWork=null,s.finishedLanes=0;var o=s.timeoutHandle;if(o!==-1&&(s.timeoutHandle=-1,qT(o)),ut!==null)for(o=ut.return;o!==null;){var c=o;switch(Mc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&io();break;case 3:li(),We(Wt),We(It),Gc();break;case 5:Vc(c);break;case 4:li();break;case 13:We(Je);break;case 19:We(Je);break;case 10:$c(c.type._context);break;case 22:case 23:Cd()}o=o.return}if(mt=s,ut=s=Vr(s.current,null),wt=dn=i,dt=0,xa=null,Td=ko=bs=0,Qt=va=null,ms!==null){for(i=0;i<ms.length;i++)if(o=ms[i],c=o.interleaved,c!==null){o.interleaved=null;var m=c.next,E=o.pending;if(E!==null){var w=E.next;E.next=m,c.next=w}o.pending=c}ms=null}return s}function Em(s,i){do{var o=ut;try{if(Hc(),bo.current=wo,yo){for(var c=Ze.memoizedState;c!==null;){var m=c.queue;m!==null&&(m.pending=null),c=c.next}yo=!1}if(Es=0,pt=ct=Ze=null,Ea=!1,ba=0,yd.current=null,o===null||o.return===null){dt=1,xa=i,ut=null;break}e:{var E=s,w=o.return,k=o,O=i;if(i=wt,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var j=O,Q=k,K=Q.tag;if(!(Q.mode&1)&&(K===0||K===11||K===15)){var V=Q.alternate;V?(Q.updateQueue=V.updateQueue,Q.memoizedState=V.memoizedState,Q.lanes=V.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var re=$p(w);if(re!==null){re.flags&=-257,zp(re,w,k,E,i),re.mode&1&&Hp(E,j,i),i=re,O=j;var ae=i.updateQueue;if(ae===null){var ue=new Set;ue.add(O),i.updateQueue=ue}else ae.add(O);break e}else{if(!(i&1)){Hp(E,j,i),Nd();break e}O=Error(n(426))}}else if(Ve&&k.mode&1){var it=$p(w);if(it!==null){!(it.flags&65536)&&(it.flags|=256),zp(it,w,k,E,i),Uc(ci(O,k));break e}}E=O=ci(O,k),dt!==4&&(dt=2),va===null?va=[E]:va.push(E),E=w;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var F=Up(E,O,i);fp(E,F);break e;case 1:k=O;var D=E.type,B=E.stateNode;if(!(E.flags&128)&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(zr===null||!zr.has(B)))){E.flags|=65536,i&=-i,E.lanes|=i;var J=jp(E,k,i);fp(E,J);break e}}E=E.return}while(E!==null)}Tm(o)}catch(oe){i=oe,ut===o&&o!==null&&(ut=o=o.return);continue}break}while(!0)}function bm(){var s=No.current;return No.current=wo,s===null?wo:s}function Nd(){(dt===0||dt===3||dt===2)&&(dt=4),mt===null||!(bs&268435455)&&!(ko&268435455)||Yr(mt,wt)}function Po(s,i){var o=De;De|=2;var c=bm();(mt!==s||wt!==i)&&(Tr=null,Ts(s,i));do try{m_();break}catch(m){Em(s,m)}while(!0);if(Hc(),De=o,No.current=c,ut!==null)throw Error(n(261));return mt=null,wt=0,dt}function m_(){for(;ut!==null;)ym(ut)}function g_(){for(;ut!==null&&!Hy();)ym(ut)}function ym(s){var i=xm(s.alternate,s,dn);s.memoizedProps=s.pendingProps,i===null?Tm(s):ut=i,yd.current=null}function Tm(s){var i=s;do{var o=i.alternate;if(s=i.return,i.flags&32768){if(o=l_(o,i),o!==null){o.flags&=32767,ut=o;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{dt=6,ut=null;return}}else if(o=o_(o,i,dn),o!==null){ut=o;return}if(i=i.sibling,i!==null){ut=i;return}ut=i=s}while(i!==null);dt===0&&(dt=5)}function _s(s,i,o){var c=Ue,m=_n.transition;try{_n.transition=null,Ue=1,E_(s,i,o,c)}finally{_n.transition=m,Ue=c}return null}function E_(s,i,o,c){do pi();while(qr!==null);if(De&6)throw Error(n(327));o=s.finishedWork;var m=s.finishedLanes;if(o===null)return null;if(s.finishedWork=null,s.finishedLanes=0,o===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=o.lanes|o.childLanes;if(Xy(s,E),s===mt&&(ut=mt=null,wt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Io||(Io=!0,vm(Bu,function(){return pi(),null})),E=(o.flags&15990)!==0,o.subtreeFlags&15990||E){E=_n.transition,_n.transition=null;var w=Ue;Ue=1;var k=De;De|=4,yd.current=null,d_(s,o),cm(o,s),FT(Nc),Wu=!!Cc,Nc=Cc=null,s.current=o,f_(o),$y(),De=k,Ue=w,_n.transition=E}else s.current=o;if(Io&&(Io=!1,qr=s,Oo=m),E=s.pendingLanes,E===0&&(zr=null),Wy(o.stateNode),Gt(s,st()),i!==null)for(c=s.onRecoverableError,o=0;o<i.length;o++)m=i[o],c(m.value,{componentStack:m.stack,digest:m.digest});if(Ro)throw Ro=!1,s=wd,wd=null,s;return Oo&1&&s.tag!==0&&pi(),E=s.pendingLanes,E&1?s===xd?Sa++:(Sa=0,xd=s):Sa=0,Ur(),null}function pi(){if(qr!==null){var s=o0(Oo),i=_n.transition,o=Ue;try{if(_n.transition=null,Ue=16>s?16:s,qr===null)var c=!1;else{if(s=qr,qr=null,Oo=0,De&6)throw Error(n(331));var m=De;for(De|=4,ie=s.current;ie!==null;){var E=ie,w=E.child;if(ie.flags&16){var k=E.deletions;if(k!==null){for(var O=0;O<k.length;O++){var j=k[O];for(ie=j;ie!==null;){var Q=ie;switch(Q.tag){case 0:case 11:case 15:wa(8,Q,E)}var K=Q.child;if(K!==null)K.return=Q,ie=K;else for(;ie!==null;){Q=ie;var V=Q.sibling,re=Q.return;if(im(Q),Q===j){ie=null;break}if(V!==null){V.return=re,ie=V;break}ie=re}}}var ae=E.alternate;if(ae!==null){var ue=ae.child;if(ue!==null){ae.child=null;do{var it=ue.sibling;ue.sibling=null,ue=it}while(ue!==null)}}ie=E}}if(E.subtreeFlags&2064&&w!==null)w.return=E,ie=w;else e:for(;ie!==null;){if(E=ie,E.flags&2048)switch(E.tag){case 0:case 11:case 15:wa(9,E,E.return)}var F=E.sibling;if(F!==null){F.return=E.return,ie=F;break e}ie=E.return}}var D=s.current;for(ie=D;ie!==null;){w=ie;var B=w.child;if(w.subtreeFlags&2064&&B!==null)B.return=w,ie=B;else e:for(w=D;ie!==null;){if(k=ie,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Co(9,k)}}catch(oe){rt(k,k.return,oe)}if(k===w){ie=null;break e}var J=k.sibling;if(J!==null){J.return=k.return,ie=J;break e}ie=k.return}}if(De=m,Ur(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Uu,s)}catch{}c=!0}return c}finally{Ue=o,_n.transition=i}}return!1}function _m(s,i,o){i=ci(o,i),i=Up(s,i,1),s=Hr(s,i,1),i=Ut(),s!==null&&(Gi(s,1,i),Gt(s,i))}function rt(s,i,o){if(s.tag===3)_m(s,s,o);else for(;i!==null;){if(i.tag===3){_m(i,s,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(zr===null||!zr.has(c))){s=ci(o,s),s=jp(i,s,1),i=Hr(i,s,1),s=Ut(),i!==null&&(Gi(i,1,s),Gt(i,s));break}}i=i.return}}function b_(s,i,o){var c=s.pingCache;c!==null&&c.delete(i),i=Ut(),s.pingedLanes|=s.suspendedLanes&o,mt===s&&(wt&o)===o&&(dt===4||dt===3&&(wt&130023424)===wt&&500>st()-_d?Ts(s,0):Td|=o),Gt(s,i)}function wm(s,i){i===0&&(s.mode&1?(i=Hu,Hu<<=1,!(Hu&130023424)&&(Hu=4194304)):i=1);var o=Ut();s=Er(s,i),s!==null&&(Gi(s,i,o),Gt(s,o))}function y_(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),wm(s,o)}function T_(s,i){var o=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=s.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(i),wm(s,o)}var xm;xm=function(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps||Wt.current)Vt=!0;else{if(!(s.lanes&o)&&!(i.flags&128))return Vt=!1,u_(s,i,o);Vt=!!(s.flags&131072)}else Vt=!1,Ve&&i.flags&1048576&&np(i,lo,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;So(s,i),s=i.pendingProps;var m=ni(i,It.current);oi(i,o),m=Jc(null,i,c,s,m,o);var E=Zc();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Yt(c)?(E=!0,ao(i)):E=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Wc(i),m.updater=xo,i.stateNode=m,m._reactInternals=i,id(i,c,s,o),i=ld(null,i,c,!0,E,o)):(i.tag=0,Ve&&E&&Pc(i),Bt(null,i,m,o),i=i.child),i;case 16:c=i.elementType;e:{switch(So(s,i),s=i.pendingProps,m=c._init,c=m(c._payload),i.type=c,m=i.tag=w_(c),s=Mn(c,s),m){case 0:i=od(null,i,c,s,o);break e;case 1:i=Gp(null,i,c,s,o);break e;case 11:i=qp(null,i,c,s,o);break e;case 14:i=Wp(null,i,c,Mn(c.type,s),o);break e}throw Error(n(306,c,""))}return i;case 0:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Mn(c,m),od(s,i,c,m,o);case 1:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Mn(c,m),Gp(s,i,c,m,o);case 3:e:{if(Kp(i),s===null)throw Error(n(387));c=i.pendingProps,E=i.memoizedState,m=E.element,dp(s,i),go(i,c,null,o);var w=i.memoizedState;if(c=w.element,E.isDehydrated)if(E={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=E,i.memoizedState=E,i.flags&256){m=ci(Error(n(423)),i),i=Xp(s,i,c,o,m);break e}else if(c!==m){m=ci(Error(n(424)),i),i=Xp(s,i,c,o,m);break e}else for(cn=Mr(i.stateNode.containerInfo.firstChild),ln=i,Ve=!0,Pn=null,o=lp(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ii(),c===m){i=yr(s,i,o);break e}Bt(s,i,c,o)}i=i.child}return i;case 5:return pp(i),s===null&&Bc(i),c=i.type,m=i.pendingProps,E=s!==null?s.memoizedProps:null,w=m.children,kc(c,m)?w=null:E!==null&&kc(c,E)&&(i.flags|=32),Qp(s,i),Bt(s,i,w,o),i.child;case 6:return s===null&&Bc(i),null;case 13:return Jp(s,i,o);case 4:return Yc(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=ai(i,null,c,o):Bt(s,i,c,o),i.child;case 11:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Mn(c,m),qp(s,i,c,m,o);case 7:return Bt(s,i,i.pendingProps,o),i.child;case 8:return Bt(s,i,i.pendingProps.children,o),i.child;case 12:return Bt(s,i,i.pendingProps.children,o),i.child;case 10:e:{if(c=i.type._context,m=i.pendingProps,E=i.memoizedProps,w=m.value,He(ho,c._currentValue),c._currentValue=w,E!==null)if(Ln(E.value,w)){if(E.children===m.children&&!Wt.current){i=yr(s,i,o);break e}}else for(E=i.child,E!==null&&(E.return=i);E!==null;){var k=E.dependencies;if(k!==null){w=E.child;for(var O=k.firstContext;O!==null;){if(O.context===c){if(E.tag===1){O=br(-1,o&-o),O.tag=2;var j=E.updateQueue;if(j!==null){j=j.shared;var Q=j.pending;Q===null?O.next=O:(O.next=Q.next,Q.next=O),j.pending=O}}E.lanes|=o,O=E.alternate,O!==null&&(O.lanes|=o),zc(E.return,o,i),k.lanes|=o;break}O=O.next}}else if(E.tag===10)w=E.type===i.type?null:E.child;else if(E.tag===18){if(w=E.return,w===null)throw Error(n(341));w.lanes|=o,k=w.alternate,k!==null&&(k.lanes|=o),zc(w,o,i),w=E.sibling}else w=E.child;if(w!==null)w.return=E;else for(w=E;w!==null;){if(w===i){w=null;break}if(E=w.sibling,E!==null){E.return=w.return,w=E;break}w=w.return}E=w}Bt(s,i,m.children,o),i=i.child}return i;case 9:return m=i.type,c=i.pendingProps.children,oi(i,o),m=yn(m),c=c(m),i.flags|=1,Bt(s,i,c,o),i.child;case 14:return c=i.type,m=Mn(c,i.pendingProps),m=Mn(c.type,m),Wp(s,i,c,m,o);case 15:return Yp(s,i,i.type,i.pendingProps,o);case 17:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Mn(c,m),So(s,i),i.tag=1,Yt(c)?(s=!0,ao(i)):s=!1,oi(i,o),Fp(i,c,m),id(i,c,m,o),ld(null,i,c,!0,s,o);case 19:return em(s,i,o);case 22:return Vp(s,i,o)}throw Error(n(156,i.tag))};function vm(s,i){return r0(s,i)}function __(s,i,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(s,i,o,c){return new __(s,i,o,c)}function kd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function w_(s){if(typeof s=="function")return kd(s)?1:0;if(s!=null){if(s=s.$$typeof,s===tt)return 11;if(s===At)return 14}return 2}function Vr(s,i){var o=s.alternate;return o===null?(o=wn(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&14680064,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o}function Mo(s,i,o,c,m,E){var w=2;if(c=s,typeof s=="function")kd(s)&&(w=1);else if(typeof s=="string")w=5;else e:switch(s){case se:return ws(o.children,m,E,i);case Z:w=8,m|=8;break;case ce:return s=wn(12,o,i,m|2),s.elementType=ce,s.lanes=E,s;case ze:return s=wn(13,o,i,m),s.elementType=ze,s.lanes=E,s;case nt:return s=wn(19,o,i,m),s.elementType=nt,s.lanes=E,s;case ke:return Fo(o,m,E,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ve:w=10;break e;case Re:w=9;break e;case tt:w=11;break e;case At:w=14;break e;case lt:w=16,c=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=wn(w,o,i,m),i.elementType=s,i.type=c,i.lanes=E,i}function ws(s,i,o,c){return s=wn(7,s,c,i),s.lanes=o,s}function Fo(s,i,o,c){return s=wn(22,s,c,i),s.elementType=ke,s.lanes=o,s.stateNode={isHidden:!1},s}function Rd(s,i,o){return s=wn(6,s,null,i),s.lanes=o,s}function Id(s,i,o){return i=wn(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function x_(s,i,o,c,m){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sc(0),this.expirationTimes=sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sc(0),this.identifierPrefix=c,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Od(s,i,o,c,m,E,w,k,O){return s=new x_(s,i,o,k,O),i===1?(i=1,E===!0&&(i|=8)):i=0,E=wn(3,null,null,i),s.current=E,E.stateNode=s,E.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wc(E),s}function v_(s,i,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:c==null?null:""+c,children:s,containerInfo:i,implementation:o}}function Sm(s){if(!s)return Br;s=s._reactInternals;e:{if(cs(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Yt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var o=s.type;if(Yt(o))return Z0(s,o,i)}return i}function Am(s,i,o,c,m,E,w,k,O){return s=Od(o,c,!0,s,m,E,w,k,O),s.context=Sm(null),o=s.current,c=Ut(),m=Wr(o),E=br(c,m),E.callback=i??null,Hr(o,E,m),s.current.lanes=m,Gi(s,m,c),Gt(s,c),s}function Bo(s,i,o,c){var m=i.current,E=Ut(),w=Wr(m);return o=Sm(o),i.context===null?i.context=o:i.pendingContext=o,i=br(E,w),i.payload={element:s},c=c===void 0?null:c,c!==null&&(i.callback=c),s=Hr(m,i,w),s!==null&&(Un(s,m,w,E),mo(s,m,w)),w}function Uo(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Cm(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function Dd(s,i){Cm(s,i),(s=s.alternate)&&Cm(s,i)}var Nm=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ld(s){this._internalRoot=s}jo.prototype.render=Ld.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Bo(s,i,null,null)},jo.prototype.unmount=Ld.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;ys(function(){Bo(null,s,null,null)}),i[hr]=null}};function jo(s){this._internalRoot=s}jo.prototype.unstable_scheduleHydration=function(s){if(s){var i=d0();s={blockedOn:null,target:s,priority:i};for(var o=0;o<Dr.length&&i!==0&&i<Dr[o].priority;o++);Dr.splice(o,0,s),o===0&&p0(s)}};function Pd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ho(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function km(){}function S_(s,i,o,c,m){if(m){if(typeof c=="function"){var E=c;c=function(){var j=Uo(w);E.call(j)}}var w=Am(i,c,s,0,null,!1,!1,"",km);return s._reactRootContainer=w,s[hr]=w.current,la(s.nodeType===8?s.parentNode:s),ys(),w}for(;m=s.lastChild;)s.removeChild(m);if(typeof c=="function"){var k=c;c=function(){var j=Uo(O);k.call(j)}}var O=Od(s,0,!1,null,null,!1,!1,"",km);return s._reactRootContainer=O,s[hr]=O.current,la(s.nodeType===8?s.parentNode:s),ys(function(){Bo(i,O,o,c)}),O}function $o(s,i,o,c,m){var E=o._reactRootContainer;if(E){var w=E;if(typeof m=="function"){var k=m;m=function(){var O=Uo(w);k.call(O)}}Bo(i,w,s,m)}else w=S_(o,i,s,m,c);return Uo(w)}l0=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var o=Qi(i.pendingLanes);o!==0&&(ic(i,o|1),Gt(i,st()),!(De&6)&&(hi=st()+500,Ur()))}break;case 13:ys(function(){var c=Er(s,1);if(c!==null){var m=Ut();Un(c,s,1,m)}}),Dd(s,1)}},ac=function(s){if(s.tag===13){var i=Er(s,134217728);if(i!==null){var o=Ut();Un(i,s,134217728,o)}Dd(s,134217728)}},c0=function(s){if(s.tag===13){var i=Wr(s),o=Er(s,i);if(o!==null){var c=Ut();Un(o,s,i,c)}Dd(s,i)}},d0=function(){return Ue},f0=function(s,i){var o=Ue;try{return Ue=s,i()}finally{Ue=o}},Yi=function(s,i,o){switch(i){case"input":if(qs(s,o),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==s&&c.form===s.form){var m=so(c);if(!m)throw Error(n(90));sn(c),qs(c,m)}}}break;case"textarea":$i(s,o);break;case"select":i=o.value,i!=null&&Nn(s,!!o.multiple,i,!1)}},Ft=Ad,kt=ys;var A_={usingClientEntryPoint:!1,Events:[fa,ei,so,Nt,Rn,Ad]},Aa={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C_={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=t0(s),s===null?null:s.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{Uu=zo.inject(C_),Jn=zo}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A_,Kt.createPortal=function(s,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pd(i))throw Error(n(200));return v_(s,i,null,o)},Kt.createRoot=function(s,i){if(!Pd(s))throw Error(n(299));var o=!1,c="",m=Nm;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Od(s,1,!1,null,null,o,!1,c,m),s[hr]=i.current,la(s.nodeType===8?s.parentNode:s),new Ld(i)},Kt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=t0(i),s=s===null?null:s.stateNode,s},Kt.flushSync=function(s){return ys(s)},Kt.hydrate=function(s,i,o){if(!Ho(i))throw Error(n(200));return $o(null,s,i,!0,o)},Kt.hydrateRoot=function(s,i,o){if(!Pd(s))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,m=!1,E="",w=Nm;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(E=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),i=Am(i,null,s,1,o??null,m,!1,E,w),s[hr]=i.current,la(s),c)for(s=0;s<c.length;s++)o=c[s],m=o._getVersion,m=m(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,m]:i.mutableSourceEagerHydrationData.push(o,m);return new jo(i)},Kt.render=function(s,i,o){if(!Ho(i))throw Error(n(200));return $o(null,s,i,!1,o)},Kt.unmountComponentAtNode=function(s){if(!Ho(s))throw Error(n(40));return s._reactRootContainer?(ys(function(){$o(null,null,s,!1,function(){s._reactRootContainer=null,s[hr]=null})}),!0):!1},Kt.unstable_batchedUpdates=Ad,Kt.unstable_renderSubtreeIntoContainer=function(s,i,o,c){if(!Ho(o))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return $o(s,i,o,!1,c)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var Fm;function I1(){if(Fm)return Bd.exports;Fm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bd.exports=P_(),Bd.exports}var Bm;function M_(){if(Bm)return qo;Bm=1;var e=I1();return qo.createRoot=e.createRoot,qo.hydrateRoot=e.hydrateRoot,qo}var F_=M_(),Na={},Um;function B_(){if(Um)return Na;Um=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.parse=l,Na.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,v){const x=new u,N=_.length;if(N<2)return x;const A=v?.decode||g;let R=0;do{const L=_.indexOf("=",R);if(L===-1)break;const H=_.indexOf(";",R),U=H===-1?N:H;if(L>U){R=_.lastIndexOf(";",L-1)+1;continue}const W=d(_,R,L),te=f(_,L,W),se=_.slice(W,te);if(x[se]===void 0){let Z=d(_,L+1,U),ce=f(_,U,Z);const ve=A(_.slice(Z,ce));x[se]=ve}R=U+1}while(R<N);return x}function d(_,v,x){do{const N=_.charCodeAt(v);if(N!==32&&N!==9)return v}while(++v<x);return x}function f(_,v,x){for(;v>x;){const N=_.charCodeAt(--v);if(N!==32&&N!==9)return v+1}return x}function h(_,v,x){const N=x?.encode||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const A=N(v);if(!t.test(A))throw new TypeError(`argument val is invalid: ${v}`);let R=_+"="+A;if(!x)return R;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);R+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);R+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);R+="; Path="+x.path}if(x.expires){if(!T(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);R+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(R+="; HttpOnly"),x.secure&&(R+="; Secure"),x.partitioned&&(R+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return R}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function T(_){return a.call(_)==="[object Date]"}return Na}B_();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jm="popstate";function U_(e={}){function t(r,a){let{pathname:u,search:l,hash:d}=r.location;return gf("",{pathname:u,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:au(a)}return H_(t,n,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j_(){return Math.random().toString(36).substring(2,10)}function Hm(e,t){return{usr:e.state,key:e.key,idx:t}}function gf(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ni(t):t,state:n,key:t&&t.key||r||j_()}}function au({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ni(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function H_(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:u=!1}=r,l=a.history,d="POP",f=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function T(){d="POP";let A=g(),R=A==null?null:A-h;h=A,f&&f({action:d,location:N.location,delta:R})}function _(A,R){d="PUSH";let L=gf(N.location,A,R);h=g()+1;let H=Hm(L,h),U=N.createHref(L);try{l.pushState(H,"",U)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(U)}u&&f&&f({action:d,location:N.location,delta:1})}function v(A,R){d="REPLACE";let L=gf(N.location,A,R);h=g();let H=Hm(L,h),U=N.createHref(L);l.replaceState(H,"",U),u&&f&&f({action:d,location:N.location,delta:0})}function x(A){let R=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof A=="string"?A:au(A);return L=L.replace(/ $/,"%20"),Ge(R,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,R)}let N={get action(){return d},get location(){return e(a,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(jm,T),f=A,()=>{a.removeEventListener(jm,T),f=null}},createHref(A){return t(a,A)},createURL:x,encodeLocation(A){let R=x(A);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:_,replace:v,go(A){return l.go(A)}};return N}function O1(e,t,n="/"){return $_(e,t,n,!1)}function $_(e,t,n,r){let a=typeof t=="string"?Ni(t):t,u=is(a.pathname||"/",n);if(u==null)return null;let l=D1(e);z_(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=e2(u);d=J_(l[f],h,r)}return d}function D1(e,t=[],n=[],r=""){let a=(u,l,d)=>{let f={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:l,route:u};f.relativePath.startsWith("/")&&(Ge(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=vr([r,f.relativePath]),g=n.concat(f);u.children&&u.children.length>0&&(Ge(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),D1(u.children,t,g,h)),!(u.path==null&&!u.index)&&t.push({path:h,score:K_(h,u.index),routesMeta:g})};return e.forEach((u,l)=>{if(u.path===""||!u.path?.includes("?"))a(u,l);else for(let d of L1(u.path))a(u,l,d)}),t}function L1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return a?[u,""]:[u];let l=L1(r.join("/")),d=[];return d.push(...l.map(f=>f===""?u:[u,f].join("/"))),a&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function z_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:X_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var q_=/^:[\w-]+$/,W_=3,Y_=2,V_=1,Q_=10,G_=-2,$m=e=>e==="*";function K_(e,t){let n=e.split("/"),r=n.length;return n.some($m)&&(r+=G_),t&&(r+=Y_),n.filter(a=>!$m(a)).reduce((a,u)=>a+(q_.test(u)?W_:u===""?V_:Q_),r)}function X_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function J_(e,t,n=!1){let{routesMeta:r}=e,a={},u="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,g=u==="/"?t:t.slice(u.length)||"/",T=fl({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),_=f.route;if(!T&&h&&n&&!r[r.length-1].route.index&&(T=fl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!T)return null;Object.assign(a,T.params),l.push({params:a,pathname:vr([u,T.pathname]),pathnameBase:s2(vr([u,T.pathnameBase])),route:_}),T.pathnameBase!=="/"&&(u=vr([u,T.pathnameBase]))}return l}function fl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Z_(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let u=a[0],l=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:T},_)=>{if(g==="*"){let x=d[_]||"";l=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const v=d[_];return T&&!v?h[g]=void 0:h[g]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:l,pattern:e}}function Z_(e,t=!1,n=!0){Hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function e2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function is(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function t2(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ni(e):e;return{pathname:n?n.startsWith("/")?n:n2(n,t):t,search:i2(r),hash:a2(a)}}function n2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hd(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zf(e){let t=r2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function eh(e,t,n,r=!1){let a;typeof e=="string"?a=Ni(e):(a={...e},Ge(!a.pathname||!a.pathname.includes("?"),Hd("?","pathname","search",a)),Ge(!a.pathname||!a.pathname.includes("#"),Hd("#","pathname","hash",a)),Ge(!a.search||!a.search.includes("#"),Hd("#","search","hash",a)));let u=e===""||a.pathname==="",l=u?"/":a.pathname,d;if(l==null)d=n;else{let T=t.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),T-=1;a.pathname=_.join("/")}d=T>=0?t[T]:"/"}let f=t2(a,d),h=l&&l!=="/"&&l.endsWith("/"),g=(u||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var vr=e=>e.join("/").replace(/\/\/+/g,"/"),s2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,a2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function u2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var P1=["POST","PUT","PATCH","DELETE"];new Set(P1);var o2=["GET",...P1];new Set(o2);var ki=y.createContext(null);ki.displayName="DataRouter";var Ol=y.createContext(null);Ol.displayName="DataRouterState";var M1=y.createContext({isTransitioning:!1});M1.displayName="ViewTransition";var l2=y.createContext(new Map);l2.displayName="Fetchers";var c2=y.createContext(null);c2.displayName="Await";var zn=y.createContext(null);zn.displayName="Navigation";var bu=y.createContext(null);bu.displayName="Location";var qn=y.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var th=y.createContext(null);th.displayName="RouteError";function d2(e,{relative:t}={}){Ge(Ri(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(zn),{hash:a,pathname:u,search:l}=yu(e,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:vr([n,u])),r.createHref({pathname:d,search:l,hash:a})}function Ri(){return y.useContext(bu)!=null}function Wn(){return Ge(Ri(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(bu).location}var F1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B1(e){y.useContext(zn).static||y.useLayoutEffect(e)}function mn(){let{isDataRoute:e}=y.useContext(qn);return e?v2():f2()}function f2(){Ge(Ri(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(ki),{basename:t,navigator:n}=y.useContext(zn),{matches:r}=y.useContext(qn),{pathname:a}=Wn(),u=JSON.stringify(Zf(r)),l=y.useRef(!1);return B1(()=>{l.current=!0}),y.useCallback((f,h={})=>{if(Hn(l.current,F1),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=eh(f,JSON.parse(u),a,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:vr([t,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[t,n,u,a,e])}y.createContext(null);function Dl(){let{matches:e}=y.useContext(qn),t=e[e.length-1];return t?t.params:{}}function yu(e,{relative:t}={}){let{matches:n}=y.useContext(qn),{pathname:r}=Wn(),a=JSON.stringify(Zf(n));return y.useMemo(()=>eh(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function h2(e,t){return U1(e,t)}function U1(e,t,n,r){Ge(Ri(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=y.useContext(zn),{matches:u}=y.useContext(qn),l=u[u.length-1],d=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let R=g&&g.path||"";j1(f,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let T=Wn(),_;if(t){let R=typeof t=="string"?Ni(t):t;Ge(h==="/"||R.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=T;let v=_.pathname||"/",x=v;if(h!=="/"){let R=h.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=O1(e,{pathname:x});Hn(g||N!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Hn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=b2(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:vr([h,a.encodeLocation?a.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:vr([h,a.encodeLocation?a.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),u,n,r);return t&&A?y.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},A):A}function p2(){let e=x2(),t=u2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:u},"ErrorBoundary")," or"," ",y.createElement("code",{style:u},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:a},n):null,l)}var m2=y.createElement(p2,null),g2=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?y.createElement(qn.Provider,{value:this.props.routeContext},y.createElement(th.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E2({routeContext:e,match:t,children:n}){let r=y.useContext(ki);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(qn.Provider,{value:e},n)}function b2(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,u=n?.errors;if(u!=null){let f=a.findIndex(h=>h.route.id&&u?.[h.route.id]!==void 0);Ge(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:g,errors:T}=n,_=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!T||T[h.route.id]===void 0);if(h.route.lazy||_){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,h,g)=>{let T,_=!1,v=null,x=null;n&&(T=u&&h.route.id?u[h.route.id]:void 0,v=h.route.errorElement||m2,l&&(d<0&&g===0?(j1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,x=null):d===g&&(_=!0,x=h.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,g+1)),A=()=>{let R;return T?R=v:_?R=x:h.route.Component?R=y.createElement(h.route.Component,null):h.route.element?R=h.route.element:R=f,y.createElement(E2,{match:h,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:R})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?y.createElement(g2,{location:n.location,revalidation:n.revalidation,component:v,error:T,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}function nh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y2(e){let t=y.useContext(ki);return Ge(t,nh(e)),t}function T2(e){let t=y.useContext(Ol);return Ge(t,nh(e)),t}function _2(e){let t=y.useContext(qn);return Ge(t,nh(e)),t}function rh(e){let t=_2(e),n=t.matches[t.matches.length-1];return Ge(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function w2(){return rh("useRouteId")}function x2(){let e=y.useContext(th),t=T2("useRouteError"),n=rh("useRouteError");return e!==void 0?e:t.errors?.[n]}function v2(){let{router:e}=y2("useNavigate"),t=rh("useNavigate"),n=y.useRef(!1);return B1(()=>{n.current=!0}),y.useCallback(async(a,u={})=>{Hn(n.current,F1),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...u}))},[e,t])}var zm={};function j1(e,t,n){!t&&!zm[e]&&(zm[e]=!0,Hn(!1,n))}y.memo(S2);function S2({routes:e,future:t,state:n}){return U1(e,void 0,n,t)}function qm({to:e,replace:t,state:n,relative:r}){Ge(Ri(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=y.useContext(zn);Hn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=y.useContext(qn),{pathname:l}=Wn(),d=mn(),f=eh(e,Zf(u),l,r==="path"),h=JSON.stringify(f);return y.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:r})},[d,h,r,t,n]),null}function jt(e){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:u=!1}){Ge(!Ri(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:l,navigator:a,static:u,future:{}}),[l,a,u]);typeof n=="string"&&(n=Ni(n));let{pathname:f="/",search:h="",hash:g="",state:T=null,key:_="default"}=n,v=y.useMemo(()=>{let x=is(f,l);return x==null?null:{location:{pathname:x,search:h,hash:g,state:T,key:_},navigationType:r}},[l,f,h,g,T,_,r]);return Hn(v!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:y.createElement(zn.Provider,{value:d},y.createElement(bu.Provider,{children:t,value:v}))}function C2({children:e,location:t}){return h2(Ef(e),t)}function Ef(e,t=[]){let n=[];return y.Children.forEach(e,(r,a)=>{if(!y.isValidElement(r))return;let u=[...t,a];if(r.type===y.Fragment){n.push.apply(n,Ef(r.props.children,u));return}Ge(r.type===jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ef(r.props.children,u)),n.push(l)}),n}var sl="get",il="application/x-www-form-urlencoded";function Ll(e){return e!=null&&typeof e.tagName=="string"}function N2(e){return Ll(e)&&e.tagName.toLowerCase()==="button"}function k2(e){return Ll(e)&&e.tagName.toLowerCase()==="form"}function R2(e){return Ll(e)&&e.tagName.toLowerCase()==="input"}function I2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function O2(e,t){return e.button===0&&(!t||t==="_self")&&!I2(e)}var Wo=null;function D2(){if(Wo===null)try{new FormData(document.createElement("form"),0),Wo=!1}catch{Wo=!0}return Wo}var L2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(e){return e!=null&&!L2.has(e)?(Hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${il}"`),null):e}function P2(e,t){let n,r,a,u,l;if(k2(e)){let d=e.getAttribute("action");r=d?is(d,t):null,n=e.getAttribute("method")||sl,a=$d(e.getAttribute("enctype"))||il,u=new FormData(e)}else if(N2(e)||R2(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?is(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||sl,a=$d(e.getAttribute("formenctype"))||$d(d.getAttribute("enctype"))||il,u=new FormData(d,e),!D2()){let{name:h,type:g,value:T}=e;if(g==="image"){let _=h?`${h}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else h&&u.append(h,T)}}else{if(Ll(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sl,r=null,a=il,l=e}return u&&a==="text/plain"&&(l=u,u=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:u,body:l}}function sh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function M2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function B2(e,t,n){let r=await Promise.all(e.map(async a=>{let u=t.routes[a.route.id];if(u){let l=await M2(u,n);return l.links?l.links():[]}return[]}));return $2(r.flat(1).filter(F2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Wm(e,t,n,r,a,u){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return u==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):u==="data"?t.filter((f,h)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function U2(e,t){return j2(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function j2(e){return[...new Set(e)]}function H2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function $2(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let u=JSON.stringify(H2(a));return n.has(u)||(n.add(u),r.push({key:u,link:a})),r},[])}function z2(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function q2(){let e=y.useContext(ki);return sh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function W2(){let e=y.useContext(Ol);return sh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ih=y.createContext(void 0);ih.displayName="FrameworkContext";function H1(){let e=y.useContext(ih);return sh(e,"You must render this element inside a <HydratedRouter> element"),e}function Y2(e,t){let n=y.useContext(ih),[r,a]=y.useState(!1),[u,l]=y.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:T}=t,_=y.useRef(null);y.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let N=R=>{R.forEach(L=>{l(L.isIntersecting)})},A=new IntersectionObserver(N,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[e]),y.useEffect(()=>{if(r){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[r]);let v=()=>{a(!0)},x=()=>{a(!1),l(!1)};return n?e!=="intent"?[u,_,{}]:[u,_,{onFocus:ka(d,v),onBlur:ka(f,x),onMouseEnter:ka(h,v),onMouseLeave:ka(g,x),onTouchStart:ka(T,v)}]:[!1,_,{}]}function ka(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function V2({page:e,...t}){let{router:n}=q2(),r=y.useMemo(()=>O1(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?y.createElement(G2,{page:e,matches:r,...t}):null}function Q2(e){let{manifest:t,routeModules:n}=H1(),[r,a]=y.useState([]);return y.useEffect(()=>{let u=!1;return B2(e,t,n).then(l=>{u||a(l)}),()=>{u=!0}},[e,t,n]),r}function G2({page:e,matches:t,...n}){let r=Wn(),{manifest:a,routeModules:u}=H1(),{loaderData:l,matches:d}=W2(),f=y.useMemo(()=>Wm(e,t,d,a,r,"data"),[e,t,d,a,r]),h=y.useMemo(()=>Wm(e,t,d,a,r,"assets"),[e,t,d,a,r]),g=y.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,x=!1;if(t.forEach(A=>{let R=a.routes[A.route.id];!R||!R.hasLoader||(!f.some(L=>L.route.id===A.route.id)&&A.route.id in l&&u[A.route.id]?.shouldRevalidate||R.hasClientLoader?x=!0:v.add(A.route.id))}),v.size===0)return[];let N=z2(e);return x&&v.size>0&&N.searchParams.set("_routes",t.filter(A=>v.has(A.route.id)).map(A=>A.route.id).join(",")),[N.pathname+N.search]},[l,r,a,f,t,e,u]),T=y.useMemo(()=>U2(h,a),[h,a]),_=Q2(h);return y.createElement(y.Fragment,null,g.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),T.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),_.map(({key:v,link:x})=>y.createElement("link",{key:v,...x})))}function K2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var $1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$1&&(window.__reactRouterVersion="7.1.3")}catch{}function X2({basename:e,children:t,window:n}){let r=y.useRef();r.current==null&&(r.current=U_({window:n,v5Compat:!0}));let a=r.current,[u,l]=y.useState({action:a.action,location:a.location}),d=y.useCallback(f=>{y.startTransition(()=>l(f))},[l]);return y.useLayoutEffect(()=>a.listen(d),[a,d]),y.createElement(A2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a})}var z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=y.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:u,replace:l,state:d,target:f,to:h,preventScrollReset:g,viewTransition:T,..._},v){let{basename:x}=y.useContext(zn),N=typeof h=="string"&&z1.test(h),A,R=!1;if(typeof h=="string"&&N&&(A=h,$1))try{let ce=new URL(window.location.href),ve=h.startsWith("//")?new URL(ce.protocol+h):new URL(h),Re=is(ve.pathname,x);ve.origin===ce.origin&&Re!=null?h=Re+ve.search+ve.hash:R=!0}catch{Hn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=d2(h,{relative:a}),[H,U,W]=Y2(r,_),te=tw(h,{replace:l,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:T});function se(ce){t&&t(ce),ce.defaultPrevented||te(ce)}let Z=y.createElement("a",{..._,...W,href:A||L,onClick:R||u?t:se,ref:K2(v,U),target:f,"data-discover":!N&&n==="render"?"true":void 0});return H&&!N?y.createElement(y.Fragment,null,Z,y.createElement(V2,{page:L})):Z});Ht.displayName="Link";var J2=y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:u,to:l,viewTransition:d,children:f,...h},g){let T=yu(l,{relative:h.relative}),_=Wn(),v=y.useContext(Ol),{navigator:x,basename:N}=y.useContext(zn),A=v!=null&&aw(T)&&d===!0,R=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,L=_.pathname,H=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(L=L.toLowerCase(),H=H?H.toLowerCase():null,R=R.toLowerCase()),H&&N&&(H=is(H,N)||H);const U=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let W=L===R||!a&&L.startsWith(R)&&L.charAt(U)==="/",te=H!=null&&(H===R||!a&&H.startsWith(R)&&H.charAt(R.length)==="/"),se={isActive:W,isPending:te,isTransitioning:A},Z=W?t:void 0,ce;typeof r=="function"?ce=r(se):ce=[r,W?"active":null,te?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let ve=typeof u=="function"?u(se):u;return y.createElement(Ht,{...h,"aria-current":Z,className:ce,ref:g,style:ve,to:l,viewTransition:d},typeof f=="function"?f(se):f)});J2.displayName="NavLink";var Z2=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:u,method:l=sl,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:T,..._},v)=>{let x=sw(),N=iw(d,{relative:h}),A=l.toLowerCase()==="get"?"get":"post",R=typeof d=="string"&&z1.test(d),L=H=>{if(f&&f(H),H.defaultPrevented)return;H.preventDefault();let U=H.nativeEvent.submitter,W=U?.getAttribute("formmethod")||l;x(U||H.currentTarget,{fetcherKey:t,method:W,navigate:n,replace:a,state:u,relative:h,preventScrollReset:g,viewTransition:T})};return y.createElement("form",{ref:v,method:A,action:N,onSubmit:r?f:L,..._,"data-discover":!R&&e==="render"?"true":void 0})});Z2.displayName="Form";function ew(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q1(e){let t=y.useContext(ki);return Ge(t,ew(e)),t}function tw(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:u,viewTransition:l}={}){let d=mn(),f=Wn(),h=yu(e,{relative:u});return y.useCallback(g=>{if(O2(g,t)){g.preventDefault();let T=n!==void 0?n:au(f)===au(h);d(e,{replace:T,state:r,preventScrollReset:a,relative:u,viewTransition:l})}},[f,d,h,n,r,t,e,a,u,l])}var nw=0,rw=()=>`__${String(++nw)}__`;function sw(){let{router:e}=q1("useSubmit"),{basename:t}=y.useContext(zn),n=w2();return y.useCallback(async(r,a={})=>{let{action:u,method:l,encType:d,formData:f,body:h}=P2(r,t);if(a.navigate===!1){let g=a.fetcherKey||rw();await e.fetch(g,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function iw(e,{relative:t}={}){let{basename:n}=y.useContext(zn),r=y.useContext(qn);Ge(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),u={...yu(e||".",{relative:t})},l=Wn();if(e==null){u.search=l.search;let d=new URLSearchParams(u.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(T=>T).forEach(T=>d.append("index",T));let g=d.toString();u.search=g?`?${g}`:""}}return(!e||e===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:vr([n,u.pathname])),au(u)}function aw(e,t={}){let n=y.useContext(M1);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q1("useViewTransitionState"),a=yu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=is(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=is(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fl(a.pathname,l)!=null||fl(a.pathname,u)!=null}new TextEncoder;var Wa=I1();const uw="modulepreload",ow=function(e){return"/elysia/"+e},Ym={},wi=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");a=Promise.allSettled(n.map(f=>{if(f=ow(f),f in Ym)return;Ym[f]=!0;const h=f.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const T=document.createElement("link");if(T.rel=h?"stylesheet":uw,h||(T.as="script"),T.crossOrigin="",T.href=f,d&&T.setAttribute("nonce",d),document.head.appendChild(T),h)return new Promise((_,v)=>{T.addEventListener("load",_),T.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return a.then(l=>{for(const d of l||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})},lw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ii);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ah extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class cw extends ah{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dw extends ah{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fw extends ah{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bf||(bf={}));var hw=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(T){l(T)}}function f(g){try{h(r.throw(g))}catch(T){l(T)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class pw{constructor(t,{headers:n={},customFetch:r,region:a=bf.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=lw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return hw(this,void 0,void 0,function*(){try{const{headers:a,method:u,body:l}=n;let d={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let h;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(d["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(d["Content-Type"]="application/json",h=JSON.stringify(l)));const g=yield this.fetch(`${this.url}/${t}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:h}).catch(x=>{throw new cw(x)}),T=g.headers.get("x-relay-error");if(T&&T==="true")throw new dw(g);if(!g.ok)throw new fw(g);let _=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return _==="application/json"?v=yield g.json():_==="application/octet-stream"?v=yield g.blob():_==="text/event-stream"?v=g:_==="multipart/form-data"?v=yield g.formData():v=yield g.text(),{data:v,error:null}}catch(a){return{data:null,error:a}}})}}var xt={},Ra={},Ia={},Oa={},Da={},La={},mw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xi=mw();const gw=xi.fetch,W1=xi.fetch.bind(xi),Y1=xi.Headers,Ew=xi.Request,bw=xi.Response,Ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:Y1,Request:Ew,Response:bw,default:W1,fetch:gw},Symbol.toStringTag,{value:"Module"})),yw=k_(Ii);var Yo={},Vm;function V1(){if(Vm)return Yo;Vm=1,Object.defineProperty(Yo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Yo.default=e,Yo}var Qm;function Q1(){if(Qm)return La;Qm=1;var e=La.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(La,"__esModule",{value:!0});const t=e(yw),n=e(V1());class r{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,l){return this.headers=Object.assign({},this.headers),this.headers[u]=l,this}then(u,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var g,T,_;let v=null,x=null,N=null,A=h.status,R=h.statusText;if(h.ok){if(this.method!=="HEAD"){const W=await h.text();W===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=W:x=JSON.parse(W))}const H=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),U=(T=h.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");H&&U&&U.length>1&&(N=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,N=null,A=406,R="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const H=await h.text();try{v=JSON.parse(H),Array.isArray(v)&&h.status===404&&(x=[],v=null,A=200,R="OK")}catch{h.status===404&&H===""?(A=204,R="No Content"):v={message:H}}if(v&&this.isMaybeSingle&&(!((_=v?.details)===null||_===void 0)&&_.includes("0 rows"))&&(v=null,A=200,R="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:x,count:N,status:A,statusText:R}});return this.shouldThrowOnError||(f=f.catch(h=>{var g,T,_;return{error:{message:`${(g=h?.name)!==null&&g!==void 0?g:"FetchError"}: ${h?.message}`,details:`${(T=h?.stack)!==null&&T!==void 0?T:""}`,hint:"",code:`${(_=h?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),f.then(u,l)}}return La.default=r,La}var Gm;function G1(){if(Gm)return Da;Gm=1;var e=Da.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Da,"__esModule",{value:!0});const t=e(Q1());class n extends t.default{select(a){let u=!1;const l=(a??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:u=!0,nullsFirst:l,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${a}.${u?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:u,referencedTable:l=u}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,u,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(h,`${u-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:u=!1,settings:l=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var g;const T=[a?"analyze":null,u?"verbose":null,l?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),_=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${_}"; options=${T};`,h==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Da.default=n,Da}var Km;function uh(){if(Km)return Oa;Km=1;var e=Oa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oa,"__esModule",{value:!0});const t=e(G1());class n extends t.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}in(a,u){const l=Array.from(new Set(u)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:l,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${h}.${u}`),this}match(a){return Object.entries(a).forEach(([u,l])=>{this.url.searchParams.append(u,`eq.${l}`)}),this}not(a,u,l){return this.url.searchParams.append(a,`not.${u}.${l}`),this}or(a,{foreignTable:u,referencedTable:l=u}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,u,l){return this.url.searchParams.append(a,`${u}.${l}`),this}}return Oa.default=n,Oa}var Xm;function K1(){if(Xm)return Ia;Xm=1;var e=Ia.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ia,"__esModule",{value:!0});const t=e(uh());class n{constructor(a,{headers:u={},schema:l,fetch:d}){this.url=a,this.headers=u,this.schema=l,this.fetch=d}select(a,{head:u=!1,count:l}={}){const d=u?"HEAD":"GET";let f=!1;const h=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",h),l&&(this.headers.Prefer=`count=${l}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:u,defaultToNull:l=!0}={}){const d="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),u&&f.push(`count=${u}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const h=a.reduce((g,T)=>g.concat(Object.keys(T)),[]);if(h.length>0){const g=[...new Set(h)].map(T=>`"${T}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:u,ignoreDuplicates:l=!1,count:d,defaultToNull:f=!0}={}){const h="POST",g=[`resolution=${l?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const T=a.reduce((_,v)=>_.concat(Object.keys(v)),[]);if(T.length>0){const _=[...new Set(T)].map(v=>`"${v}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:u}={}){const l="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),u&&d.push(`count=${u}`),this.headers.Prefer=d.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const u="DELETE",l=[];return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ia.default=n,Ia}var Pa={},Ma={},Jm;function Tw(){return Jm||(Jm=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.version=void 0,Ma.version="0.0.0-automated"),Ma}var Zm;function _w(){if(Zm)return Pa;Zm=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.DEFAULT_HEADERS=void 0;const e=Tw();return Pa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Pa}var eg;function ww(){if(eg)return Ra;eg=1;var e=Ra.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ra,"__esModule",{value:!0});const t=e(K1()),n=e(uh()),r=_w();class a{constructor(l,{headers:d={},schema:f,fetch:h}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),d),this.schemaName=f,this.fetch=h}from(l){const d=new URL(`${this.url}/${l}`);return new t.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,d={},{head:f=!1,get:h=!1,count:g}={}){let T;const _=new URL(`${this.url}/rpc/${l}`);let v;f||h?(T=f?"HEAD":"GET",Object.entries(d).filter(([N,A])=>A!==void 0).map(([N,A])=>[N,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([N,A])=>{_.searchParams.append(N,A)})):(T="POST",v=d);const x=Object.assign({},this.headers);return g&&(x.Prefer=`count=${g}`),new n.default({method:T,url:_,headers:x,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return Ra.default=a,Ra}var tg;function xw(){if(tg)return xt;tg=1;var e=xt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(xt,"__esModule",{value:!0}),xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const t=e(ww());xt.PostgrestClient=t.default;const n=e(K1());xt.PostgrestQueryBuilder=n.default;const r=e(uh());xt.PostgrestFilterBuilder=r.default;const a=e(G1());xt.PostgrestTransformBuilder=a.default;const u=e(Q1());xt.PostgrestBuilder=u.default;const l=e(V1());return xt.PostgrestError=l.default,xt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:u.default,PostgrestError:l.default},xt}var vw=xw();const Sw=Xf(vw),{PostgrestClient:Aw,PostgrestQueryBuilder:P5,PostgrestFilterBuilder:M5,PostgrestTransformBuilder:F5,PostgrestBuilder:B5,PostgrestError:U5}=Sw,Cw="2.11.2",Nw={"X-Client-Info":`realtime-js/${Cw}`},kw="1.0.0",X1=1e4,Rw=1e3;var yi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yi||(yi={}));var fn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fn||(fn={}));var jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jn||(jn={}));var yf;(function(e){e.websocket="websocket"})(yf||(yf={}));var Ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ns||(Ns={}));class Iw{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),u=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+a));l=l+a;const f=r.decode(t.slice(l,l+u));l=l+u;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class J1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})($e||($e={}));const ng=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((u,l)=>(u[l]=Ow(l,e,t,a),u),{})},Ow=(e,t,n,r)=>{const a=t.find(d=>d.name===e),u=a?.type,l=n[e];return u&&!r.includes(u)?Z1(u,l):Tf(l)},Z1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Mw(t,n)}switch(e){case $e.bool:return Dw(t);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return Lw(t);case $e.json:case $e.jsonb:return Pw(t);case $e.timestamp:return Fw(t);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Tf(t);default:return Tf(t)}},Tf=e=>e,Dw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Pw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Mw=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let u;const l=e.slice(1,n);try{u=JSON.parse("["+l+"]")}catch{u=l?l.split(","):[]}return u.map(d=>Z1(t,d))}return e},Fw=e=>typeof e=="string"?e.replace(" ","T"):e,eE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class zd{constructor(t,n,r={},a=X1){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rg||(rg={}));class Qa{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:u,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qa.syncState(this.state,a,u,l),this.pendingDiffs.forEach(f=>{this.state=Qa.syncDiff(this.state,f,u,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},a=>{const{onJoin:u,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Qa.syncDiff(this.state,a,u,l),d())}),this.onJoin((a,u,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:l})}),this.onLeave((a,u,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const u=this.cloneDeep(t),l=this.transformState(n),d={},f={};return this.map(u,(h,g)=>{l[h]||(f[h]=g)}),this.map(l,(h,g)=>{const T=u[h];if(T){const _=g.map(A=>A.presence_ref),v=T.map(A=>A.presence_ref),x=g.filter(A=>v.indexOf(A.presence_ref)<0),N=T.filter(A=>_.indexOf(A.presence_ref)<0);x.length>0&&(d[h]=x),N.length>0&&(f[h]=N)}else d[h]=g}),this.syncDiff(u,{joins:d,leaves:f},r,a)}static syncDiff(t,n,r,a){const{joins:u,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(u,(d,f)=>{var h;const g=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),g.length>0){const T=t[d].map(v=>v.presence_ref),_=g.filter(v=>T.indexOf(v.presence_ref)<0);t[d].unshift(..._)}r(d,g,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const g=f.map(T=>T.presence_ref);h=h.filter(T=>g.indexOf(T.presence_ref)<0),t[d]=h,a(d,h,f),h.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sg||(sg={}));var ig;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ig||(ig={}));var wr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class oh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zd(this,jn.join,this.params,this.timeout),this.rejoinTimer=new J1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Qa(this),this.broadcastEndpointURL=eE(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:l,private:d}}=this.params;this._onError(g=>t?.(wr.CHANNEL_ERROR,g)),this._onClose(()=>t?.(wr.CLOSED));const f={},h={broadcast:u,presence:l,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&a!==void 0?a:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var T;if(this.socket.setAuth(),g===void 0){t?.(wr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,v=(T=_?.length)!==null&&T!==void 0?T:0,x=[];for(let N=0;N<v;N++){const A=_[N],{filter:{event:R,schema:L,table:H,filter:U}}=A,W=g&&g[N];if(W&&W.event===R&&W.schema===L&&W.table===H&&W.filter===U)x.push(Object.assign(Object.assign({},A),{id:W.id}));else{this.unsubscribe(),t?.(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(wr.SUBSCRIBED);return}}).receive("error",g=>{t?.(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var l,d,f;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&u("ok"),h.receive("ok",()=>u("ok")),h.receive("error",()=>u("error")),h.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new zd(this,jn.leave,{},t);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const a=new AbortController,u=setTimeout(()=>a.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(u),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new zd(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,u;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:g}=jn;if(r&&[d,f,h,g].indexOf(l)>=0&&r!==this._joinRef())return;let _=this._onMessage(l,n,r);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var x,N,A;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((A=(N=v.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===l}).map(v=>v.callback(_,r)):(u=this.bindings[l])===null||u===void 0||u.filter(v=>{var x,N,A,R,L,H;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const U=v.id,W=(x=v.filter)===null||x===void 0?void 0:x.event;return U&&((N=n.ids)===null||N===void 0?void 0:N.includes(U))&&(W==="*"||W?.toLocaleLowerCase()===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const U=(L=(R=v?.filter)===null||R===void 0?void 0:R.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return U==="*"||U===((H=n?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof _=="object"&&"ids"in _){const x=_.data,{schema:N,table:A,commit_timestamp:R,type:L,errors:H}=x;_=Object.assign(Object.assign({},{schema:N,table:A,commit_timestamp:R,eventType:L,new:{},old:{},errors:H}),this._getPayloadRecords(x))}v.callback(_,r)})}_isClosed(){return this.state===fn.closed}_isJoined(){return this.state===fn.joined}_isJoining(){return this.state===fn.joining}_isLeaving(){return this.state===fn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),u={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&oh.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jn.close,{},t)}_onError(t){this._on(jn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ng(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ng(t.columns,t.old_record)),n}}const Bw=()=>{},Uw=typeof WebSocket<"u",jw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hw{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Nw,this.params={},this.timeout=X1,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Bw,this.conn=null,this.sendBuffer=[],this.serializer=new Iw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let l;return u?l=u:typeof fetch>"u"?l=(...d)=>wi(async()=>{const{default:f}=await Promise.resolve().then(()=>Ii);return{default:f}},void 0).then(({default:f})=>f(...d)):l=fetch,(...d)=>l(...d)},this.endPoint=`${t}/${yf.websocket}`,this.httpEndpoint=eE(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n?.encode?n.encode:(u,l)=>l(JSON.stringify(u)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new J1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Uw){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $w(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),wi(async()=>{const{default:t}=await import("./browser-y8uOnp0w.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kw}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yi.connecting:return Ns.Connecting;case yi.open:return Ns.Open;case yi.closing:return Ns.Closing;default:return Ns.Closed}}isConnected(){return this.connectionState()===Ns.Open}channel(t,n={config:{}}){const r=new oh(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:a,ref:u}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${u})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(jn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Rw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:u,ref:l}=n;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${r} ${a} ${l&&"("+l+")"||""}`,u),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,u,l)),this.stateChangeCallbacks.message.forEach(d=>d(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(jn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([jw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class $w{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class lh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function bt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zw extends lh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _f extends lh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var qw=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(T){l(T)}}function f(g){try{h(r.throw(g))}catch(T){l(T)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const tE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ii);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Ww=()=>qw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wi(()=>Promise.resolve().then(()=>Ii),void 0)).Response:Response}),wf=e=>{if(Array.isArray(e))return e.map(n=>wf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[a]=wf(r)}),t};var Fs=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(T){l(T)}}function f(g){try{h(r.throw(g))}catch(T){l(T)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const qd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yw=(e,t,n)=>Fs(void 0,void 0,void 0,function*(){const r=yield Ww();e instanceof r&&!n?.noResolveJson?e.json().then(a=>{t(new zw(qd(a),e.status||500))}).catch(a=>{t(new _f(qd(a),a))}):t(new _f(qd(e),e))}),Vw=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function Tu(e,t,n,r,a,u){return Fs(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,Vw(t,r,a,u)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>Yw(f,d,r))})})}function hl(e,t,n,r){return Fs(this,void 0,void 0,function*(){return Tu(e,"GET",t,n,r)})}function Jr(e,t,n,r,a){return Fs(this,void 0,void 0,function*(){return Tu(e,"POST",t,r,a,n)})}function Qw(e,t,n,r,a){return Fs(this,void 0,void 0,function*(){return Tu(e,"PUT",t,r,a,n)})}function Gw(e,t,n,r){return Fs(this,void 0,void 0,function*(){return Tu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nE(e,t,n,r,a){return Fs(this,void 0,void 0,function*(){return Tu(e,"DELETE",t,r,a,n)})}var Xt=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(T){l(T)}}function f(g){try{h(r.throw(g))}catch(T){l(T)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const Kw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ag={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xw{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=tE(a)}uploadOrUpdate(t,n,r,a){return Xt(this,void 0,void 0,function*(){try{let u;const l=Object.assign(Object.assign({},ag),a);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),f&&u.append("metadata",this.encodeMetadata(f)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",l.cacheControl),f&&u.append("metadata",this.encodeMetadata(f))):(u=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const h=this._removeEmptyFolders(n),g=this._getFinalPath(h),T=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:u,headers:d},l?.duplex?{duplex:l.duplex}:{})),_=yield T.json();return T.ok?{data:{path:h,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(u){if(bt(u))return{data:null,error:u};throw u}})}upload(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return Xt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),l=this._getFinalPath(u),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:ag.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const T=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:g}),_=yield T.json();return T.ok?{data:{path:u,fullPath:_.Key},error:null}:{data:null,error:_}}catch(f){if(bt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Xt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const u=yield Jr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),l=new URL(this.url+u.url),d=l.searchParams.get("token");if(!d)throw new lh("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}copy(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return Xt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),u=yield Jr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${l}`)},{data:u,error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return Xt(this,void 0,void 0,function*(){try{const a=yield Jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${u}`):null})),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}download(t,n){return Xt(this,void 0,void 0,function*(){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),l=u?`?${u}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield hl(this.fetch,`${this.url}/${a}/${d}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(bt(d))return{data:null,error:d};throw d}})}info(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield hl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wf(r),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}exists(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Gw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(bt(r)&&r instanceof _f){const a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&a.push(u);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&a.push(f);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${h}`)}}}remove(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield nE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Kw),n),{prefix:t||""});return{data:yield Jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Jw="2.7.1",Zw={"X-Client-Info":`storage-js/${Jw}`};var mi=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(T){l(T)}}function f(g){try{h(r.throw(g))}catch(T){l(T)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class ex{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Zw),n),this.fetch=tE(r)}listBuckets(){return mi(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(bt(t))return{data:null,error:t};throw t}})}getBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return mi(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return mi(this,void 0,void 0,function*(){try{return{data:yield Qw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield nE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}}class tx extends ex{constructor(t,n={},r){super(t,n,r)}from(t){return new Xw(this.url,this.headers,t,this.fetch)}}const nx="2.48.0";let Ya="";typeof Deno<"u"?Ya="deno":typeof document<"u"?Ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ya="react-native":Ya="node";const rx={"X-Client-Info":`supabase-js-${Ya}/${nx}`},sx={headers:rx},ix={schema:"public"},ax={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ux={};var ox=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(T){l(T)}}function f(g){try{h(r.throw(g))}catch(T){l(T)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const lx=e=>{let t;return e?t=e:typeof fetch>"u"?t=W1:t=fetch,(...n)=>t(...n)},cx=()=>typeof Headers>"u"?Y1:Headers,dx=(e,t,n)=>{const r=lx(n),a=cx();return(u,l)=>ox(void 0,void 0,void 0,function*(){var d;const f=(d=yield t())!==null&&d!==void 0?d:e;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(u,Object.assign(Object.assign({},l),{headers:h}))})};var fx=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(T){l(T)}}function f(g){try{h(r.throw(g))}catch(T){l(T)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};function hx(e){return e.replace(/\/$/,"")}function px(e,t){const{db:n,auth:r,realtime:a,global:u}=e,{db:l,auth:d,realtime:f,global:h}=t,g={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},d),r),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign({},h),u),accessToken:()=>fx(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const rE="2.67.3",mx="http://localhost:9999",gx="supabase.auth.token",Ex={"X-Client-Info":`gotrue-js/${rE}`},ug=10,xf="X-Supabase-Api-Version",sE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function bx(e){return Math.round(Date.now()/1e3)+e}function yx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const sr=()=>typeof window<"u"&&typeof document<"u",xs={tested:!1,writable:!1},Ga=()=>{if(!sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xs.tested)return xs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xs.tested=!0,xs.writable=!0}catch{xs.tested=!0,xs.writable=!1}return xs.writable};function Tx(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,u)=>{t[u]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const iE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ii);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_x=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",aE=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qo=async(e,t)=>{await e.removeItem(t)};function wx(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,a,u,l,d,f,h,g=0;for(e=e.replace("-","+").replace("_","/");g<e.length;)l=t.indexOf(e.charAt(g++)),d=t.indexOf(e.charAt(g++)),f=t.indexOf(e.charAt(g++)),h=t.indexOf(e.charAt(g++)),r=l<<2|d>>4,a=(d&15)<<4|f>>2,u=(f&3)<<6|h,n=n+String.fromCharCode(r),f!=64&&a!=0&&(n=n+String.fromCharCode(a)),h!=64&&u!=0&&(n=n+String.fromCharCode(u));return n}class Pl{constructor(){this.promise=new Pl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Pl.promiseConstructor=Promise;function og(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(wx(r))}async function xx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vx(e,t){return new Promise((r,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const l=await e(u);if(!t(u,null,l)){r(l);return}}catch(l){if(!t(u,l)){a(l);return}}})()})}function Sx(e){return("0"+e.toString(16)).substr(-2)}function Ax(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let u=0;u<56;u++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,Sx).join("")}async function Cx(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}function Nx(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Cx(e);return Nx(n)}async function gi(e,t,n=!1){const r=Ax();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await aE(e,`${t}-code-verifier`,a);const u=await kx(r);return[u,r===u?"plain":"s256"]}const Rx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ix(e){const t=e.headers.get(xf);if(!t||!t.match(Rx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class ch extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ox extends ch{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Dx(e){return xe(e)&&e.name==="AuthApiError"}class uE extends ch{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Bs extends ch{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Gr extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lx(e){return xe(e)&&e.name==="AuthSessionMissingError"}class Wd extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Go extends Bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ko extends Bs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Px(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class lg extends Bs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vf extends Bs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yd(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class cg extends Bs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Mx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fx=[502,503,504];async function dg(e){var t;if(!_x(e))throw new vf(Cs(e),0);if(Fx.includes(e.status))throw new vf(Cs(e),e.status);let n;try{n=await e.json()}catch(u){throw new uE(Cs(u),u)}let r;const a=Ix(e);if(a&&a.getTime()>=sE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cg(Cs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Gr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,l)=>u&&typeof l=="string",!0))throw new cg(Cs(n),e.status,n.weak_password.reasons);throw new Ox(Cs(n),e.status||500,r)}const Bx=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function Ie(e,t,n,r){var a;const u=Object.assign({},r?.headers);u[xf]||(u[xf]=sE["2024-01-01"].name),r?.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const l=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await Ux(e,t,n+d,{headers:u,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function Ux(e,t,n,r,a,u){const l=Bx(t,r,a,u);let d;try{d=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new vf(Cs(f),0)}if(d.ok||await dg(d),r?.noResolveJson)return d;try{return await d.json()}catch(f){await dg(f)}}function Kr(e){var t;let n=null;zx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=bx(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function fg(e){const t=Kr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ts(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jx(e){return{data:e,error:null}}function Hx(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:u}=e,l=Mx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:u},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function $x(e){return e}function zx(e){return e.access_token&&e.refresh_token&&e.expires_in}var qx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class Wx{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=iE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ts})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=qx(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Hx,redirectTo:n?.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ts})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,u,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},g=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(u=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:$x});if(g.error)throw g.error;const T=await g.json(),_=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(x=>{const N=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(x.split(";")[1].split("=")[1]);h[`${A}Page`]=N}),h.total=parseInt(_)),{data:Object.assign(Object.assign({},T),h),error:null}}catch(h){if(xe(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ts})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ts})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ts})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}const Yx={getItem:e=>Ga()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ga()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ga()&&globalThis.localStorage.removeItem(e)}};function hg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Vx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ei={debug:!!(globalThis&&Ga()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Qx extends oE{}async function Gx(e,t,n){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Qx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ei.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Vx();const Kx={url:mx,storageKey:gx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ex,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Fa=30*1e3,pg=3;async function mg(e,t,n){return await n()}class uu{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=uu.nextInstanceID,uu.nextInstanceID+=1,this.instanceID>0&&sr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Kx),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Wx({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=iE(a.fetch),this.lock=a.lock||mg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:sr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Gx:this.lock=mg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Ga()?this.storage=Yx:(this.memoryStorage={},this.storage=hg(this.memoryStorage)):(this.memoryStorage={},this.storage=hg(this.memoryStorage)),sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Tx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),sr()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:u}=await this._getSessionFromURL(n,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Px(u)){const f=(t=u.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:l,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?{error:n}:{error:new uE("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const u=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Kr}),{data:l,error:d}=u;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(u){if(xe(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var n,r,a;try{let u;if("email"in t){const{email:g,password:T,options:_}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await gi(this.storage,this.storageKey)),u=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:g,password:T,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:v,code_challenge_method:x},xform:Kr})}else if("phone"in t){const{phone:g,password:T,options:_}=t;u=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:T,data:(r=_?.data)!==null&&r!==void 0?r:{},channel:(a=_?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Kr})}else throw new Go("You must provide either an email or phone number and a password");const{data:l,error:d}=u;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(u){if(xe(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let n;if("email"in t){const{email:u,password:l,options:d}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:fg})}else if("phone"in t){const{phone:u,password:l,options:d}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:fg})}else throw new Go("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Vo(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:u,error:l}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kr});if(await Qo(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Wd}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:l})}catch(u){if(xe(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:u,nonce:l}=t,d=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:u,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Kr}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Wd}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,u,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await gi(this.storage,this.storageKey));const{error:T}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:g}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(u=f?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:g}}throw new Go("You must provide either an email or phone number.")}catch(d){if(xe(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let a,u;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,u=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:Kr});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let u=null,l=null;return this.flowType==="pkce"&&([u,l]=await gi(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:l}),headers:this.headers,xform:jx})}catch(u){if(xe(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Gr;const{error:a}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:u}=t,{error:l}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:a,options:u}=t,{data:l,error:d}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Go("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Vo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,g)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,g))})}return{data:{session:t},error:null}}const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ts}):await this._useSession(async n=>{var r,a,u;const{data:l,error:d}=n;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gr}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:ts})})}catch(n){if(xe(n))return Lx(n)&&(await this._removeSession(),await Qo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:u}=r;if(u)throw u;if(!a.session)throw new Gr;const l=a.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await gi(this.storage,this.storageKey));const{data:h,error:g}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:ts});if(g)throw g;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return og(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gr;const n=Date.now()/1e3;let r=n,a=!0,u=null;const l=og(t.access_token);if(l.exp&&(r=l.exp,a=r<=n),a){const{session:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;u={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Gr;const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!sr())throw new Ko("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ko(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ko("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lg("No code detected.");const{data:L,error:H}=await this._exchangeCodeForSession(t.code);if(H)throw H;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:u,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!u||!d||!l||!h)throw new Ko("No session defined in URL");const g=Math.round(Date.now()/1e3),T=parseInt(d);let _=g+T;f&&(_=parseInt(f));const v=_-g;v*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${T}s`);const x=_-T;g-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,_,g):g-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,_,g);const{data:N,error:A}=await this._getUser(u);if(A)throw A;const R={provider_token:r,provider_refresh_token:a,access_token:u,expires_in:T,expires_at:_,refresh_token:l,token_type:h,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:t.type},error:null}}catch(r){if(xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Vo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:u}=n;if(u)return{error:u};const l=(r=a.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(Dx(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Qo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=yx(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:u},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await gi(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(xe(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async u=>{var l,d,f,h,g;const{data:T,error:_}=u;if(_)throw _;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",v,{headers:this.headers,jwt:(g=(h=T.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return sr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(xe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:u,error:l}=n;if(l)throw l;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await vx(async a=>(a>0&&await xx(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kr})),(a,u)=>{const l=200*Math.pow(2,a);return u&&Yd(u)&&Date.now()+l-r<Fa})}catch(r){if(this._debug(n,"error",r),xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),sr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Vo(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),u=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<a+ug;if(this._debug(n,`session has${u?"":" not"} expired with margin of ${ug}s`),u){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),Yd(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Pl;const{data:u,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!u.session)throw new Gr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={session:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(a,"error",u),xe(u)){const l={session:null,error:u};return Yd(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const u=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){u.push(f)}});if(await Promise.all(l),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await aE(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Qo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fa}ms, refresh threshold is ${pg} ticks`),a<=pg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,l]=await gi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(d.toString())}if(r?.queryParams){const u=new URLSearchParams(r.queryParams);a.push(u.toString())}return r?.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;return u?{data:null,error:u}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:u,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:h}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;if(u)return{data:null,error:u};const{data:l,error:d}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;return u?{data:null,error:u}:await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],a=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),u=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:a,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:u}=t;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(a.access_token);let d=null;l.aal&&(d=l.aal);let f=d;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const g=l.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}}uu.nextInstanceID=0;const Xx=uu;class Jx extends Xx{constructor(t){super(t)}}var Zx=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function d(g){try{h(r.next(g))}catch(T){l(T)}}function f(g){try{h(r.throw(g))}catch(T){l(T)}}function h(g){g.done?u(g.value):a(g.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class ev{constructor(t,n,r){var a,u,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const d=hx(t);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:ix,realtime:ux,auth:Object.assign(Object.assign({},ax),{storageKey:f}),global:sx},g=px(r??{},h);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(T,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=dx(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new Aw(`${d}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new pw(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Zx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:u,flowType:l,lock:d,debug:f},h,g){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jx({url:this.authUrl,headers:Object.assign(Object.assign({},T),h),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:l,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Hw(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tv=(e,t,n)=>new ev(e,t,n),nv="https://bbosgvxsamxhzjgzxiuz.supabase.co",rv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJib3NndnhzYW14aHpqZ3p4aXV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU4NjQyNzEsImV4cCI6MjA1MTQ0MDI3MX0.xA3GJjaAzNVlddpCnHhvKOjDDxNXexY67yCqxi1GtYA",Te=tv(nv,rv),sv=async(e,t,n="")=>{try{let r=Te.from("recipe_search").select("*",{count:"exact"}).range(e,e+t-1);n&&(r=r.or(`title.ilike.%${n}%,description.ilike.%${n}%,ingredients_text.ilike.%${n}%`));const{data:a,count:u,error:l}=await r;if(l)throw new Error("Failed to fetch recipes.");return{data:a,count:u}}catch{return null}},iv=async(e,t,n="")=>{try{let r=Te.from("recipe_search").select("*",{count:"exact"}).range(e,e+t-1);n&&(r=r.or(`title.ilike.%${n}%,description.ilike.%${n}%,ingredients_text.ilike.%${n}%,tags_text.ilike.%${n}%`));const{data:a,count:u,error:l}=await r;if(l)throw new Error("Failed to fetch recipes.");return{data:a,count:u,error:null}}catch(r){return{data:[],count:0,error:r.message}}},av=async(e,t)=>{try{let n=Te.from("recipes").select(`
          *,
          ingredients(id, sort_number, value),
          steps(id, sort_number, value),
          recipe_to_users(permission)
        `).eq("id",e);t?n=n.or(`is_public.eq.true,user_id.eq.${t}`):n=n.eq("is_public",!0);const{data:r,error:a}=await n.maybeSingle();if(a)throw new Error("Failed to fetch recipe details.");return{...r,total_time:r.prep_time+r.cook_time||0,ingredients:r.ingredients.sort((u,l)=>u.sort_number-l.sort_number).map(u=>({...u,isActive:!0})),steps:r.steps.sort((u,l)=>u.sort_number-l.sort_number).map(u=>({...u,isActive:!0})),can_edit:r.user_id===t||r.recipe_to_users&&r.recipe_to_users.permission==="edit"}}catch(n){return console.error("Error fetching recipe details:",n.message),null}},uv=async(e,t,n)=>{try{let r=e;if(e){const h={};if(["title","description","prep_time","cook_time","img_url","original_recipe_url"].forEach(g=>{t[g]&&(h[g]=t[g])}),Object.keys(h).length>0){const{error:g}=await Te.from("recipes").update(h).eq("id",e);if(g)throw new Error(`Failed to update recipe: ${g.message}`)}}else{const{data:h,error:g}=await Te.from("recipes").insert([{title:t.title,description:t.description,servings:t.servings,prep_time:t.prep_time,cook_time:t.cook_time,img_url:t.img_url,original_recipe_url:t.img_url,user_id:n}]).select().single();if(g)throw new Error(`Failed to insert new recipe: ${g.message}`);r=h.id}const a=[],u=t.ingredients?.filter(h=>!h.isActive).map(h=>h.id)||[],l=t.ingredients?.filter(h=>h.isActive).map((h,g)=>({id:h.id,sort_number:g+1,recipe_id:r,value:h.value}))||[];u.length&&a.push(Te.from("ingredients").delete().in("id",u)),l.length&&a.push(Te.from("ingredients").upsert(l,{onConflict:"id"}));const d=t.steps?.filter(h=>!h.isActive).map(h=>h.id)||[],f=t.steps?.filter(h=>h.isActive).map((h,g)=>({id:h.id,recipe_id:r,sort_number:g+1,value:h.value}))||[];return d.length&&a.push(Te.from("steps").delete().in("id",d)),f.length&&a.push(Te.from("steps").upsert(f,{onConflict:"id"})),await Promise.all(a),{success:!0,recipeId:r}}catch(r){throw console.error("Error updating or inserting recipe:",r.message),r}},ov=async e=>{try{const{error:t}=await Te.from("recipes").delete().eq("id",e);if(t)throw new Error("Failed to delete recipe.")}catch(t){throw console.error("Error deleting recipe:",t.message),t}},vi={fetchRecipeList:sv,fetchRecipeListWithTags:iv,fetchRecipeDetails:av,upsertRecipe:uv,deleteRecipe:ov};function lv(){const[e,t]=y.useState([]),[n,r]=y.useState(""),[a,u]=y.useState(0),[l,d]=y.useState(!1),[f,h]=y.useState(!0),g=async()=>{u(0),t([]),await _(0,n)},T=async()=>{!l&&f&&await _(a,n)},_=async(v,x)=>{d(!0);try{const N=await vi.fetchRecipeListWithTags(v,10,x);if(!N)throw new Error("Something went wrong.");t(A=>v===0?N.data:[...A,...N.data]),u(v+N.data.length),h(N.data.length>0)}catch(N){console.error("Error fetching recipes:",N)}finally{d(!1)}};return{recipes:e,searchTerm:n,setSearchTerm:r,loading:l,hasMore:f,resetAndLoadRecipes:g,loadMoreRecipes:T}}const Us=({message:e="",isLarge:t=!0,className:n=""})=>b.jsxs("div",{className:`flex items-center justify-center space-x-2 ${n}`,children:[b.jsxs("svg",{className:`animate-spin text-blue-500 ${t?"h-10 w-10":"h-5 w-5"}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l-3 3 3-3z"})]}),b.jsx("span",{children:e})]}),_u=({message:e})=>b.jsx("div",{className:"text-center text-gray-500 p-4 border border-gray-200 rounded-lg",children:e}),dh=({title:e,description:t,img_url:n})=>b.jsxs(b.Fragment,{children:[n&&b.jsx("img",{src:n,alt:e,className:"w-full h-32 object-cover rounded-t-lg"}),b.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-b-lg shadow-md p-4 hover:shadow-lg transition-shadow-xs ${n?"":"rounded-t-lg"}`,children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-leaf-green-100 mb-2",children:e}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t})]})]});function cv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"}))}const dv=y.forwardRef(cv);function fv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const hv=y.forwardRef(fv);function pv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const mv=y.forwardRef(pv);function gv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const Ev=y.forwardRef(gv);function bv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))}const yv=y.forwardRef(bv);function Tv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const _v=y.forwardRef(Tv);function wv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const xv=y.forwardRef(wv);function vv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Sv=y.forwardRef(vv);function Av({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Cv=y.forwardRef(Av);function Nv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const kv=y.forwardRef(Nv);function Rv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Iv=y.forwardRef(Rv);function Ov({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const fh=y.forwardRef(Ov),Dv=({options:e=[],selectedOptions:t=[],placeholder:n="Filter recipes...",setSelectedOptions:r,onSearch:a})=>{const[u,l]=y.useState(!1),[d,f]=y.useState(""),[h,g]=y.useState(!1),T=y.useRef(null),_=y.useRef(null);y.useEffect(()=>{const A=setTimeout(()=>{a(d)},500);return()=>clearTimeout(A)},[d,a]),y.useEffect(()=>{const A=R=>{T.current&&!T.current.contains(R.target)&&l(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),y.useEffect(()=>{u&&_.current&&_.current.focus()},[u]),y.useEffect(()=>{if(u&&T.current){const A=T.current.getBoundingClientRect(),R=window.innerHeight-A.bottom;g(R<250)}},[u]);const v=A=>{const R=t.find(L=>L.id===A.id);r(R?t.filter(L=>L.id!==A.id):[...t,A])},x=A=>{r(t.filter(R=>R.id!==A.id))},N=()=>{f(""),r([])};return b.jsxs("div",{className:"relative w-full pb-4",ref:T,children:[b.jsxs("div",{className:`border border-gray-300 p-2 cursor-text flex flex-wrap items-center gap-2 ${u?`rounded-${h?"b":"t"}-lg`:"rounded-lg"}`,onClick:()=>e.length>0&&l(!0),children:[b.jsx(xv,{className:"w-5 h-5"}),t.map(A=>b.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded flex items-center",children:[A.title,b.jsx("button",{className:"ml-1 text-gray-600 hover:text-gray-800",onClick:R=>{R.stopPropagation(),x(A)},children:""})]},A.id)),b.jsx("input",{type:"text",ref:_,placeholder:t.length===0?n:"",className:"flex-1 p-1 border-none outline-none bg-transparent text-gray-900",value:d,onChange:A=>f(A.target.value)}),(d?.length>0||t?.length>0)&&b.jsx(fh,{className:"w-6 h-6 cursor-pointer",title:"Clear Search Bar",onClick:N})]}),u&&e.length>0&&b.jsx("div",{className:`absolute w-full max-w-[320px] border border-gray-300 bg-white shadow-md max-h-60 overflow-y-auto z-50 ${h?"bottom-full pb-2 rounded-t-lg":"top-full pt-2 rounded-b-lg"}`,children:e.map(A=>b.jsx("div",{className:`p-2 flex justify-between items-center cursor-pointer hover:bg-gray-100 ${t.some(R=>R.id===A.id)?"bg-blue-50":""}`,onClick:()=>v(A),children:b.jsx("span",{children:A.title})},A.id))})]})},Ye=({type:e="button",btnType:t="primary",onClick:n,children:r,isLoading:a=!1,className:u="",disabled:l=!1,...d})=>{const g=`flex gap-2 justify-center items-center font-medium px-4 py-2 text-center transition focus:outline-hidden ${{primary:"text-white bg-leaf-green-700 dark:bg-leaf-green-600 hover:bg-leaf-green-800 dark:hover:bg-leaf-green-800 rounded-lg",secondary:"text-leaf-green-600 dark:text-leaf-green-100 border border-leaf-green-600 dark:border-leaf-green-100 hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 rounded-lg",delete:"text-red-500 border border-red-500 hover:text-white hover:bg-red-500 rounded-lg",dismissable:"text-gray-800 border border-gray-300 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",dropdown:"w-full text-leaf-green-600 dark:text-leaf-green-100 px-4 py-2 text-center hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 transition focus:outline-hidden rounded-none"}[t]||""} ${l||a?"opacity-50 cursor-not-allowed":""} ${u}`;return b.jsxs("button",{type:e,className:g,disabled:l||a,onClick:!l&&!a?n:void 0,...d,children:[a&&b.jsx(Us,{isLarge:!1}),r]})},ns=({icon:e,onClick:t=()=>{},disabled:n=!1,className:r="",title:a="",attributes:u={},listeners:l={},...d})=>b.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),t(f)},className:`inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 ${r}`,disabled:n,title:a,...u,...l,...d,children:e});function Lv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z",clipRule:"evenodd"}),y.createElement("path",{fillRule:"evenodd",d:"M19 10a.75.75 0 0 0-.75-.75H8.704l1.048-.943a.75.75 0 1 0-1.004-1.114l-2.5 2.25a.75.75 0 0 0 0 1.114l2.5 2.25a.75.75 0 1 0 1.004-1.114l-1.048-.943h9.546A.75.75 0 0 0 19 10Z",clipRule:"evenodd"}))}const Pv=y.forwardRef(Lv);function Mv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{fillRule:"evenodd",d:"M17 4.25A2.25 2.25 0 0 0 14.75 2h-5.5A2.25 2.25 0 0 0 7 4.25v2a.75.75 0 0 0 1.5 0v-2a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-5.5a.75.75 0 0 1-.75-.75v-2a.75.75 0 0 0-1.5 0v2A2.25 2.25 0 0 0 9.25 18h5.5A2.25 2.25 0 0 0 17 15.75V4.25Z",clipRule:"evenodd"}),y.createElement("path",{fillRule:"evenodd",d:"M1 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H1.75A.75.75 0 0 1 1 10Z",clipRule:"evenodd"}))}const Fv=y.forwardRef(Mv);function Bv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Uv=y.forwardRef(Bv);function jv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Hv=y.forwardRef(jv);function $v({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const lE=y.forwardRef($v);function zv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}const cE=y.forwardRef(zv);function qv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const dE=y.forwardRef(qv);function Wv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"}))}const fE=y.forwardRef(Wv);function Yv({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const hE=y.forwardRef(Yv),pE=({onClick:e})=>{const[t,n]=y.useState(!1);return b.jsx(ns,{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),title:"Delete",icon:t?b.jsx(fE,{className:"w-6 h-6 text-red-500"}):b.jsx(kv,{className:"w-6 h-6 text-gray-500"})})},hh=({isReadOnly:e=!1,title:t="tag",onClick:n,btnClass:r="",disabled:a=!1,...u})=>b.jsxs("button",{type:"button",className:`flex gap-2 justify-center items-center font-medium px-2 py-1 text-center transition focus:outline-hidden text-leaf-green-600 dark:text-leaf-green-100 border border-leaf-green-600 dark:border-leaf-green-100 hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 rounded-lg ${e?"opacity-50 cursor-not-allowed":""} ${r}`,disabled:e||a,"aria-label":`${!e&&"Remove "}${t}`,onClick:e?void 0:n,...u,children:[b.jsx("small",{children:t}),!e&&b.jsx(fh,{className:"w-3 h-3"})]}),mE=({options:e,icon:t})=>{const[n,r]=y.useState(!1),a=y.useRef(null);return y.useEffect(()=>{const u=l=>{a.current&&!a.current.contains(l.target)&&r(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),b.jsxs("div",{className:"relative inline-block",ref:a,children:[b.jsx(ns,{icon:t,onClick:()=>r(!n),title:"More Options"}),n&&b.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:b.jsx("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:e.map((u,l)=>b.jsx("li",{children:b.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{u.onClick(),r(!1)},children:u.label})},l))})})]})},gE=y.createContext(void 0),Vv=({children:e})=>{const[t,n]=y.useState(null),[r,a]=y.useState(!1);return y.useEffect(()=>{(async()=>{const{data:{session:d}}=await Te.auth.getSession();n(d?.user||null)})();const{data:{subscription:l}}=Te.auth.onAuthStateChange((d,f)=>{n(f?.user||null)});return()=>{l?.unsubscribe()}},[]),y.useEffect(()=>{a(!!t)},[t]),b.jsx(gE.Provider,{value:{user:t,isAuthenticated:r},children:e})},js=()=>{const e=y.useContext(gE);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},wu=({title:e,description:t,classes:n="",actionName:r="",onAction:a})=>{const{isAuthenticated:u}=js();return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:`w-full flex space-x-3 text-left ${n}`,children:[b.jsx("h1",{className:"text-3xl font-medium text-leaf-green-900 dark:text-leaf-green-100",children:e}),u&&r?.length>0&&b.jsx(ns,{className:"hover:bg-white dar:hover:bg-white/50",title:r,onClick:a,icon:b.jsx(dE,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})})]}),!!t?.length&&b.jsx("p",{className:"text-leaf-green-800 dark:text-gray-300 mt-4 mb-4",children:t})]})};function EE(e,t){return function(){return e.apply(t,arguments)}}const{toString:Qv}=Object.prototype,{getPrototypeOf:ph}=Object,Ml=(e=>t=>{const n=Qv.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yn=e=>(e=e.toLowerCase(),t=>Ml(t)===e),Fl=e=>t=>typeof t===e,{isArray:Oi}=Array,ou=Fl("undefined");function Gv(e){return e!==null&&!ou(e)&&e.constructor!==null&&!ou(e.constructor)&&pn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bE=Yn("ArrayBuffer");function Kv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&bE(e.buffer),t}const Xv=Fl("string"),pn=Fl("function"),yE=Fl("number"),Bl=e=>e!==null&&typeof e=="object",Jv=e=>e===!0||e===!1,al=e=>{if(Ml(e)!=="object")return!1;const t=ph(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zv=Yn("Date"),eS=Yn("File"),tS=Yn("Blob"),nS=Yn("FileList"),rS=e=>Bl(e)&&pn(e.pipe),sS=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||pn(e.append)&&((t=Ml(e))==="formdata"||t==="object"&&pn(e.toString)&&e.toString()==="[object FormData]"))},iS=Yn("URLSearchParams"),[aS,uS,oS,lS]=["ReadableStream","Request","Response","Headers"].map(Yn),cS=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Oi(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;let d;for(r=0;r<l;r++)d=u[r],t.call(null,e[d],d,e)}}function TE(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_E=e=>!ou(e)&&e!==Rs;function Sf(){const{caseless:e}=_E(this)&&this||{},t={},n=(r,a)=>{const u=e&&TE(t,a)||a;al(t[u])&&al(r)?t[u]=Sf(t[u],r):al(r)?t[u]=Sf({},r):Oi(r)?t[u]=r.slice():t[u]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&xu(arguments[r],n);return t}const dS=(e,t,n,{allOwnKeys:r}={})=>(xu(t,(a,u)=>{n&&pn(a)?e[u]=EE(a,n):e[u]=a},{allOwnKeys:r}),e),fS=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hS=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},pS=(e,t,n,r)=>{let a,u,l;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),u=a.length;u-- >0;)l=a[u],(!r||r(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=n!==!1&&ph(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},mS=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},gS=e=>{if(!e)return null;if(Oi(e))return e;let t=e.length;if(!yE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ES=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ph(Uint8Array)),bS=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const u=a.value;t.call(e,u[0],u[1])}},yS=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},TS=Yn("HTMLFormElement"),_S=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),gg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),wS=Yn("RegExp"),wE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xu(n,(a,u)=>{let l;(l=t(a,u,e))!==!1&&(r[u]=l||a)}),Object.defineProperties(e,r)},xS=e=>{wE(e,(t,n)=>{if(pn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(pn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vS=(e,t)=>{const n={},r=a=>{a.forEach(u=>{n[u]=!0})};return Oi(e)?r(e):r(String(e).split(t)),n},SS=()=>{},AS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Vd="abcdefghijklmnopqrstuvwxyz",Eg="0123456789",xE={DIGIT:Eg,ALPHA:Vd,ALPHA_DIGIT:Vd+Vd.toUpperCase()+Eg},CS=(e=16,t=xE.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function NS(e){return!!(e&&pn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const kS=e=>{const t=new Array(10),n=(r,a)=>{if(Bl(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const u=Oi(r)?[]:{};return xu(r,(l,d)=>{const f=n(l,a+1);!ou(f)&&(u[d]=f)}),t[a]=void 0,u}}return r};return n(e,0)},RS=Yn("AsyncFunction"),IS=e=>e&&(Bl(e)||pn(e))&&pn(e.then)&&pn(e.catch),vE=((e,t)=>e?setImmediate:t?((n,r)=>(Rs.addEventListener("message",({source:a,data:u})=>{a===Rs&&u===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Rs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",pn(Rs.postMessage)),OS=typeof queueMicrotask<"u"?queueMicrotask.bind(Rs):typeof process<"u"&&process.nextTick||vE,z={isArray:Oi,isArrayBuffer:bE,isBuffer:Gv,isFormData:sS,isArrayBufferView:Kv,isString:Xv,isNumber:yE,isBoolean:Jv,isObject:Bl,isPlainObject:al,isReadableStream:aS,isRequest:uS,isResponse:oS,isHeaders:lS,isUndefined:ou,isDate:Zv,isFile:eS,isBlob:tS,isRegExp:wS,isFunction:pn,isStream:rS,isURLSearchParams:iS,isTypedArray:ES,isFileList:nS,forEach:xu,merge:Sf,extend:dS,trim:cS,stripBOM:fS,inherits:hS,toFlatObject:pS,kindOf:Ml,kindOfTest:Yn,endsWith:mS,toArray:gS,forEachEntry:bS,matchAll:yS,isHTMLForm:TS,hasOwnProperty:gg,hasOwnProp:gg,reduceDescriptors:wE,freezeMethods:xS,toObjectSet:vS,toCamelCase:_S,noop:SS,toFiniteNumber:AS,findKey:TE,global:Rs,isContextDefined:_E,ALPHABET:xE,generateString:CS,isSpecCompliantForm:NS,toJSONObject:kS,isAsyncFn:RS,isThenable:IS,setImmediate:vE,asap:OS};function we(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}z.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const SE=we.prototype,AE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{AE[e]={value:e}});Object.defineProperties(we,AE);Object.defineProperty(SE,"isAxiosError",{value:!0});we.from=(e,t,n,r,a,u)=>{const l=Object.create(SE);return z.toFlatObject(e,l,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),we.call(l,e.message,t,n,r,a),l.cause=e,l.name=e.name,u&&Object.assign(l,u),l};const DS=null;function Af(e){return z.isPlainObject(e)||z.isArray(e)}function CE(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function bg(e,t,n){return e?e.concat(t).map(function(a,u){return a=CE(a),!n&&u?"["+a+"]":a}).join(n?".":""):t}function LS(e){return z.isArray(e)&&!e.some(Af)}const PS=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function Ul(e,t,n){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,A){return!z.isUndefined(A[N])});const r=n.metaTokens,a=n.visitor||g,u=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(a))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(z.isDate(x))return x.toISOString();if(!f&&z.isBlob(x))throw new we("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(x)||z.isTypedArray(x)?f&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function g(x,N,A){let R=x;if(x&&!A&&typeof x=="object"){if(z.endsWith(N,"{}"))N=r?N:N.slice(0,-2),x=JSON.stringify(x);else if(z.isArray(x)&&LS(x)||(z.isFileList(x)||z.endsWith(N,"[]"))&&(R=z.toArray(x)))return N=CE(N),R.forEach(function(H,U){!(z.isUndefined(H)||H===null)&&t.append(l===!0?bg([N],U,u):l===null?N:N+"[]",h(H))}),!1}return Af(x)?!0:(t.append(bg(A,N,u),h(x)),!1)}const T=[],_=Object.assign(PS,{defaultVisitor:g,convertValue:h,isVisitable:Af});function v(x,N){if(!z.isUndefined(x)){if(T.indexOf(x)!==-1)throw Error("Circular reference detected in "+N.join("."));T.push(x),z.forEach(x,function(R,L){(!(z.isUndefined(R)||R===null)&&a.call(t,R,z.isString(L)?L.trim():L,N,_))===!0&&v(R,N?N.concat(L):[L])}),T.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return v(e),t}function yg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function mh(e,t){this._pairs=[],e&&Ul(e,this,t)}const NE=mh.prototype;NE.append=function(t,n){this._pairs.push([t,n])};NE.toString=function(t){const n=t?function(r){return t.call(this,r,yg)}:yg;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function MS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kE(e,t,n){if(!t)return e;const r=n&&n.encode||MS;z.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let u;if(a?u=a(t,n):u=z.isURLSearchParams(t)?t.toString():new mh(t,n).toString(r),u){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class Tg{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(r){r!==null&&t(r)})}}const RE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FS=typeof URLSearchParams<"u"?URLSearchParams:mh,BS=typeof FormData<"u"?FormData:null,US=typeof Blob<"u"?Blob:null,jS={isBrowser:!0,classes:{URLSearchParams:FS,FormData:BS,Blob:US},protocols:["http","https","file","blob","url","data"]},gh=typeof window<"u"&&typeof document<"u",Cf=typeof navigator=="object"&&navigator||void 0,HS=gh&&(!Cf||["ReactNative","NativeScript","NS"].indexOf(Cf.product)<0),$S=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zS=gh&&window.location.href||"http://localhost",qS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gh,hasStandardBrowserEnv:HS,hasStandardBrowserWebWorkerEnv:$S,navigator:Cf,origin:zS},Symbol.toStringTag,{value:"Module"})),Pt={...qS,...jS};function WS(e,t){return Ul(e,new Pt.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,u){return Pt.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function YS(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VS(e){const t={},n=Object.keys(e);let r;const a=n.length;let u;for(r=0;r<a;r++)u=n[r],t[u]=e[u];return t}function IE(e){function t(n,r,a,u){let l=n[u++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),f=u>=n.length;return l=!l&&z.isArray(a)?a.length:l,f?(z.hasOwnProp(a,l)?a[l]=[a[l],r]:a[l]=r,!d):((!a[l]||!z.isObject(a[l]))&&(a[l]=[]),t(n,r,a[l],u)&&z.isArray(a[l])&&(a[l]=VS(a[l])),!d)}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,(r,a)=>{t(YS(r),a,n,0)}),n}return null}function QS(e,t,n){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const vu={transitional:RE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,u=z.isObject(t);if(u&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return a?JSON.stringify(IE(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return WS(t,this.formSerializer).toString();if((d=z.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Ul(d?{"files[]":t}:t,f&&new f,this.formSerializer)}}return u||a?(n.setContentType("application/json",!1),QS(t)):t}],transformResponse:[function(t){const n=this.transitional||vu.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(r&&!this.responseType||a)){const l=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?we.from(d,we.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pt.classes.FormData,Blob:Pt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{vu.headers[e]={}});const GS=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KS=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),r=l.substring(a+1).trim(),!(!n||t[n]&&GS[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},_g=Symbol("internals");function Ba(e){return e&&String(e).trim().toLowerCase()}function ul(e){return e===!1||e==null?e:z.isArray(e)?e.map(ul):String(e)}function XS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const JS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Qd(e,t,n,r,a){if(z.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!z.isString(t)){if(z.isString(r))return t.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(t)}}function ZS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function eA(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,u,l){return this[r].call(this,t,a,u,l)},configurable:!0})})}class nn{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function u(d,f,h){const g=Ba(f);if(!g)throw new Error("header name must be a non-empty string");const T=z.findKey(a,g);(!T||a[T]===void 0||h===!0||h===void 0&&a[T]!==!1)&&(a[T||f]=ul(d))}const l=(d,f)=>z.forEach(d,(h,g)=>u(h,g,f));if(z.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(z.isString(t)&&(t=t.trim())&&!JS(t))l(KS(t),n);else if(z.isHeaders(t))for(const[d,f]of t.entries())u(f,d,r);else t!=null&&u(n,t,r);return this}get(t,n){if(t=Ba(t),t){const r=z.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return XS(a);if(z.isFunction(n))return n.call(this,a,r);if(z.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ba(t),t){const r=z.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Qd(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function u(l){if(l=Ba(l),l){const d=z.findKey(r,l);d&&(!n||Qd(r,r[d],d,n))&&(delete r[d],a=!0)}}return z.isArray(t)?t.forEach(u):u(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const u=n[r];(!t||Qd(this,this[u],u,t,!0))&&(delete this[u],a=!0)}return a}normalize(t){const n=this,r={};return z.forEach(this,(a,u)=>{const l=z.findKey(r,u);if(l){n[l]=ul(a),delete n[u];return}const d=t?ZS(u):String(u).trim();d!==u&&delete n[u],n[d]=ul(a),r[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return z.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[_g]=this[_g]={accessors:{}}).accessors,a=this.prototype;function u(l){const d=Ba(l);r[d]||(eA(a,l),r[d]=!0)}return z.isArray(t)?t.forEach(u):u(t),this}}nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(nn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});z.freezeMethods(nn);function Gd(e,t){const n=this||vu,r=t||n,a=nn.from(r.headers);let u=r.data;return z.forEach(e,function(d){u=d.call(n,u,a.normalize(),t?t.status:void 0)}),a.normalize(),u}function OE(e){return!!(e&&e.__CANCEL__)}function Di(e,t,n){we.call(this,e??"canceled",we.ERR_CANCELED,t,n),this.name="CanceledError"}z.inherits(Di,we,{__CANCEL__:!0});function DE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function tA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function nA(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,u=0,l;return t=t!==void 0?t:1e3,function(f){const h=Date.now(),g=r[u];l||(l=h),n[a]=f,r[a]=h;let T=u,_=0;for(;T!==a;)_+=n[T++],T=T%e;if(a=(a+1)%e,a===u&&(u=(u+1)%e),h-l<t)return;const v=g&&h-g;return v?Math.round(_*1e3/v):void 0}}function rA(e,t){let n=0,r=1e3/t,a,u;const l=(h,g=Date.now())=>{n=g,a=null,u&&(clearTimeout(u),u=null),e.apply(null,h)};return[(...h)=>{const g=Date.now(),T=g-n;T>=r?l(h,g):(a=h,u||(u=setTimeout(()=>{u=null,l(a)},r-T)))},()=>a&&l(a)]}const pl=(e,t,n=3)=>{let r=0;const a=nA(50,250);return rA(u=>{const l=u.loaded,d=u.lengthComputable?u.total:void 0,f=l-r,h=a(f),g=l<=d;r=l;const T={loaded:l,total:d,progress:d?l/d:void 0,bytes:f,rate:h||void 0,estimated:h&&d&&g?(d-l)/h:void 0,event:u,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(T)},n)},wg=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},xg=e=>(...t)=>z.asap(()=>e(...t)),sA=Pt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Pt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Pt.origin),Pt.navigator&&/(msie|trident)/i.test(Pt.navigator.userAgent)):()=>!0,iA=Pt.hasStandardBrowserEnv?{write(e,t,n,r,a,u){const l=[e+"="+encodeURIComponent(t)];z.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),z.isString(r)&&l.push("path="+r),z.isString(a)&&l.push("domain="+a),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function LE(e,t){return e&&!aA(t)?uA(e,t):t}const vg=e=>e instanceof nn?{...e}:e;function Ls(e,t){t=t||{};const n={};function r(h,g,T,_){return z.isPlainObject(h)&&z.isPlainObject(g)?z.merge.call({caseless:_},h,g):z.isPlainObject(g)?z.merge({},g):z.isArray(g)?g.slice():g}function a(h,g,T,_){if(z.isUndefined(g)){if(!z.isUndefined(h))return r(void 0,h,T,_)}else return r(h,g,T,_)}function u(h,g){if(!z.isUndefined(g))return r(void 0,g)}function l(h,g){if(z.isUndefined(g)){if(!z.isUndefined(h))return r(void 0,h)}else return r(void 0,g)}function d(h,g,T){if(T in t)return r(h,g);if(T in e)return r(void 0,h)}const f={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,g,T)=>a(vg(h),vg(g),T,!0)};return z.forEach(Object.keys(Object.assign({},e,t)),function(g){const T=f[g]||a,_=T(e[g],t[g],g);z.isUndefined(_)&&T!==d||(n[g]=_)}),n}const PE=e=>{const t=Ls({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:u,headers:l,auth:d}=t;t.headers=l=nn.from(l),t.url=kE(LE(t.baseURL,t.url),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let f;if(z.isFormData(n)){if(Pt.hasStandardBrowserEnv||Pt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((f=l.getContentType())!==!1){const[h,...g]=f?f.split(";").map(T=>T.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...g].join("; "))}}if(Pt.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(t)),r||r!==!1&&sA(t.url))){const h=a&&u&&iA.read(u);h&&l.set(a,h)}return t},oA=typeof XMLHttpRequest<"u",lA=oA&&function(e){return new Promise(function(n,r){const a=PE(e);let u=a.data;const l=nn.from(a.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:h}=a,g,T,_,v,x;function N(){v&&v(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let A=new XMLHttpRequest;A.open(a.method.toUpperCase(),a.url,!0),A.timeout=a.timeout;function R(){if(!A)return;const H=nn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),W={data:!d||d==="text"||d==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:H,config:e,request:A};DE(function(se){n(se),N()},function(se){r(se),N()},W),A=null}"onloadend"in A?A.onloadend=R:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(R)},A.onabort=function(){A&&(r(new we("Request aborted",we.ECONNABORTED,e,A)),A=null)},A.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let U=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const W=a.transitional||RE;a.timeoutErrorMessage&&(U=a.timeoutErrorMessage),r(new we(U,W.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,e,A)),A=null},u===void 0&&l.setContentType(null),"setRequestHeader"in A&&z.forEach(l.toJSON(),function(U,W){A.setRequestHeader(W,U)}),z.isUndefined(a.withCredentials)||(A.withCredentials=!!a.withCredentials),d&&d!=="json"&&(A.responseType=a.responseType),h&&([_,x]=pl(h,!0),A.addEventListener("progress",_)),f&&A.upload&&([T,v]=pl(f),A.upload.addEventListener("progress",T),A.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(g=H=>{A&&(r(!H||H.type?new Di(null,e,A):H),A.abort(),A=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const L=tA(a.url);if(L&&Pt.protocols.indexOf(L)===-1){r(new we("Unsupported protocol "+L+":",we.ERR_BAD_REQUEST,e));return}A.send(u||null)})},cA=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const u=function(h){if(!a){a=!0,d();const g=h instanceof Error?h:this.reason;r.abort(g instanceof we?g:new Di(g instanceof Error?g.message:g))}};let l=t&&setTimeout(()=>{l=null,u(new we(`timeout ${t} of ms exceeded`,we.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(u):h.removeEventListener("abort",u)}),e=null)};e.forEach(h=>h.addEventListener("abort",u));const{signal:f}=r;return f.unsubscribe=()=>z.asap(d),f}},dA=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},fA=async function*(e,t){for await(const n of hA(e))yield*dA(n,t)},hA=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Sg=(e,t,n,r)=>{const a=fA(e,t);let u=0,l,d=f=>{l||(l=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:h,value:g}=await a.next();if(h){d(),f.close();return}let T=g.byteLength;if(n){let _=u+=T;n(_)}f.enqueue(new Uint8Array(g))}catch(h){throw d(h),h}},cancel(f){return d(f),a.return()}},{highWaterMark:2})},jl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ME=jl&&typeof ReadableStream=="function",pA=jl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),FE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},mA=ME&&FE(()=>{let e=!1;const t=new Request(Pt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ag=64*1024,Nf=ME&&FE(()=>z.isReadableStream(new Response("").body)),ml={stream:Nf&&(e=>e.body)};jl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ml[t]&&(ml[t]=z.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new we(`Response type '${t}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);const gA=async e=>{if(e==null)return 0;if(z.isBlob(e))return e.size;if(z.isSpecCompliantForm(e))return(await new Request(Pt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(z.isArrayBufferView(e)||z.isArrayBuffer(e))return e.byteLength;if(z.isURLSearchParams(e)&&(e=e+""),z.isString(e))return(await pA(e)).byteLength},EA=async(e,t)=>{const n=z.toFiniteNumber(e.getContentLength());return n??gA(t)},bA=jl&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:u,timeout:l,onDownloadProgress:d,onUploadProgress:f,responseType:h,headers:g,withCredentials:T="same-origin",fetchOptions:_}=PE(e);h=h?(h+"").toLowerCase():"text";let v=cA([a,u&&u.toAbortSignal()],l),x;const N=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let A;try{if(f&&mA&&n!=="get"&&n!=="head"&&(A=await EA(g,r))!==0){let W=new Request(t,{method:"POST",body:r,duplex:"half"}),te;if(z.isFormData(r)&&(te=W.headers.get("content-type"))&&g.setContentType(te),W.body){const[se,Z]=wg(A,pl(xg(f)));r=Sg(W.body,Ag,se,Z)}}z.isString(T)||(T=T?"include":"omit");const R="credentials"in Request.prototype;x=new Request(t,{..._,signal:v,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:R?T:void 0});let L=await fetch(x);const H=Nf&&(h==="stream"||h==="response");if(Nf&&(d||H&&N)){const W={};["status","statusText","headers"].forEach(ce=>{W[ce]=L[ce]});const te=z.toFiniteNumber(L.headers.get("content-length")),[se,Z]=d&&wg(te,pl(xg(d),!0))||[];L=new Response(Sg(L.body,Ag,se,()=>{Z&&Z(),N&&N()}),W)}h=h||"text";let U=await ml[z.findKey(ml,h)||"text"](L,e);return!H&&N&&N(),await new Promise((W,te)=>{DE(W,te,{data:U,headers:nn.from(L.headers),status:L.status,statusText:L.statusText,config:e,request:x})})}catch(R){throw N&&N(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,e,x),{cause:R.cause||R}):we.from(R,R&&R.code,e,x)}}),kf={http:DS,xhr:lA,fetch:bA};z.forEach(kf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Cg=e=>`- ${e}`,yA=e=>z.isFunction(e)||e===null||e===!1,BE={getAdapter:e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let u=0;u<t;u++){n=e[u];let l;if(r=n,!yA(n)&&(r=kf[(l=String(n)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${l}'`);if(r)break;a[l||"#"+u]=r}if(!r){const u=Object.entries(a).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=t?u.length>1?`since :
`+u.map(Cg).join(`
`):" "+Cg(u[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:kf};function Kd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Di(null,e)}function Ng(e){return Kd(e),e.headers=nn.from(e.headers),e.data=Gd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),BE.getAdapter(e.adapter||vu.adapter)(e).then(function(r){return Kd(e),r.data=Gd.call(e,e.transformResponse,r),r.headers=nn.from(r.headers),r},function(r){return OE(r)||(Kd(e),r&&r.response&&(r.response.data=Gd.call(e,e.transformResponse,r.response),r.response.headers=nn.from(r.response.headers))),Promise.reject(r)})}const UE="1.7.9",Hl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Hl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const kg={};Hl.transitional=function(t,n,r){function a(u,l){return"[Axios v"+UE+"] Transitional option '"+u+"'"+l+(r?". "+r:"")}return(u,l,d)=>{if(t===!1)throw new we(a(l," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!kg[l]&&(kg[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,l,d):!0}};Hl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function TA(e,t,n){if(typeof e!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const u=r[a],l=t[u];if(l){const d=e[u],f=d===void 0||l(d,u,e);if(f!==!0)throw new we("option "+u+" must be "+f,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+u,we.ERR_BAD_OPTION)}}const ol={assertOptions:TA,validators:Hl},rr=ol.validators;class Is{constructor(t){this.defaults=t,this.interceptors={request:new Tg,response:new Tg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ls(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:u}=n;r!==void 0&&ol.assertOptions(r,{silentJSONParsing:rr.transitional(rr.boolean),forcedJSONParsing:rr.transitional(rr.boolean),clarifyTimeoutError:rr.transitional(rr.boolean)},!1),a!=null&&(z.isFunction(a)?n.paramsSerializer={serialize:a}:ol.assertOptions(a,{encode:rr.function,serialize:rr.function},!0)),ol.assertOptions(n,{baseUrl:rr.spelling("baseURL"),withXsrfToken:rr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=u&&z.merge(u.common,u[n.method]);u&&z.forEach(["delete","get","head","post","put","patch","common"],x=>{delete u[x]}),n.headers=nn.concat(l,u);const d=[];let f=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(f=f&&N.synchronous,d.unshift(N.fulfilled,N.rejected))});const h=[];this.interceptors.response.forEach(function(N){h.push(N.fulfilled,N.rejected)});let g,T=0,_;if(!f){const x=[Ng.bind(this),void 0];for(x.unshift.apply(x,d),x.push.apply(x,h),_=x.length,g=Promise.resolve(n);T<_;)g=g.then(x[T++],x[T++]);return g}_=d.length;let v=n;for(T=0;T<_;){const x=d[T++],N=d[T++];try{v=x(v)}catch(A){N.call(this,A);break}}try{g=Ng.call(this,v)}catch(x){return Promise.reject(x)}for(T=0,_=h.length;T<_;)g=g.then(h[T++],h[T++]);return g}getUri(t){t=Ls(this.defaults,t);const n=LE(t.baseURL,t.url);return kE(n,t.params,t.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(t){Is.prototype[t]=function(n,r){return this.request(Ls(r||{},{method:t,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(t){function n(r){return function(u,l,d){return this.request(Ls(d||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:l}))}}Is.prototype[t]=n(),Is.prototype[t+"Form"]=n(!0)});class Eh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(a=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](a);r._listeners=null}),this.promise.then=a=>{let u;const l=new Promise(d=>{r.subscribe(d),u=d}).then(a);return l.cancel=function(){r.unsubscribe(u)},l},t(function(u,l,d){r.reason||(r.reason=new Di(u,l,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Eh(function(a){t=a}),cancel:t}}}function _A(e){return function(n){return e.apply(null,n)}}function wA(e){return z.isObject(e)&&e.isAxiosError===!0}const Rf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rf).forEach(([e,t])=>{Rf[t]=e});function jE(e){const t=new Is(e),n=EE(Is.prototype.request,t);return z.extend(n,Is.prototype,t,{allOwnKeys:!0}),z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return jE(Ls(e,a))},n}const ot=jE(vu);ot.Axios=Is;ot.CanceledError=Di;ot.CancelToken=Eh;ot.isCancel=OE;ot.VERSION=UE;ot.toFormData=Ul;ot.AxiosError=we;ot.Cancel=ot.CanceledError;ot.all=function(t){return Promise.all(t)};ot.spread=_A;ot.isAxiosError=wA;ot.mergeConfig=Ls;ot.AxiosHeaders=nn;ot.formToJSON=e=>IE(z.isHTMLForm(e)?new FormData(e):e);ot.getAdapter=BE.getAdapter;ot.HttpStatusCode=Rf;ot.default=ot;var Be;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(Be||(Be={}));function xA(e){return e.type===Be.Tag||e.type===Be.Script||e.type===Be.Style}const vA=Be.Root,SA=Be.Text,AA=Be.Directive,CA=Be.Comment,NA=Be.Script,kA=Be.Style,RA=Be.Tag,IA=Be.CDATA,OA=Be.Doctype;class HE{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return cu(this,t)}}class bh extends HE{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class lu extends bh{constructor(){super(...arguments),this.type=Be.Text}get nodeType(){return 3}}class yh extends bh{constructor(){super(...arguments),this.type=Be.Comment}get nodeType(){return 8}}class Th extends bh{constructor(t,n){super(n),this.name=t,this.type=Be.Directive}get nodeType(){return 1}}class _h extends HE{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class $E extends _h{constructor(){super(...arguments),this.type=Be.CDATA}get nodeType(){return 4}}class Ps extends _h{constructor(){super(...arguments),this.type=Be.Root}get nodeType(){return 9}}class wh extends _h{constructor(t,n,r=[],a=t==="script"?Be.Script:t==="style"?Be.Style:Be.Tag){super(r),this.name=t,this.attribs=n,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,r;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[t]}})}}function Ee(e){return xA(e)}function $l(e){return e.type===Be.CDATA}function ur(e){return e.type===Be.Text}function zl(e){return e.type===Be.Comment}function If(e){return e.type===Be.Directive}function as(e){return e.type===Be.Root}function at(e){return Object.prototype.hasOwnProperty.call(e,"children")}function cu(e,t=!1){let n;if(ur(e))n=new lu(e.data);else if(zl(e))n=new yh(e.data);else if(Ee(e)){const r=t?Xd(e.children):[],a=new wh(e.name,{...e.attribs},r);r.forEach(u=>u.parent=a),e.namespace!=null&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=a}else if($l(e)){const r=t?Xd(e.children):[],a=new $E(r);r.forEach(u=>u.parent=a),n=a}else if(as(e)){const r=t?Xd(e.children):[],a=new Ps(r);r.forEach(u=>u.parent=a),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else if(If(e)){const r=new Th(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function Xd(e){const t=e.map(n=>cu(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const Rg={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class DA{constructor(t,n,r){this.dom=[],this.root=new Ps(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=Rg),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??Rg,this.elementCB=r??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new Ps(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const r=this.options.xmlMode?Be.Tag:void 0,a=new wh(t,n,void 0,r);this.addNode(a),this.tagStack.push(a)}ontext(t){const{lastNode:n}=this;if(n&&n.type===Be.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new lu(t);this.addNode(r),this.lastNode=r}}oncomment(t){if(this.lastNode&&this.lastNode.type===Be.Comment){this.lastNode.data+=t;return}const n=new yh(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new lu(""),n=new $E([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const r=new Th(t,n);this.addNode(r)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),r&&(t.prev=r,r.next=t),t.parent=n,this.lastNode=null}}const xh=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),zE=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Jd;const LA=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Of=(Jd=String.fromCodePoint)!==null&&Jd!==void 0?Jd:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function PA(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=LA.get(e))!==null&&t!==void 0?t:e}var Tt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Tt||(Tt={}));const MA=32;var rs;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(rs||(rs={}));function Df(e){return e>=Tt.ZERO&&e<=Tt.NINE}function FA(e){return e>=Tt.UPPER_A&&e<=Tt.UPPER_F||e>=Tt.LOWER_A&&e<=Tt.LOWER_F}function BA(e){return e>=Tt.UPPER_A&&e<=Tt.UPPER_Z||e>=Tt.LOWER_A&&e<=Tt.LOWER_Z||Df(e)}function UA(e){return e===Tt.EQUALS||BA(e)}var Et;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Et||(Et={}));var Sn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Sn||(Sn={}));class vh{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Et.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Sn.Strict}startEntity(t){this.decodeMode=t,this.state=Et.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Et.EntityStart:return t.charCodeAt(n)===Tt.NUM?(this.state=Et.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Et.NamedEntity,this.stateNamedEntity(t,n));case Et.NumericStart:return this.stateNumericStart(t,n);case Et.NumericDecimal:return this.stateNumericDecimal(t,n);case Et.NumericHex:return this.stateNumericHex(t,n);case Et.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|MA)===Tt.LOWER_X?(this.state=Et.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Et.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const u=r-n;this.result=this.result*Math.pow(a,u)+parseInt(t.substr(n,u),a),this.consumed+=u}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Df(a)||FA(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Df(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Tt.SEMI)this.consumed+=1;else if(this.decodeMode===Sn.Strict)return 0;return this.emitCodePoint(PA(this.result),this.consumed),this.errors&&(t!==Tt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],u=(a&rs.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const l=t.charCodeAt(n);if(this.treeIndex=jA(r,a,this.treeIndex+Math.max(1,u),l),this.treeIndex<0)return this.result===0||this.decodeMode===Sn.Attribute&&(u===0||UA(l))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],u=(a&rs.VALUE_LENGTH)>>14,u!==0){if(l===Tt.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==Sn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&rs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~rs.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case Et.NamedEntity:return this.result!==0&&(this.decodeMode!==Sn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Et.NumericDecimal:return this.emitNumericEntity(0,2);case Et.NumericHex:return this.emitNumericEntity(0,3);case Et.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Et.EntityStart:return 0}}}function qE(e){let t="";const n=new vh(e,r=>t+=Of(r));return function(a,u){let l=0,d=0;for(;(d=a.indexOf("&",d))>=0;){t+=a.slice(l,d),n.startEntity(u);const h=n.write(a,d+1);if(h<0){l=d+n.end();break}l=d+h,d=h===0?l+1:l}const f=t+a.slice(l);return t="",f}}function jA(e,t,n,r){const a=(t&rs.BRANCH_LENGTH)>>7,u=t&rs.JUMP_TABLE;if(a===0)return u!==0&&r===u?n:-1;if(u){const f=r-u;return f<0||f>=a?-1:e[n+f]-1}let l=n,d=l+a-1;for(;l<=d;){const f=l+d>>>1,h=e[f];if(h<r)l=f+1;else if(h>r)d=f-1;else return e[f+a]}return-1}qE(xh);qE(zE);const Ig=/["&'<>$\x80-\uFFFF]/g,HA=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),$A=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function WE(e){let t="",n=0,r;for(;(r=Ig.exec(e))!==null;){const a=r.index,u=e.charCodeAt(a),l=HA.get(u);l!==void 0?(t+=e.substring(n,a)+l,n=a+1):(t+=`${e.substring(n,a)}&#x${$A(e,a).toString(16)};`,n=Ig.lastIndex+=+((u&64512)===55296))}return t+e.substr(n)}function YE(e,t){return function(r){let a,u=0,l="";for(;a=e.exec(r);)u!==a.index&&(l+=r.substring(u,a.index)),l+=t.get(a[0].charCodeAt(0)),u=a.index+1;return l+r.substring(u)}}const VE=YE(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),QE=YE(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),zA=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),qA=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),WA=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function YA(e){return e.replace(/"/g,"&quot;")}function VA(e,t){var n;if(!e)return;const r=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?YA:t.xmlMode||t.encodeEntities!=="utf8"?WE:VE;return Object.keys(e).map(a=>{var u,l;const d=(u=e[a])!==null&&u!==void 0?u:"";return t.xmlMode==="foreign"&&(a=(l=qA.get(a))!==null&&l!==void 0?l:a),!t.emptyAttrs&&!t.xmlMode&&d===""?a:`${a}="${r(d)}"`}).join(" ")}const Og=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function ql(e,t={}){const n="length"in e?e:[e];let r="";for(let a=0;a<n.length;a++)r+=QA(n[a],t);return r}function QA(e,t){switch(e.type){case vA:return ql(e.children,t);case OA:case AA:return JA(e);case CA:return tC(e);case IA:return eC(e);case NA:case kA:case RA:return XA(e,t);case SA:return ZA(e,t)}}const GA=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),KA=new Set(["svg","math"]);function XA(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=zA.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&GA.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&KA.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const a=VA(e.attribs,t);return a&&(r+=` ${a}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&Og.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=ql(e.children,t)),(t.xmlMode||!Og.has(e.name))&&(r+=`</${e.name}>`)),r}function JA(e){return`<${e.data}>`}function ZA(e,t){var n;let r=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&WA.has(e.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?WE(r):QE(r)),r}function eC(e){return`<![CDATA[${e.children[0].data}]]>`}function tC(e){return`<!--${e.data}-->`}function GE(e,t){return ql(e,t)}function nC(e,t){return at(e)?e.children.map(n=>GE(n,t)).join(""):""}function ll(e){return Array.isArray(e)?e.map(ll).join(""):Ee(e)?e.name==="br"?`
`:ll(e.children):$l(e)?ll(e.children):ur(e)?e.data:""}function Si(e){return Array.isArray(e)?e.map(Si).join(""):at(e)&&!zl(e)?Si(e.children):ur(e)?e.data:""}function gl(e){return Array.isArray(e)?e.map(gl).join(""):at(e)&&(e.type===Be.Tag||$l(e))?gl(e.children):ur(e)?e.data:""}function Wl(e){return at(e)?e.children:[]}function KE(e){return e.parent||null}function XE(e){const t=KE(e);if(t!=null)return Wl(t);const n=[e];let{prev:r,next:a}=e;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;a!=null;)n.push(a),{next:a}=a;return n}function rC(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function sC(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function iC(e){return e.name}function Sh(e){let{next:t}=e;for(;t!==null&&!Ee(t);)({next:t}=t);return t}function Ah(e){let{prev:t}=e;for(;t!==null&&!Ee(t);)({prev:t}=t);return t}function Hs(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function aC(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const a=t.parent=e.parent;if(a){const u=a.children;u[u.lastIndexOf(e)]=t,e.parent=null}}function uC(e,t){if(Hs(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function oC(e,t){Hs(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const a=n.children;a.splice(a.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function lC(e,t){if(Hs(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function cC(e,t){Hs(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function Su(e,t,n=!0,r=1/0){return Ch(e,Array.isArray(t)?t:[t],n,r)}function Ch(e,t,n,r){const a=[],u=[Array.isArray(t)?t:[t]],l=[0];for(;;){if(l[0]>=u[0].length){if(l.length===1)return a;u.shift(),l.shift();continue}const d=u[0][l[0]++];if(e(d)&&(a.push(d),--r<=0))return a;n&&at(d)&&d.children.length>0&&(l.unshift(0),u.unshift(d.children))}}function dC(e,t){return t.find(e)}function Nh(e,t,n=!0){const r=Array.isArray(t)?t:[t];for(let a=0;a<r.length;a++){const u=r[a];if(Ee(u)&&e(u))return u;if(n&&at(u)&&u.children.length>0){const l=Nh(e,u.children,!0);if(l)return l}}return null}function JE(e,t){return(Array.isArray(t)?t:[t]).some(n=>Ee(n)&&e(n)||at(n)&&JE(e,n.children))}function fC(e,t){const n=[],r=[Array.isArray(t)?t:[t]],a=[0];for(;;){if(a[0]>=r[0].length){if(r.length===1)return n;r.shift(),a.shift();continue}const u=r[0][a[0]++];Ee(u)&&e(u)&&n.push(u),at(u)&&u.children.length>0&&(a.unshift(0),r.unshift(u.children))}}const El={tag_name(e){return typeof e=="function"?t=>Ee(t)&&e(t.name):e==="*"?Ee:t=>Ee(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>ur(t)&&e(t.data):t=>ur(t)&&t.data===e}};function kh(e,t){return typeof t=="function"?n=>Ee(n)&&t(n.attribs[e]):n=>Ee(n)&&n.attribs[e]===t}function hC(e,t){return n=>e(n)||t(n)}function ZE(e){const t=Object.keys(e).map(n=>{const r=e[n];return Object.prototype.hasOwnProperty.call(El,n)?El[n](r):kh(n,r)});return t.length===0?null:t.reduce(hC)}function pC(e,t){const n=ZE(e);return n?n(t):!0}function mC(e,t,n,r=1/0){const a=ZE(e);return a?Su(a,t,n,r):[]}function gC(e,t,n=!0){return Array.isArray(t)||(t=[t]),Nh(kh("id",e),t,n)}function Li(e,t,n=!0,r=1/0){return Su(El.tag_name(e),t,n,r)}function EC(e,t,n=!0,r=1/0){return Su(kh("class",e),t,n,r)}function bC(e,t,n=!0,r=1/0){return Su(El.tag_type(e),t,n,r)}function yC(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0){e.splice(t,1);continue}for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var xn;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(xn||(xn={}));function eb(e,t){const n=[],r=[];if(e===t)return 0;let a=at(e)?e:e.parent;for(;a;)n.unshift(a),a=a.parent;for(a=at(t)?t:t.parent;a;)r.unshift(a),a=a.parent;const u=Math.min(n.length,r.length);let l=0;for(;l<u&&n[l]===r[l];)l++;if(l===0)return xn.DISCONNECTED;const d=n[l-1],f=d.children,h=n[l],g=r[l];return f.indexOf(h)>f.indexOf(g)?d===t?xn.FOLLOWING|xn.CONTAINED_BY:xn.FOLLOWING:d===e?xn.PRECEDING|xn.CONTAINS:xn.PRECEDING}function Pi(e){return e=e.filter((t,n,r)=>!r.includes(t,n+1)),e.sort((t,n)=>{const r=eb(t,n);return r&xn.PRECEDING?-1:r&xn.FOLLOWING?1:0}),e}function TC(e){const t=bl(SC,e);return t?t.name==="feed"?_C(t):wC(t):null}function _C(e){var t;const n=e.children,r={type:"atom",items:Li("entry",n).map(l=>{var d;const{children:f}=l,h={media:tb(f)};Zt(h,"id","id",f),Zt(h,"title","title",f);const g=(d=bl("link",f))===null||d===void 0?void 0:d.attribs.href;g&&(h.link=g);const T=ss("summary",f)||ss("content",f);T&&(h.description=T);const _=ss("updated",f);return _&&(h.pubDate=new Date(_)),h})};Zt(r,"id","id",n),Zt(r,"title","title",n);const a=(t=bl("link",n))===null||t===void 0?void 0:t.attribs.href;a&&(r.link=a),Zt(r,"description","subtitle",n);const u=ss("updated",n);return u&&(r.updated=new Date(u)),Zt(r,"author","email",n,!0),r}function wC(e){var t,n;const r=(n=(t=bl("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],a={type:e.name.substr(0,3),id:"",items:Li("item",e.children).map(l=>{const{children:d}=l,f={media:tb(d)};Zt(f,"id","guid",d),Zt(f,"title","title",d),Zt(f,"link","link",d),Zt(f,"description","description",d);const h=ss("pubDate",d)||ss("dc:date",d);return h&&(f.pubDate=new Date(h)),f})};Zt(a,"title","title",r),Zt(a,"link","link",r),Zt(a,"description","description",r);const u=ss("lastBuildDate",r);return u&&(a.updated=new Date(u)),Zt(a,"author","managingEditor",r,!0),a}const xC=["url","type","lang"],vC=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function tb(e){return Li("media:content",e).map(t=>{const{attribs:n}=t,r={medium:n.medium,isDefault:!!n.isDefault};for(const a of xC)n[a]&&(r[a]=n[a]);for(const a of vC)n[a]&&(r[a]=parseInt(n[a],10));return n.expression&&(r.expression=n.expression),r})}function bl(e,t){return Li(e,t,!0,1)[0]}function ss(e,t,n=!1){return Si(Li(e,t,n,1)).trim()}function Zt(e,t,n,r,a=!1){const u=ss(n,r,a);u&&(e[t]=u)}function SC(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}const Yl=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return xn},append:oC,appendChild:uC,compareDocumentPosition:eb,existsOne:JE,filter:Su,find:Ch,findAll:fC,findOne:Nh,findOneChild:dC,getAttributeValue:rC,getChildren:Wl,getElementById:gC,getElements:mC,getElementsByClassName:EC,getElementsByTagName:Li,getElementsByTagType:bC,getFeed:TC,getInnerHTML:nC,getName:iC,getOuterHTML:GE,getParent:KE,getSiblings:XE,getText:ll,hasAttrib:sC,hasChildren:at,innerText:gl,isCDATA:$l,isComment:zl,isDocument:as,isTag:Ee,isText:ur,nextElementSibling:Sh,prepend:cC,prependChild:lC,prevElementSibling:Ah,removeElement:Hs,removeSubsets:yC,replaceElement:aC,testElement:pC,textContent:Si,uniqueSort:Pi},Symbol.toStringTag,{value:"Module"})),AC={_useHtmlParser2:!1};function Lf(e,t){if(!e)return t??AC;const n={_useHtmlParser2:!!e.xmlMode,...t,...e};return e.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,e.xml!==!0&&Object.assign(n,e.xml)):e.xmlMode&&(n._useHtmlParser2=!0),n}function nb(e,t,n){return e?e(t??e._root.children,null,void 0,n).toString():""}function CC(e,t){return typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function NC(e,t){const n=CC(e)?(t=e,void 0):e,r={...this===null||this===void 0?void 0:this._options,...Lf(t)};return nb(this,n,r)}function kC(e){const t={...this._options,xmlMode:!0};return nb(this,e,t)}function du(e){const t=e??(this?this.root():[]);let n="";for(let r=0;r<t.length;r++)n+=Si(t[r]);return n}function RC(e,t,n=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t);const r=this.load(e,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function IC(){return this(this._root)}function rb(e,t){if(t===e)return!1;let n=t;for(;n&&n!==n.parent;)if(n=n.parent,n===e)return!0;return!1}function OC(e){return this.root().extract(e)}function DC(e,t){if(!Dg(e)||!Dg(t))return;let n=e.length;const r=+t.length;for(let a=0;a<r;a++)e[n++]=t[a];return e.length=n,e}function Dg(e){if(Array.isArray(e))return!0;if(typeof e!="object"||e===null||!("length"in e)||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}const LC=Object.freeze(Object.defineProperty({__proto__:null,contains:rb,extract:OC,html:NC,merge:DC,parseHTML:RC,root:IC,text:du,xml:kC},Symbol.toStringTag,{value:"Module"}));function Sr(e){return e.cheerio!=null}function PC(e){return e.replace(/[._-](\w|$)/g,(t,n)=>n.toUpperCase())}function MC(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function et(e,t){const n=e.length;for(let r=0;r<n;r++)t(e[r],r);return e}var ks;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(ks||(ks={}));function Pf(e){const t=e.indexOf("<");if(t<0||t>e.length-3)return!1;const n=e.charCodeAt(t+1);return(n>=ks.LowerA&&n<=ks.LowerZ||n>=ks.UpperA&&n<=ks.UpperZ||n===ks.Exclamation)&&e.includes(">",t+2)}const fu=Object.prototype.hasOwnProperty,hu=/\s+/,Mf="data-",Rh=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,FC=/^{[^]*}$|^\[[^]*]$/;function yl(e,t,n){var r;if(!(!e||!Ee(e))){if((r=e.attribs)!==null&&r!==void 0||(e.attribs={}),!t)return e.attribs;if(fu.call(e.attribs,t))return!n&&Rh.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return du(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function Ti(e,t,n){n===null?ib(e,t):e.attribs[t]=`${n}`}function BC(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return et(this,(n,r)=>{Ee(n)&&Ti(n,e,t.call(n,r,n.attribs[e]))})}return et(this,n=>{if(Ee(n))if(typeof e=="object")for(const r of Object.keys(e)){const a=e[r];Ti(n,r,a)}else Ti(n,e,t)})}return arguments.length>1?this:yl(this[0],e,this.options.xmlMode)}function Lg(e,t,n){return t in e?e[t]:!n&&Rh.test(t)?yl(e,t,!1)!==void 0:yl(e,t,n)}function Zd(e,t,n,r){t in e?e[t]=n:Ti(e,t,!r&&Rh.test(t)?n?"":null:`${n}`)}function UC(e,t){var n;if(typeof e=="string"&&t===void 0){const r=this[0];if(!r||!Ee(r))return;switch(e){case"style":{const a=this.css(),u=Object.keys(a);for(let l=0;l<u.length;l++)a[l]=u[l];return a.length=u.length,a}case"tagName":case"nodeName":return r.name.toUpperCase();case"href":case"src":{const a=(n=r.attribs)===null||n===void 0?void 0:n[e];return typeof URL<"u"&&(e==="href"&&(r.tagName==="a"||r.tagName==="link")||e==="src"&&(r.tagName==="img"||r.tagName==="iframe"||r.tagName==="audio"||r.tagName==="video"||r.tagName==="source"))&&a!==void 0&&this.options.baseURI?new URL(a,this.options.baseURI).href:a}case"innerText":return gl(r);case"textContent":return Si(r);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Lg(r,e,this.options.xmlMode)}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new TypeError("Bad combination of arguments.");return et(this,(r,a)=>{Ee(r)&&Zd(r,e,t.call(r,a,Lg(r,e,this.options.xmlMode)),this.options.xmlMode)})}return et(this,r=>{if(Ee(r))if(typeof e=="object")for(const a of Object.keys(e)){const u=e[a];Zd(r,a,u,this.options.xmlMode)}else Zd(r,e,t,this.options.xmlMode)})}}function Pg(e,t,n){var r;(r=e.data)!==null&&r!==void 0||(e.data={}),typeof t=="object"?Object.assign(e.data,t):typeof t=="string"&&n!==void 0&&(e.data[t]=n)}function jC(e){for(const t of Object.keys(e.attribs)){if(!t.startsWith(Mf))continue;const n=PC(t.slice(Mf.length));fu.call(e.data,n)||(e.data[n]=sb(e.attribs[t]))}return e.data}function HC(e,t){const n=Mf+MC(t),r=e.data;if(fu.call(r,t))return r[t];if(fu.call(e.attribs,n))return r[t]=sb(e.attribs[n])}function sb(e){if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;const t=Number(e);if(e===String(t))return t;if(FC.test(e))try{return JSON.parse(e)}catch{}return e}function $C(e,t){var n;const r=this[0];if(!r||!Ee(r))return;const a=r;return(n=a.data)!==null&&n!==void 0||(a.data={}),e==null?jC(a):typeof e=="object"||t!==void 0?(et(this,u=>{Ee(u)&&(typeof e=="object"?Pg(u,e):Pg(u,e,t))}),this):HC(a,e)}function zC(e){const t=arguments.length===0,n=this[0];if(!n||!Ee(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":{const r=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");const a=typeof e=="object"?e:[e];for(const u of a)this.find(`option[value="${u}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(a=>du(a.children)):r.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function ib(e,t){!e.attribs||!fu.call(e.attribs,t)||delete e.attribs[t]}function Tl(e){return e?e.trim().split(hu):[]}function qC(e){const t=Tl(e);for(const n of t)et(this,r=>{Ee(r)&&ib(r,n)});return this}function WC(e){return this.toArray().some(t=>{const n=Ee(t)&&t.attribs.class;let r=-1;if(n&&e.length>0)for(;(r=n.indexOf(e,r+1))>-1;){const a=r+e.length;if((r===0||hu.test(n[r-1]))&&(a===n.length||hu.test(n[a])))return!0}return!1})}function ab(e){if(typeof e=="function")return et(this,(r,a)=>{if(Ee(r)){const u=r.attribs.class||"";ab.call([r],e.call(r,a,u))}});if(!e||typeof e!="string")return this;const t=e.split(hu),n=this.length;for(let r=0;r<n;r++){const a=this[r];if(!Ee(a))continue;const u=yl(a,"class",!1);if(u){let l=` ${u} `;for(const d of t){const f=`${d} `;l.includes(` ${f}`)||(l+=f)}Ti(a,"class",l.trim())}else Ti(a,"class",t.join(" ").trim())}return this}function ub(e){if(typeof e=="function")return et(this,(a,u)=>{Ee(a)&&ub.call([a],e.call(a,u,a.attribs.class||""))});const t=Tl(e),n=t.length,r=arguments.length===0;return et(this,a=>{if(Ee(a))if(r)a.attribs.class="";else{const u=Tl(a.attribs.class);let l=!1;for(let d=0;d<n;d++){const f=u.indexOf(t[d]);f>=0&&(u.splice(f,1),l=!0,d--)}l&&(a.attribs.class=u.join(" "))}})}function ob(e,t){if(typeof e=="function")return et(this,(l,d)=>{Ee(l)&&ob.call([l],e.call(l,d,l.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;const n=e.split(hu),r=n.length,a=typeof t=="boolean"?t?1:-1:0,u=this.length;for(let l=0;l<u;l++){const d=this[l];if(!Ee(d))continue;const f=Tl(d.attribs.class);for(let h=0;h<r;h++){const g=f.indexOf(n[h]);a>=0&&g<0?f.push(n[h]):a<=0&&g>=0&&f.splice(g,1)}d.attribs.class=f.join(" ")}return this}const YC=Object.freeze(Object.defineProperty({__proto__:null,addClass:ab,attr:BC,data:$C,hasClass:WC,prop:UC,removeAttr:qC,removeClass:ub,toggleClass:ob,val:zC},Symbol.toStringTag,{value:"Module"}));var he;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(he||(he={}));var ht;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(ht||(ht={}));const Mg=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,VC=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,QC=new Map([[126,ht.Element],[94,ht.Start],[36,ht.End],[42,ht.Any],[33,ht.Not],[124,ht.Hyphen]]),GC=new Set(["has","not","matches","is","where","host","host-context"]);function Ka(e){switch(e.type){case he.Adjacent:case he.Child:case he.Descendant:case he.Parent:case he.Sibling:case he.ColumnCombinator:return!0;default:return!1}}const KC=new Set(["contains","icontains"]);function XC(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Ua(e){return e.replace(VC,XC)}function ef(e){return e===39||e===34}function Fg(e){return e===32||e===9||e===10||e===12||e===13}function Vl(e){const t=[],n=lb(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function lb(e,t,n){let r=[];function a(_){const v=t.slice(n+_).match(Mg);if(!v)throw new Error(`Expected name, found ${t.slice(n)}`);const[x]=v;return n+=_+x.length,Ua(x)}function u(_){for(n+=_;n<t.length&&Fg(t.charCodeAt(n));)n++}function l(){n+=1;const _=n;let v=1;for(;v>0&&n<t.length;n++)t.charCodeAt(n)===40&&!d(n)?v++:t.charCodeAt(n)===41&&!d(n)&&v--;if(v)throw new Error("Parenthesis not matched");return Ua(t.slice(_,n-1))}function d(_){let v=0;for(;t.charCodeAt(--_)===92;)v++;return(v&1)===1}function f(){if(r.length>0&&Ka(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function h(_){if(r.length>0&&r[r.length-1].type===he.Descendant){r[r.length-1].type=_;return}f(),r.push({type:_})}function g(_,v){r.push({type:he.Attribute,name:_,action:v,value:a(1),namespace:null,ignoreCase:"quirks"})}function T(){if(r.length&&r[r.length-1].type===he.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");e.push(r)}if(u(0),t.length===n)return n;e:for(;n<t.length;){const _=t.charCodeAt(n);switch(_){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==he.Descendant)&&(f(),r.push({type:he.Descendant})),u(1);break}case 62:{h(he.Child),u(1);break}case 60:{h(he.Parent),u(1);break}case 126:{h(he.Sibling),u(1);break}case 43:{h(he.Adjacent),u(1);break}case 46:{g("class",ht.Element);break}case 35:{g("id",ht.Equals);break}case 91:{u(1);let v,x=null;t.charCodeAt(n)===124?v=a(1):t.startsWith("*|",n)?(x="*",v=a(2)):(v=a(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(x=v,v=a(1))),u(0);let N=ht.Exists;const A=QC.get(t.charCodeAt(n));if(A){if(N=A,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");u(2)}else t.charCodeAt(n)===61&&(N=ht.Equals,u(1));let R="",L=null;if(N!=="exists"){if(ef(t.charCodeAt(n))){const W=t.charCodeAt(n);let te=n+1;for(;te<t.length&&(t.charCodeAt(te)!==W||d(te));)te+=1;if(t.charCodeAt(te)!==W)throw new Error("Attribute value didn't end");R=Ua(t.slice(n+1,te)),n=te+1}else{const W=n;for(;n<t.length&&(!Fg(t.charCodeAt(n))&&t.charCodeAt(n)!==93||d(n));)n+=1;R=Ua(t.slice(W,n))}u(0);const U=t.charCodeAt(n)|32;U===115?(L=!1,u(1)):U===105&&(L=!0,u(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const H={type:he.Attribute,name:v,action:N,value:R,namespace:x,ignoreCase:L};r.push(H);break}case 58:{if(t.charCodeAt(n+1)===58){r.push({type:he.PseudoElement,name:a(2).toLowerCase(),data:t.charCodeAt(n)===40?l():null});continue}const v=a(1).toLowerCase();let x=null;if(t.charCodeAt(n)===40)if(GC.has(v)){if(ef(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${v} cannot be quoted`);if(x=[],n=lb(x,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${v} (${t})`);n+=1}else{if(x=l(),KC.has(v)){const N=x.charCodeAt(0);N===x.charCodeAt(x.length-1)&&ef(N)&&(x=x.slice(1,-1))}x=Ua(x)}r.push({type:he.Pseudo,name:v,data:x});break}case 44:{T(),r=[],u(1);break}default:{if(t.startsWith("/*",n)){const N=t.indexOf("*/",n+2);if(N<0)throw new Error("Comment was not terminated");n=N+2,r.length===0&&u(0);break}let v=null,x;if(_===42)n+=1,x="*";else if(_===124){if(x="",t.charCodeAt(n+1)===124){h(he.ColumnCombinator),u(2);break}}else if(Mg.test(t.slice(n)))x=a(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(v=x,t.charCodeAt(n+1)===42?(x="*",n+=2):x=a(1)),r.push(x==="*"?{type:he.Universal,namespace:v}:{type:he.Tag,name:x,namespace:v})}}}return T(),n}var tf,Bg;function JC(){return Bg||(Bg=1,tf={trueFunc:function(){return!0},falseFunc:function(){return!1}}),tf}var _l=JC();const Ne=Xf(_l),cb=new Map([[he.Universal,50],[he.Tag,30],[he.Attribute,1],[he.Pseudo,0]]);function Ih(e){return!cb.has(e.type)}const ZC=new Map([[ht.Exists,10],[ht.Equals,8],[ht.Not,7],[ht.Start,6],[ht.End,6],[ht.Any,5]]);function e3(e){const t=e.map(db);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let a=n-1;a>=0&&r<t[a];a--){const u=e[a+1];e[a+1]=e[a],e[a]=u,t[a+1]=t[a],t[a]=r}}}function db(e){var t,n;let r=(t=cb.get(e.type))!==null&&t!==void 0?t:-1;return e.type===he.Attribute?(r=(n=ZC.get(e.action))!==null&&n!==void 0?n:4,e.action===ht.Equals&&e.name==="id"&&(r=9),e.ignoreCase&&(r>>=1)):e.type===he.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map(a=>Math.min(...a.map(db)))),r<0&&(r=0)):r=2:r=3),r}const t3=/[-[\]{}()*+?.,\\^$|#\s]/g;function Ug(e){return e.replace(t3,"\\$&")}const n3=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function vs(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&n3.has(e.name)}const r3={equals(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;return vs(t,n)?(u=u.toLowerCase(),l=>{const d=r.getAttributeValue(l,a);return d!=null&&d.length===u.length&&d.toLowerCase()===u&&e(l)}):l=>r.getAttributeValue(l,a)===u&&e(l)},hyphen(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=u.length;return vs(t,n)?(u=u.toLowerCase(),function(f){const h=r.getAttributeValue(f,a);return h!=null&&(h.length===l||h.charAt(l)==="-")&&h.substr(0,l).toLowerCase()===u&&e(f)}):function(f){const h=r.getAttributeValue(f,a);return h!=null&&(h.length===l||h.charAt(l)==="-")&&h.substr(0,l)===u&&e(f)}},element(e,t,n){const{adapter:r}=n,{name:a,value:u}=t;if(/\s/.test(u))return Ne.falseFunc;const l=new RegExp(`(?:^|\\s)${Ug(u)}(?:$|\\s)`,vs(t,n)?"i":"");return function(f){const h=r.getAttributeValue(f,a);return h!=null&&h.length>=u.length&&l.test(h)&&e(f)}},exists(e,{name:t},{adapter:n}){return r=>n.hasAttrib(r,t)&&e(r)},start(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=u.length;return l===0?Ne.falseFunc:vs(t,n)?(u=u.toLowerCase(),d=>{const f=r.getAttributeValue(d,a);return f!=null&&f.length>=l&&f.substr(0,l).toLowerCase()===u&&e(d)}):d=>{var f;return!!(!((f=r.getAttributeValue(d,a))===null||f===void 0)&&f.startsWith(u))&&e(d)}},end(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=-u.length;return l===0?Ne.falseFunc:vs(t,n)?(u=u.toLowerCase(),d=>{var f;return((f=r.getAttributeValue(d,a))===null||f===void 0?void 0:f.substr(l).toLowerCase())===u&&e(d)}):d=>{var f;return!!(!((f=r.getAttributeValue(d,a))===null||f===void 0)&&f.endsWith(u))&&e(d)}},any(e,t,n){const{adapter:r}=n,{name:a,value:u}=t;if(u==="")return Ne.falseFunc;if(vs(t,n)){const l=new RegExp(Ug(u),"i");return function(f){const h=r.getAttributeValue(f,a);return h!=null&&h.length>=u.length&&l.test(h)&&e(f)}}return l=>{var d;return!!(!((d=r.getAttributeValue(l,a))===null||d===void 0)&&d.includes(u))&&e(l)}},not(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;return u===""?l=>!!r.getAttributeValue(l,a)&&e(l):vs(t,n)?(u=u.toLowerCase(),l=>{const d=r.getAttributeValue(l,a);return(d==null||d.length!==u.length||d.toLowerCase()!==u)&&e(l)}):l=>r.getAttributeValue(l,a)!==u&&e(l)}},s3=new Set([9,10,12,13,32]),jg=48,i3=57;function a3(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,r=u(),a=l();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=r*(a??1),d(),t<e.length?(r=u(),d(),a=l()):r=a=0),a===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*a];function u(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function l(){const f=t;let h=0;for(;t<e.length&&e.charCodeAt(t)>=jg&&e.charCodeAt(t)<=i3;)h=h*10+(e.charCodeAt(t)-jg),t++;return t===f?null:h}function d(){for(;t<e.length&&s3.has(e.charCodeAt(t));)t++}}function u3(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return Ne.falseFunc;if(t===-1)return u=>u<=n;if(t===0)return u=>u===n;if(t===1)return n<0?Ne.trueFunc:u=>u>=n;const r=Math.abs(t),a=(n%r+r)%r;return t>1?u=>u>=n&&u%r===a:u=>u<=n&&u%r===a}function Xo(e){return u3(a3(e))}function Jo(e,t){return n=>{const r=t.getParent(n);return r!=null&&t.isTag(r)&&e(n)}}const Ff={contains(e,t,{adapter:n}){return function(a){return e(a)&&n.getText(a).includes(t)}},icontains(e,t,{adapter:n}){const r=t.toLowerCase();return function(u){return e(u)&&n.getText(u).toLowerCase().includes(r)}},"nth-child"(e,t,{adapter:n,equals:r}){const a=Xo(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?Jo(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=0;h<d.length&&!r(l,d[h]);h++)n.isTag(d[h])&&f++;return a(f)&&e(l)}},"nth-last-child"(e,t,{adapter:n,equals:r}){const a=Xo(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?Jo(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=d.length-1;h>=0&&!r(l,d[h]);h--)n.isTag(d[h])&&f++;return a(f)&&e(l)}},"nth-of-type"(e,t,{adapter:n,equals:r}){const a=Xo(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?Jo(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=0;h<d.length;h++){const g=d[h];if(r(l,g))break;n.isTag(g)&&n.getName(g)===n.getName(l)&&f++}return a(f)&&e(l)}},"nth-last-of-type"(e,t,{adapter:n,equals:r}){const a=Xo(t);return a===Ne.falseFunc?Ne.falseFunc:a===Ne.trueFunc?Jo(e,n):function(l){const d=n.getSiblings(l);let f=0;for(let h=d.length-1;h>=0;h--){const g=d[h];if(r(l,g))break;n.isTag(g)&&n.getName(g)===n.getName(l)&&f++}return a(f)&&e(l)}},root(e,t,{adapter:n}){return r=>{const a=n.getParent(r);return(a==null||!n.isTag(a))&&e(r)}},scope(e,t,n,r){const{equals:a}=n;return!r||r.length===0?Ff.root(e,t,n):r.length===1?u=>a(r[0],u)&&e(u):u=>r.includes(u)&&e(u)},hover:nf("isHovered"),visited:nf("isVisited"),active:nf("isActive")};function nf(e){return function(n,r,{adapter:a}){const u=a[e];return typeof u!="function"?Ne.falseFunc:function(d){return u(d)&&n(d)}}}const Hg={empty(e,{adapter:t}){return!t.getChildren(e).some(n=>t.isTag(n)||t.getText(n)!=="")},"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const r=t.getSiblings(e).find(a=>t.isTag(a));return r!=null&&n(e,r)},"last-child"(e,{adapter:t,equals:n}){const r=t.getSiblings(e);for(let a=r.length-1;a>=0;a--){if(n(e,r[a]))return!0;if(t.isTag(r[a]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),a=t.getName(e);for(let u=0;u<r.length;u++){const l=r[u];if(n(e,l))return!0;if(t.isTag(l)&&t.getName(l)===a)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),a=t.getName(e);for(let u=r.length-1;u>=0;u--){const l=r[u];if(n(e,l))return!0;if(t.isTag(l)&&t.getName(l)===a)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const r=t.getName(e);return t.getSiblings(e).every(a=>n(e,a)||!t.isTag(a)||t.getName(a)!==r)},"only-child"(e,{adapter:t,equals:n}){return t.getSiblings(e).every(r=>n(e,r)||!t.isTag(r))}};function $g(e,t,n,r){if(n===null){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const o3={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},fb={};function l3(e,t){return e===Ne.falseFunc?Ne.falseFunc:n=>t.isTag(n)&&e(n)}function hb(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function Bf(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const rf=(e,t,n,r,a)=>{const u=a(t,Bf(n),r);return u===Ne.trueFunc?e:u===Ne.falseFunc?Ne.falseFunc:l=>u(l)&&e(l)},sf={is:rf,matches:rf,where:rf,not(e,t,n,r,a){const u=a(t,Bf(n),r);return u===Ne.falseFunc?e:u===Ne.trueFunc?Ne.falseFunc:l=>!u(l)&&e(l)},has(e,t,n,r,a){const{adapter:u}=n,l=Bf(n);l.relativeSelector=!0;const d=t.some(g=>g.some(Ih))?[fb]:void 0,f=a(t,l,d);if(f===Ne.falseFunc)return Ne.falseFunc;const h=l3(f,u);if(d&&f!==Ne.trueFunc){const{shouldTestNextSiblings:g=!1}=f;return T=>{if(!e(T))return!1;d[0]=T;const _=u.getChildren(T),v=g?[..._,...hb(T,u)]:_;return u.existsOne(h,v)}}return g=>e(g)&&u.existsOne(h,u.getChildren(g))}};function c3(e,t,n,r,a){var u;const{name:l,data:d}=t;if(Array.isArray(d)){if(!(l in sf))throw new Error(`Unknown pseudo-class :${l}(${d})`);return sf[l](e,d,n,r,a)}const f=(u=n.pseudos)===null||u===void 0?void 0:u[l],h=typeof f=="string"?f:o3[l];if(typeof h=="string"){if(d!=null)throw new Error(`Pseudo ${l} doesn't have any arguments`);const g=Vl(h);return sf.is(e,g,n,r,a)}if(typeof f=="function")return $g(f,l,d,1),g=>f(g,d)&&e(g);if(l in Ff)return Ff[l](e,d,n,r);if(l in Hg){const g=Hg[l];return $g(g,l,d,2),T=>g(T,n,d)&&e(T)}throw new Error(`Unknown pseudo-class :${l}`)}function af(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function d3(e,t,n,r,a){const{adapter:u,equals:l}=n;switch(t.type){case he.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case he.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case he.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),r3[t.action](e,t,n)}case he.Pseudo:return c3(e,t,n,r,a);case he.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:d}=t;return(!n.xmlMode||n.lowerCaseTags)&&(d=d.toLowerCase()),function(h){return u.getName(h)===d&&e(h)}}case he.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(h){let g=h;for(;g=af(g,u);)if(e(g))return!0;return!1};const d=new WeakSet;return function(h){let g=h;for(;g=af(g,u);)if(!d.has(g)){if(u.isTag(g)&&e(g))return!0;d.add(g)}return!1}}case"_flexibleDescendant":return function(f){let h=f;do if(e(h))return!0;while(h=af(h,u));return!1};case he.Parent:return function(f){return u.getChildren(f).some(h=>u.isTag(h)&&e(h))};case he.Child:return function(f){const h=u.getParent(f);return h!=null&&u.isTag(h)&&e(h)};case he.Sibling:return function(f){const h=u.getSiblings(f);for(let g=0;g<h.length;g++){const T=h[g];if(l(f,T))break;if(u.isTag(T)&&e(T))return!0}return!1};case he.Adjacent:return u.prevElementSibling?function(f){const h=u.prevElementSibling(f);return h!=null&&e(h)}:function(f){const h=u.getSiblings(f);let g;for(let T=0;T<h.length;T++){const _=h[T];if(l(f,_))break;u.isTag(_)&&(g=_)}return!!g&&e(g)};case he.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function pb(e){return e.type===he.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(pb)))}const f3={type:he.Descendant},h3={type:"_flexibleDescendant"},p3={type:he.Pseudo,name:"scope",data:null};function m3(e,{adapter:t},n){const r=!!n?.every(a=>{const u=t.isTag(a)&&t.getParent(a);return a===fb||u&&t.isTag(u)});for(const a of e){if(!(a.length>0&&Ih(a[0])&&a[0].type!==he.Descendant))if(r&&!a.some(pb))a.unshift(f3);else continue;a.unshift(p3)}}function mb(e,t,n){var r;e.forEach(e3),n=(r=t.context)!==null&&r!==void 0?r:n;const a=Array.isArray(n),u=n&&(Array.isArray(n)?n:[n]);if(t.relativeSelector!==!1)m3(e,t,u);else if(e.some(f=>f.length>0&&Ih(f[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let l=!1;const d=e.map(f=>{if(f.length>=2){const[h,g]=f;h.type!==he.Pseudo||h.name!=="scope"||(a&&g.type===he.Descendant?f[1]=h3:(g.type===he.Adjacent||g.type===he.Sibling)&&(l=!0))}return g3(f,t,u)}).reduce(E3,Ne.falseFunc);return d.shouldTestNextSiblings=l,d}function g3(e,t,n){var r;return e.reduce((a,u)=>a===Ne.falseFunc?Ne.falseFunc:d3(a,u,t,n,mb),(r=t.rootFunc)!==null&&r!==void 0?r:Ne.trueFunc)}function E3(e,t){return t===Ne.falseFunc||e===Ne.trueFunc?e:e===Ne.falseFunc||t===Ne.trueFunc?t:function(r){return e(r)||t(r)}}const gb=(e,t)=>e===t,b3={adapter:Yl,equals:gb};function y3(e){var t,n,r,a;const u=e??b3;return(t=u.adapter)!==null&&t!==void 0||(u.adapter=Yl),(n=u.equals)!==null&&n!==void 0||(u.equals=(a=(r=u.adapter)===null||r===void 0?void 0:r.equals)!==null&&a!==void 0?a:gb),u}function T3(e){return function(n,r,a){const u=y3(r);return e(n,u,a)}}const Oh=T3(mb);function Eb(e,t,n=!1){return n&&(e=_3(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function _3(e,t){const n=Array.isArray(e)?e.slice(0):[e],r=n.length;for(let a=0;a<r;a++){const u=hb(n[a],t);n.push(...u)}return n}const w3=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function wl(e){return e.type!=="pseudo"?!1:w3.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(wl)):!1}function x3(e,t,n){const r=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function v3(e){for(;e.parent;)e=e.parent;return e}function Dh(e){const t=[],n=[];for(const r of e)r.some(wl)?t.push(r):n.push(r);return[n,t]}const S3={type:he.Universal,namespace:null},A3={type:he.Pseudo,name:"scope",data:null};function bb(e,t,n={}){return yb([e],t,n)}function yb(e,t,n={}){if(typeof t=="function")return e.some(t);const[r,a]=Dh(Vl(t));return r.length>0&&e.some(Oh(r,n))||a.some(u=>wb(u,e,n).length>0)}function C3(e,t,n,r){const a=typeof n=="string"?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(a)&&Math.abs(a)<t.length?[a<0?t[t.length+a]:t[a]]:[];case"gt":return isFinite(a)?t.slice(a+1):[];case"even":return t.filter((u,l)=>l%2===0);case"odd":return t.filter((u,l)=>l%2===1);case"not":{const u=new Set(_b(n,t,r));return t.filter(l=>!u.has(l))}}}function Tb(e,t,n={}){return _b(Vl(e),t,n)}function _b(e,t,n){if(t.length===0)return[];const[r,a]=Dh(e);let u;if(r.length){const l=jf(t,r,n);if(a.length===0)return l;l.length&&(u=new Set(l))}for(let l=0;l<a.length&&u?.size!==t.length;l++){const d=a[l];if((u?t.filter(g=>Ee(g)&&!u.has(g)):t).length===0)break;const h=wb(d,t,n);if(h.length)if(u)h.forEach(g=>u.add(g));else{if(l===a.length-1)return h;u=new Set(h)}}return typeof u<"u"?u.size===t.length?t:t.filter(l=>u.has(l)):[]}function wb(e,t,n){var r;if(e.some(Ka)){const a=(r=n.root)!==null&&r!==void 0?r:v3(t[0]),u={...n,context:t,relativeSelector:!1};return e.push(A3),xl(a,e,u,!0,t.length)}return xl(t,e,n,!1,t.length)}function N3(e,t,n={},r=1/0){if(typeof e=="function")return xb(t,e);const[a,u]=Dh(Vl(e)),l=u.map(d=>xl(t,d,n,!0,r));return a.length&&l.push(Uf(t,a,n,r)),l.length===0?[]:l.length===1?l[0]:Pi(l.reduce((d,f)=>[...d,...f]))}function xl(e,t,n,r,a){const u=t.findIndex(wl),l=t.slice(0,u),d=t[u],f=t.length-1===u?a:1/0,h=x3(d.name,d.data,f);if(h===0)return[];const T=(l.length===0&&!Array.isArray(e)?Wl(e).filter(Ee):l.length===0?(Array.isArray(e)?e:[e]).filter(Ee):r||l.some(Ka)?Uf(e,[l],n,h):jf(e,[l],n)).slice(0,h);let _=C3(d.name,T,d.data,n);if(_.length===0||t.length===u+1)return _;const v=t.slice(u+1),x=v.some(Ka);if(x){if(Ka(v[0])){const{type:N}=v[0];(N===he.Sibling||N===he.Adjacent)&&(_=Eb(_,Yl,!0)),v.unshift(S3)}n={...n,relativeSelector:!1,rootFunc:N=>_.includes(N)}}else n.rootFunc&&n.rootFunc!==_l.trueFunc&&(n={...n,rootFunc:_l.trueFunc});return v.some(wl)?xl(_,v,n,!1,a):x?Uf(_,[v],n,a):jf(_,[v],n)}function Uf(e,t,n,r){const a=Oh(t,n,e);return xb(e,a,r)}function xb(e,t,n=1/0){const r=Eb(e,Yl,t.shouldTestNextSiblings);return Ch(a=>Ee(a)&&t(a),r,!0,n)}function jf(e,t,n){const r=(Array.isArray(e)?e:[e]).filter(Ee);if(r.length===0)return r;const a=Oh(t,n);return a===_l.trueFunc?r:r.filter(a)}const k3=/^\s*[+~]/;function R3(e){if(!e)return this._make([]);if(typeof e!="string"){const t=Sr(e)?e.toArray():[e],n=this.toArray();return this._make(t.filter(r=>n.some(a=>rb(a,r))))}return this._findBySelector(e,Number.POSITIVE_INFINITY)}function I3(e,t){var n;const r=this.toArray(),a=k3.test(e)?r:this.children().toArray(),u={context:r,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(N3(e,a,u,t))}function Lh(e){return function(t,...n){return function(r){var a;let u=e(t,this);return r&&(u=Fh(u,r,this.options.xmlMode,(a=this._root)===null||a===void 0?void 0:a[0])),this._make(this.length>1&&u.length>1?n.reduce((l,d)=>d(l),u):u)}}}const Au=Lh((e,t)=>{let n=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a.length>0&&(n=n.concat(a))}return n}),Ph=Lh((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a!==null&&n.push(a)}return n});function Mh(e,...t){let n=null;const r=Lh((a,u)=>{const l=[];return et(u,d=>{for(let f;(f=a(d))&&!n?.(f,l.length);d=f)l.push(f)}),l})(e,...t);return function(a,u){n=typeof a=="string"?d=>bb(d,a,this.options):a?Cu(a):null;const l=r.call(this,u);return n=null,l}}function Mi(e){return e.length>1?Array.from(new Set(e)):e}const O3=Ph(({parent:e})=>e&&!as(e)?e:null,Mi),D3=Au(e=>{const t=[];for(;e.parent&&!as(e.parent);)t.push(e.parent),e=e.parent;return t},Pi,e=>e.reverse()),L3=Mh(({parent:e})=>e&&!as(e)?e:null,Pi,e=>e.reverse());function P3(e){var t;const n=[];if(!e)return this._make(n);const r={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},a=typeof e=="string"?u=>bb(u,e,r):Cu(e);return et(this,u=>{for(u&&!as(u)&&!Ee(u)&&(u=u.parent);u&&Ee(u);){if(a(u,0)){n.includes(u)||n.push(u);break}u=u.parent}}),this._make(n)}const M3=Ph(e=>Sh(e)),F3=Au(e=>{const t=[];for(;e.next;)e=e.next,Ee(e)&&t.push(e);return t},Mi),B3=Mh(e=>Sh(e),Mi),U3=Ph(e=>Ah(e)),j3=Au(e=>{const t=[];for(;e.prev;)e=e.prev,Ee(e)&&t.push(e);return t},Mi),H3=Mh(e=>Ah(e),Mi),$3=Au(e=>XE(e).filter(t=>Ee(t)&&t!==e),Pi),z3=Au(e=>Wl(e).filter(Ee),Mi);function q3(){const e=this.toArray().reduce((t,n)=>at(n)?t.concat(n.children):t,[]);return this._make(e)}function W3(e){let t=0;const n=this.length;for(;t<n&&e.call(this[t],t,this[t])!==!1;)++t;return this}function Y3(e){let t=[];for(let n=0;n<this.length;n++){const r=this[n],a=e.call(r,n,r);a!=null&&(t=t.concat(a))}return this._make(t)}function Cu(e){return typeof e=="function"?(t,n)=>e.call(t,n,t):Sr(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function V3(e){var t;return this._make(Fh(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function Fh(e,t,n,r){return typeof t=="string"?Tb(t,e,{xmlMode:n,root:r}):e.filter(Cu(t))}function Q3(e){const t=this.toArray();return typeof e=="string"?yb(t.filter(Ee),e,this.options):e?t.some(Cu(e)):!1}function G3(e){let t=this.toArray();if(typeof e=="string"){const n=new Set(Tb(e,t,this.options));t=t.filter(r=>!n.has(r))}else{const n=Cu(e);t=t.filter((r,a)=>!n(r,a))}return this._make(t)}function K3(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,n)=>this._make(n).find(e).length>0)}function X3(){return this.length>1?this._make(this[0]):this}function J3(){return this.length>0?this._make(this[this.length-1]):this}function Z3(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function eN(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function tN(){return Array.prototype.slice.call(this)}function nN(e){let t,n;return e==null?(t=this.parent().children(),n=this[0]):typeof e=="string"?(t=this._make(e),n=this[0]):(t=this,n=Sr(e)?e[0]:e),Array.prototype.indexOf.call(t,n)}function rN(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function sN(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function iN(e,t){const n=this._make(e,t),r=Pi([...this.get(),...n.get()]);return this._make(r)}function aN(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}const uN=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:I3,add:iN,addBack:aN,children:z3,closest:P3,contents:q3,each:W3,end:sN,eq:Z3,filter:V3,filterArray:Fh,find:R3,first:X3,get:eN,has:K3,index:nN,is:Q3,last:J3,map:Y3,next:M3,nextAll:F3,nextUntil:B3,not:G3,parent:O3,parents:D3,parentsUntil:L3,prev:U3,prevAll:j3,prevUntil:H3,siblings:$3,slice:rN,toArray:tN},Symbol.toStringTag,{value:"Module"}));function oN(e){return function(n,r,a,u){if(typeof Buffer<"u"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return e(n,r,a,u);const l=n;if(!Array.isArray(l)&&as(l))return l;const d=new Ps([]);return Ms(l,d),d}}function Ms(e,t){const n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(let r=0;r<n.length;r++){const a=n[r];a.parent&&a.parent.children!==n&&Hs(a),t?(a.prev=n[r-1]||null,a.next=n[r+1]||null):a.prev=a.next=null,a.parent=t}return t}function lN(e,t){if(e==null)return[];if(typeof e=="string")return this._parse(e,this.options,!1,null).children.slice(0);if("length"in e){if(e.length===1)return this._makeDomArray(e[0],t);const n=[];for(let r=0;r<e.length;r++){const a=e[r];if(typeof a=="object"){if(a==null)continue;if(!("length"in a)){n.push(t?cu(a,!0):a);continue}}n.push(...this._makeDomArray(a,t))}return n}return[t?cu(e,!0):e]}function vb(e){return function(...t){const n=this.length-1;return et(this,(r,a)=>{if(!at(r))return;const u=typeof t[0]=="function"?t[0].call(r,a,this._render(r.children)):t,l=this._makeDomArray(u,a<n);e(l,r.children,r)})}}function us(e,t,n,r,a){var u,l;const d=[t,n,...r],f=t===0?null:e[t-1],h=t+n>=e.length?null:e[t+n];for(let g=0;g<r.length;++g){const T=r[g],_=T.parent;if(_){const x=_.children.indexOf(T);x>-1&&(_.children.splice(x,1),a===_&&t>x&&d[0]--)}T.parent=a,T.prev&&(T.prev.next=(u=T.next)!==null&&u!==void 0?u:null),T.next&&(T.next.prev=(l=T.prev)!==null&&l!==void 0?l:null),T.prev=g===0?f:r[g-1],T.next=g===r.length-1?h:r[g+1]}return f&&(f.next=r[0]),h&&(h.prev=r[r.length-1]),e.splice(...d)}function cN(e){return(Sr(e)?e:this._make(e)).append(this),this}function dN(e){return(Sr(e)?e:this._make(e)).prepend(this),this}const fN=vb((e,t,n)=>{us(t,t.length,0,e,n)}),hN=vb((e,t,n)=>{us(t,0,0,e,n)});function Sb(e){return function(t){const n=this.length-1,r=this.parents().last();for(let a=0;a<this.length;a++){const u=this[a],l=typeof t=="function"?t.call(u,a,u):typeof t=="string"&&!Pf(t)?r.find(t).clone():t,[d]=this._makeDomArray(l,a<n);if(!d||!at(d))continue;let f=d,h=0;for(;h<f.children.length;){const g=f.children[h];Ee(g)?(f=g,h=0):h++}e(u,f,[d])}return this}}const pN=Sb((e,t,n)=>{const{parent:r}=e;if(!r)return;const a=r.children,u=a.indexOf(e);Ms([e],t),us(a,u,0,n,r)}),mN=Sb((e,t,n)=>{at(e)&&(Ms(e.children,t),Ms(n,e))});function gN(e){return this.parent(e).not("body").each((t,n)=>{this._make(n).replaceWith(n.children)}),this}function EN(e){const t=this[0];if(t){const n=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t);let r;for(let u=0;u<n.length;u++)n[u].type==="tag"&&(r=n[u]);let a=0;for(;r&&a<r.children.length;){const u=r.children[a];u.type==="tag"?(r=u,a=0):a++}r&&this._make(r).append(this)}return this}function bN(...e){const t=this.length-1;return et(this,(n,r)=>{if(!at(n)||!n.parent)return;const a=n.parent.children,u=a.indexOf(n);if(u<0)return;const l=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,d=this._makeDomArray(l,r<t);us(a,u+1,0,d,n.parent)})}function yN(e){typeof e=="string"&&(e=this._make(e)),this.remove();const t=[];for(const n of this._makeDomArray(e)){const r=this.clone().toArray(),{parent:a}=n;if(!a)continue;const u=a.children,l=u.indexOf(n);l<0||(us(u,l+1,0,r,a),t.push(...r))}return this._make(t)}function TN(...e){const t=this.length-1;return et(this,(n,r)=>{if(!at(n)||!n.parent)return;const a=n.parent.children,u=a.indexOf(n);if(u<0)return;const l=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,d=this._makeDomArray(l,r<t);us(a,u,0,d,n.parent)})}function _N(e){const t=this._make(e);this.remove();const n=[];return et(t,r=>{const a=this.clone().toArray(),{parent:u}=r;if(!u)return;const l=u.children,d=l.indexOf(r);d<0||(us(l,d,0,a,u),n.push(...a))}),this._make(n)}function wN(e){const t=e?this.filter(e):this;return et(t,n=>{Hs(n),n.prev=n.next=n.parent=null}),this}function xN(e){return et(this,(t,n)=>{const{parent:r}=t;if(!r)return;const a=r.children,u=typeof e=="function"?e.call(t,n,t):e,l=this._makeDomArray(u);Ms(l,null);const d=a.indexOf(t);us(a,d,1,l,r),l.includes(t)||(t.parent=t.prev=t.next=null)})}function vN(){return et(this,e=>{if(at(e)){for(const t of e.children)t.next=t.prev=t.parent=null;e.children.length=0}})}function SN(e){if(e===void 0){const t=this[0];return!t||!at(t)?null:this._render(t.children)}return et(this,t=>{if(!at(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=Sr(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;Ms(n,t)})}function AN(){return this._render(this)}function CN(e){return e===void 0?du(this):typeof e=="function"?et(this,(t,n)=>this._make(t).text(e.call(t,n,du([t])))):et(this,t=>{if(!at(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=new lu(`${e}`);Ms(n,t)})}function NN(){const e=Array.prototype.map.call(this.get(),n=>cu(n,!0)),t=new Ps(e);for(const n of e)n.parent=t;return this._make(e)}const kN=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:lN,after:bN,append:fN,appendTo:cN,before:TN,clone:NN,empty:vN,html:SN,insertAfter:yN,insertBefore:_N,prepend:hN,prependTo:dN,remove:wN,replaceWith:xN,text:CN,toString:AN,unwrap:gN,wrap:pN,wrapAll:EN,wrapInner:mN},Symbol.toStringTag,{value:"Module"}));function RN(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return et(this,(n,r)=>{Ee(n)&&Ab(n,e,t,r)});if(this.length!==0)return Cb(this[0],e)}function Ab(e,t,n,r){if(typeof t=="string"){const a=Cb(e),u=typeof n=="function"?n.call(e,r,a[t]):n;u===""?delete a[t]:u!=null&&(a[t]=u),e.attribs.style=IN(a)}else if(typeof t=="object"){const a=Object.keys(t);for(let u=0;u<a.length;u++){const l=a[u];Ab(e,l,t[l],u)}}}function Cb(e,t){if(!e||!Ee(e))return;const n=ON(e.attribs.style);if(typeof t=="string")return n[t];if(Array.isArray(t)){const r={};for(const a of t)n[a]!=null&&(r[a]=n[a]);return r}return n}function IN(e){return Object.keys(e).reduce((t,n)=>`${t}${t?" ":""}${n}: ${e[n]};`,"")}function ON(e){if(e=(e||"").trim(),!e)return{};const t={};let n;for(const r of e.split(";")){const a=r.indexOf(":");if(a<1||a===r.length-1){const u=r.trimEnd();u.length>0&&n!==void 0&&(t[n]+=`;${u}`)}else n=r.slice(0,a).trim(),t[n]=r.slice(a+1).trim()}return t}const DN=Object.freeze(Object.defineProperty({__proto__:null,css:RN},Symbol.toStringTag,{value:"Module"})),zg="input,select,textarea,keygen",LN=/%20/g,qg=/\r?\n/g;function PN(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(LN,"+")}function MN(){return this.map((e,t)=>{const n=this._make(t);return Ee(t)&&t.name==="form"?n.find(zg).toArray():n.filter(zg).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var n;const r=this._make(t),a=r.attr("name"),u=(n=r.val())!==null&&n!==void 0?n:"";return Array.isArray(u)?u.map(l=>({name:a,value:l.replace(qg,`\r
`)})):{name:a,value:u.replace(qg,`\r
`)}}).toArray()}const FN=Object.freeze(Object.defineProperty({__proto__:null,serialize:PN,serializeArray:MN},Symbol.toStringTag,{value:"Module"}));function BN(e){var t;return typeof e=="string"?{selector:e,value:"textContent"}:{selector:e.selector,value:(t=e.value)!==null&&t!==void 0?t:"textContent"}}function UN(e){const t={};for(const n in e){const r=e[n],a=Array.isArray(r),{selector:u,value:l}=BN(a?r[0]:r),d=typeof l=="function"?l:typeof l=="string"?f=>this._make(f).prop(l):f=>this._make(f).extract(l);if(a)t[n]=this._findBySelector(u,Number.POSITIVE_INFINITY).map((f,h)=>d(h,n,t)).get();else{const f=this._findBySelector(u,1);t[n]=f.length>0?d(f[0],n,t):void 0}}return t}const jN=Object.freeze(Object.defineProperty({__proto__:null,extract:UN},Symbol.toStringTag,{value:"Module"}));class Nu{constructor(t,n,r){if(this.length=0,this.options=r,this._root=n,t){for(let a=0;a<t.length;a++)this[a]=t[a];this.length=t.length}}}Nu.prototype.cheerio="[cheerio object]";Nu.prototype.splice=Array.prototype.splice;Nu.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(Nu.prototype,YC,uN,kN,DN,FN,jN);function HN(e,t){return function n(r,a,u=!0){if(r==null)throw new Error("cheerio.load() expects a string");const l=Lf(a),d=e(r,l,u,null);class f extends Nu{_make(T,_){const v=h(T,_);return v.prevObject=this,v}_parse(T,_,v,x){return e(T,_,v,x)}_render(T){return t(T,this.options)}}function h(g,T,_=d,v){if(g&&Sr(g))return g;const x=Lf(v,l),N=typeof _=="string"?[e(_,x,!1,null)]:"length"in _?_:[_],A=Sr(N)?N:new f(N,null,x);if(A._root=A,!g)return new f(void 0,A,x);const R=typeof g=="string"&&Pf(g)?e(g,x,!1,null).children:$N(g)?[g]:Array.isArray(g)?g:void 0,L=new f(R,A,x);if(R)return L;if(typeof g!="string")throw new TypeError("Unexpected type of selector");let H=g;const U=T?typeof T=="string"?Pf(T)?new f([e(T,x,!1,null)],A,x):(H=`${T} ${H}`,A):Sr(T)?T:new f(Array.isArray(T)?T:[T],A,x):A;return U?U.find(H):L}return Object.assign(h,LC,{load:n,_root:d,_options:l,fn:f.prototype,prototype:f.prototype}),h}}function $N(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}const zN=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qe="";var S;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(S||(S={}));const Jt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Nb(e){return e>=55296&&e<=57343}function qN(e){return e>=56320&&e<=57343}function WN(e,t){return(e-55296)*1024+9216+t}function kb(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Rb(e){return e>=64976&&e<=65007||zN.has(e)}var $;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})($||($={}));const YN=65536;class VN{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=YN,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:a,offset:u}=this,l=a+n,d=u+n;return{code:t,startLine:r,endLine:r,startCol:l,endCol:l,startOffset:d,endOffset:d}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(qN(n))return this.pos++,this._addGap(),WN(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,S.EOF;return this._err($.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,S.EOF;const r=this.html.charCodeAt(n);return r===S.CARRIAGE_RETURN?S.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,S.EOF;let t=this.html.charCodeAt(this.pos);return t===S.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,S.LINE_FEED):t===S.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Nb(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===S.LINE_FEED||t===S.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){kb(t)?this._err($.controlCharacterInInputStream):Rb(t)&&this._err($.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Le;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Le||(Le={}));function Ib(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}var Y;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Y||(Y={}));var Os;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Os||(Os={}));var hn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(hn||(hn={}));var M;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(M||(M={}));var p;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(p||(p={}));const QN=new Map([[M.A,p.A],[M.ADDRESS,p.ADDRESS],[M.ANNOTATION_XML,p.ANNOTATION_XML],[M.APPLET,p.APPLET],[M.AREA,p.AREA],[M.ARTICLE,p.ARTICLE],[M.ASIDE,p.ASIDE],[M.B,p.B],[M.BASE,p.BASE],[M.BASEFONT,p.BASEFONT],[M.BGSOUND,p.BGSOUND],[M.BIG,p.BIG],[M.BLOCKQUOTE,p.BLOCKQUOTE],[M.BODY,p.BODY],[M.BR,p.BR],[M.BUTTON,p.BUTTON],[M.CAPTION,p.CAPTION],[M.CENTER,p.CENTER],[M.CODE,p.CODE],[M.COL,p.COL],[M.COLGROUP,p.COLGROUP],[M.DD,p.DD],[M.DESC,p.DESC],[M.DETAILS,p.DETAILS],[M.DIALOG,p.DIALOG],[M.DIR,p.DIR],[M.DIV,p.DIV],[M.DL,p.DL],[M.DT,p.DT],[M.EM,p.EM],[M.EMBED,p.EMBED],[M.FIELDSET,p.FIELDSET],[M.FIGCAPTION,p.FIGCAPTION],[M.FIGURE,p.FIGURE],[M.FONT,p.FONT],[M.FOOTER,p.FOOTER],[M.FOREIGN_OBJECT,p.FOREIGN_OBJECT],[M.FORM,p.FORM],[M.FRAME,p.FRAME],[M.FRAMESET,p.FRAMESET],[M.H1,p.H1],[M.H2,p.H2],[M.H3,p.H3],[M.H4,p.H4],[M.H5,p.H5],[M.H6,p.H6],[M.HEAD,p.HEAD],[M.HEADER,p.HEADER],[M.HGROUP,p.HGROUP],[M.HR,p.HR],[M.HTML,p.HTML],[M.I,p.I],[M.IMG,p.IMG],[M.IMAGE,p.IMAGE],[M.INPUT,p.INPUT],[M.IFRAME,p.IFRAME],[M.KEYGEN,p.KEYGEN],[M.LABEL,p.LABEL],[M.LI,p.LI],[M.LINK,p.LINK],[M.LISTING,p.LISTING],[M.MAIN,p.MAIN],[M.MALIGNMARK,p.MALIGNMARK],[M.MARQUEE,p.MARQUEE],[M.MATH,p.MATH],[M.MENU,p.MENU],[M.META,p.META],[M.MGLYPH,p.MGLYPH],[M.MI,p.MI],[M.MO,p.MO],[M.MN,p.MN],[M.MS,p.MS],[M.MTEXT,p.MTEXT],[M.NAV,p.NAV],[M.NOBR,p.NOBR],[M.NOFRAMES,p.NOFRAMES],[M.NOEMBED,p.NOEMBED],[M.NOSCRIPT,p.NOSCRIPT],[M.OBJECT,p.OBJECT],[M.OL,p.OL],[M.OPTGROUP,p.OPTGROUP],[M.OPTION,p.OPTION],[M.P,p.P],[M.PARAM,p.PARAM],[M.PLAINTEXT,p.PLAINTEXT],[M.PRE,p.PRE],[M.RB,p.RB],[M.RP,p.RP],[M.RT,p.RT],[M.RTC,p.RTC],[M.RUBY,p.RUBY],[M.S,p.S],[M.SCRIPT,p.SCRIPT],[M.SEARCH,p.SEARCH],[M.SECTION,p.SECTION],[M.SELECT,p.SELECT],[M.SOURCE,p.SOURCE],[M.SMALL,p.SMALL],[M.SPAN,p.SPAN],[M.STRIKE,p.STRIKE],[M.STRONG,p.STRONG],[M.STYLE,p.STYLE],[M.SUB,p.SUB],[M.SUMMARY,p.SUMMARY],[M.SUP,p.SUP],[M.TABLE,p.TABLE],[M.TBODY,p.TBODY],[M.TEMPLATE,p.TEMPLATE],[M.TEXTAREA,p.TEXTAREA],[M.TFOOT,p.TFOOT],[M.TD,p.TD],[M.TH,p.TH],[M.THEAD,p.THEAD],[M.TITLE,p.TITLE],[M.TR,p.TR],[M.TRACK,p.TRACK],[M.TT,p.TT],[M.U,p.U],[M.UL,p.UL],[M.SVG,p.SVG],[M.VAR,p.VAR],[M.WBR,p.WBR],[M.XMP,p.XMP]]);function Ql(e){var t;return(t=QN.get(e))!==null&&t!==void 0?t:p.UNKNOWN}const X=p,GN={[Y.HTML]:new Set([X.ADDRESS,X.APPLET,X.AREA,X.ARTICLE,X.ASIDE,X.BASE,X.BASEFONT,X.BGSOUND,X.BLOCKQUOTE,X.BODY,X.BR,X.BUTTON,X.CAPTION,X.CENTER,X.COL,X.COLGROUP,X.DD,X.DETAILS,X.DIR,X.DIV,X.DL,X.DT,X.EMBED,X.FIELDSET,X.FIGCAPTION,X.FIGURE,X.FOOTER,X.FORM,X.FRAME,X.FRAMESET,X.H1,X.H2,X.H3,X.H4,X.H5,X.H6,X.HEAD,X.HEADER,X.HGROUP,X.HR,X.HTML,X.IFRAME,X.IMG,X.INPUT,X.LI,X.LINK,X.LISTING,X.MAIN,X.MARQUEE,X.MENU,X.META,X.NAV,X.NOEMBED,X.NOFRAMES,X.NOSCRIPT,X.OBJECT,X.OL,X.P,X.PARAM,X.PLAINTEXT,X.PRE,X.SCRIPT,X.SECTION,X.SELECT,X.SOURCE,X.STYLE,X.SUMMARY,X.TABLE,X.TBODY,X.TD,X.TEMPLATE,X.TEXTAREA,X.TFOOT,X.TH,X.THEAD,X.TITLE,X.TR,X.TRACK,X.UL,X.WBR,X.XMP]),[Y.MATHML]:new Set([X.MI,X.MO,X.MN,X.MS,X.MTEXT,X.ANNOTATION_XML]),[Y.SVG]:new Set([X.TITLE,X.FOREIGN_OBJECT,X.DESC]),[Y.XLINK]:new Set,[Y.XML]:new Set,[Y.XMLNS]:new Set},Hf=new Set([X.H1,X.H2,X.H3,X.H4,X.H5,X.H6]),KN=new Set([M.STYLE,M.SCRIPT,M.XMP,M.IFRAME,M.NOEMBED,M.NOFRAMES,M.PLAINTEXT]);function XN(e,t){return KN.has(e)||t&&e===M.NOSCRIPT}var C;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(C||(C={}));const tn={DATA:C.DATA,RCDATA:C.RCDATA,RAWTEXT:C.RAWTEXT,SCRIPT_DATA:C.SCRIPT_DATA,PLAINTEXT:C.PLAINTEXT,CDATA_SECTION:C.CDATA_SECTION};function JN(e){return e>=S.DIGIT_0&&e<=S.DIGIT_9}function Va(e){return e>=S.LATIN_CAPITAL_A&&e<=S.LATIN_CAPITAL_Z}function ZN(e){return e>=S.LATIN_SMALL_A&&e<=S.LATIN_SMALL_Z}function Xr(e){return ZN(e)||Va(e)}function Wg(e){return Xr(e)||JN(e)}function Zo(e){return e+32}function Ob(e){return e===S.SPACE||e===S.LINE_FEED||e===S.TABULATION||e===S.FORM_FEED}function Yg(e){return Ob(e)||e===S.SOLIDUS||e===S.GREATER_THAN_SIGN}function ek(e){return e===S.NULL?$.nullCharacterReference:e>1114111?$.characterReferenceOutsideUnicodeRange:Nb(e)?$.surrogateCharacterReference:Rb(e)?$.noncharacterCharacterReference:kb(e)||e===S.CARRIAGE_RETURN?$.controlCharacterReference:null}let tk=class{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=C.DATA,this.returnState=C.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new VN(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new vh(xh,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err($.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err($.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=ek(r);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Le.START_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Le.END_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Le.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Le.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Ib(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err($.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Ql(t.tagName),t.type===Le.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err($.endTagWithAttributes),t.selfClosing&&this._err($.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Le.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Le.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Le.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Le.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Ob(t)?Le.WHITESPACE_CHARACTER:t===S.NULL?Le.NULL_CHARACTER:Le.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Le.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=C.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Sn.Attribute:Sn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===C.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case C.DATA:{this._stateData(t);break}case C.RCDATA:{this._stateRcdata(t);break}case C.RAWTEXT:{this._stateRawtext(t);break}case C.SCRIPT_DATA:{this._stateScriptData(t);break}case C.PLAINTEXT:{this._statePlaintext(t);break}case C.TAG_OPEN:{this._stateTagOpen(t);break}case C.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case C.TAG_NAME:{this._stateTagName(t);break}case C.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case C.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case C.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case C.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case C.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case C.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case C.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case C.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case C.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case C.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case C.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case C.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case C.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case C.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case C.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case C.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case C.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case C.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case C.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case C.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case C.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case C.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case C.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case C.BOGUS_COMMENT:{this._stateBogusComment(t);break}case C.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case C.COMMENT_START:{this._stateCommentStart(t);break}case C.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case C.COMMENT:{this._stateComment(t);break}case C.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case C.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case C.COMMENT_END:{this._stateCommentEnd(t);break}case C.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case C.DOCTYPE:{this._stateDoctype(t);break}case C.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case C.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case C.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case C.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case C.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case C.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case C.CDATA_SECTION:{this._stateCdataSection(t);break}case C.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case C.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case C.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case C.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case S.LESS_THAN_SIGN:{this.state=C.TAG_OPEN;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitCodePoint(t);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case S.AMPERSAND:{this._startCharacterReference();break}case S.LESS_THAN_SIGN:{this.state=C.RCDATA_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case S.LESS_THAN_SIGN:{this.state=C.RAWTEXT_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Xr(t))this._createStartTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case S.EXCLAMATION_MARK:{this.state=C.MARKUP_DECLARATION_OPEN;break}case S.SOLIDUS:{this.state=C.END_TAG_OPEN;break}case S.QUESTION_MARK:{this._err($.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t);break}case S.EOF:{this._err($.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err($.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=C.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Xr(t))this._createEndTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case S.GREATER_THAN_SIGN:{this._err($.missingEndTagName),this.state=C.DATA;break}case S.EOF:{this._err($.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err($.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.BEFORE_ATTRIBUTE_NAME;break}case S.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case S.NULL:{this._err($.unexpectedNullCharacter),n.tagName+=Qe;break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Va(t)?Zo(t):t)}}_stateRcdataLessThanSign(t){t===S.SOLIDUS?this.state=C.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Xr(t)?(this.state=C.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=C.BEFORE_ATTRIBUTE_NAME,!1;case S.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=C.SELF_CLOSING_START_TAG,!1;case S.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=C.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===S.SOLIDUS?this.state=C.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Xr(t)?(this.state=C.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case S.SOLIDUS:{this.state=C.SCRIPT_DATA_END_TAG_OPEN;break}case S.EXCLAMATION_MARK:{this.state=C.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=C.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Xr(t)?(this.state=C.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===S.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===S.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case S.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case S.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case S.HYPHEN_MINUS:{this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===S.SOLIDUS?this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Xr(t)?(this._emitChars("<"),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Xr(t)?(this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Jt.SCRIPT,!1)&&Yg(this.preprocessor.peek(Jt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Jt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case S.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case S.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case S.HYPHEN_MINUS:{this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===S.SOLIDUS?(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Jt.SCRIPT,!1)&&Yg(this.preprocessor.peek(Jt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Jt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.SOLIDUS:case S.GREATER_THAN_SIGN:case S.EOF:{this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case S.EQUALS_SIGN:{this._err($.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=C.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:case S.SOLIDUS:case S.GREATER_THAN_SIGN:case S.EOF:{this._leaveAttrName(),this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case S.EQUALS_SIGN:{this._leaveAttrName(),this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case S.QUOTATION_MARK:case S.APOSTROPHE:case S.LESS_THAN_SIGN:{this._err($.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.name+=Qe;break}default:this.currentAttr.name+=String.fromCodePoint(Va(t)?Zo(t):t)}}_stateAfterAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case S.EQUALS_SIGN:{this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{this.state=C.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this.state=C.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingAttributeValue),this.state=C.DATA,this.emitCurrentTagToken();break}default:this.state=C.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case S.QUOTATION_MARK:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case S.APOSTROPHE:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case S.QUOTATION_MARK:case S.APOSTROPHE:case S.LESS_THAN_SIGN:case S.EQUALS_SIGN:case S.GRAVE_ACCENT:{this._err($.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case S.SOLIDUS:{this._leaveAttrValue(),this.state=C.SELF_CLOSING_START_TAG;break}case S.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._err($.missingWhitespaceBetweenAttributes),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case S.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=C.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._err($.unexpectedSolidusInTag),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(n);break}case S.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case S.NULL:{this._err($.unexpectedNullCharacter),n.data+=Qe;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Jt.DASH_DASH,!0)?(this._createCommentToken(Jt.DASH_DASH.length+1),this.state=C.COMMENT_START):this._consumeSequenceIfMatch(Jt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Jt.DOCTYPE.length+1),this.state=C.DOCTYPE):this._consumeSequenceIfMatch(Jt.CDATA_START,!0)?this.inForeignNode?this.state=C.CDATA_SECTION:(this._err($.cdataInHtmlContent),this._createCommentToken(Jt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=C.BOGUS_COMMENT):this._ensureHibernation()||(this._err($.incorrectlyOpenedComment),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case S.HYPHEN_MINUS:{this.state=C.COMMENT_START_DASH;break}case S.GREATER_THAN_SIGN:{this._err($.abruptClosingOfEmptyComment),this.state=C.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case S.GREATER_THAN_SIGN:{this._err($.abruptClosingOfEmptyComment),this.state=C.DATA,this.emitCurrentComment(n);break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=C.COMMENT_END_DASH;break}case S.LESS_THAN_SIGN:{n.data+="<",this.state=C.COMMENT_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.data+=Qe;break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case S.EXCLAMATION_MARK:{n.data+="!",this.state=C.COMMENT_LESS_THAN_SIGN_BANG;break}case S.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===S.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=C.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===S.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=C.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==S.GREATER_THAN_SIGN&&t!==S.EOF&&this._err($.nestedComment),this.state=C.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(n);break}case S.EXCLAMATION_MARK:{this.state=C.COMMENT_END_BANG;break}case S.HYPHEN_MINUS:{n.data+="-";break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{n.data+="--!",this.state=C.COMMENT_END_DASH;break}case S.GREATER_THAN_SIGN:{this._err($.incorrectlyClosedComment),this.state=C.DATA,this.emitCurrentComment(n);break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=C.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case S.EOF:{this._err($.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingWhitespaceBeforeDoctypeName),this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Va(t))this._createDoctypeToken(String.fromCharCode(Zo(t))),this.state=C.DOCTYPE_NAME;else switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.NULL:{this._err($.unexpectedNullCharacter),this._createDoctypeToken(Qe),this.state=C.DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case S.EOF:{this._err($.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=C.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.AFTER_DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case S.NULL:{this._err($.unexpectedNullCharacter),n.name+=Qe;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Va(t)?Zo(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Jt.PUBLIC,!1)?this.state=C.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Jt.SYSTEM,!1)?this.state=C.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.QUOTATION_MARK:{this._err($.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err($.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case S.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.publicId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case S.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.publicId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case S.QUOTATION_MARK:{this._err($.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err($.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case S.QUOTATION_MARK:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.QUOTATION_MARK:{this._err($.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err($.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case S.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.systemId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case S.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.systemId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case S.NULL:{this._err($.unexpectedNullCharacter);break}case S.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case S.RIGHT_SQUARE_BRACKET:{this.state=C.CDATA_SECTION_BRACKET;break}case S.EOF:{this._err($.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===S.RIGHT_SQUARE_BRACKET?this.state=C.CDATA_SECTION_END:(this._emitChars("]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case S.GREATER_THAN_SIGN:{this.state=C.DATA;break}case S.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(S.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Wg(this.preprocessor.peek(1))?C.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Wg(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===S.SEMICOLON&&this._err($.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}};const Db=new Set([p.DD,p.DT,p.LI,p.OPTGROUP,p.OPTION,p.P,p.RB,p.RP,p.RT,p.RTC]),Vg=new Set([...Db,p.CAPTION,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]),vl=new Set([p.APPLET,p.CAPTION,p.HTML,p.MARQUEE,p.OBJECT,p.TABLE,p.TD,p.TEMPLATE,p.TH]),nk=new Set([...vl,p.OL,p.UL]),rk=new Set([...vl,p.BUTTON]),Qg=new Set([p.ANNOTATION_XML,p.MI,p.MN,p.MO,p.MS,p.MTEXT]),Gg=new Set([p.DESC,p.FOREIGN_OBJECT,p.TITLE]),sk=new Set([p.TR,p.TEMPLATE,p.HTML]),ik=new Set([p.TBODY,p.TFOOT,p.THEAD,p.TEMPLATE,p.HTML]),ak=new Set([p.TABLE,p.TEMPLATE,p.HTML]),uk=new Set([p.TD,p.TH]);class ok{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=p.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===p.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Y.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Y.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Hf,Y.HTML)}popUntilTableCellPopped(){this.popUntilPopped(uk,Y.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(ak,Y.HTML)}clearBackToTableBodyContext(){this.clearBackTo(ik,Y.HTML)}clearBackToTableRowContext(){this.clearBackTo(sk,Y.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===p.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===p.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Y.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case Y.SVG:{if(Gg.has(a))return!1;break}case Y.MATHML:{if(Qg.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,vl)}hasInListItemScope(t){return this.hasInDynamicScope(t,nk)}hasInButtonScope(t){return this.hasInDynamicScope(t,rk)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Y.HTML:{if(Hf.has(n))return!0;if(vl.has(n))return!1;break}case Y.SVG:{if(Gg.has(n))return!1;break}case Y.MATHML:{if(Qg.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Y.HTML)switch(this.tagIDs[t]){case p.TBODY:case p.THEAD:case p.TFOOT:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case p.OPTION:case p.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;Db.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Vg.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Vg.has(this.currentTagId);)this.pop()}}const uf=3;var ir;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(ir||(ir={}));const Kg={type:ir.Marker};class lk{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],a=n.length,u=this.treeAdapter.getTagName(t),l=this.treeAdapter.getNamespaceURI(t);for(let d=0;d<this.entries.length;d++){const f=this.entries[d];if(f.type===ir.Marker)break;const{element:h}=f;if(this.treeAdapter.getTagName(h)===u&&this.treeAdapter.getNamespaceURI(h)===l){const g=this.treeAdapter.getAttrList(h);g.length===a&&r.push({idx:d,attrs:g})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<uf)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<uf)return;const a=new Map(n.map(l=>[l.name,l.value]));let u=0;for(let l=0;l<r.length;l++){const d=r[l];d.attrs.every(f=>a.get(f.name)===f.value)&&(u+=1,u>=uf&&this.entries.splice(d.idx,1))}}insertMarker(){this.entries.unshift(Kg)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:ir.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:ir.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Kg);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===ir.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===ir.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===ir.Element&&n.element===t)}}const xr={createDocument(){return{nodeName:"#document",mode:hn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const a=e.childNodes.find(u=>u.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=r;else{const u={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};xr.appendChild(e,u)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(xr.isTextNode(n)){n.value+=t;return}}xr.appendChild(e,xr.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&xr.isTextNode(r)?r.value+=t:xr.insertBefore(e,xr.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Lb="html",ck="about:legacy-compat",dk="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Pb=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],fk=[...Pb,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],hk=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Mb=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],pk=[...Mb,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Xg(e,t){return t.some(n=>e.startsWith(n))}function mk(e){return e.name===Lb&&e.publicId===null&&(e.systemId===null||e.systemId===ck)}function gk(e){if(e.name!==Lb)return hn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===dk)return hn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),hk.has(n))return hn.QUIRKS;let r=t===null?fk:Pb;if(Xg(n,r))return hn.QUIRKS;if(r=t===null?Mb:pk,Xg(n,r))return hn.LIMITED_QUIRKS}return hn.NO_QUIRKS}const Jg={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Ek="definitionurl",bk="definitionURL",yk=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Tk=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Y.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Y.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Y.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Y.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Y.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Y.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Y.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Y.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Y.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Y.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Y.XMLNS}]]),_k=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),wk=new Set([p.B,p.BIG,p.BLOCKQUOTE,p.BODY,p.BR,p.CENTER,p.CODE,p.DD,p.DIV,p.DL,p.DT,p.EM,p.EMBED,p.H1,p.H2,p.H3,p.H4,p.H5,p.H6,p.HEAD,p.HR,p.I,p.IMG,p.LI,p.LISTING,p.MENU,p.META,p.NOBR,p.OL,p.P,p.PRE,p.RUBY,p.S,p.SMALL,p.SPAN,p.STRONG,p.STRIKE,p.SUB,p.SUP,p.TABLE,p.TT,p.U,p.UL,p.VAR]);function xk(e){const t=e.tagID;return t===p.FONT&&e.attrs.some(({name:r})=>r===Os.COLOR||r===Os.SIZE||r===Os.FACE)||wk.has(t)}function Fb(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Ek){e.attrs[t].name=bk;break}}function Bb(e){for(let t=0;t<e.attrs.length;t++){const n=yk.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Bh(e){for(let t=0;t<e.attrs.length;t++){const n=Tk.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function vk(e){const t=_k.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Ql(e.tagName))}function Sk(e,t){return t===Y.MATHML&&(e===p.MI||e===p.MO||e===p.MN||e===p.MS||e===p.MTEXT)}function Ak(e,t,n){if(t===Y.MATHML&&e===p.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Os.ENCODING){const a=n[r].value.toLowerCase();return a===Jg.TEXT_HTML||a===Jg.APPLICATION_XML}}return t===Y.SVG&&(e===p.FOREIGN_OBJECT||e===p.DESC||e===p.TITLE)}function Ck(e,t,n,r){return(!r||r===Y.HTML)&&Ak(e,t,n)||(!r||r===Y.MATHML)&&Sk(e,t)}const Nk="hidden",kk=8,Rk=3;var I;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(I||(I={}));const Ik={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Ub=new Set([p.TABLE,p.TBODY,p.TFOOT,p.THEAD,p.TR]),Zg={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:xr,onParseError:null};let jb=class{constructor(t,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=I.INITIAL,this.originalInsertionMode=I.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Zg,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new tk(this.options,this),this.activeFormattingElements=new lk(this.treeAdapter),this.fragmentContextID=r?Ql(this.treeAdapter.getTagName(r)):p.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new ok(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Zg,...n};t??(t=r.treeAdapter.createElement(M.TEMPLATE,Y.HTML,[]));const a=r.treeAdapter.createElement("documentmock",Y.HTML,[]),u=new this(r,a,t);return u.fragmentContextID===p.TEMPLATE&&u.tmplInsertionModeStack.unshift(I.IN_TEMPLATE),u._initTokenizerForFragmentParsing(),u._insertFakeRootElement(),u._resetInsertionMode(),u._findFormInFragmentContext(),u}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var a;if(!this.onParseError)return;const u=(a=t.location)!==null&&a!==void 0?a:Ik,l={code:n,startLine:u.startLine,startCol:u.startCol,startOffset:u.startOffset,endLine:r?u.startLine:u.endLine,endCol:r?u.startCol:u.endCol,endOffset:r?u.startOffset:u.endOffset};this.onParseError(l)}onItemPush(t,n,r){var a,u;(u=(a=this.treeAdapter).onItemPush)===null||u===void 0||u.call(a,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,t,this.openElements.current),n){let u,l;this.openElements.stackTop===0&&this.fragmentContext?(u=this.fragmentContext,l=this.fragmentContextID):{current:u,currentTagId:l}=this.openElements,this._setContextModes(u,l)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Y.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Y.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=I.TEXT}switchToPlaintextParsing(){this.insertionMode=I.TEXT,this.originalInsertionMode=I.IN_BODY,this.tokenizer.state=tn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===M.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Y.HTML))switch(this.fragmentContextID){case p.TITLE:case p.TEXTAREA:{this.tokenizer.state=tn.RCDATA;break}case p.STYLE:case p.XMP:case p.IFRAME:case p.NOEMBED:case p.NOFRAMES:case p.NOSCRIPT:{this.tokenizer.state=tn.RAWTEXT;break}case p.SCRIPT:{this.tokenizer.state=tn.SCRIPT_DATA;break}case p.PLAINTEXT:{this.tokenizer.state=tn.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),t.location){const l=this.treeAdapter.getChildNodes(this.document).find(d=>this.treeAdapter.isDocumentTypeNode(d));l&&this.treeAdapter.setNodeSourceCodeLocation(l,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Y.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Y.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(M.HTML,Y.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,p.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),u=r?a.lastIndexOf(r):a.length,l=a[u-1];if(this.treeAdapter.getNodeSourceCodeLocation(l)){const{endLine:f,endCol:h,endOffset:g}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(l,{endLine:f,endCol:h,endOffset:g})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(l,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(t),u=n.type===Le.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,u)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===p.SVG&&this.treeAdapter.getTagName(n)===M.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Y.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===p.MGLYPH||t.tagID===p.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Y.HTML)}_processToken(t){switch(t.type){case Le.CHARACTER:{this.onCharacter(t);break}case Le.NULL_CHARACTER:{this.onNullCharacter(t);break}case Le.COMMENT:{this.onComment(t);break}case Le.DOCTYPE:{this.onDoctype(t);break}case Le.START_TAG:{this._processStartTag(t);break}case Le.END_TAG:{this.onEndTag(t);break}case Le.EOF:{this.onEof(t);break}case Le.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const a=this.treeAdapter.getNamespaceURI(n),u=this.treeAdapter.getAttrList(n);return Ck(t,a,u,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===ir.Marker||this.openElements.contains(a.element)),r=n<0?t-1:n-1;for(let a=r;a>=0;a--){const u=this.activeFormattingElements.entries[a];this._insertElement(u.token,this.treeAdapter.getNamespaceURI(u.element)),u.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=I.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(p.P),this.openElements.popUntilTagNamePopped(p.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case p.TR:{this.insertionMode=I.IN_ROW;return}case p.TBODY:case p.THEAD:case p.TFOOT:{this.insertionMode=I.IN_TABLE_BODY;return}case p.CAPTION:{this.insertionMode=I.IN_CAPTION;return}case p.COLGROUP:{this.insertionMode=I.IN_COLUMN_GROUP;return}case p.TABLE:{this.insertionMode=I.IN_TABLE;return}case p.BODY:{this.insertionMode=I.IN_BODY;return}case p.FRAMESET:{this.insertionMode=I.IN_FRAMESET;return}case p.SELECT:{this._resetInsertionModeForSelect(t);return}case p.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case p.HTML:{this.insertionMode=this.headElement?I.AFTER_HEAD:I.BEFORE_HEAD;return}case p.TD:case p.TH:{if(t>0){this.insertionMode=I.IN_CELL;return}break}case p.HEAD:{if(t>0){this.insertionMode=I.IN_HEAD;return}break}}this.insertionMode=I.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===p.TEMPLATE)break;if(r===p.TABLE){this.insertionMode=I.IN_SELECT_IN_TABLE;return}}this.insertionMode=I.IN_SELECT}_isElementCausesFosterParenting(t){return Ub.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case p.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Y.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case p.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return GN[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){uR(this,t);return}switch(this.insertionMode){case I.INITIAL:{ja(this,t);break}case I.BEFORE_HTML:{Xa(this,t);break}case I.BEFORE_HEAD:{Ja(this,t);break}case I.IN_HEAD:{Za(this,t);break}case I.IN_HEAD_NO_SCRIPT:{eu(this,t);break}case I.AFTER_HEAD:{tu(this,t);break}case I.IN_BODY:case I.IN_CAPTION:case I.IN_CELL:case I.IN_TEMPLATE:{$b(this,t);break}case I.TEXT:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{of(this,t);break}case I.IN_TABLE_TEXT:{Qb(this,t);break}case I.IN_COLUMN_GROUP:{Sl(this,t);break}case I.AFTER_BODY:{Al(this,t);break}case I.AFTER_AFTER_BODY:{cl(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){aR(this,t);return}switch(this.insertionMode){case I.INITIAL:{ja(this,t);break}case I.BEFORE_HTML:{Xa(this,t);break}case I.BEFORE_HEAD:{Ja(this,t);break}case I.IN_HEAD:{Za(this,t);break}case I.IN_HEAD_NO_SCRIPT:{eu(this,t);break}case I.AFTER_HEAD:{tu(this,t);break}case I.TEXT:{this._insertCharacters(t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{of(this,t);break}case I.IN_COLUMN_GROUP:{Sl(this,t);break}case I.AFTER_BODY:{Al(this,t);break}case I.AFTER_AFTER_BODY:{cl(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){$f(this,t);return}switch(this.insertionMode){case I.INITIAL:case I.BEFORE_HTML:case I.BEFORE_HEAD:case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:case I.IN_BODY:case I.IN_TABLE:case I.IN_CAPTION:case I.IN_COLUMN_GROUP:case I.IN_TABLE_BODY:case I.IN_ROW:case I.IN_CELL:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:case I.IN_TEMPLATE:case I.IN_FRAMESET:case I.AFTER_FRAMESET:{$f(this,t);break}case I.IN_TABLE_TEXT:{Ha(this,t);break}case I.AFTER_BODY:{Bk(this,t);break}case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{Uk(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case I.INITIAL:{jk(this,t);break}case I.BEFORE_HEAD:case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:{this._err(t,$.misplacedDoctype);break}case I.IN_TABLE_TEXT:{Ha(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,$.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?oR(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case I.INITIAL:{ja(this,t);break}case I.BEFORE_HTML:{Hk(this,t);break}case I.BEFORE_HEAD:{zk(this,t);break}case I.IN_HEAD:{Vn(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Yk(this,t);break}case I.AFTER_HEAD:{Qk(this,t);break}case I.IN_BODY:{Mt(this,t);break}case I.IN_TABLE:{Ai(this,t);break}case I.IN_TABLE_TEXT:{Ha(this,t);break}case I.IN_CAPTION:{q6(this,t);break}case I.IN_COLUMN_GROUP:{Hh(this,t);break}case I.IN_TABLE_BODY:{Xl(this,t);break}case I.IN_ROW:{Jl(this,t);break}case I.IN_CELL:{V6(this,t);break}case I.IN_SELECT:{Xb(this,t);break}case I.IN_SELECT_IN_TABLE:{G6(this,t);break}case I.IN_TEMPLATE:{X6(this,t);break}case I.AFTER_BODY:{Z6(this,t);break}case I.IN_FRAMESET:{eR(this,t);break}case I.AFTER_FRAMESET:{nR(this,t);break}case I.AFTER_AFTER_BODY:{sR(this,t);break}case I.AFTER_AFTER_FRAMESET:{iR(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?lR(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case I.INITIAL:{ja(this,t);break}case I.BEFORE_HTML:{$k(this,t);break}case I.BEFORE_HEAD:{qk(this,t);break}case I.IN_HEAD:{Wk(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Vk(this,t);break}case I.AFTER_HEAD:{Gk(this,t);break}case I.IN_BODY:{Kl(this,t);break}case I.TEXT:{L6(this,t);break}case I.IN_TABLE:{pu(this,t);break}case I.IN_TABLE_TEXT:{Ha(this,t);break}case I.IN_CAPTION:{W6(this,t);break}case I.IN_COLUMN_GROUP:{Y6(this,t);break}case I.IN_TABLE_BODY:{zf(this,t);break}case I.IN_ROW:{Kb(this,t);break}case I.IN_CELL:{Q6(this,t);break}case I.IN_SELECT:{Jb(this,t);break}case I.IN_SELECT_IN_TABLE:{K6(this,t);break}case I.IN_TEMPLATE:{J6(this,t);break}case I.AFTER_BODY:{ey(this,t);break}case I.IN_FRAMESET:{tR(this,t);break}case I.AFTER_FRAMESET:{rR(this,t);break}case I.AFTER_AFTER_BODY:{cl(this,t);break}}}onEof(t){switch(this.insertionMode){case I.INITIAL:{ja(this,t);break}case I.BEFORE_HTML:{Xa(this,t);break}case I.BEFORE_HEAD:{Ja(this,t);break}case I.IN_HEAD:{Za(this,t);break}case I.IN_HEAD_NO_SCRIPT:{eu(this,t);break}case I.AFTER_HEAD:{tu(this,t);break}case I.IN_BODY:case I.IN_TABLE:case I.IN_CAPTION:case I.IN_COLUMN_GROUP:case I.IN_TABLE_BODY:case I.IN_ROW:case I.IN_CELL:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:{Yb(this,t);break}case I.TEXT:{P6(this,t);break}case I.IN_TABLE_TEXT:{Ha(this,t);break}case I.IN_TEMPLATE:{Zb(this,t);break}case I.AFTER_BODY:case I.IN_FRAMESET:case I.AFTER_FRAMESET:case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{jh(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===S.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:case I.TEXT:case I.IN_COLUMN_GROUP:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:case I.IN_FRAMESET:case I.AFTER_FRAMESET:{this._insertCharacters(t);break}case I.IN_BODY:case I.IN_CAPTION:case I.IN_CELL:case I.IN_TEMPLATE:case I.AFTER_BODY:case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{Hb(this,t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{of(this,t);break}case I.IN_TABLE_TEXT:{Vb(this,t);break}}}};function Ok(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Wb(e,t),n}function Dk(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function Lk(e,t,n){let r=t,a=e.openElements.getCommonAncestor(t);for(let u=0,l=a;l!==n;u++,l=a){a=e.openElements.getCommonAncestor(l);const d=e.activeFormattingElements.getElementEntry(l),f=d&&u>=Rk;!d||f?(f&&e.activeFormattingElements.removeEntry(d),e.openElements.remove(l)):(l=Pk(e,d),r===t&&(e.activeFormattingElements.bookmark=d),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(l,r),r=l)}return r}function Pk(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Mk(e,t,n){const r=e.treeAdapter.getTagName(t),a=Ql(r);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const u=e.treeAdapter.getNamespaceURI(t);a===p.TEMPLATE&&u===Y.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Fk(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,u=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,u),e.treeAdapter.appendChild(t,u),e.activeFormattingElements.insertElementAfterBookmark(u,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,u,a.tagID)}function Uh(e,t){for(let n=0;n<kk;n++){const r=Ok(e,t);if(!r)break;const a=Dk(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;const u=Lk(e,a,r.element),l=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(u),l&&Mk(e,l,u),Fk(e,a,r)}}function $f(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Bk(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Uk(e,t){e._appendCommentNode(t,e.document)}function jh(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const u=e.openElements.items[1],l=e.treeAdapter.getNodeSourceCodeLocation(u);l&&!l.endTag&&e._setEndLocation(u,t)}}}}function jk(e,t){e._setDocumentType(t);const n=t.forceQuirks?hn.QUIRKS:gk(t);mk(t)||e._err(t,$.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=I.BEFORE_HTML}function ja(e,t){e._err(t,$.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,hn.QUIRKS),e.insertionMode=I.BEFORE_HTML,e._processToken(t)}function Hk(e,t){t.tagID===p.HTML?(e._insertElement(t,Y.HTML),e.insertionMode=I.BEFORE_HEAD):Xa(e,t)}function $k(e,t){const n=t.tagID;(n===p.HTML||n===p.HEAD||n===p.BODY||n===p.BR)&&Xa(e,t)}function Xa(e,t){e._insertFakeRootElement(),e.insertionMode=I.BEFORE_HEAD,e._processToken(t)}function zk(e,t){switch(t.tagID){case p.HTML:{Mt(e,t);break}case p.HEAD:{e._insertElement(t,Y.HTML),e.headElement=e.openElements.current,e.insertionMode=I.IN_HEAD;break}default:Ja(e,t)}}function qk(e,t){const n=t.tagID;n===p.HEAD||n===p.BODY||n===p.HTML||n===p.BR?Ja(e,t):e._err(t,$.endTagWithoutMatchingOpenElement)}function Ja(e,t){e._insertFakeElement(M.HEAD,p.HEAD),e.headElement=e.openElements.current,e.insertionMode=I.IN_HEAD,e._processToken(t)}function Vn(e,t){switch(t.tagID){case p.HTML:{Mt(e,t);break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.TITLE:{e._switchToTextParsing(t,tn.RCDATA);break}case p.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,tn.RAWTEXT):(e._insertElement(t,Y.HTML),e.insertionMode=I.IN_HEAD_NO_SCRIPT);break}case p.NOFRAMES:case p.STYLE:{e._switchToTextParsing(t,tn.RAWTEXT);break}case p.SCRIPT:{e._switchToTextParsing(t,tn.SCRIPT_DATA);break}case p.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=I.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(I.IN_TEMPLATE);break}case p.HEAD:{e._err(t,$.misplacedStartTagForHeadElement);break}default:Za(e,t)}}function Wk(e,t){switch(t.tagID){case p.HEAD:{e.openElements.pop(),e.insertionMode=I.AFTER_HEAD;break}case p.BODY:case p.BR:case p.HTML:{Za(e,t);break}case p.TEMPLATE:{$s(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function $s(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==p.TEMPLATE&&e._err(t,$.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(p.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,$.endTagWithoutMatchingOpenElement)}function Za(e,t){e.openElements.pop(),e.insertionMode=I.AFTER_HEAD,e._processToken(t)}function Yk(e,t){switch(t.tagID){case p.HTML:{Mt(e,t);break}case p.BASEFONT:case p.BGSOUND:case p.HEAD:case p.LINK:case p.META:case p.NOFRAMES:case p.STYLE:{Vn(e,t);break}case p.NOSCRIPT:{e._err(t,$.nestedNoscriptInHead);break}default:eu(e,t)}}function Vk(e,t){switch(t.tagID){case p.NOSCRIPT:{e.openElements.pop(),e.insertionMode=I.IN_HEAD;break}case p.BR:{eu(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function eu(e,t){const n=t.type===Le.EOF?$.openElementsLeftAfterEof:$.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=I.IN_HEAD,e._processToken(t)}function Qk(e,t){switch(t.tagID){case p.HTML:{Mt(e,t);break}case p.BODY:{e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=I.IN_BODY;break}case p.FRAMESET:{e._insertElement(t,Y.HTML),e.insertionMode=I.IN_FRAMESET;break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{e._err(t,$.abandonedHeadElementChild),e.openElements.push(e.headElement,p.HEAD),Vn(e,t),e.openElements.remove(e.headElement);break}case p.HEAD:{e._err(t,$.misplacedStartTagForHeadElement);break}default:tu(e,t)}}function Gk(e,t){switch(t.tagID){case p.BODY:case p.HTML:case p.BR:{tu(e,t);break}case p.TEMPLATE:{$s(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function tu(e,t){e._insertFakeElement(M.BODY,p.BODY),e.insertionMode=I.IN_BODY,Gl(e,t)}function Gl(e,t){switch(t.type){case Le.CHARACTER:{$b(e,t);break}case Le.WHITESPACE_CHARACTER:{Hb(e,t);break}case Le.COMMENT:{$f(e,t);break}case Le.START_TAG:{Mt(e,t);break}case Le.END_TAG:{Kl(e,t);break}case Le.EOF:{Yb(e,t);break}}}function Hb(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function $b(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Kk(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Xk(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Jk(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_FRAMESET)}function Zk(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function e6(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),Hf.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Y.HTML)}function t6(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function n6(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),n||(e.formElement=e.openElements.current))}function r6(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const a=e.openElements.tagIDs[r];if(n===p.LI&&a===p.LI||(n===p.DD||n===p.DT)&&(a===p.DD||a===p.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==p.ADDRESS&&a!==p.DIV&&a!==p.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function s6(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.tokenizer.state=tn.PLAINTEXT}function i6(e,t){e.openElements.hasInScope(p.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1}function a6(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(M.A);n&&(Uh(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function u6(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function o6(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(p.NOBR)&&(Uh(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function l6(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function c6(e,t){e.treeAdapter.getDocumentMode(e.document)!==hn.QUIRKS&&e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=I.IN_TABLE}function zb(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function qb(e){const t=Ib(e,Os.TYPE);return t!=null&&t.toLowerCase()===Nk}function d6(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),qb(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function f6(e,t){e._appendElement(t,Y.HTML),t.ackSelfClosing=!0}function h6(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function p6(e,t){t.tagName=M.IMG,t.tagID=p.IMG,zb(e,t)}function m6(e,t){e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.tokenizer.state=tn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=I.TEXT}function g6(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,tn.RAWTEXT)}function E6(e,t){e.framesetOk=!1,e._switchToTextParsing(t,tn.RAWTEXT)}function e1(e,t){e._switchToTextParsing(t,tn.RAWTEXT)}function b6(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===I.IN_TABLE||e.insertionMode===I.IN_CAPTION||e.insertionMode===I.IN_TABLE_BODY||e.insertionMode===I.IN_ROW||e.insertionMode===I.IN_CELL?I.IN_SELECT_IN_TABLE:I.IN_SELECT}function y6(e,t){e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function T6(e,t){e.openElements.hasInScope(p.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Y.HTML)}function _6(e,t){e.openElements.hasInScope(p.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(p.RTC),e._insertElement(t,Y.HTML)}function w6(e,t){e._reconstructActiveFormattingElements(),Fb(t),Bh(t),t.selfClosing?e._appendElement(t,Y.MATHML):e._insertElement(t,Y.MATHML),t.ackSelfClosing=!0}function x6(e,t){e._reconstructActiveFormattingElements(),Bb(t),Bh(t),t.selfClosing?e._appendElement(t,Y.SVG):e._insertElement(t,Y.SVG),t.ackSelfClosing=!0}function t1(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function Mt(e,t){switch(t.tagID){case p.I:case p.S:case p.B:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.SMALL:case p.STRIKE:case p.STRONG:{u6(e,t);break}case p.A:{a6(e,t);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{e6(e,t);break}case p.P:case p.DL:case p.OL:case p.UL:case p.DIV:case p.DIR:case p.NAV:case p.MAIN:case p.MENU:case p.ASIDE:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.DETAILS:case p.ADDRESS:case p.ARTICLE:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{Zk(e,t);break}case p.LI:case p.DD:case p.DT:{r6(e,t);break}case p.BR:case p.IMG:case p.WBR:case p.AREA:case p.EMBED:case p.KEYGEN:{zb(e,t);break}case p.HR:{h6(e,t);break}case p.RB:case p.RTC:{T6(e,t);break}case p.RT:case p.RP:{_6(e,t);break}case p.PRE:case p.LISTING:{t6(e,t);break}case p.XMP:{g6(e,t);break}case p.SVG:{x6(e,t);break}case p.HTML:{Kk(e,t);break}case p.BASE:case p.LINK:case p.META:case p.STYLE:case p.TITLE:case p.SCRIPT:case p.BGSOUND:case p.BASEFONT:case p.TEMPLATE:{Vn(e,t);break}case p.BODY:{Xk(e,t);break}case p.FORM:{n6(e,t);break}case p.NOBR:{o6(e,t);break}case p.MATH:{w6(e,t);break}case p.TABLE:{c6(e,t);break}case p.INPUT:{d6(e,t);break}case p.PARAM:case p.TRACK:case p.SOURCE:{f6(e,t);break}case p.IMAGE:{p6(e,t);break}case p.BUTTON:{i6(e,t);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{l6(e,t);break}case p.IFRAME:{E6(e,t);break}case p.SELECT:{b6(e,t);break}case p.OPTION:case p.OPTGROUP:{y6(e,t);break}case p.NOEMBED:case p.NOFRAMES:{e1(e,t);break}case p.FRAMESET:{Jk(e,t);break}case p.TEXTAREA:{m6(e,t);break}case p.NOSCRIPT:{e.options.scriptingEnabled?e1(e,t):t1(e,t);break}case p.PLAINTEXT:{s6(e,t);break}case p.COL:case p.TH:case p.TD:case p.TR:case p.HEAD:case p.FRAME:case p.TBODY:case p.TFOOT:case p.THEAD:case p.CAPTION:case p.COLGROUP:break;default:t1(e,t)}}function v6(e,t){if(e.openElements.hasInScope(p.BODY)&&(e.insertionMode=I.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function S6(e,t){e.openElements.hasInScope(p.BODY)&&(e.insertionMode=I.AFTER_BODY,ey(e,t))}function A6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function C6(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(p.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(p.FORM):n&&e.openElements.remove(n))}function N6(e){e.openElements.hasInButtonScope(p.P)||e._insertFakeElement(M.P,p.P),e._closePElement()}function k6(e){e.openElements.hasInListItemScope(p.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(p.LI),e.openElements.popUntilTagNamePopped(p.LI))}function R6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function I6(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function O6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function D6(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(M.BR,p.BR),e.openElements.pop(),e.framesetOk=!1}function Wb(e,t){const n=t.tagName,r=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const u=e.openElements.items[a],l=e.openElements.tagIDs[a];if(r===l&&(r!==p.UNKNOWN||e.treeAdapter.getTagName(u)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(u,l))break}}function Kl(e,t){switch(t.tagID){case p.A:case p.B:case p.I:case p.S:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.NOBR:case p.SMALL:case p.STRIKE:case p.STRONG:{Uh(e,t);break}case p.P:{N6(e);break}case p.DL:case p.UL:case p.OL:case p.DIR:case p.DIV:case p.NAV:case p.PRE:case p.MAIN:case p.MENU:case p.ASIDE:case p.BUTTON:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.ADDRESS:case p.ARTICLE:case p.DETAILS:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.LISTING:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{A6(e,t);break}case p.LI:{k6(e);break}case p.DD:case p.DT:{R6(e,t);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{I6(e);break}case p.BR:{D6(e);break}case p.BODY:{v6(e,t);break}case p.HTML:{S6(e,t);break}case p.FORM:{C6(e);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{O6(e,t);break}case p.TEMPLATE:{$s(e,t);break}default:Wb(e,t)}}function Yb(e,t){e.tmplInsertionModeStack.length>0?Zb(e,t):jh(e,t)}function L6(e,t){var n;t.tagID===p.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function P6(e,t){e._err(t,$.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function of(e,t){if(Ub.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=I.IN_TABLE_TEXT,t.type){case Le.CHARACTER:{Qb(e,t);break}case Le.WHITESPACE_CHARACTER:{Vb(e,t);break}}else ku(e,t)}function M6(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_CAPTION}function F6(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_COLUMN_GROUP}function B6(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(M.COLGROUP,p.COLGROUP),e.insertionMode=I.IN_COLUMN_GROUP,Hh(e,t)}function U6(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_TABLE_BODY}function j6(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(M.TBODY,p.TBODY),e.insertionMode=I.IN_TABLE_BODY,Xl(e,t)}function H6(e,t){e.openElements.hasInTableScope(p.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function $6(e,t){qb(t)?e._appendElement(t,Y.HTML):ku(e,t),t.ackSelfClosing=!0}function z6(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Y.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Ai(e,t){switch(t.tagID){case p.TD:case p.TH:case p.TR:{j6(e,t);break}case p.STYLE:case p.SCRIPT:case p.TEMPLATE:{Vn(e,t);break}case p.COL:{B6(e,t);break}case p.FORM:{z6(e,t);break}case p.TABLE:{H6(e,t);break}case p.TBODY:case p.TFOOT:case p.THEAD:{U6(e,t);break}case p.INPUT:{$6(e,t);break}case p.CAPTION:{M6(e,t);break}case p.COLGROUP:{F6(e,t);break}default:ku(e,t)}}function pu(e,t){switch(t.tagID){case p.TABLE:{e.openElements.hasInTableScope(p.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TABLE),e._resetInsertionMode());break}case p.TEMPLATE:{$s(e,t);break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:ku(e,t)}}function ku(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Gl(e,t),e.fosterParentingEnabled=n}function Vb(e,t){e.pendingCharacterTokens.push(t)}function Qb(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ha(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ku(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Gb=new Set([p.CAPTION,p.COL,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]);function q6(e,t){const n=t.tagID;Gb.has(n)?e.openElements.hasInTableScope(p.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_TABLE,Ai(e,t)):Mt(e,t)}function W6(e,t){const n=t.tagID;switch(n){case p.CAPTION:case p.TABLE:{e.openElements.hasInTableScope(p.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_TABLE,n===p.TABLE&&pu(e,t));break}case p.BODY:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:Kl(e,t)}}function Hh(e,t){switch(t.tagID){case p.HTML:{Mt(e,t);break}case p.COL:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.TEMPLATE:{Vn(e,t);break}default:Sl(e,t)}}function Y6(e,t){switch(t.tagID){case p.COLGROUP:{e.openElements.currentTagId===p.COLGROUP&&(e.openElements.pop(),e.insertionMode=I.IN_TABLE);break}case p.TEMPLATE:{$s(e,t);break}case p.COL:break;default:Sl(e,t)}}function Sl(e,t){e.openElements.currentTagId===p.COLGROUP&&(e.openElements.pop(),e.insertionMode=I.IN_TABLE,e._processToken(t))}function Xl(e,t){switch(t.tagID){case p.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_ROW;break}case p.TH:case p.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(M.TR,p.TR),e.insertionMode=I.IN_ROW,Jl(e,t);break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE,Ai(e,t));break}default:Ai(e,t)}}function zf(e,t){const n=t.tagID;switch(t.tagID){case p.TBODY:case p.TFOOT:case p.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE);break}case p.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE,pu(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:case p.TR:break;default:pu(e,t)}}function Jl(e,t){switch(t.tagID){case p.TH:case p.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Y.HTML),e.insertionMode=I.IN_CELL,e.activeFormattingElements.insertMarker();break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,Xl(e,t));break}default:Ai(e,t)}}function Kb(e,t){switch(t.tagID){case p.TR:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY);break}case p.TABLE:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,zf(e,t));break}case p.TBODY:case p.TFOOT:case p.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(p.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,zf(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:break;default:pu(e,t)}}function V6(e,t){const n=t.tagID;Gb.has(n)?(e.openElements.hasInTableScope(p.TD)||e.openElements.hasInTableScope(p.TH))&&(e._closeTableCell(),Jl(e,t)):Mt(e,t)}function Q6(e,t){const n=t.tagID;switch(n){case p.TD:case p.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_ROW);break}case p.TABLE:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Kb(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:break;default:Kl(e,t)}}function Xb(e,t){switch(t.tagID){case p.HTML:{Mt(e,t);break}case p.OPTION:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case p.OPTGROUP:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case p.HR:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.INPUT:case p.KEYGEN:case p.TEXTAREA:case p.SELECT:{e.openElements.hasInSelectScope(p.SELECT)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),t.tagID!==p.SELECT&&e._processStartTag(t));break}case p.SCRIPT:case p.TEMPLATE:{Vn(e,t);break}}}function Jb(e,t){switch(t.tagID){case p.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===p.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===p.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop();break}case p.OPTION:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop();break}case p.SELECT:{e.openElements.hasInSelectScope(p.SELECT)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode());break}case p.TEMPLATE:{$s(e,t);break}}}function G6(e,t){const n=t.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Xb(e,t)}function K6(e,t){const n=t.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Jb(e,t)}function X6(e,t){switch(t.tagID){case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{Vn(e,t);break}case p.CAPTION:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{e.tmplInsertionModeStack[0]=I.IN_TABLE,e.insertionMode=I.IN_TABLE,Ai(e,t);break}case p.COL:{e.tmplInsertionModeStack[0]=I.IN_COLUMN_GROUP,e.insertionMode=I.IN_COLUMN_GROUP,Hh(e,t);break}case p.TR:{e.tmplInsertionModeStack[0]=I.IN_TABLE_BODY,e.insertionMode=I.IN_TABLE_BODY,Xl(e,t);break}case p.TD:case p.TH:{e.tmplInsertionModeStack[0]=I.IN_ROW,e.insertionMode=I.IN_ROW,Jl(e,t);break}default:e.tmplInsertionModeStack[0]=I.IN_BODY,e.insertionMode=I.IN_BODY,Mt(e,t)}}function J6(e,t){t.tagID===p.TEMPLATE&&$s(e,t)}function Zb(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(p.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):jh(e,t)}function Z6(e,t){t.tagID===p.HTML?Mt(e,t):Al(e,t)}function ey(e,t){var n;if(t.tagID===p.HTML){if(e.fragmentContext||(e.insertionMode=I.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===p.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Al(e,t)}function Al(e,t){e.insertionMode=I.IN_BODY,Gl(e,t)}function eR(e,t){switch(t.tagID){case p.HTML:{Mt(e,t);break}case p.FRAMESET:{e._insertElement(t,Y.HTML);break}case p.FRAME:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.NOFRAMES:{Vn(e,t);break}}}function tR(e,t){t.tagID===p.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==p.FRAMESET&&(e.insertionMode=I.AFTER_FRAMESET))}function nR(e,t){switch(t.tagID){case p.HTML:{Mt(e,t);break}case p.NOFRAMES:{Vn(e,t);break}}}function rR(e,t){t.tagID===p.HTML&&(e.insertionMode=I.AFTER_AFTER_FRAMESET)}function sR(e,t){t.tagID===p.HTML?Mt(e,t):cl(e,t)}function cl(e,t){e.insertionMode=I.IN_BODY,Gl(e,t)}function iR(e,t){switch(t.tagID){case p.HTML:{Mt(e,t);break}case p.NOFRAMES:{Vn(e,t);break}}}function aR(e,t){t.chars=Qe,e._insertCharacters(t)}function uR(e,t){e._insertCharacters(t),e.framesetOk=!1}function ty(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Y.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function oR(e,t){if(xk(t))ty(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Y.MATHML?Fb(t):r===Y.SVG&&(vk(t),Bb(t)),Bh(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function lR(e,t){if(t.tagID===p.P||t.tagID===p.BR){ty(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Y.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}const cR=new Set([M.AREA,M.BASE,M.BASEFONT,M.BGSOUND,M.BR,M.COL,M.EMBED,M.FRAME,M.HR,M.IMG,M.INPUT,M.KEYGEN,M.LINK,M.META,M.PARAM,M.SOURCE,M.TRACK,M.WBR]);function dR(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===Y.HTML&&cR.has(t.treeAdapter.getTagName(e))}const fR={treeAdapter:xr,scriptingEnabled:!0};function hR(e,t){const n={...fR,...t};return ny(e,n)}function pR(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===M.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===Y.HTML?t.treeAdapter.getTemplateContent(e):e,a=t.treeAdapter.getChildNodes(r);if(a)for(const u of a)n+=ny(u,t);return n}function ny(e,t){return t.treeAdapter.isElementNode(e)?mR(e,t):t.treeAdapter.isTextNode(e)?ER(e,t):t.treeAdapter.isCommentNode(e)?bR(e,t):t.treeAdapter.isDocumentTypeNode(e)?yR(e,t):""}function mR(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${gR(e,t)}>${dR(e,t)?"":`${pR(e,t)}</${n}>`}`}function gR(e,{treeAdapter:t}){let n="";for(const r of t.getAttrList(e)){if(n+=" ",r.namespace)switch(r.namespace){case Y.XML:{n+=`xml:${r.name}`;break}case Y.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case Y.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${VE(r.value)}"`}return n}function ER(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),a=n.getParentNode(e),u=a&&n.isElementNode(a)&&n.getTagName(a);return u&&n.getNamespaceURI(a)===Y.HTML&&XN(u,t.scriptingEnabled)?r:QE(r)}function bR(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function yR(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function TR(e,t){return jb.parse(e,t)}function _R(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=jb.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function n1(e){const t=e.includes('"')?"'":'"';return t+e+t}function wR(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${n1(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${n1(n)}`),r}const Zr={isCommentNode:zl,isElementNode:Ee,isTextNode:ur,createDocument(){const e=new Ps([]);return e["x-mode"]=hn.NO_QUIRKS,e},createDocumentFragment(){return new Ps([])},createElement(e,t,n){const r=Object.create(null),a=Object.create(null),u=Object.create(null);for(let d=0;d<n.length;d++){const f=n[d].name;r[f]=n[d].value,a[f]=n[d].namespace,u[f]=n[d].prefix}const l=new wh(e,r,[]);return l.namespace=t,l["x-attribsNamespace"]=a,l["x-attribsPrefix"]=u,l},createCommentNode(e){return new yh(e)},createTextNode(e){return new lu(e)},appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:a}=n;a&&(a.next=t,t.prev=a),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){Zr.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,n,r){const a=wR(t,n,r);let u=e.children.find(l=>If(l)&&l.name==="!doctype");u?u.data=a??null:(u=new Th("!doctype",a),Zr.appendChild(e,u)),u["x-name"]=t,u["x-publicId"]=n,u["x-systemId"]=r},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&ur(n)?n.data+=t:Zr.appendChild(e,Zr.createTextNode(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&ur(r)?r.data+=t:Zr.insertBefore(e,Zr.createTextNode(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;e.attribs[r]===void 0&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return If(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function xR(e,t,n,r){var a;return(a=t.treeAdapter)!==null&&a!==void 0||(t.treeAdapter=Zr),t.scriptingEnabled!==!1&&(t.scriptingEnabled=!0),n?TR(e,t):_R(r,e,t)}const vR={treeAdapter:Zr};function SR(e){const t="length"in e?e:[e];for(let r=0;r<t.length;r+=1){const a=t[r];as(a)&&Array.prototype.splice.call(t,r,1,...a.children)}let n="";for(let r=0;r<t.length;r+=1){const a=t[r];n+=hR(a,vR)}return n}var pe;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(pe||(pe={}));var G;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(G||(G={}));function _r(e){return e===pe.Space||e===pe.NewLine||e===pe.Tab||e===pe.FormFeed||e===pe.CarriageReturn}function el(e){return e===pe.Slash||e===pe.Gt||_r(e)}function AR(e){return e>=pe.LowerA&&e<=pe.LowerZ||e>=pe.UpperA&&e<=pe.UpperZ}var ar;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(ar||(ar={}));const vt={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class CR{constructor({xmlMode:t=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=G.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=G.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new vh(t?zE:xh,(a,u)=>this.emitCodePoint(a,u))}reset(){this.state=G.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=G.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===pe.Lt||!this.decodeEntities&&this.fastForwardTo(pe.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=G.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===pe.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?el(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=G.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===pe.Gt||_r(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===vt.TitleEnd?this.decodeEntities&&t===pe.Amp&&this.startEntity():this.fastForwardTo(pe.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===pe.Lt)}stateCDATASequence(t){t===vt.Cdata[this.sequenceIndex]?++this.sequenceIndex===vt.Cdata.length&&(this.state=G.InCommentLike,this.currentSequence=vt.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=G.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===vt.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=G.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!el(t):AR(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=G.SpecialStartSequence}stateBeforeTagName(t){if(t===pe.ExclamationMark)this.state=G.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===pe.Questionmark)this.state=G.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=G.InTagName:n===vt.ScriptEnd[2]?this.state=G.BeforeSpecialS:n===vt.TitleEnd[2]?this.state=G.BeforeSpecialT:this.state=G.InTagName}else t===pe.Slash?this.state=G.BeforeClosingTagName:(this.state=G.Text,this.stateText(t))}stateInTagName(t){el(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=G.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){_r(t)||(t===pe.Gt?this.state=G.Text:(this.state=this.isTagStartChar(t)?G.InClosingTagName:G.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===pe.Gt||_r(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=G.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===pe.Gt||this.fastForwardTo(pe.Gt))&&(this.state=G.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===pe.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=G.InSpecialTag,this.sequenceIndex=0):this.state=G.Text,this.sectionStart=this.index+1):t===pe.Slash?this.state=G.InSelfClosingTag:_r(t)||(this.state=G.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===pe.Gt?(this.cbs.onselfclosingtag(this.index),this.state=G.Text,this.sectionStart=this.index+1,this.isSpecial=!1):_r(t)||(this.state=G.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===pe.Eq||el(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=G.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===pe.Eq?this.state=G.BeforeAttributeValue:t===pe.Slash||t===pe.Gt?(this.cbs.onattribend(ar.NoValue,this.sectionStart),this.sectionStart=-1,this.state=G.BeforeAttributeName,this.stateBeforeAttributeName(t)):_r(t)||(this.cbs.onattribend(ar.NoValue,this.sectionStart),this.state=G.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===pe.DoubleQuote?(this.state=G.InAttributeValueDq,this.sectionStart=this.index+1):t===pe.SingleQuote?(this.state=G.InAttributeValueSq,this.sectionStart=this.index+1):_r(t)||(this.sectionStart=this.index,this.state=G.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===pe.DoubleQuote?ar.Double:ar.Single,this.index+1),this.state=G.BeforeAttributeName):this.decodeEntities&&t===pe.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,pe.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,pe.SingleQuote)}stateInAttributeValueNoQuotes(t){_r(t)||t===pe.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(ar.Unquoted,this.index),this.state=G.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===pe.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===pe.OpeningSquareBracket?(this.state=G.CDATASequence,this.sequenceIndex=0):this.state=t===pe.Dash?G.BeforeComment:G.InDeclaration}stateInDeclaration(t){(t===pe.Gt||this.fastForwardTo(pe.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=G.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===pe.Gt||this.fastForwardTo(pe.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=G.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===pe.Dash?(this.state=G.InCommentLike,this.currentSequence=vt.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=G.InDeclaration}stateInSpecialComment(t){(t===pe.Gt||this.fastForwardTo(pe.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=G.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===vt.ScriptEnd[3]?this.startSpecial(vt.ScriptEnd,4):n===vt.StyleEnd[3]?this.startSpecial(vt.StyleEnd,4):(this.state=G.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const n=t|32;n===vt.TitleEnd[3]?this.startSpecial(vt.TitleEnd,4):n===vt.TextareaEnd[3]?this.startSpecial(vt.TextareaEnd,4):(this.state=G.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=G.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Sn.Strict:this.baseState===G.Text||this.baseState===G.InSpecialTag?Sn.Legacy:Sn.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===G.Text||this.state===G.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===G.InAttributeValueDq||this.state===G.InAttributeValueSq||this.state===G.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case G.Text:{this.stateText(t);break}case G.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case G.InSpecialTag:{this.stateInSpecialTag(t);break}case G.CDATASequence:{this.stateCDATASequence(t);break}case G.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case G.InAttributeName:{this.stateInAttributeName(t);break}case G.InCommentLike:{this.stateInCommentLike(t);break}case G.InSpecialComment:{this.stateInSpecialComment(t);break}case G.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case G.InTagName:{this.stateInTagName(t);break}case G.InClosingTagName:{this.stateInClosingTagName(t);break}case G.BeforeTagName:{this.stateBeforeTagName(t);break}case G.AfterAttributeName:{this.stateAfterAttributeName(t);break}case G.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case G.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case G.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case G.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case G.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case G.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case G.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case G.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case G.InDeclaration:{this.stateInDeclaration(t);break}case G.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case G.BeforeComment:{this.stateBeforeComment(t);break}case G.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case G.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===G.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===G.InCommentLike?this.currentSequence===vt.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===G.InTagName||this.state===G.BeforeAttributeName||this.state===G.BeforeAttributeValue||this.state===G.AfterAttributeName||this.state===G.InAttributeName||this.state===G.InAttributeValueSq||this.state===G.InAttributeValueDq||this.state===G.InAttributeValueNq||this.state===G.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==G.Text&&this.baseState!==G.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const bi=new Set(["input","option","optgroup","select","button","datalist","textarea"]),je=new Set(["p"]),r1=new Set(["thead","tbody"]),s1=new Set(["dd","dt"]),i1=new Set(["rt","rp"]),NR=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",je],["h1",je],["h2",je],["h3",je],["h4",je],["h5",je],["h6",je],["select",bi],["input",bi],["output",bi],["button",bi],["datalist",bi],["textarea",bi],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",s1],["dt",s1],["address",je],["article",je],["aside",je],["blockquote",je],["details",je],["div",je],["dl",je],["fieldset",je],["figcaption",je],["figure",je],["footer",je],["form",je],["header",je],["hr",je],["main",je],["nav",je],["ol",je],["pre",je],["section",je],["table",je],["ul",je],["rt",i1],["rp",i1],["tbody",r1],["tfoot",r1]]),kR=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),a1=new Set(["math","svg"]),u1=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),RR=/\s|\//;class IR{constructor(t,n={}){var r,a,u,l,d,f;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(a=n.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(u=n.recognizeSelfClosing)!==null&&u!==void 0?u:!this.htmlMode,this.tokenizer=new((l=n.Tokenizer)!==null&&l!==void 0?l:CR)(this.options,this),this.foreignContext=[!this.htmlMode],(f=(d=this.cbs).onparserinit)===null||f===void 0||f.call(d,this)}ontext(t,n){var r,a;const u=this.getSlice(t,n);this.endIndex=n-1,(a=(r=this.cbs).ontext)===null||a===void 0||a.call(r,u),this.startIndex=n}ontextentity(t,n){var r,a;this.endIndex=n-1,(a=(r=this.cbs).ontext)===null||a===void 0||a.call(r,Of(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&kR.has(t)}onopentagname(t,n){this.endIndex=n;let r=this.getSlice(t,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var n,r,a,u;this.openTagStart=this.startIndex,this.tagname=t;const l=this.htmlMode&&NR.get(t);if(l)for(;this.stack.length>0&&l.has(this.stack[0]);){const d=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,d,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(a1.has(t)?this.foreignContext.unshift(!0):u1.has(t)&&this.foreignContext.unshift(!1))),(u=(a=this.cbs).onopentagname)===null||u===void 0||u.call(a,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var r,a,u,l,d,f,h,g;this.endIndex=n;let T=this.getSlice(t,n);if(this.lowerCaseTagNames&&(T=T.toLowerCase()),this.htmlMode&&(a1.has(T)||u1.has(T))&&this.foreignContext.shift(),this.isVoidElement(T))this.htmlMode&&T==="br"&&((l=(u=this.cbs).onopentagname)===null||l===void 0||l.call(u,"br"),(f=(d=this.cbs).onopentag)===null||f===void 0||f.call(d,"br",{},!0),(g=(h=this.cbs).onclosetag)===null||g===void 0||g.call(h,"br",!1));else{const _=this.stack.indexOf(T);if(_!==-1)for(let v=0;v<=_;v++){const x=this.stack.shift();(a=(r=this.cbs).onclosetag)===null||a===void 0||a.call(r,x,v!==_)}else this.htmlMode&&T==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,r;const a=this.tagname;this.endOpenTag(t),this.stack[0]===a&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,a,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const r=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=Of(t)}onattribend(t,n){var r,a;this.endIndex=n,(a=(r=this.cbs).onattribute)===null||a===void 0||a.call(r,this.attribname,this.attribvalue,t===ar.Double?'"':t===ar.Single?"'":t===ar.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(RR);let r=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${a}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${a}`,`?${r}`)}this.startIndex=n+1}oncomment(t,n,r){var a,u,l,d;this.endIndex=n,(u=(a=this.cbs).oncomment)===null||u===void 0||u.call(a,this.getSlice(t,n-r)),(d=(l=this.cbs).oncommentend)===null||d===void 0||d.call(l),this.startIndex=n+1}oncdata(t,n,r){var a,u,l,d,f,h,g,T,_,v;this.endIndex=n;const x=this.getSlice(t,n-r);!this.htmlMode||this.options.recognizeCDATA?((u=(a=this.cbs).oncdatastart)===null||u===void 0||u.call(a),(d=(l=this.cbs).ontext)===null||d===void 0||d.call(l,x),(h=(f=this.cbs).oncdataend)===null||h===void 0||h.call(f)):((T=(g=this.cbs).oncomment)===null||T===void 0||T.call(g,`[CDATA[${x}]]`),(v=(_=this.cbs).oncommentend)===null||v===void 0||v.call(_)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,r,a;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(r=this.cbs).onparserinit)===null||a===void 0||a.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}}function OR(e,t){const n=new DA(void 0,t);return new IR(n,t).end(e),n.root}const DR=oN((e,t,n,r)=>t._useHtmlParser2?OR(e,t):xR(e,t,n,r)),LR=HN(DR,(e,t)=>t._useHtmlParser2?ql(e,t):SR(e)),St=[];for(let e=0;e<256;++e)St.push((e+256).toString(16).slice(1));function PR(e,t=0){return(St[e[t+0]]+St[e[t+1]]+St[e[t+2]]+St[e[t+3]]+"-"+St[e[t+4]]+St[e[t+5]]+"-"+St[e[t+6]]+St[e[t+7]]+"-"+St[e[t+8]]+St[e[t+9]]+"-"+St[e[t+10]]+St[e[t+11]]+St[e[t+12]]+St[e[t+13]]+St[e[t+14]]+St[e[t+15]]).toLowerCase()}let lf;const MR=new Uint8Array(16);function FR(){if(!lf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lf=crypto.getRandomValues.bind(crypto)}return lf(MR)}const BR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),o1={randomUUID:BR};function qf(e,t,n){if(o1.randomUUID&&!e)return o1.randomUUID();e=e||{};const r=e.random??e.rng?.()??FR();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,PR(r)}const UR="https://proxy.corsfix.com/?";async function jR(e){function t(a){const u={"":.5,"":.3333333333333333,"":.6666666666666666,"":.25,"":.75,"":.2,"":.4,"":.6,"":.8};return a.replace(/<[^>]*>/g,"").replace(/[^a-zA-Z0-9.\s]/g,"").replace(/[]/g,d=>u[d]||d).trim()}function n(a){return a.replace(/<[^>]*>/g,"").trim()}function r(a){if(!a.length)return 0;const u=a.text().trim(),l=parseInt(u.match(/\d+/)?.[0]||"0");return/hour/i.test(u)?l*60:l}try{const a=encodeURIComponent(e),l=(await ot.get(UR+a)).data,d=LR(l),f=d("meta[property='og:image']").attr("content")||d("meta[name='og:image']").attr("content")||d("meta[itemprop='image']").attr("content")||d('img[class*="recipe-image"]').first().attr("src")||d('img[class*="main-image"]').first().attr("src")||d("img").first().attr("src"),h=d("meta[name='description']").attr("content")||d("meta[property='og:description']").attr("content")||d("meta[name='twitter:description']").attr("content")||d('*[class*="recipe-summary"]')||"",g=h?n(h.replace(/\n/g," ").trim()):"",T=d("h1.recipe-title").text().trim()||d("h1").first().text().trim()||d("h2").first().text().trim()||"Untitled Recipe",_=[];d('ul[class*="ingredients"] li').each((L,H)=>{const U=d(H).html();U&&_.push(t(U))});const v=[];d('ol[class*="instructionsP"] li, ul[class*="instructions"] li').each((L,H)=>{const U=d(H).html();U&&v.push(n(U))});const x=d('*[class*="prep_time"], *[class*="prep-time"]').filter(function(){return/\d+/.test(d(this).text())}),N=d('*[class*="cook_time"], *[class*="cook-time"]').filter(function(){return/\d+/.test(d(this).text())}),A=d('*[class*="servings-with-unit"]').filter(function(){return/\d+/.test(d(this).text())})?.text()?.trim(),R={title:T,description:g,img_url:f,prep_time:r(x),cook_time:r(N),servings:parseInt(A.match(/\d+/)?.[0]||"0"),ingredients:_.map((L,H)=>({id:qf(),value:L,isActive:!0,sort_number:H+1})),steps:v.map((L,H)=>({id:qf(),value:L,isActive:!0,sort_number:H+1})),original_recipe_url:e};return console.log("recipeData",R),R}catch(a){return console.error(`Failed to scrape recipe from ${e}:`,a.message),null}}const HR=({onCancel:e})=>{const[t,n]=y.useState(""),[r,a]=y.useState(""),[u,l]=y.useState(!1),d=mn(),f=async g=>{try{l(!0);const T=await jR(g);d("/add-new",{state:{recipe:T}}),e(),a("")}catch{a("Failed to fetch the recipe. Please check the URL and try again.")}finally{l(!1)}},h=async g=>{if(g.preventDefault(),!t.trim()){a("URL cannot be empty.");return}await f(t)};return b.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r&&b.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-sm",children:r}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"url",id:"url",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:t,onChange:g=>n(g.target.value)}),b.jsx("label",{htmlFor:"url",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Recipe URL"})]}),b.jsxs("div",{className:"flex justify-end space-x-4",children:[b.jsx(Ye,{type:"button",onClick:e,children:"Cancel"}),b.jsx(Ye,{type:"submit",isLoading:u,children:"Fetch Recipe"})]})]})},$h=({onClose:e})=>{const[t,n]=y.useState(!1),r=mn(),a=u=>{u.preventDefault(),r("/add-new"),e()};return b.jsxs("div",{role:"dialog","aria-labelledby":"modal-title","aria-describedby":"modal-description",className:"p-4",children:[b.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:t?"Import Recipe from URL":"Add Recipe"}),t?b.jsx(HR,{onCancel:e}):b.jsxs(b.Fragment,{children:[b.jsx("p",{id:"modal-description",className:"text-gray-600 dark:text-gray-400 mb-6",children:"How would you like to add your recipe?"}),b.jsxs("div",{className:"flex flex-col space-y-4",children:[b.jsx(Ye,{onClick:()=>n(!0),"aria-label":"Import recipe from URL",children:"Import from URL"}),b.jsx(Ye,{className:"w-full","aria-label":"Manually add a recipe",onClick:a,children:"Manual Input"})]})]})]})};var Ds=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e))(Ds||{});const $R=({size:e=Ds.Medium,onClose:t,children:n})=>{const r=y.useRef(null),u=`relative bg-white dark:bg-gray-800 text-black/90 shadow-lg sm:shadow-xl transition-shadow-xs duration-300 ease-in-out rounded-none sm:rounded-lg flex flex-col overflow-hidden h-screen w-screen ${e===Ds.Large?"max-w-5xl sm:max-w-[1200px] sm:w-[calc(100%-64px)] sm:max-h-[calc(100%-64px)]":"sm:max-w-md sm:w-auto sm:h-auto"} p-6`,l=()=>{r.current&&r.current.querySelectorAll("input, textarea, select").length===0&&t()};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 dark:bg-black/50 z-50",onClick:l,children:b.jsxs("div",{ref:r,className:u,onClick:d=>d.stopPropagation(),children:[b.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:b.jsx(hE,{className:"w-6 h-6",title:"Close Modal"})}),n]})})},zR={success:b.jsx(hv,{className:"w-6 h-6 text-green-500"}),error:b.jsx(Iv,{className:"w-6 h-6 text-red-500"}),info:b.jsx(_v,{className:"w-6 h-6 text-blue-500"}),warning:b.jsx(mv,{className:"w-6 h-6 text-yellow-500"})},qR=({id:e,message:t,type:n,onClose:r})=>b.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg shadow-md border-l-4
                transition-all duration-300
                dark:bg-gray-800 dark:text-gray-200 bg-white text-gray-800
                ${{success:"border-green-500",error:"border-red-500",info:"border-blue-500",warning:"border-yellow-500"}[n]}
            `,children:[zR[n],b.jsx("span",{children:t}),b.jsx("button",{onClick:()=>r(e),className:"ml-auto",children:b.jsx(hE,{className:"w-5 h-5 dark:text-gray-400 dark:hover:text-gray-200 text-gray-500 hover:text-gray-700"})})]}),ry=y.createContext(null);function WR({children:e}){const[t,n]=y.useState([]),r=y.useCallback(l=>{n(d=>d.filter(f=>f.id!==l))},[]),a=y.useCallback((l="Something went wrong. Please try again.",d="success",f=3e3)=>{const h=Date.now();n(g=>[...g,{id:h,message:l,type:d}]),setTimeout(()=>r(h),f)},[r]),u=y.useMemo(()=>({success:(l,d)=>a(l,"success",d),error:(l,d)=>a(l,"error",d),info:(l,d)=>a(l,"info",d),warning:(l,d)=>a(l,"warning",d)}),[a]);return b.jsxs(ry.Provider,{value:u,children:[e,b.jsx("div",{className:"fixed top-5 right-5 z-50 flex flex-col space-y-2",children:t.map(l=>b.jsx(qR,{...l,onClose:()=>r(l.id)},l.id))})]})}function Qn(){const e=y.useContext(ry);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const YR=({shareWithUser:e})=>{const[t,n]=y.useState(""),[r,a]=y.useState("read"),[u,l]=y.useState(!1),d=y.useRef(null),f=Qn(),h=[{value:"read",label:"Read-Only"},{value:"edit",label:"Can Edit"}],g=_=>{a(_),l(!1)},T=async()=>{if(!t)return f.error("Please enter a valid email.");e(t,r)};return y.useEffect(()=>{const _=v=>{d.current&&!d.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-sm font-medium mb-2",children:"Share with a User"}),b.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[b.jsxs("div",{className:"relative z-0 w-full group",children:[b.jsx("input",{type:"email",name:"email",id:"email",placeholder:" ",value:t,onChange:_=>n(_.target.value),className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer"}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative inline-block",ref:d,children:[b.jsxs("button",{onClick:()=>l(!u),className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 flex justify-between",children:[h.find(_=>_.value===r)?.label,b.jsx(Hv,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})]}),u&&b.jsx("div",{className:"absolute w-full bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:b.jsx("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:h.map(_=>b.jsx("li",{onClick:()=>g(_.value),children:b.jsx("button",{className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:_.label})},_.value))})})]}),b.jsx(Ye,{btnType:"secondary",onClick:T,className:"w-full",children:"Share"})]})]})},sy=({typeOfShare:e,sharedUsers:t,isPublic:n,onTogglePublicShare:r,shareWithUser:a,onRevokeAccess:u,onCopyLink:l,onClose:d})=>b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-lg font-semibold mb-4 min-w-[300px]",children:["Share ",e]}),b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("label",{className:"text-sm",children:"Make Public"}),b.jsx("input",{type:"checkbox",checked:n,onChange:r,className:"peer hidden",id:"custom-checkbox"}),b.jsx("label",{htmlFor:"custom-checkbox",className:`w-5 h-5 flex items-center justify-center border-2 border-gray-400 rounded-md cursor-pointer transition-all 
          peer-checked:bg-blue-500 peer-checked:border-blue-500 
          dark:border-gray-600 dark:peer-checked:bg-blue-400 dark:peer-checked:border-blue-400`,children:b.jsx(Uv,{className:`w-4 h-4 text-white ${n?"block":"hidden"}`})})]}),n&&b.jsx(Ye,{btnType:"secondary",onClick:l,className:"w-full",children:"Copy Public Link"}),b.jsx("hr",{className:"border-gray-700 my-4"}),b.jsx(YR,{shareWithUser:a}),b.jsx("hr",{className:"border-gray-700 my-4"}),b.jsx("h3",{className:"text-sm font-medium mb-2",children:"Shared Users"}),b.jsx("ul",{className:"space-y-2 mb-4",children:t.map(f=>b.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 rounded-xs gap-2 p-2",children:[b.jsxs("span",{className:"text-gray-700 dark:text-gray-200 text-sm",children:[f.users.email," - ",f.permission]}),b.jsx(pE,{onClick:()=>u(f.id)})]},f.id))}),b.jsx(Ye,{onClick:d,className:"w-full",children:"Close"})]}),iy=({onCancelDelete:e,onDelete:t})=>{const[n,r]=y.useState(!1),a=async()=>{r(!0);try{await t()}catch(u){console.error("Delete failed:",u)}finally{r(!1)}};return b.jsxs("div",{className:"text-center p-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Are you sure you want to delete this recipe?"}),b.jsxs("div",{className:"flex justify-center space-x-4 pt-2",children:[b.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",disabled:n,children:"Cancel"}),b.jsxs("button",{onClick:a,disabled:n,className:`flex items-center gap-2 px-4 py-2 font-semibold rounded-lg transition ${n?"bg-red-400 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[n&&b.jsx(Us,{isLarge:!1}),"Delete"]})]})]})},ay=y.createContext(void 0),VR=({children:e})=>{const[t,n]=y.useState(null),[r,a]=y.useState(Ds.Small),[u,l]=y.useState(!1),d=(h,g=Ds.Small)=>{n(()=>h),a(g),l(!0)},f=()=>{n(null),a(Ds.Small),l(!1)};return b.jsxs(ay.Provider,{value:{isModalOpen:u,openModal:d,closeModal:f},children:[e,t&&b.jsx($R,{onClose:f,size:r,children:t})]})},zs=()=>{const e=y.useContext(ay);if(!e)throw new Error("useModalManager must be used within a ModalManager");return e};function QR(){const{recipes:e,loading:t,hasMore:n,searchTerm:r,setSearchTerm:a,resetAndLoadRecipes:u,loadMoreRecipes:l}=lv(),[d,f]=y.useState([]),{openModal:h,closeModal:g}=zs(),T=y.useRef(null),_=()=>{h(b.jsx($h,{onClose:g}))},v=y.useCallback(()=>{!t&&n&&l()},[n,t,l]);return y.useEffect(()=>{u()},[r]),y.useEffect(()=>{const x=new IntersectionObserver(([N])=>N.isIntersecting&&v(),{rootMargin:"100px",threshold:.1});return T.current&&x.observe(T.current),()=>x.disconnect()},[v]),b.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col justify-center items-center text-center transition-all duration-300",children:[b.jsx(wu,{classes:"mb-4",title:"Recipes",actionName:"+ New Recipe",onAction:_}),b.jsx(Dv,{options:[],selectedOptions:d,setSelectedOptions:f,onSearch:a}),e.length===0&&!t?b.jsx(_u,{message:"No recipes found. Add some delicious ones to get started!"}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:e.map(x=>b.jsx(Ht,{to:`/recipes/${x.id}`,children:b.jsx(dh,{...x})},x.id))}),t&&b.jsx(Us,{className:"mt-6"}),!n&&!t&&b.jsx("div",{className:"text-gray-500 mt-6 animate-fade-in",children:"Youve reached the end! No more recipes to load."}),n&&b.jsx("div",{ref:T,className:"h-1"})]})}function tl({children:e}){const{user:t}=js();return t?window.location.pathname==="/elysia/sign-in"?b.jsx(qm,{to:"/"}):b.jsx(b.Fragment,{children:e}):window.location.pathname==="/elysia/sign-in"?b.jsx(b.Fragment,{children:e}):b.jsx(qm,{to:"/sign-in"})}const uy=y.createContext(void 0),GR=({children:e})=>{const[t,n]=y.useState(()=>typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches),r=()=>{n(a=>!a)};return y.useEffect(()=>{const a=document.documentElement;t?a.classList.add("dark"):a.classList.remove("dark")},[t]),b.jsx(uy.Provider,{value:{isDarkMode:t,toggleDarkMode:r},children:e})},oy=()=>{const e=y.useContext(uy);if(!e)throw new Error("useDarkMode must be used within a DarkModeProvider");return e};function KR(){const{isDarkMode:e,toggleDarkMode:t}=oy(),{isAuthenticated:n}=js(),{isModalOpen:r,openModal:a,closeModal:u}=zs(),l=mn(),[d,f]=y.useState(!1),h=Wn(),g=y.useRef(null),T=["/","/about","/collections","/tags"],_=()=>{f(R=>!R)},v=()=>{u(),f(!1)},x=()=>{a(b.jsx($h,{onClose:v}))},N=R=>{R.stopPropagation(),l("/sign-in")},A=async R=>{R.stopPropagation(),await Te.auth.signOut(),l("/")};return y.useEffect(()=>{const R=L=>{g.current&&!g.current.contains(L.target)&&f(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]),b.jsxs("nav",{className:`bg-white border-gray-200 dark:bg-gray-900 ${r?"opacity-50 pointer-events-none":""}`,ref:g,children:[b.jsxs("div",{className:"max-w-screen-xl flex items-center justify-between mx-auto p-4",children:[b.jsxs(Ht,{to:"/",className:"flex items-center space-x-2",children:[b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-8",alt:"Elysia Logo"}),b.jsx("span",{className:"self-center text-2xl font-semibold dark:text-leaf-green-100",children:"Elysia"})]}),b.jsx("div",{className:"hidden md:flex space-x-8",children:T.map(R=>b.jsx(Ht,{to:R,className:`py-2 px-3 rounded-md transition duration-200 ${h.pathname===R?"dark:text-leaf-green-300 text-leaf-green-500":"hover:text-leaf-green-300 dark:text-leaf-green-100 dark:hover:text-leaf-green-300"}`,children:R==="/"?"Home":R.replace("/","").charAt(0).toUpperCase()+R.slice(2)},R))}),b.jsxs("div",{className:"flex space-x-3",children:[n&&b.jsx(ns,{className:"hidden md:block",onClick:x,title:"Add New Recipe",icon:b.jsx(dE,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})}),b.jsx(ns,{onClick:t,title:"Toggle Dark Mode",icon:e?b.jsx(Cv,{className:"w-6 h-6 text-yellow-400"}):b.jsx(Sv,{className:"w-6 h-6 text-gray-800 dark:text-gray-200"})}),b.jsx(ns,{onClick:n?A:N,title:n?"Logout":"Login",icon:n?b.jsx(Fv,{className:"w-6 h-6 text-red-500"}):b.jsx(Pv,{className:"w-6 h-6 text-green-500"})}),b.jsx(ns,{onClick:_,className:"text-gray-500 rounded-lg md:hidden focus:ring-gray-200 dark:text-gray-400",title:"Open main menu",icon:b.jsx(dv,{className:"w-6 h-6 text-gray-800 dark:text-gray-200"})})]})]}),d&&b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end md:hidden",children:b.jsxs("div",{className:"w-3/4 sm:w-[350px] h-full bg-white dark:bg-gray-900 shadow-lg p-6 pt-10 flex flex-col",children:[b.jsx("button",{onClick:_,className:"absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:b.jsx(fh,{className:"w-6 h-6",title:"Close Menu"})}),T.filter(Boolean).map(R=>b.jsx(Ht,{to:R,className:"py-2 px-3 block rounded-md text-gray-900 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-700",onClick:_,children:R==="/"?"Home":R.replace("/","").charAt(0).toUpperCase()+R.slice(2)},R))]})})]})}const XR=async(e,t,n)=>{try{let r=Te.from("tags").select("*",{count:"exact"}).range(e,e+t-1);n&&(r=r.or(`name.ilike.%${n}%`));const{data:a,count:u,error:l}=await r;if(l)throw new Error("Failed to fetch tags.");return{data:a,count:u}}catch(r){return console.error("Error fetching tag list:",r.message),null}},JR=async(e,t)=>{try{let n=e;if(e){if(Object.keys(t.title).length>0){const{error:r}=await Te.from("tags").update(t).eq("id",e);if(r)throw new Error(`Failed to update tag: ${r.message}`)}}else{const{data:r,error:a}=await Te.from("tags").insert([{title:t.title}]).select().single();if(a)throw new Error(`Failed to insert new tag: ${a.message}`);n=r.id}return{success:!0,tagId:n}}catch(n){throw console.error("Error updating or inserting tag:",n.message),n}},ZR=async e=>{try{const{error:t}=await Te.from("tags").delete().eq("id",e);if(t)throw new Error("Failed to delete tag.")}catch(t){throw console.error("Error deleting tag:",t.message),t}},zh={fetchTagList:XR,upsertTag:JR,deleteTag:ZR};function eI(){const[e,t]=y.useState(0),[n]=y.useState(10),[r]=y.useState(""),[a,u]=y.useState([]),[l,d]=y.useState(!0),[f,h]=y.useState(!1),[g,T]=y.useState(0);return{tags:a,loading:f,totalCount:g,hasMore:l,loadMoreTags:async()=>{if(!(f||!l)){h(!0);try{const v=await zh.fetchTagList(e,n,r);if(!v)throw new Error("Something went wrong. Please try again.");v.data.length===0?d(!1):(u(x=>[...x,...v.data]),t(x=>x+v.data.length)),T(v.count||0)}catch(v){console.error("Error fetching Tag tags:",v.message)}finally{h(!1)}}}}}const tI=({onCancel:e,onAddTag:t})=>{const[n,r]=y.useState(""),[a,u]=y.useState(!1),l=Qn(),d=h=>{r(h.target.value)},f=async()=>{u(!0);try{const h={id:Date.now().toString(),title:n},{success:g}=await zh.upsertTag("",h);g&&(l.success("Tag added successfully!"),t())}catch(h){console.error("Add tag failed:",h)}finally{u(!1)}};return b.jsxs("div",{className:"text-center p-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Add New Tag"}),b.jsx("form",{className:"w-full",children:b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"title",id:"title",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:d,required:!0}),b.jsx("label",{htmlFor:"title",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Title"})]})}),b.jsxs("div",{className:"flex justify-center space-x-4 pt-2",children:[b.jsx(Ye,{btnType:"dismissable",onClick:e,disabled:a,children:"Cancel"}),b.jsx(Ye,{onClick:f,disabled:a,children:"Add Tag"})]})]})};function nI(){const{isDarkMode:e}=oy(),{openModal:t,closeModal:n}=zs(),{tags:r,loading:a,hasMore:u,loadMoreTags:l}=eI(),d=y.useRef(null),f=y.useRef(null);l();const h=y.useCallback(()=>{u&&!a&&l()},[u,a,l]),g=()=>{t(b.jsx(tI,{onCancel:n,onAddTag:n}))};return y.useEffect(()=>{const T=new IntersectionObserver(_=>{_[0].isIntersecting&&h()},{threshold:.5});return f.current&&T.observe(f.current),()=>T.disconnect()},[h]),b.jsxs("div",{ref:d,style:{height:"80vh",overflowY:"auto",scrollbarColor:e?"#666 #2c2c2c":"#ccc #f0f0f0"},className:"max-w-5xl mx-auto p-6 flex flex-col items-center text-center transition-all duration-300",children:[b.jsx(wu,{title:"Tags",actionName:"+ New Tag",onAction:g}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:r.map(T=>b.jsx(hh,{isReadOnly:!1,title:T.title},T.id))}),a&&b.jsx(Us,{className:"mt-6"}),!u&&!a&&b.jsx("div",{className:"text-gray-500 mt-6 animate-fade-in",children:"Youve reached the end! No more tags to load."}),u&&b.jsx("div",{ref:f,className:"h-1"})]})}const rI=()=>{const{openModal:e,closeModal:t}=zs(),n=()=>{e(b.jsx($h,{onClose:t}))};return b.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-center",children:"About Elysia"}),b.jsx("div",{className:"flex flex-row justify-center m-4",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-40",alt:"Elysia Chloratica"})}),b.jsxs("div",{className:"bg-leaf-green-100 p-6 rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-xl font-semibold text-leaf-green-800 mb-3",children:"The Slug That Inspired It All"}),b.jsxs("p",{className:"text-gray-800",children:["Elysia chlorotica is a unique species of sea slug that can perform"," ",b.jsx("strong",{children:"photosynthesis"}),", absorbing energy from the sun like a plant. By incorporating chloroplasts from the algae it eats into its own cells, it becomes ",b.jsx("strong",{children:"self-sustaining"})," and requires less food to survive. This incredible ability mirrors our own journey - by being mindful of what we consume, we empower ourselves to thrive."]})]}),b.jsxs("div",{className:"mt-8 p-6 rounded-lg border border-4 border-dashed border-leaf-green-100 dark:leaf-green-200",children:[b.jsx("h2",{className:"text-xl font-semibold text-leaf-green-800 dark:text-leaf-green-300 mb-3",children:"The Vision Behind Elysia"}),b.jsx("p",{className:"text-gray-800 dark:text-white",children:"Cooking is more than just a necessityit's a way to nourish both body and mind. Our vision is to build a platform where people can explore diverse recipes, develop new skills, and gradually become more self-reliant in the kitchen. Just like Elysia chlorotica adapts and grows by integrating the best of what it consumes, this app allows food lovers to nurture, discover, and evolve their culinary environment."})]}),b.jsx("div",{className:"flex flex-col align-items-center mt-10",children:b.jsx(Ye,{onClick:n,children:"Start Your Journey"})})]})},sI=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[a,u]=y.useState(!1),[l,d]=y.useState(""),f=Qn(),h=mn(),g=async T=>{if(T.preventDefault(),d(""),e.length<6){d("Password must be at least 6 characters long.");return}if(e!==n){d("Passwords do not match.");return}u(!0);const{error:_}=await Te.auth.updateUser({password:e});u(!1),_?f.error(_.message):(f.success("Password updated successfully! You can now sign in."),h("/sign-in"))};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Reset Password"}),b.jsxs("form",{onSubmit:g,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"new-password",id:"new-password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:T=>t(T.target.value),required:!0}),b.jsx("label",{htmlFor:"new-password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"New Password"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"confirm-password",id:"confirm-password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:T=>r(T.target.value),required:!0}),b.jsx("label",{htmlFor:"confirm-password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Confirm Password"})]}),l&&b.jsx("p",{className:"text-red-500 text-sm mb-4",children:l}),b.jsx(Ye,{type:"submit",isLoading:a,className:"w-full",children:"Reset Password"})]})]})})},iI=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[a,u]=y.useState(!1),l=Qn(),d=mn(),f=async h=>{h.preventDefault(),u(!0);const{error:g}=await Te.auth.signInWithPassword({email:e,password:n});g?l.error(g.message):d("/"),u(!1)};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold text-leaf-green-600 dark:text-white mb-4 text-center",children:"Sign In"}),b.jsxs("form",{onSubmit:f,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:h=>t(h.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"password",id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:h=>r(h.target.value),required:!0}),b.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"})]}),b.jsx("div",{className:"mb-2 text-right",children:b.jsx(Ht,{to:"/forgot-password",children:"Forgot password?"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(Ye,{type:"submit",isLoading:a,className:"w-full",children:"Sign In"}),b.jsx(Ht,{to:"/register",children:b.jsx(Ye,{btnType:"secondary",className:"w-full",children:"Register"})})]})]})]})})},aI=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[a,u]=y.useState(!1),l=Qn(),d=mn(),f=async h=>{h.preventDefault(),u(!0);const{error:g}=await Te.auth.signUp({email:e,password:n});g?l.error(g.message):(l.success("Registration successful! A confirmation link has been sent to your email."),d("/")),u(!1)};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-leaf-green-600 dark:text-white text-center",children:"Register"}),b.jsxs("form",{onSubmit:f,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:h=>t(h.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"password",id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:h=>r(h.target.value),required:!0}),b.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(Ye,{type:"submit",isLoading:a,className:"w-full",children:"Register"}),b.jsx(Ht,{to:"/sign-in",children:b.jsx(Ye,{btnType:"secondary",className:"w-full",children:"Back to Sign In"})})]})]})]})})},uI=async e=>{const{data:t,error:n}=await Te.from("collection_to_users").select("id, user_id, permission, users(email)").eq("collection_id",e);return n?(console.error("Error fetching shared users:",n),[]):t||[]},oI=async e=>{const{data:t,error:n}=await Te.from("collections").select("is_public").eq("id",e).single();return n?(console.error("Error fetching collection visibility:",n),!1):t.is_public},lI=async(e,t)=>{const{error:n}=await Te.from("collections").update({is_public:!t}).eq("id",e);if(n)throw new Error("Failed to update public status.");return!t},cI=async e=>{const{data:t,error:n}=await Te.from("users").select("id, display_name, profile_image").eq("email",e).single();if(n||!t?.id)throw new Error("User not found.");return{...t,display_name:t.display_name||e}},dI=async(e,t,n)=>{const{error:r}=await Te.from("collection_to_users").insert([{collection_id:e,user_id:t,permission:n}]);if(r)throw new Error("Failed to share collection.")},fI=async e=>{const{error:t}=await Te.from("collection_to_users").delete().eq("id",e);if(t)throw new Error("Failed to revoke access.")},Ss={fetchCollectionVisibility:oI,fetchSharedUsers:uI,findUserByEmail:cI,revokeUserAccess:fI,shareCollectionWithUser:dI,togglePublicShare:lI},hI=async(e,t)=>{try{let n=Te.from("collections").select(`
        id, title, description, img_url, is_public, user_id,
        collection_items!left(
          recipe_id,
          recipes!inner(id, title, description, img_url, user_id, is_public)
        ),
        collection_to_recipes!left(
          recipe_id,
          recipes!inner(id, title, description, img_url, user_id, is_public)
        ),
        collection_to_tags!left(
          tag_id,
          tags:tags!collection_to_tags_tag_id_fkey(id, title)
        ),
        collection_to_users!left(permission)
        `).eq("id",e);t?n=n.or(`is_public.eq.true,user_id.eq.${t}`):n=n.eq("is_public",!0);const{data:r,error:a}=await n.maybeSingle();if(a)throw new Error("Failed to fetch collection details.");const u=r?.collection_items?.map(h=>h.recipes)||[],l=r?.collection_to_recipes?.map(h=>h.recipes)||[],d=Array.from(new Map([...u,...l].map(h=>[h.id,h])).values()),f=r?.collection_to_tags?.flatMap(h=>h.tags)||[];if(!r)throw new Error("no data returned");return{...r,recipes:d,tags:f,can_edit:r.user_id===t||r.collection_to_users&&r.collection_to_users.some(h=>h.permission==="edit")}}catch(n){return console.error("Error fetching collection details:",n.message),null}},pI=async(e,t,n)=>{try{let r=e;if(e){const a={};if(["title","description","img_url","is_public"].forEach(u=>{t[u]&&(a[u]=t[u])}),Object.keys(a).length>0){const{error:u}=await Te.from("collections").update(a).eq("id",e);if(u)throw new Error(`Failed to update collection: ${u.message}`)}}else{const{data:a,error:u}=await Te.from("collections").insert([{title:t.title,description:t.description,img_url:t.img_url,is_public:t.is_public,user_id:n}]).select("*").single();if(u)throw new Error(`Failed to insert new collection: ${u.message}`);r=a.id}return await mI(r,t.recipes),await gI(r,t.tags),{success:!0,collectionId:r}}catch(r){throw console.error("Error updating or inserting collection:",r.message),r}},mI=async(e,t)=>{if(await Te.from("collection_items").delete().eq("collection_id",e),t.length>0){const n=t.map(r=>({collection_id:e,recipe_id:r.id}));await Te.from("collection_items").insert(n)}},gI=async(e,t)=>{if(await Te.from("collection_to_tags").delete().eq("collection_id",e),t.length>0){const n=t.map(r=>({collection_id:e,tag_id:r.id}));await Te.from("collection_to_tags").insert(n)}},EI=async e=>{try{const{error:t}=await Te.from("collections").delete().eq("id",e);if(t)throw new Error("Failed to delete collection.")}catch(t){throw console.error("Error deleting collection:",t.message),t}},Cl={fetchCollectionDetails:hI,upsertCollection:pI,deleteCollection:EI},bI=({collection:e})=>{const t=mn(),n=Qn(),{openModal:r,closeModal:a}=zs(),[u,l]=y.useState(e.is_public||!1),[d,f]=y.useState([]),h=()=>{t(`/collections/${e.id}/edit`,{state:{collection:e}})},g=()=>r(b.jsx(iy,{onCancelDelete:a,onDelete:A}));y.useEffect(()=>{(async()=>{e.id&&f(await Ss.fetchSharedUsers(e.id))})()},[e.id]);const T=async()=>{try{if(!e.id)throw new Error("No Collection id found.");const L=await Ss.togglePublicShare(e.id,!!e.is_public);l(L),n.success(`Collection is now ${L?"public":"private"}!`)}catch(L){n.error(L.message)}},_=async(L,H)=>{if(!L)return n.error("Please enter a valid email.");if(!e.id)return n.error();try{const U=await Ss.findUserByEmail(L);await Ss.shareCollectionWithUser(e.id,U.id,H),n.success(`Collection shared with ${U.display_name} as ${H}.`),f(await Ss.fetchSharedUsers(e.id))}catch(U){n.error(U.message)}},v=async L=>{if(!e.id)return n.error();try{await Ss.revokeUserAccess(L),n.success("Access revoked."),f(await Ss.fetchSharedUsers(e.id))}catch(H){n.error(H.message)}},x=()=>{const L=`${window.location.origin}/collections/${e.id}`;navigator.clipboard.writeText(L),n.success("Public link copied!")},N=()=>{r(b.jsx(sy,{typeOfShare:"Collection",sharedUsers:d,isPublic:u,onTogglePublicShare:T,shareWithUser:_,onRevokeAccess:v,onCopyLink:x,onClose:a}))},A=async()=>{try{if(!e.id)return n.error();await Cl.deleteCollection(e.id),n.success("Collection deleted successfully!"),a(),t("/")}catch{n.error("Failed to delete collection. Please try again.")}},R=[{label:"Edit",onClick:h},{label:"Delete",onClick:g},{label:"Share",onClick:N}];return b.jsx(mE,{options:R,icon:b.jsx(cE,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})},yI=()=>{const{id:e}=Dl(),{user:t}=js(),[n,r]=y.useState(null),[a,u]=y.useState(!0);return y.useEffect(()=>{(async()=>{u(!0);try{if(!e||!t?.id)throw new Error("no id found");const d=await Cl.fetchCollectionDetails(e,t?.id);if(!d)throw new Error("no data returned");r(d)}finally{u(!1)}})()},[e,t?.id]),a?b.jsx(Us,{className:"mt-40"}):n?b.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-between items-center mb-4",children:[b.jsx(Ht,{to:"/",children:b.jsxs("div",{className:"flex justify-center items-center font-medium text-center text-leaf-green-600 dark:text-leaf-green-100",children:[b.jsx(lE,{"aria-hidden":"true",className:"size-6"}),b.jsx("p",{children:"Collections"})]})}),b.jsx("div",{className:"flex justify-end gap-2",children:!!t?.id&&b.jsx(bI,{collection:n})})]}),!!n?.img_url?.length&&b.jsx("div",{className:"relative",children:b.jsx("img",{src:n.img_url,alt:n.title,className:"w-full h-64 object-cover rounded-t-lg"})}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-b-lg p-6 ${!n?.img_url&&"rounded-t-lg"}`,children:[b.jsx(wu,{title:n.title,description:n.description}),n.tags.length>0&&b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"pb-2 pt-3 text-xl font-bold text-leaf-green-900 dark:text-leaf-green-100",children:"Tags"}),b.jsx("div",{children:n.tags.map(l=>b.jsx(hh,{title:l.title,isReadOnly:!0},l.id))})]})]}),b.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:n.recipes.map(l=>b.jsx(Ht,{to:`/recipes/${l.id}`,children:b.jsx(dh,{title:l.title,description:l.description,img_url:l.img_url},l.id)},l.id))})]}):b.jsx(_u,{message:"Collection not found."})};function TI(){const[e,t]=y.useState(0),[n]=y.useState(10),[r,a]=y.useState([]),[u,l]=y.useState(!1),[d,f]=y.useState(0),[h,g]=y.useState(!0);return{collections:r,loading:u,hasMore:h,totalCount:d,loadMoreCollections:async()=>{if(!(u||!h)){l(!0);try{const{data:_,count:v,error:x}=await Te.from("collections").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(e,e+n-1);if(x)throw x;_.length===0?g(!1):(a(N=>[...N,..._]),t(N=>N+_.length)),f(v||0),l(!1)}catch(_){console.error("Error fetching collections:",_.message)}finally{l(!1)}}}}}const _I=()=>{const e=mn(),{collections:t,loading:n,hasMore:r,loadMoreCollections:a}=TI(),u=y.useRef(null);a();const l=y.useCallback(()=>{r&&!n&&a()},[r,n,a]);return y.useEffect(()=>{const d=new IntersectionObserver(f=>{f[0].isIntersecting&&l()},{threshold:.5});return u.current&&d.observe(u.current),()=>d.disconnect()},[l]),b.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col justify-center items-center transition-all duration-300",children:[b.jsxs("div",{className:"w-full",children:[b.jsx(wu,{title:"Collections",actionName:"+ New Collection",classes:"mb-2",onAction:()=>e("add-new")}),b.jsxs("p",{className:"text-gray-600 mb-4",children:["A collection is like a ",b.jsx("strong",{children:"recipe book"})," where you can"," ",b.jsx("strong",{children:"organize recipes, share them"})," with others, or"," ",b.jsx("strong",{children:"keep them private"}),"."]})]}),n&&b.jsx(Us,{className:"mt-6"}),!n&&t.length===0&&b.jsx(_u,{message:"You don't have any collections yet. Create one now!"}),t.length>0&&b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full mt-6",children:t.map(d=>b.jsx(Ht,{to:`${d.id}`,children:b.jsx(dh,{title:d.title,description:d.description,img_url:d.img_url})},d.id))})]})},Wf=(e,t)=>{if(e===t)return null;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return t;if(Array.isArray(e)&&Array.isArray(t)){const a=t.reduce((u,l,d)=>{const f=e[d];return typeof l=="object"&&l!==null?Wf(f,l)!==null&&u.push(l):l!==f&&u.push(l),u},[]);return e.length>t.length?t:a.length>0?a:null}const n={};return new Set([...Object.keys(e),...Object.keys(t)]).forEach(a=>{const u=Wf(e[a],t[a]);u!==null&&(n[a]=u)}),Object.keys(n).length>0?n:null},ly=(e,t)=>Wf(e,t)||{},wI=e=>{const t=e.split(".").pop();return`${e.replace(/\.[^/.]+$/,"").toLowerCase().replace(/[^a-z0-9_\-.]/g,"").replace(/\s+/g,"_")}_${Date.now()}_${Math.floor(Math.random()*1e4)}.${t}`},xI=async e=>{try{const t=wI(e.name),{error:n}=await Te.storage.from("elysia_recipe_photo").upload(t,e,{cacheControl:"3600",upsert:!0});if(n)throw new Error(`Error uploading file: ${n.message}`);return cy(t)}catch(t){throw console.error("Error in addPhoto:",t.message),t}},cy=e=>{const{data:t}=Te.storage.from("elysia_recipe_photo").getPublicUrl(e);if(!t)throw new Error("Failed to get public URL");return t.publicUrl},vI=async e=>{const t=e.split("/").slice(-1)[0];return await Te.storage.from("elysia_recipe_photo").remove([t])},l1={addPhoto:xI,getPhotoUrl:cy,deletePhoto:vI},dy=({imgUrl:e,onImgUrlChange:t})=>{const[n,r]=y.useState(!1),[a,u]=y.useState(!1),[l,d]=y.useState(!1),f=y.useRef(null),h=Qn(),g=async R=>{try{u(!0);const L=await l1.addPhoto(R);t(L)}catch(L){console.error("Error uploading file:",L.message),h.error("Failed to upload file. Please try again.")}finally{u(!1)}},T=async()=>{if(!e){t("");return}try{const{error:R}=await l1.deletePhoto(e);if(R){h.error("Failed to delete file. Please try again.");return}else t("")}catch(R){console.error("Error removing file:",R.message)}},_=R=>{const L=R.target.files?.[0];L&&g(L)},v=()=>{f.current&&f.current.click()},x=R=>{R.preventDefault(),d(!0)},N=R=>{R.preventDefault(),d(!1)},A=R=>{R.preventDefault(),d(!1);const L=R.dataTransfer.files[0];L&&g(L)};return b.jsx("div",{className:`relative w-full max-h-64 rounded-t-lg overflow-hidden ${!e?.length&&"rounded-b-lg"}`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:e?.length?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:e,alt:"Uploaded",className:"w-full h-full object-cover"}),n&&b.jsx("div",{className:"absolute inset-0 bg-gray-800/80 flex items-center justify-center",children:b.jsx("button",{onClick:T,className:"text-white text-2xl hover:text-red-500",children:b.jsx(fE,{className:"w-11 h-11 text-red-500 dark:text-red-600",title:"Delete Image"})})})]}):b.jsxs("div",{className:`border-2 ${l?"border-blue-500 bg-leaf-green-50":"border-dashed border-gray-300"} rounded-t-lg p-6 flex flex-col items-center justify-center ${e?"max-h-64":"rounded-b-lg mb-4"}`,onDragOver:x,onDragLeave:N,onDrop:A,children:[b.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:"Drag & drop a photo here, or click to upload."}),b.jsx(Ye,{onClick:v,disabled:a,children:a?"Uploading...":"Upload File"}),b.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:_,className:"hidden"}),b.jsx("div",{className:"mt-4 w-full",children:b.jsx("input",{type:"text",placeholder:"Or paste an image URL",value:e,onChange:R=>t(R.target.value),className:"border border-gray-300 rounded-lg p-2 w-full"})})]})})},fy=({formData:e,onFormChange:t})=>b.jsxs("form",{className:"w-full",children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"title",id:"title",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.title,onChange:n=>t("title",n.target.value),required:!0}),b.jsx("label",{htmlFor:"title",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Title"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("textarea",{name:"description",id:"description",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.description,onChange:n=>t("description",n.target.value),required:!0}),b.jsx("label",{htmlFor:"description",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Description"})]})]}),c1=({inputId:e="",options:t=[],selectedOptions:n=[],placeholder:r="",setSelectedOptions:a,onSearch:u})=>{const[l,d]=y.useState(!1),[f,h]=y.useState(!1),[g,T]=y.useState([]),[_,v]=y.useState(""),x=y.useRef(null),N=y.useRef(null),A=y.useRef(null);y.useEffect(()=>{T(n.map(U=>U?.id||""))},[n]),y.useEffect(()=>{const U=setTimeout(()=>{u(_)},400);return()=>clearTimeout(U)},[_,u]),y.useEffect(()=>{const U=W=>{x.current&&!x.current.contains(W.target)&&d(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),y.useEffect(()=>{l&&N.current&&N.current.focus()},[l]),y.useEffect(()=>{if(l&&x.current){const U=x.current.getBoundingClientRect(),W=window.innerHeight-U.bottom;h(W<200)}},[l]);const R=U=>{if(U.id){const W=g.includes(U.id)?n.filter(te=>te.id!==U.id):[...n,U];a(W)}},L=U=>{const W=n.filter(te=>te.id!==U.id);a(W)},H=U=>{U.key==="Backspace"&&_===""&&n.length>0&&L(n[n.length-1]),U.key==="ArrowDown"&&(d(!0),A.current?.focus())};return b.jsxs("div",{className:"relative w-full",ref:x,children:[b.jsx("label",{id:"multi-select-label",className:"sr-only",children:"Select options"}),b.jsxs("div",{className:`border border-gray-300 p-2 cursor-text flex flex-wrap items-center gap-2 ${l?`rounded-${f?"b":"t"}-lg`:"rounded-lg"}`,onClick:()=>d(!0),"aria-haspopup":"listbox","aria-expanded":l,role:"combobox","aria-controls":"multi-select-listbox",children:[n.map(U=>b.jsx(hh,{title:U.title,onClick:W=>{W.stopPropagation(),L(U)}},U.id)),b.jsx("input",{type:"text",id:e,ref:N,placeholder:n.length===0?r:"",className:"flex-1 p-1 border-none outline-hidden bg-transparent text-gray-900 dark:text-gray-100",value:_,onChange:U=>v(U.target.value),onKeyDown:H,"aria-labelledby":"multi-select-label"})]}),l&&b.jsxs("div",{ref:A,role:"listbox",tabIndex:0,"aria-labelledby":"multi-select-label",className:`absolute w-full border border-gray-300 bg-white dark:bg-gray-800 shadow-md max-h-40 overflow-y-auto focus:outline-hidden ${f?"bottom-full pb-2 rounded-t-lg":"top-full pt-2 rounded-b-lg"}`,children:[t.length>0?t.map(U=>b.jsx(Ye,{btnType:"dropdown",className:U.id&&g.includes(U.id)?"bg-leaf-green-100 dark:text-leaf-green-600":"",onClick:W=>{W.stopPropagation(),R(U)},role:"option","aria-selected":U.id&&g.includes(U.id)?!0:void 0,children:U.title},U.id)):b.jsx("div",{className:"p-2 text-gray-500 dark:text-gray-400",role:"status",children:"No results found"}),t.length>=25&&b.jsx("div",{className:"px-4 py-2 border-t border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-900",children:b.jsx("small",{className:"text-gray-500 dark:text-gray-400",children:"Search results are limited to 25 results."})})]})]})},d1=()=>{const e=mn(),t=Wn(),n=Qn(),{id:r}=Dl(),{user:a}=js(),u=!!r,[l,d]=y.useState(!1),[f,h]=y.useState(""),[g,T]=y.useState([]),[_,v]=y.useState(""),[x,N]=y.useState([]),[A,R]=y.useState(null),[L,H]=y.useState({title:"",description:"",img_url:"",recipes:[],tags:[]}),U=(Z,ce)=>{H(ve=>({...ve,[Z]:ce}))},W=y.useCallback(async()=>{try{const Z=await vi.fetchRecipeList(0,25,f);Z?.data&&T(Z.data)}catch(Z){console.error("Error fetching recipes:",Z)}},[f]),te=y.useCallback(async()=>{try{const Z=await zh.fetchTagList(0,25,_);Z?.data&&N(Z.data)}catch(Z){console.error("Error fetching tags:",Z)}},[_]);y.useEffect(()=>{if(u){const Z=t.state?.collection;Z&&(H({title:Z.title||"",description:Z.description||"",img_url:Z.img_url||"",recipes:Z.recipes||[],tags:Z.tags||[]}),R(Z))}},[u,t.state?.collection]),y.useEffect(()=>{W()},[W]),y.useEffect(()=>{te()},[te]);const se=async Z=>{if(Z.preventDefault(),d(!0),!(!u&&!a?.id))try{if(u){const ce=ly(A,L);if(!ce){n.success("No changes detected."),d(!1);return}await Cl.upsertCollection(r,ce),n.success("Collection updated successfully!"),e(`/collections/${r}`)}else{const ce=await Cl.upsertCollection("",L,a?.id);n.success("Collection added successfully!"),e(`/collections/${ce.collectionId}`)}}catch(ce){console.error(`Error ${u?"updating":"adding"} collection:`,ce.message),n.error(`Failed to ${u?"update":"add"} collection. Please try again.`)}finally{d(!1)}};return b.jsxs("div",{className:"max-w-2xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-end items-center mb-4 gap-4",children:[b.jsx(Ye,{btnType:"dismissable",onClick:()=>e("/collections"),children:"Cancel"}),b.jsx(Ye,{onClick:se,isLoading:l,children:u?"Save":"Add"})]}),b.jsx(dy,{imgUrl:L.img_url,onImgUrlChange:Z=>U("img_url",Z)}),b.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md",children:[b.jsx(fy,{formData:L,onFormChange:U}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Recipes",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Recipes"}),b.jsx(c1,{placeholder:"Search for recipes...",inputId:"Recipes",options:g,selectedOptions:L.recipes,setSelectedOptions:Z=>U("recipes",Z),onSearch:h})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Tags",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Tags"}),b.jsx(c1,{placeholder:"Search for tags...",inputId:"Tags",options:x,selectedOptions:L.tags,setSelectedOptions:Z=>U("tags",Z),onSearch:v})]})]})]})},SI=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(!1),a=Qn(),u=async l=>{if(l.preventDefault(),!e){a.error("Please enter your email.");return}r(!0);const{error:d}=await Te.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/elysia/reset-password`});r(!1),d?a.error(d.message):a.success("Password reset link sent to your email!")};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-center text-leaf-green-600 dark:text-white",children:"Reset Password"}),b.jsxs("form",{onSubmit:u,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:l=>t(l.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(Ye,{type:"submit",isLoading:n,className:"w-full",children:n?"Sending...":"Send Reset Link"}),b.jsx(Ht,{to:"/sign-in",children:b.jsx(Ye,{btnType:"secondary",className:"w-full",children:"Back to Sign In"})})]})]})]})})},hy=({value:e,index:t})=>b.jsx("li",{className:"text-leaf-green-800 dark:text-gray-200 p-2",children:e},t),AI=({ingredients:e})=>b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Ingredients"}),b.jsx("ul",{className:"list-disc pl-6 mb-6",children:e?.map((t,n)=>b.jsx(hy,{value:t.value,index:n},n))})]}),CI=({steps:e})=>b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mt-8 mb-2",children:"Steps"}),e?.length>0&&b.jsx("ol",{className:"list-decimal pl-6 mb-6 text-leaf-green-800 dark:text-gray-300",children:e.map((t,n)=>b.jsx(hy,{value:t.value,index:n},n))})]}),NI=864e5,kI=6e4,RI=36e5,f1=Symbol.for("constructDateFrom");function Ci(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&f1 in e?e[f1](t):e instanceof Date?new e.constructor(t):new Date(t)}function An(e,t){return Ci(e,e)}function II(e,t,n){const r=An(e);return isNaN(t)?Ci(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function OI(e,t,n){const r=An(e);if(isNaN(t))return Ci(e,NaN);if(!t)return r;const a=r.getDate(),u=Ci(e,r.getTime());u.setMonth(r.getMonth()+t+1,0);const l=u.getDate();return a>=l?u:(r.setFullYear(u.getFullYear(),u.getMonth(),a),r)}function $a(e,t,n){const{years:r=0,months:a=0,weeks:u=0,days:l=0,hours:d=0,minutes:f=0,seconds:h=0}=t,g=An(e),T=a||r?OI(g,a+r*12):g,_=l||u?II(T,l+u*7):T,v=f+d*60,N=(h+v*60)*1e3;return Ci(e,+_+N)}let DI={};function LI(){return DI}function h1(e){const t=An(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function os(e,...t){const n=Ci.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function p1(e,t){const n=An(e);return n.setHours(0,0,0,0),n}function PI(e,t,n){const[r,a]=os(n?.in,e,t),u=p1(r),l=p1(a),d=+u-h1(u),f=+l-h1(l);return Math.round((d-f)/NI)}function nu(e,t){const n=+An(e)-+An(t);return n<0?-1:n>0?1:n}function MI(e,t,n){const[r,a]=os(n?.in,e,t),u=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return u*12+l}function FI(e,t,n){const[r,a]=os(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function BI(e,t,n){const[r,a]=os(n?.in,e,t),u=m1(r,a),l=Math.abs(PI(r,a));r.setDate(r.getDate()-u*l);const d=+(m1(r,a)===-u),f=u*(l-d);return f===0?0:f}function m1(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function qh(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function UI(e,t,n){const[r,a]=os(n?.in,e,t),u=(+r-+a)/RI;return qh(n?.roundingMethod)(u)}function py(e,t){return+An(e)-+An(t)}function jI(e,t,n){const r=py(e,t)/kI;return qh(n?.roundingMethod)(r)}function HI(e,t){const n=An(e);return n.setHours(23,59,59,999),n}function $I(e,t){const n=An(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function zI(e,t){const n=An(e);return+HI(n)==+$I(n)}function qI(e,t,n){const[r,a,u]=os(n?.in,e,e,t),l=nu(a,u),d=Math.abs(MI(a,u));if(d<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*d);let f=nu(a,u)===-l;zI(r)&&d===1&&nu(r,u)===1&&(f=!1);const h=l*(d-+f);return h===0?0:h}function WI(e,t,n){const r=py(e,t)/1e3;return qh(n?.roundingMethod)(r)}function YI(e,t,n){const[r,a]=os(n?.in,e,t),u=nu(r,a),l=Math.abs(FI(r,a));r.setFullYear(1584),a.setFullYear(1584);const d=nu(r,a)===-u,f=u*(l-+d);return f===0?0:f}function VI(e,t){const[n,r]=os(e,t.start,t.end);return{start:n,end:r}}const QI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GI=(e,t,n)=>{let r;const a=QI[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const KI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZI={date:cf({formats:KI,defaultWidth:"full"}),time:cf({formats:XI,defaultWidth:"full"}),dateTime:cf({formats:JI,defaultWidth:"full"})},eO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tO=(e,t,n,r)=>eO[e];function za(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):l;a=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;a=e.values[d]||e.values[l]}const u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}const nO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lO={ordinalNumber:oO,era:za({values:nO,defaultWidth:"wide"}),quarter:za({values:rO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:za({values:sO,defaultWidth:"wide"}),day:za({values:iO,defaultWidth:"wide"}),dayPeriod:za({values:aO,defaultWidth:"wide",formattingValues:uO,defaultFormattingWidth:"wide"})};function qa(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],u=t.match(a);if(!u)return null;const l=u[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?dO(d,T=>T.test(l)):cO(d,T=>T.test(l));let h;h=e.valueCallback?e.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const g=t.slice(l.length);return{value:h,rest:g}}}function cO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function dO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function fO(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],u=t.match(e.parsePattern);if(!u)return null;let l=e.valueCallback?e.valueCallback(u[0]):u[0];l=n.valueCallback?n.valueCallback(l):l;const d=t.slice(a.length);return{value:l,rest:d}}}const hO=/^(\d+)(th|st|nd|rd)?/i,pO=/\d+/i,mO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gO={any:[/^b/i,/^(a|c)/i]},EO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bO={any:[/1/i,/2/i,/3/i,/4/i]},yO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_O={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SO={ordinalNumber:fO({matchPattern:hO,parsePattern:pO,valueCallback:e=>parseInt(e,10)}),era:qa({matchPatterns:mO,defaultMatchWidth:"wide",parsePatterns:gO,defaultParseWidth:"any"}),quarter:qa({matchPatterns:EO,defaultMatchWidth:"wide",parsePatterns:bO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qa({matchPatterns:yO,defaultMatchWidth:"wide",parsePatterns:TO,defaultParseWidth:"any"}),day:qa({matchPatterns:_O,defaultMatchWidth:"wide",parsePatterns:wO,defaultParseWidth:"any"}),dayPeriod:qa({matchPatterns:xO,defaultMatchWidth:"any",parsePatterns:vO,defaultParseWidth:"any"})},AO={code:"en-US",formatDistance:GI,formatLong:ZI,formatRelative:tO,localize:lO,match:SO,options:{weekStartsOn:0,firstWeekContainsDate:1}},CO=["years","months","weeks","days","hours","minutes","seconds"];function NO(e,t){const n=LI(),r=t?.locale??n.locale??AO,a=t?.format??CO,u=t?.zero??!1,l=t?.delimiter??" ";return r.formatDistance?a.reduce((f,h)=>{const g=`x${h.replace(/(^.)/,_=>_.toUpperCase())}`,T=e[h];return T!==void 0&&(u||e[h])?f.concat(r.formatDistance(g,T)):f},[]).join(l):""}function kO(e,t){const{start:n,end:r}=VI(t?.in,e),a={},u=YI(r,n);u&&(a.years=u);const l=$a(n,{years:a.years}),d=qI(r,l);d&&(a.months=d);const f=$a(l,{months:a.months}),h=BI(r,f);h&&(a.days=h);const g=$a(f,{days:a.days}),T=UI(r,g);T&&(a.hours=T);const _=$a(g,{hours:a.hours}),v=jI(r,_);v&&(a.minutes=v);const x=$a(_,{minutes:a.minutes}),N=WI(r,x);return N&&(a.seconds=N),a}const g1=e=>{const t=kO({start:0,end:(e||0)*60*1e3});return NO(t,{format:["hours","minutes"]})},RO=({activeTab:e,onTabChange:t})=>b.jsx("div",{className:"block md:hidden mb-4",children:b.jsxs("div",{className:"border-b border-gray-300 dark:border-gray-700 flex",children:[b.jsx("button",{className:`flex-1 p-2 text-lg font-semibold ${e==="ingredients"?"border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100":"text-gray-500"}`,onClick:()=>t("ingredients"),children:"Ingredients"}),b.jsx("button",{className:`flex-1 p-2 text-lg font-semibold ${e==="directions"?"border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100":"text-gray-500"}`,onClick:()=>t("directions"),children:"Directions"})]})});function IO({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const OO=y.forwardRef(IO),DO=({index:e,ingredient:t,isChecked:n,onCheck:r})=>b.jsxs("div",{className:"flex items-start gap-3",onClick:()=>r(e),children:[b.jsx("input",{type:"checkbox",checked:n,onChange:()=>r(e),className:"peer hidden",id:`checkbox-${e}`}),b.jsx("label",{htmlFor:`checkbox-${e}`,className:`w-6 h-6 flex items-center justify-center border-2 border-gray-400 rounded-md cursor-pointer transition-all 
            peer-checked:bg-leaf-green-500 peer-checked:border-leaf-green-500 
            dark:border-gray-600 dark:peer-checked:bg-leaf-green-400 dark:peer-checked:border-leaf-green-400`,children:b.jsx(OO,{className:`w-4 h-4 text-white peer-checked:block ${!n&&"hidden"}`})}),b.jsx("span",{className:`text-lg leading-6 flex-1 transition-all ${n?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-gray-300"}`,children:t.value})]}),my=({ingredients:e,checkedItems:t,onCheck:n})=>b.jsx("div",{className:"flex flex-col space-y-4",children:e.map((r,a)=>b.jsx(DO,{ingredient:r,index:a,onCheck:n,isChecked:!!t[a]||!1},a))}),gy=({steps:e})=>b.jsx("ol",{className:"list-decimal space-y-4 ml-5 text-gray-800 dark:text-gray-300",children:e.map((t,n)=>b.jsx("li",{className:"text-lg p-2 leading-relaxed",children:t.value},n))}),LO=({recipe:e,checkedItems:t,onCheck:n})=>b.jsxs("div",{className:"hidden md:flex md:flex-row gap-6 w-full",children:[b.jsxs("div",{className:"w-1/3 h-full overflow-y-auto px-4 xs:py-4 border-r border-gray-300 dark:border-leaf-green-100",children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Ingredients"}),b.jsx(my,{ingredients:e.ingredients,checkedItems:t,onCheck:n})]}),b.jsxs("div",{className:"w-2/3 h-full overflow-y-auto px-4 xs:py-4",children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Directions"}),b.jsx(gy,{steps:e.steps})]})]}),PO=({activeTab:e,recipe:t,checkedItems:n,onCheck:r})=>b.jsx("div",{className:"block md:hidden h-full w-full overflow-y-auto px-4 sm:pt-4",children:e==="ingredients"?b.jsx(my,{ingredients:t.ingredients,checkedItems:n,onCheck:r}):b.jsx(gy,{steps:t.steps})}),MO=({recipe:e})=>{const[t,n]=y.useState({}),[r,a]=y.useState("ingredients"),u=l=>{n(d=>({...d,[l]:!d[l]}))};return b.jsxs("div",{className:"w-full h-full p-4 pt-[1.5rem]",children:[b.jsx(RO,{activeTab:r,onTabChange:a}),b.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[b.jsx(PO,{activeTab:r,recipe:e,checkedItems:t,onCheck:u}),b.jsx(LO,{recipe:e,checkedItems:t,onCheck:u})]})]})},df=({label:e,value:t})=>b.jsxs(b.Fragment,{children:[b.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:e}),b.jsx("div",{className:"text-leaf-green-700 dark:text-white",children:b.jsx("strong",{children:t})})]}),FO=({recipe:e})=>{const{openModal:t}=zs(),n=()=>{t(b.jsx(MO,{recipe:e}),Ds.Large)};return b.jsxs("div",{className:"pb-5 pt-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[b.jsx("div",{className:"mb-2",children:b.jsx(df,{label:"servings",value:e.servings})}),b.jsx("div",{className:"mb-2",children:b.jsx(df,{label:"prep time",value:g1(e.prep_time)})}),b.jsx("div",{className:"mb-3",children:b.jsx(df,{label:"total time",value:g1(e.total_time)})}),b.jsxs(Ye,{btnType:"secondary",onClick:n,children:["Get Cookin",b.jsx(Ev,{className:"h-5 w-5"})]})]})},BO=async e=>{const{data:t,error:n}=await Te.from("recipe_to_users").select("id, user_id, permission, users(email)").eq("recipe_id",e);return n?(console.error("Error fetching shared users:",n),[]):t||[]},UO=async e=>{const{data:t,error:n}=await Te.from("recipes").select("is_public").eq("id",e).single();return n?(console.error("Error fetching recipe visibility:",n),!1):t.is_public},jO=async(e,t)=>{const{error:n}=await Te.from("recipes").update({is_public:!t}).eq("id",e);if(n)throw new Error("Failed to update public status.");return!t},HO=async e=>{const{data:t,error:n}=await Te.from("users").select("id, display_name, profile_image").eq("email",e).single();if(n||!t?.id)throw new Error("User not found.");return{...t,display_name:t.display_name||e}},$O=async(e,t,n)=>{const{error:r}=await Te.from("recipe_to_users").insert([{recipe_id:e,user_id:t,permission:n}]);if(r)throw new Error("Failed to share recipe.")},zO=async e=>{const{error:t}=await Te.from("recipe_to_users").delete().eq("id",e);if(t)throw new Error("Failed to revoke access.")},As={fetchRecipeVisibility:UO,fetchSharedUsers:BO,findUserByEmail:HO,revokeUserAccess:zO,shareRecipeWithUser:$O,togglePublicShare:jO},qO=({recipe:e})=>{const t=mn(),n=Qn(),{openModal:r,closeModal:a}=zs(),[u,l]=y.useState(e.is_public||!1),[d,f]=y.useState([]),h=()=>{t(`/recipes/${e.id}/edit`,{state:{recipe:e}})},g=()=>r(b.jsx(iy,{onCancelDelete:a,onDelete:A}));y.useEffect(()=>{(async()=>f(await As.fetchSharedUsers(e.id)))()},[e.id]);const T=async()=>{try{const L=await As.togglePublicShare(e.id,!!e.is_public);l(L),n.success(`Recipe is now ${L?"public":"private"}!`)}catch(L){n.error(L.message)}},_=async(L,H)=>{if(!L)return n.error("Please enter a valid email.");try{const U=await As.findUserByEmail(L);await As.shareRecipeWithUser(e.id,U.id,H),n.success(`Recipe shared with ${U.display_name} as ${H}.`),f(await As.fetchSharedUsers(e.id))}catch(U){n.error(U.message)}},v=async L=>{try{await As.revokeUserAccess(L),n.success("Access revoked."),f(await As.fetchSharedUsers(e.id))}catch(H){n.error(H.message)}},x=()=>{const L=`${window.location.origin}/recipes/${e.id}`;navigator.clipboard.writeText(L),n.success("Public link copied!")},N=()=>{r(b.jsx(sy,{typeOfShare:"Recipe",sharedUsers:d,isPublic:u,onTogglePublicShare:T,shareWithUser:_,onRevokeAccess:v,onCopyLink:x,onClose:a}))},A=async()=>{try{await vi.deleteRecipe(e.id),n.success("Recipe deleted successfully!"),a(),t("/")}catch{n.error("Failed to delete recipe. Please try again.")}},R=[{label:"Edit",onClick:h},{label:"Delete",onClick:g},{label:"Share",onClick:N}];return b.jsx(mE,{options:R,icon:b.jsx(cE,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})},WO=()=>{const{id:e}=Dl(),{user:t}=js(),[n,r]=y.useState(null),[a,u]=y.useState(!0);return y.useEffect(()=>{(async()=>{u(!0);try{const d=await vi.fetchRecipeDetails(e,t?.id);r(d)}finally{u(!1)}})()},[e,t?.id]),a?b.jsx(Us,{className:"mt-40"}):n?b.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-between items-center mb-4",children:[b.jsx(Ht,{to:"/",children:b.jsxs("div",{className:"flex justify-center items-center font-medium text-center text-leaf-green-600 dark:text-leaf-green-100",children:[b.jsx(lE,{"aria-hidden":"true",className:"size-6"}),b.jsx("p",{children:"Recipes"})]})}),b.jsx("div",{className:"flex justify-end gap-2",children:!!t?.id&&b.jsx(qO,{recipe:n})})]}),b.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-6",children:[b.jsxs("div",{className:"w-full md:w-3/4",children:[!!n?.img_url?.length&&b.jsx("div",{className:"relative",children:b.jsx("img",{src:n.img_url,alt:n.title,className:"w-full h-64 object-cover rounded-t-lg"})}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-b-lg p-6 ${!n?.img_url&&"rounded-t-lg"}`,children:[b.jsx(wu,{title:n.title,description:n.description}),b.jsx(AI,{ingredients:n.ingredients}),b.jsx(CI,{steps:n.steps}),n.original_recipe_url&&b.jsx("div",{className:"mx-2",children:b.jsxs("small",{children:["source:",b.jsx("a",{className:"pl-1 italic",href:n.original_recipe_url,children:n.original_recipe_url})]})})]})]}),b.jsx("div",{className:"w-full md:w-1/4",children:b.jsx(FO,{recipe:n})})]})]}):b.jsx(_u,{message:"Recipe not found."})};function YO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const Zl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fi(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Wh(e){return"nodeType"in e}function rn(e){var t,n;return e?Fi(e)?e:Wh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Yh(e){const{Document:t}=rn(e);return e instanceof t}function Ru(e){return Fi(e)?!1:e instanceof rn(e).HTMLElement}function Ey(e){return e instanceof rn(e).SVGElement}function Bi(e){return e?Fi(e)?e.document:Wh(e)?Yh(e)?e:Ru(e)||Ey(e)?e.ownerDocument:document:document:document}const or=Zl?y.useLayoutEffect:y.useEffect;function Vh(e){const t=y.useRef(e);return or(()=>{t.current=e}),y.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function VO(){const e=y.useRef(null),t=y.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=y.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function mu(e,t){t===void 0&&(t=[e]);const n=y.useRef(e);return or(()=>{n.current!==e&&(n.current=e)},t),n}function Iu(e,t){const n=y.useRef();return y.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Nl(e){const t=Vh(e),n=y.useRef(null),r=y.useCallback(a=>{a!==n.current&&t?.(a,n.current),n.current=a},[]);return[n,r]}function Yf(e){const t=y.useRef();return y.useEffect(()=>{t.current=e},[e]),t.current}let ff={};function Ou(e,t){return y.useMemo(()=>{if(t)return t;const n=ff[e]==null?0:ff[e]+1;return ff[e]=n,e+"-"+n},[e,t])}function by(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((u,l)=>{const d=Object.entries(l);for(const[f,h]of d){const g=u[f];g!=null&&(u[f]=g+e*h)}return u},{...t})}}const _i=by(1),kl=by(-1);function QO(e){return"clientX"in e&&"clientY"in e}function Qh(e){if(!e)return!1;const{KeyboardEvent:t}=rn(e.target);return t&&e instanceof t}function GO(e){if(!e)return!1;const{TouchEvent:t}=rn(e.target);return t&&e instanceof t}function Vf(e){if(GO(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return QO(e)?{x:e.clientX,y:e.clientY}:null}const gu=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[gu.Translate.toString(e),gu.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),E1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function KO(e){return e.matches(E1)?e:e.querySelector(E1)}const XO={display:"none"};function JO(e){let{id:t,value:n}=e;return en.createElement("div",{id:t,style:XO},n)}function ZO(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return en.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function e4(){const[e,t]=y.useState("");return{announce:y.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const yy=y.createContext(null);function t4(e){const t=y.useContext(yy);y.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function n4(){const[e]=y.useState(()=>new Set),t=y.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[y.useCallback(r=>{let{type:a,event:u}=r;e.forEach(l=>{var d;return(d=l[a])==null?void 0:d.call(l,u)})},[e]),t]}const r4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},s4={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function i4(e){let{announcements:t=s4,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=r4}=e;const{announce:u,announcement:l}=e4(),d=Ou("DndLiveRegion"),[f,h]=y.useState(!1);if(y.useEffect(()=>{h(!0)},[]),t4(y.useMemo(()=>({onDragStart(T){let{active:_}=T;u(t.onDragStart({active:_}))},onDragMove(T){let{active:_,over:v}=T;t.onDragMove&&u(t.onDragMove({active:_,over:v}))},onDragOver(T){let{active:_,over:v}=T;u(t.onDragOver({active:_,over:v}))},onDragEnd(T){let{active:_,over:v}=T;u(t.onDragEnd({active:_,over:v}))},onDragCancel(T){let{active:_,over:v}=T;u(t.onDragCancel({active:_,over:v}))}}),[u,t])),!f)return null;const g=en.createElement(en.Fragment,null,en.createElement(JO,{id:r,value:a.draggable}),en.createElement(ZO,{id:d,announcement:l}));return n?Wa.createPortal(g,n):g}var ft;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ft||(ft={}));function Rl(){}const $n=Object.freeze({x:0,y:0});function a4(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function u4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function o4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function l4(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function b1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const c4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=b1(t,t.left,t.top),u=[];for(const l of r){const{id:d}=l,f=n.get(d);if(f){const h=a4(b1(f),a);u.push({id:d,data:{droppableContainer:l,value:h}})}}return u.sort(u4)};function d4(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),u=Math.min(t.top+t.height,e.top+e.height),l=a-r,d=u-n;if(r<a&&n<u){const f=t.width*t.height,h=e.width*e.height,g=l*d,T=g/(f+h-g);return Number(T.toFixed(4))}return 0}const f4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const u of r){const{id:l}=u,d=n.get(l);if(d){const f=d4(d,t);f>0&&a.push({id:l,data:{droppableContainer:u,value:f}})}}return a.sort(o4)};function h4(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Ty(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:$n}function p4(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return a.reduce((l,d)=>({...l,top:l.top+e*d.y,bottom:l.bottom+e*d.y,left:l.left+e*d.x,right:l.right+e*d.x}),{...n})}}const m4=p4(1);function g4(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function E4(e,t,n){const r=g4(t);if(!r)return e;const{scaleX:a,scaleY:u,x:l,y:d}=r,f=e.left-l-(1-a)*parseFloat(n),h=e.top-d-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?e.width/a:e.width,T=u?e.height/u:e.height;return{width:g,height:T,top:h,right:f+g,bottom:h+T,left:f}}const b4={ignoreTransform:!1};function Ui(e,t){t===void 0&&(t=b4);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:g}=rn(e).getComputedStyle(e);h&&(n=E4(n,h,g))}const{top:r,left:a,width:u,height:l,bottom:d,right:f}=n;return{top:r,left:a,width:u,height:l,bottom:d,right:f}}function y1(e){return Ui(e,{ignoreTransform:!0})}function y4(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function T4(e,t){return t===void 0&&(t=rn(e).getComputedStyle(e)),t.position==="fixed"}function _4(e,t){t===void 0&&(t=rn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const u=t[a];return typeof u=="string"?n.test(u):!1})}function Gh(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(Yh(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Ru(a)||Ey(a)||n.includes(a))return n;const u=rn(e).getComputedStyle(a);return a!==e&&_4(a,u)&&n.push(a),T4(a,u)?n:r(a.parentNode)}return e?r(e):n}function _y(e){const[t]=Gh(e,1);return t??null}function hf(e){return!Zl||!e?null:Fi(e)?e:Wh(e)?Yh(e)||e===Bi(e).scrollingElement?window:Ru(e)?e:null:null}function wy(e){return Fi(e)?e.scrollX:e.scrollLeft}function xy(e){return Fi(e)?e.scrollY:e.scrollTop}function Qf(e){return{x:wy(e),y:xy(e)}}var yt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(yt||(yt={}));function vy(e){return!Zl||!e?!1:e===document.scrollingElement}function Sy(e){const t={x:0,y:0},n=vy(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,u=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,d=e.scrollLeft>=r.x;return{isTop:a,isLeft:u,isBottom:l,isRight:d,maxScroll:r,minScroll:t}}const w4={x:.2,y:.2};function x4(e,t,n,r,a){let{top:u,left:l,right:d,bottom:f}=n;r===void 0&&(r=10),a===void 0&&(a=w4);const{isTop:h,isBottom:g,isLeft:T,isRight:_}=Sy(e),v={x:0,y:0},x={x:0,y:0},N={height:t.height*a.y,width:t.width*a.x};return!h&&u<=t.top+N.height?(v.y=yt.Backward,x.y=r*Math.abs((t.top+N.height-u)/N.height)):!g&&f>=t.bottom-N.height&&(v.y=yt.Forward,x.y=r*Math.abs((t.bottom-N.height-f)/N.height)),!_&&d>=t.right-N.width?(v.x=yt.Forward,x.x=r*Math.abs((t.right-N.width-d)/N.width)):!T&&l<=t.left+N.width&&(v.x=yt.Backward,x.x=r*Math.abs((t.left+N.width-l)/N.width)),{direction:v,speed:x}}function v4(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:l}=window;return{top:0,left:0,right:u,bottom:l,width:u,height:l}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Ay(e){return e.reduce((t,n)=>_i(t,Qf(n)),$n)}function S4(e){return e.reduce((t,n)=>t+wy(n),0)}function A4(e){return e.reduce((t,n)=>t+xy(n),0)}function C4(e,t){if(t===void 0&&(t=Ui),!e)return;const{top:n,left:r,bottom:a,right:u}=t(e);_y(e)&&(a<=0||u<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const N4=[["x",["left","right"],S4],["y",["top","bottom"],A4]];class Kh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Gh(n),a=Ay(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,l,d]of N4)for(const f of l)Object.defineProperty(this,f,{get:()=>{const h=d(r),g=a[u]-h;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ru{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function k4(e){const{EventTarget:t}=rn(e);return e instanceof t?e:Bi(e)}function pf(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var vn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(vn||(vn={}));function T1(e){e.preventDefault()}function R4(e){e.stopPropagation()}var Fe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Fe||(Fe={}));const Cy={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter,Fe.Tab]},I4=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Fe.Right:return{...n,x:n.x+25};case Fe.Left:return{...n,x:n.x-25};case Fe.Down:return{...n,y:n.y+25};case Fe.Up:return{...n,y:n.y-25}}};class Ny{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ru(Bi(n)),this.windowListeners=new ru(rn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(vn.Resize,this.handleCancel),this.windowListeners.add(vn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(vn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&C4(r),n($n)}handleKeyDown(t){if(Qh(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:u=Cy,coordinateGetter:l=I4,scrollBehavior:d="smooth"}=a,{code:f}=t;if(u.end.includes(f)){this.handleEnd(t);return}if(u.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:h}=r.current,g=h?{x:h.left,y:h.top}:$n;this.referenceCoordinates||(this.referenceCoordinates=g);const T=l(t,{active:n,context:r.current,currentCoordinates:g});if(T){const _=kl(T,g),v={x:0,y:0},{scrollableAncestors:x}=r.current;for(const N of x){const A=t.code,{isTop:R,isRight:L,isLeft:H,isBottom:U,maxScroll:W,minScroll:te}=Sy(N),se=v4(N),Z={x:Math.min(A===Fe.Right?se.right-se.width/2:se.right,Math.max(A===Fe.Right?se.left:se.left+se.width/2,T.x)),y:Math.min(A===Fe.Down?se.bottom-se.height/2:se.bottom,Math.max(A===Fe.Down?se.top:se.top+se.height/2,T.y))},ce=A===Fe.Right&&!L||A===Fe.Left&&!H,ve=A===Fe.Down&&!U||A===Fe.Up&&!R;if(ce&&Z.x!==T.x){const Re=N.scrollLeft+_.x,tt=A===Fe.Right&&Re<=W.x||A===Fe.Left&&Re>=te.x;if(tt&&!_.y){N.scrollTo({left:Re,behavior:d});return}tt?v.x=N.scrollLeft-Re:v.x=A===Fe.Right?N.scrollLeft-W.x:N.scrollLeft-te.x,v.x&&N.scrollBy({left:-v.x,behavior:d});break}else if(ve&&Z.y!==T.y){const Re=N.scrollTop+_.y,tt=A===Fe.Down&&Re<=W.y||A===Fe.Up&&Re>=te.y;if(tt&&!_.x){N.scrollTo({top:Re,behavior:d});return}tt?v.y=N.scrollTop-Re:v.y=A===Fe.Down?N.scrollTop-W.y:N.scrollTop-te.y,v.y&&N.scrollBy({top:-v.y,behavior:d});break}}this.handleMove(t,_i(kl(T,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ny.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Cy,onActivation:a}=t,{active:u}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const d=u.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),a?.({event:e.nativeEvent}),!0)}return!1}}];function _1(e){return!!(e&&"distance"in e)}function w1(e){return!!(e&&"delay"in e)}class Xh{constructor(t,n,r){var a;r===void 0&&(r=k4(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:u}=t,{target:l}=u;this.props=t,this.events=n,this.document=Bi(l),this.documentListeners=new ru(this.document),this.listeners=new ru(r),this.windowListeners=new ru(rn(l)),this.initialCoordinates=(a=Vf(u))!=null?a:$n,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(vn.Resize,this.handleCancel),this.windowListeners.add(vn.DragStart,T1),this.windowListeners.add(vn.VisibilityChange,this.handleCancel),this.windowListeners.add(vn.ContextMenu,T1),this.documentListeners.add(vn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(w1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(_1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(vn.Click,R4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(vn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:u}=this,{onMove:l,options:{activationConstraint:d}}=u;if(!a)return;const f=(n=Vf(t))!=null?n:$n,h=kl(a,f);if(!r&&d){if(_1(d)){if(d.tolerance!=null&&pf(h,d.tolerance))return this.handleCancel();if(pf(h,d.distance))return this.handleStart()}if(w1(d)&&pf(h,d.tolerance))return this.handleCancel();this.handlePending(d,h);return}t.cancelable&&t.preventDefault(),l(f)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const O4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ky extends Xh{constructor(t){const{event:n}=t,r=Bi(n.target);super(t,O4,r)}}ky.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const D4={move:{name:"mousemove"},end:{name:"mouseup"}};var Gf;(function(e){e[e.RightClick=2]="RightClick"})(Gf||(Gf={}));class L4 extends Xh{constructor(t){super(t,D4,Bi(t.event.target))}}L4.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Gf.RightClick?!1:(r?.({event:n}),!0)}}];const mf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class P4 extends Xh{constructor(t){super(t,mf)}static setup(){return window.addEventListener(mf.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(mf.move.name,t)};function t(){}}}P4.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var su;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(su||(su={}));var Il;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Il||(Il={}));function M4(e){let{acceleration:t,activator:n=su.Pointer,canScroll:r,draggingRect:a,enabled:u,interval:l=5,order:d=Il.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:g,delta:T,threshold:_}=e;const v=B4({delta:T,disabled:!u}),[x,N]=VO(),A=y.useRef({x:0,y:0}),R=y.useRef({x:0,y:0}),L=y.useMemo(()=>{switch(n){case su.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case su.DraggableRect:return a}},[n,a,f]),H=y.useRef(null),U=y.useCallback(()=>{const te=H.current;if(!te)return;const se=A.current.x*R.current.x,Z=A.current.y*R.current.y;te.scrollBy(se,Z)},[]),W=y.useMemo(()=>d===Il.TreeOrder?[...h].reverse():h,[d,h]);y.useEffect(()=>{if(!u||!h.length||!L){N();return}for(const te of W){if(r?.(te)===!1)continue;const se=h.indexOf(te),Z=g[se];if(!Z)continue;const{direction:ce,speed:ve}=x4(te,Z,L,t,_);for(const Re of["x","y"])v[Re][ce[Re]]||(ve[Re]=0,ce[Re]=0);if(ve.x>0||ve.y>0){N(),H.current=te,x(U,l),A.current=ve,R.current=ce;return}}A.current={x:0,y:0},R.current={x:0,y:0},N()},[t,U,r,N,u,l,JSON.stringify(L),JSON.stringify(v),x,h,W,g,JSON.stringify(_)])}const F4={x:{[yt.Backward]:!1,[yt.Forward]:!1},y:{[yt.Backward]:!1,[yt.Forward]:!1}};function B4(e){let{delta:t,disabled:n}=e;const r=Yf(t);return Iu(a=>{if(n||!r||!a)return F4;const u={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[yt.Backward]:a.x[yt.Backward]||u.x===-1,[yt.Forward]:a.x[yt.Forward]||u.x===1},y:{[yt.Backward]:a.y[yt.Backward]||u.y===-1,[yt.Forward]:a.y[yt.Forward]||u.y===1}}},[n,t,r])}function U4(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Iu(a=>{var u;return t==null?null:(u=r??a)!=null?u:null},[r,t])}function j4(e,t){return y.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,u=a.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...u]},[]),[e,t])}var Eu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Eu||(Eu={}));var Kf;(function(e){e.Optimized="optimized"})(Kf||(Kf={}));const x1=new Map;function H4(e,t){let{dragging:n,dependencies:r,config:a}=t;const[u,l]=y.useState(null),{frequency:d,measure:f,strategy:h}=a,g=y.useRef(e),T=A(),_=mu(T),v=y.useCallback(function(R){R===void 0&&(R=[]),!_.current&&l(L=>L===null?R:L.concat(R.filter(H=>!L.includes(H))))},[_]),x=y.useRef(null),N=Iu(R=>{if(T&&!n)return x1;if(!R||R===x1||g.current!==e||u!=null){const L=new Map;for(let H of e){if(!H)continue;if(u&&u.length>0&&!u.includes(H.id)&&H.rect.current){L.set(H.id,H.rect.current);continue}const U=H.node.current,W=U?new Kh(f(U),U):null;H.rect.current=W,W&&L.set(H.id,W)}return L}return R},[e,u,n,T,f]);return y.useEffect(()=>{g.current=e},[e]),y.useEffect(()=>{T||v()},[n,T]),y.useEffect(()=>{u&&u.length>0&&l(null)},[JSON.stringify(u)]),y.useEffect(()=>{T||typeof d!="number"||x.current!==null||(x.current=setTimeout(()=>{v(),x.current=null},d))},[d,T,v,...r]),{droppableRects:N,measureDroppableContainers:v,measuringScheduled:u!=null};function A(){switch(h){case Eu.Always:return!1;case Eu.BeforeDragging:return n;default:return!n}}}function Ry(e,t){return Iu(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function $4(e,t){return Ry(e,t)}function z4(e){let{callback:t,disabled:n}=e;const r=Vh(t),a=y.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(r)},[r,n]);return y.useEffect(()=>()=>a?.disconnect(),[a]),a}function ec(e){let{callback:t,disabled:n}=e;const r=Vh(t),a=y.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(r)},[n]);return y.useEffect(()=>()=>a?.disconnect(),[a]),a}function q4(e){return new Kh(Ui(e),e)}function v1(e,t,n){t===void 0&&(t=q4);const[r,a]=y.useState(null);function u(){a(f=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=f??n)!=null?h:null}const g=t(e);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const l=z4({callback(f){if(e)for(const h of f){const{type:g,target:T}=h;if(g==="childList"&&T instanceof HTMLElement&&T.contains(e)){u();break}}}}),d=ec({callback:u});return or(()=>{u(),e?(d?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),l?.disconnect())},[e]),r}function W4(e){const t=Ry(e);return Ty(e,t)}const S1=[];function Y4(e){const t=y.useRef(e),n=Iu(r=>e?r&&r!==S1&&e&&t.current&&e.parentNode===t.current.parentNode?r:Gh(e):S1,[e]);return y.useEffect(()=>{t.current=e},[e]),n}function V4(e){const[t,n]=y.useState(null),r=y.useRef(e),a=y.useCallback(u=>{const l=hf(u.target);l&&n(d=>d?(d.set(l,Qf(l)),new Map(d)):null)},[]);return y.useEffect(()=>{const u=r.current;if(e!==u){l(u);const d=e.map(f=>{const h=hf(f);return h?(h.addEventListener("scroll",a,{passive:!0}),[h,Qf(h)]):null}).filter(f=>f!=null);n(d.length?new Map(d):null),r.current=e}return()=>{l(e),l(u)};function l(d){d.forEach(f=>{const h=hf(f);h?.removeEventListener("scroll",a)})}},[a,e]),y.useMemo(()=>e.length?t?Array.from(t.values()).reduce((u,l)=>_i(u,l),$n):Ay(e):$n,[e,t])}function A1(e,t){t===void 0&&(t=[]);const n=y.useRef(null);return y.useEffect(()=>{n.current=null},t),y.useEffect(()=>{const r=e!==$n;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?kl(e,n.current):$n}function Q4(e){y.useEffect(()=>{if(!Zl)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function G4(e,t){return y.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:u}=r;return n[a]=l=>{u(l,t)},n},{}),[e,t])}function Iy(e){return y.useMemo(()=>e?y4(e):null,[e])}const C1=[];function K4(e,t){t===void 0&&(t=Ui);const[n]=e,r=Iy(n?rn(n):null),[a,u]=y.useState(C1);function l(){u(()=>e.length?e.map(f=>vy(f)?r:new Kh(t(f),f)):C1)}const d=ec({callback:l});return or(()=>{d?.disconnect(),l(),e.forEach(f=>d?.observe(f))},[e]),a}function X4(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ru(t)?t:e}function J4(e){let{measure:t}=e;const[n,r]=y.useState(null),a=y.useCallback(h=>{for(const{target:g}of h)if(Ru(g)){r(T=>{const _=t(g);return T?{...T,width:_.width,height:_.height}:_});break}},[t]),u=ec({callback:a}),l=y.useCallback(h=>{const g=X4(h);u?.disconnect(),g&&u?.observe(g),r(g?t(g):null)},[t,u]),[d,f]=Nl(l);return y.useMemo(()=>({nodeRef:d,rect:n,setRef:f}),[n,d,f])}const Z4=[{sensor:ky,options:{}},{sensor:Ny,options:{}}],e5={current:{}},dl={draggable:{measure:y1},droppable:{measure:y1,strategy:Eu.WhileDragging,frequency:Kf.Optimized},dragOverlay:{measure:Ui}};class iu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const t5={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new iu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Rl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dl,measureDroppableContainers:Rl,windowRect:null,measuringScheduled:!1},n5={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Rl,draggableNodes:new Map,over:null,measureDroppableContainers:Rl},tc=y.createContext(n5),Oy=y.createContext(t5);function r5(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new iu}}}function s5(e,t){switch(t.type){case ft.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ft.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ft.DragEnd:case ft.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ft.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new iu(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case ft.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,u=e.droppable.containers.get(n);if(!u||r!==u.key)return e;const l=new iu(e.droppable.containers);return l.set(n,{...u,disabled:a}),{...e,droppable:{...e.droppable,containers:l}}}case ft.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const u=new iu(e.droppable.containers);return u.delete(n),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function i5(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=y.useContext(tc),u=Yf(r),l=Yf(n?.id);return y.useEffect(()=>{if(!t&&!r&&u&&l!=null){if(!Qh(u)||document.activeElement===u.target)return;const d=a.get(l);if(!d)return;const{activatorNode:f,node:h}=d;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[f.current,h.current]){if(!g)continue;const T=KO(g);if(T){T.focus();break}}})}},[r,t,a,l,u]),null}function a5(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,u)=>u({transform:a,...r}),n):n}function u5(e){return y.useMemo(()=>({draggable:{...dl.draggable,...e?.draggable},droppable:{...dl.droppable,...e?.droppable},dragOverlay:{...dl.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function o5(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const u=y.useRef(!1),{x:l,y:d}=typeof a=="boolean"?{x:a,y:a}:a;or(()=>{if(!l&&!d||!t){u.current=!1;return}if(u.current||!r)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),T=Ty(g,r);if(l||(T.x=0),d||(T.y=0),u.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const _=_y(h);_&&_.scrollBy({top:T.y,left:T.x})}},[t,l,d,r,n])}const Dy=y.createContext({...$n,scaleX:1,scaleY:1});var es;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(es||(es={}));const l5=y.memo(function(t){var n,r,a,u;let{id:l,accessibility:d,autoScroll:f=!0,children:h,sensors:g=Z4,collisionDetection:T=f4,measuring:_,modifiers:v,...x}=t;const N=y.useReducer(s5,void 0,r5),[A,R]=N,[L,H]=n4(),[U,W]=y.useState(es.Uninitialized),te=U===es.Initialized,{draggable:{active:se,nodes:Z,translate:ce},droppable:{containers:ve}}=A,Re=se!=null?Z.get(se):null,tt=y.useRef({initial:null,translated:null}),ze=y.useMemo(()=>{var Ke;return se!=null?{id:se,data:(Ke=Re?.data)!=null?Ke:e5,rect:tt}:null},[se,Re]),nt=y.useRef(null),[At,lt]=y.useState(null),[ke,ee]=y.useState(null),le=mu(x,Object.values(x)),ne=Ou("DndDescribedBy",l),P=y.useMemo(()=>ve.getEnabled(),[ve]),q=u5(_),{droppableRects:me,measureDroppableContainers:be,measuringScheduled:Se}=H4(P,{dragging:te,dependencies:[ce.x,ce.y],config:q.droppable}),ye=U4(Z,se),Me=y.useMemo(()=>ke?Vf(ke):null,[ke]),Ae=kr(),Oe=$4(ye,q.draggable.measure);o5({activeNode:se!=null?Z.get(se):null,config:Ae.layoutShiftCompensation,initialRect:Oe,measure:q.draggable.measure});const _e=v1(ye,q.draggable.measure,Oe),Gn=v1(ye?ye.parentElement:null),sn=y.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:Z,draggingNode:null,draggingNodeRect:null,droppableContainers:ve,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Cn=ve.getNodeFor((n=sn.current.over)==null?void 0:n.id),an=J4({measure:q.dragOverlay.measure}),lr=(r=an.nodeRef.current)!=null?r:ye,cr=te?(a=an.rect)!=null?a:_e:null,qs=!!(an.nodeRef.current&&an.rect),ji=W4(qs?null:_e),ls=Iy(lr?rn(lr):null),$t=Y4(te?Cn??ye:null),Nn=K4($t),Ar=a5(v,{transform:{x:ce.x-ji.x,y:ce.y-ji.y,scaleX:1,scaleY:1},activatorEvent:ke,active:ze,activeNodeRect:_e,containerNodeRect:Gn,draggingNodeRect:cr,over:sn.current.over,overlayNodeRect:an.rect,scrollableAncestors:$t,scrollableAncestorRects:Nn,windowRect:ls}),Hi=Me?_i(Me,ce):null,$i=V4($t),Du=A1($i),Lu=A1($i,[_e]),Kn=_i(Ar,Du),kn=cr?m4(cr,Ar):null,Cr=ze&&kn?T({active:ze,collisionRect:kn,droppableRects:me,droppableContainers:P,pointerCoordinates:Hi}):null,Nr=l4(Cr,"id"),[zt,Pu]=y.useState(null),Mu=qs?Ar:_i(Ar,Lu),Fu=h4(Mu,(u=zt?.rect)!=null?u:null,_e),zi=y.useRef(null),Ws=y.useCallback((Ke,Ct)=>{let{sensor:Nt,options:Rn}=Ct;if(nt.current==null)return;const Ft=Z.get(nt.current);if(!Ft)return;const kt=Ke.nativeEvent,qt=new Nt({active:nt.current,activeNode:Ft,event:kt,options:Rn,context:sn,onAbort(Xe){if(!Z.get(Xe))return;const{onDragAbort:Rt}=le.current,In={id:Xe};Rt?.(In),L({type:"onDragAbort",event:In})},onPending(Xe,gn,Rt,In){if(!Z.get(Xe))return;const{onDragPending:Xn}=le.current,un={id:Xe,constraint:gn,initialCoordinates:Rt,offset:In};Xn?.(un),L({type:"onDragPending",event:un})},onStart(Xe){const gn=nt.current;if(gn==null)return;const Rt=Z.get(gn);if(!Rt)return;const{onDragStart:In}=le.current,On={activatorEvent:kt,active:{id:gn,data:Rt.data,rect:tt}};Wa.unstable_batchedUpdates(()=>{In?.(On),W(es.Initializing),R({type:ft.DragStart,initialCoordinates:Xe,active:gn}),L({type:"onDragStart",event:On}),lt(zi.current),ee(kt)})},onMove(Xe){R({type:ft.DragMove,coordinates:Xe})},onEnd:dr(ft.DragEnd),onCancel:dr(ft.DragCancel)});zi.current=qt;function dr(Xe){return async function(){const{active:Rt,collisions:In,over:On,scrollAdjustedTranslate:Xn}=sn.current;let un=null;if(Rt&&Xn){const{cancelDrop:fr}=le.current;un={activatorEvent:kt,active:Rt,collisions:In,delta:Xn,over:On},Xe===ft.DragEnd&&typeof fr=="function"&&await Promise.resolve(fr(un))&&(Xe=ft.DragCancel)}nt.current=null,Wa.unstable_batchedUpdates(()=>{R({type:Xe}),W(es.Uninitialized),Pu(null),lt(null),ee(null),zi.current=null;const fr=Xe===ft.DragEnd?"onDragEnd":"onDragCancel";if(un){const Vi=le.current[fr];Vi?.(un),L({type:fr,event:un})}})}}},[Z]),qi=y.useCallback((Ke,Ct)=>(Nt,Rn)=>{const Ft=Nt.nativeEvent,kt=Z.get(Rn);if(nt.current!==null||!kt||Ft.dndKit||Ft.defaultPrevented)return;const qt={active:kt};Ke(Nt,Ct.options,qt)===!0&&(Ft.dndKit={capturedBy:Ct.sensor},nt.current=Rn,Ws(Nt,Ct))},[Z,Ws]),Ys=j4(g,qi);Q4(g),or(()=>{_e&&U===es.Initializing&&W(es.Initialized)},[_e,U]),y.useEffect(()=>{const{onDragMove:Ke}=le.current,{active:Ct,activatorEvent:Nt,collisions:Rn,over:Ft}=sn.current;if(!Ct||!Nt)return;const kt={active:Ct,activatorEvent:Nt,collisions:Rn,delta:{x:Kn.x,y:Kn.y},over:Ft};Wa.unstable_batchedUpdates(()=>{Ke?.(kt),L({type:"onDragMove",event:kt})})},[Kn.x,Kn.y]),y.useEffect(()=>{const{active:Ke,activatorEvent:Ct,collisions:Nt,droppableContainers:Rn,scrollAdjustedTranslate:Ft}=sn.current;if(!Ke||nt.current==null||!Ct||!Ft)return;const{onDragOver:kt}=le.current,qt=Rn.get(Nr),dr=qt&&qt.rect.current?{id:qt.id,rect:qt.rect.current,data:qt.data,disabled:qt.disabled}:null,Xe={active:Ke,activatorEvent:Ct,collisions:Nt,delta:{x:Ft.x,y:Ft.y},over:dr};Wa.unstable_batchedUpdates(()=>{Pu(dr),kt?.(Xe),L({type:"onDragOver",event:Xe})})},[Nr]),or(()=>{sn.current={activatorEvent:ke,active:ze,activeNode:ye,collisionRect:kn,collisions:Cr,droppableRects:me,draggableNodes:Z,draggingNode:lr,draggingNodeRect:cr,droppableContainers:ve,over:zt,scrollableAncestors:$t,scrollAdjustedTranslate:Kn},tt.current={initial:cr,translated:kn}},[ze,ye,Cr,kn,Z,lr,cr,me,ve,zt,$t,Kn]),M4({...Ae,delta:ce,draggingRect:kn,pointerCoordinates:Hi,scrollableAncestors:$t,scrollableAncestorRects:Nn});const Wi=y.useMemo(()=>({active:ze,activeNode:ye,activeNodeRect:_e,activatorEvent:ke,collisions:Cr,containerNodeRect:Gn,dragOverlay:an,draggableNodes:Z,droppableContainers:ve,droppableRects:me,over:zt,measureDroppableContainers:be,scrollableAncestors:$t,scrollableAncestorRects:Nn,measuringConfiguration:q,measuringScheduled:Se,windowRect:ls}),[ze,ye,_e,ke,Cr,Gn,an,Z,ve,me,zt,be,$t,Nn,q,Se,ls]),Yi=y.useMemo(()=>({activatorEvent:ke,activators:Ys,active:ze,activeNodeRect:_e,ariaDescribedById:{draggable:ne},dispatch:R,draggableNodes:Z,over:zt,measureDroppableContainers:be}),[ke,Ys,ze,_e,R,ne,Z,zt,be]);return en.createElement(yy.Provider,{value:H},en.createElement(tc.Provider,{value:Yi},en.createElement(Oy.Provider,{value:Wi},en.createElement(Dy.Provider,{value:Fu},h)),en.createElement(i5,{disabled:d?.restoreFocus===!1})),en.createElement(i4,{...d,hiddenTextDescribedById:ne}));function kr(){const Ke=At?.autoScrollEnabled===!1,Ct=typeof f=="object"?f.enabled===!1:f===!1,Nt=te&&!Ke&&!Ct;return typeof f=="object"?{...f,enabled:Nt}:{enabled:Nt}}}),c5=y.createContext(null),N1="button",d5="Draggable";function f5(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const u=Ou(d5),{activators:l,activatorEvent:d,active:f,activeNodeRect:h,ariaDescribedById:g,draggableNodes:T,over:_}=y.useContext(tc),{role:v=N1,roleDescription:x="draggable",tabIndex:N=0}=a??{},A=f?.id===t,R=y.useContext(A?Dy:c5),[L,H]=Nl(),[U,W]=Nl(),te=G4(l,t),se=mu(n);or(()=>(T.set(t,{id:t,key:u,node:L,activatorNode:U,data:se}),()=>{const ce=T.get(t);ce&&ce.key===u&&T.delete(t)}),[T,t]);const Z=y.useMemo(()=>({role:v,tabIndex:N,"aria-disabled":r,"aria-pressed":A&&v===N1?!0:void 0,"aria-roledescription":x,"aria-describedby":g.draggable}),[r,v,N,A,x,g.draggable]);return{active:f,activatorEvent:d,activeNodeRect:h,attributes:Z,isDragging:A,listeners:r?void 0:te,node:L,over:_,setNodeRef:H,setActivatorNodeRef:W,transform:R}}function h5(){return y.useContext(Oy)}const p5="Droppable",m5={timeout:25};function g5(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const u=Ou(p5),{active:l,dispatch:d,over:f,measureDroppableContainers:h}=y.useContext(tc),g=y.useRef({disabled:n}),T=y.useRef(!1),_=y.useRef(null),v=y.useRef(null),{disabled:x,updateMeasurementsFor:N,timeout:A}={...m5,...a},R=mu(N??r),L=y.useCallback(()=>{if(!T.current){T.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{h(Array.isArray(R.current)?R.current:[R.current]),v.current=null},A)},[A]),H=ec({callback:L,disabled:x||!l}),U=y.useCallback((Z,ce)=>{H&&(ce&&(H.unobserve(ce),T.current=!1),Z&&H.observe(Z))},[H]),[W,te]=Nl(U),se=mu(t);return y.useEffect(()=>{!H||!W.current||(H.disconnect(),T.current=!1,H.observe(W.current))},[W,H]),y.useEffect(()=>(d({type:ft.RegisterDroppable,element:{id:r,key:u,disabled:n,node:W,rect:_,data:se}}),()=>d({type:ft.UnregisterDroppable,key:u,id:r})),[r]),y.useEffect(()=>{n!==g.current.disabled&&(d({type:ft.SetDroppableDisabled,id:r,key:u,disabled:n}),g.current.disabled=n)},[r,u,n,d]),{active:l,rect:_,isOver:f?.id===r,node:W,over:f,setNodeRef:te}}function Jh(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function E5(e,t){return e.reduce((n,r,a)=>{const u=t.get(r);return u&&(n[a]=u),n},Array(e.length))}function nl(e){return e!==null&&e>=0}function b5(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function y5(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ly=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const u=Jh(t,r,n),l=t[a],d=u[a];return!d||!l?null:{x:d.left-l.left,y:d.top-l.top,scaleX:d.width/l.width,scaleY:d.height/l.height}},rl={scaleX:1,scaleY:1},T5=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:u,overIndex:l}=e;const d=(t=u[n])!=null?t:r;if(!d)return null;if(a===n){const h=u[l];return h?{x:0,y:n<l?h.top+h.height-(d.top+d.height):h.top-d.top,...rl}:null}const f=_5(u,a,n);return a>n&&a<=l?{x:0,y:-d.height-f,...rl}:a<n&&a>=l?{x:0,y:d.height+f,...rl}:{x:0,y:0,...rl}};function _5(e,t,n){const r=e[t],a=e[t-1],u=e[t+1];return r?n<t?a?r.top-(a.top+a.height):u?u.top-(r.top+r.height):0:u?u.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const Py="Sortable",My=en.createContext({activeIndex:-1,containerId:Py,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ly,disabled:{draggable:!1,droppable:!1}});function w5(e){let{children:t,id:n,items:r,strategy:a=Ly,disabled:u=!1}=e;const{active:l,dragOverlay:d,droppableRects:f,over:h,measureDroppableContainers:g}=h5(),T=Ou(Py,n),_=d.rect!==null,v=y.useMemo(()=>r.map(te=>typeof te=="object"&&"id"in te?te.id:te),[r]),x=l!=null,N=l?v.indexOf(l.id):-1,A=h?v.indexOf(h.id):-1,R=y.useRef(v),L=!b5(v,R.current),H=A!==-1&&N===-1||L,U=y5(u);or(()=>{L&&x&&g(v)},[L,v,x,g]),y.useEffect(()=>{R.current=v},[v]);const W=y.useMemo(()=>({activeIndex:N,containerId:T,disabled:U,disableTransforms:H,items:v,overIndex:A,useDragOverlay:_,sortedRects:E5(v,f),strategy:a}),[N,T,U.draggable,U.droppable,H,v,A,f,_,a]);return en.createElement(My.Provider,{value:W},t)}const x5=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return Jh(n,r,a).indexOf(t)},v5=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:u,newIndex:l,previousItems:d,previousContainerId:f,transition:h}=e;return!h||!r||d!==u&&a===l?!1:n?!0:l!==a&&t===f},S5={duration:200,easing:"ease"},Fy="transform",A5=gu.Transition.toString({property:Fy,duration:0,easing:"linear"}),C5={roleDescription:"sortable"};function N5(e){let{disabled:t,index:n,node:r,rect:a}=e;const[u,l]=y.useState(null),d=y.useRef(n);return or(()=>{if(!t&&n!==d.current&&r.current){const f=a.current;if(f){const h=Ui(r.current,{ignoreTransform:!0}),g={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(g.x||g.y)&&l(g)}}n!==d.current&&(d.current=n)},[t,n,r,a]),y.useEffect(()=>{u&&l(null)},[u]),u}function k5(e){let{animateLayoutChanges:t=v5,attributes:n,disabled:r,data:a,getNewIndex:u=x5,id:l,strategy:d,resizeObserverConfig:f,transition:h=S5}=e;const{items:g,containerId:T,activeIndex:_,disabled:v,disableTransforms:x,sortedRects:N,overIndex:A,useDragOverlay:R,strategy:L}=y.useContext(My),H=R5(r,v),U=g.indexOf(l),W=y.useMemo(()=>({sortable:{containerId:T,index:U,items:g},...a}),[T,a,U,g]),te=y.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:se,node:Z,isOver:ce,setNodeRef:ve}=g5({id:l,data:W,disabled:H.droppable,resizeObserverConfig:{updateMeasurementsFor:te,...f}}),{active:Re,activatorEvent:tt,activeNodeRect:ze,attributes:nt,setNodeRef:At,listeners:lt,isDragging:ke,over:ee,setActivatorNodeRef:le,transform:ne}=f5({id:l,data:W,attributes:{...C5,...n},disabled:H.draggable}),P=YO(ve,At),q=!!Re,me=q&&!x&&nl(_)&&nl(A),be=!R&&ke,Se=be&&me?ne:null,Me=me?Se??(d??L)({rects:N,activeNodeRect:ze,activeIndex:_,overIndex:A,index:U}):null,Ae=nl(_)&&nl(A)?u({id:l,items:g,activeIndex:_,overIndex:A}):U,Oe=Re?.id,_e=y.useRef({activeId:Oe,items:g,newIndex:Ae,containerId:T}),Gn=g!==_e.current.items,sn=t({active:Re,containerId:T,isDragging:ke,isSorting:q,id:l,index:U,items:g,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:h,wasDragging:_e.current.activeId!=null}),Cn=N5({disabled:!sn,index:U,node:Z,rect:se});return y.useEffect(()=>{q&&_e.current.newIndex!==Ae&&(_e.current.newIndex=Ae),T!==_e.current.containerId&&(_e.current.containerId=T),g!==_e.current.items&&(_e.current.items=g)},[q,Ae,T,g]),y.useEffect(()=>{if(Oe===_e.current.activeId)return;if(Oe!=null&&_e.current.activeId==null){_e.current.activeId=Oe;return}const lr=setTimeout(()=>{_e.current.activeId=Oe},50);return()=>clearTimeout(lr)},[Oe]),{active:Re,activeIndex:_,attributes:nt,data:W,rect:se,index:U,newIndex:Ae,items:g,isOver:ce,isSorting:q,isDragging:ke,listeners:lt,node:Z,overIndex:A,over:ee,setNodeRef:P,setActivatorNodeRef:le,setDroppableNodeRef:ve,setDraggableNodeRef:At,transform:Cn??Me,transition:an()};function an(){if(Cn||Gn&&_e.current.newIndex===U)return A5;if(!(be&&!Qh(tt)||!h)&&(q||sn))return gu.Transition.toString({...h,property:Fy})}}function R5(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}Fe.Down,Fe.Right,Fe.Up,Fe.Left;const I5=({placeholder:e,onChange:t,value:n})=>{const r=y.useRef(null);return y.useEffect(()=>{r.current&&(r.current.style.height="auto",r.current.style.height=`${r.current.scrollHeight}px`)},[n]),b.jsx("textarea",{className:"border rounded-xs px-2 py-1 w-full mr-3 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 resize-none overflow-hidden",ref:r,onChange:t,placeholder:e,value:n})},O5=({id:e,formValue:t,onEditFormValue:n,onDeleteClick:r})=>{const{attributes:a,listeners:u,setNodeRef:l,transform:d,transition:f}=k5({id:e}),h={transform:d?gu.Transform.toString(d):void 0,transition:f||"all 0.2s ease"},g=T=>{n({...t,value:T.target.value})};return b.jsxs("li",{ref:l,style:h,className:"text-gray-700 dark:text-gray-300 flex items-center justify-between mb-2",children:[b.jsx(I5,{onChange:g,value:t.value,placeholder:" "}),b.jsx(ns,{icon:b.jsx(yv,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"}),title:"Drag Step",attributes:a,listeners:u}),b.jsx(pE,{onClick:()=>r(t.id)})]})},k1=({originalFormState:e,setOriginalFormState:t,sectionName:n})=>{const[r,a]=y.useState(e);y.useEffect(()=>{a(e)},[e]),y.useEffect(()=>{const h=setTimeout(()=>{t(r)},400);return()=>clearTimeout(h)},[r,t]);const u=h=>{const g=r.map(T=>T.id===h.id?h:T);a(g)},l=()=>{a(h=>[...h,{id:qf(),value:"",isActive:!0,sort_number:0}])},d=h=>{const g=r.map(T=>T.id===h?{...T,isActive:!1}:T);a(g)},f=h=>{const{active:g,over:T}=h;if(!T||g.id===T.id)return;const _=r.findIndex(x=>x.id===g.id),v=r.findIndex(x=>x.id===T.id);a(Jh(r,_,v))};return b.jsxs("div",{className:"mb-4",children:[b.jsxs("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:[n,"s"]}),!(r?.length>0)&&b.jsx(_u,{message:`No ${n}s added yet. Add some to get started!`}),b.jsx(l5,{collisionDetection:c4,onDragEnd:f,children:b.jsx(w5,{items:r.filter(h=>h.isActive).map(h=>h.id),strategy:T5,children:r.length>0&&b.jsx("ol",{className:"list-decimal mb-6 text-gray-700 dark:text-gray-300",children:r.filter(h=>h.isActive).map(h=>b.jsx(O5,{id:h.id,formValue:h,onEditFormValue:u,onDeleteClick:d},h.id))})})}),b.jsxs(Ye,{type:"button",onClick:l,children:["Add ",n]})]})},D5=({formData:e,onFormChange:t})=>b.jsxs("form",{className:"w-full",children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"servings",id:"servings",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.servings,onChange:n=>t("servings",Number(n.target.value))}),b.jsx("label",{htmlFor:"servings",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Servings"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"prep_time",id:"prep_time",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.prep_time,onChange:n=>t("prep_time",Number(n.target.value))}),b.jsx("label",{htmlFor:"prep_time",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Prep Time (minutes)"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"cook_time",id:"cook_time",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.cook_time,onChange:n=>t("cook_time",Number(n.target.value))}),b.jsx("label",{htmlFor:"cook_time",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Cook Time (minutes)"})]})]}),R1=()=>{const{user:e}=js(),t=Qn(),n=mn(),r=Wn(),{id:a}=Dl(),u=!!a,[l,d]=y.useState(!1),[f,h]=y.useState({title:"",description:"",img_url:"",prep_time:0,cook_time:0,servings:1,original_recipe_url:"",ingredients:[],steps:[]}),[g,T]=y.useState(null);y.useEffect(()=>{const x=r.state?.recipe;x&&(h({title:x.title||"",description:x.description||"",img_url:x.img_url||"",prep_time:x.prep_time||0,cook_time:x.cook_time||0,servings:x.servings||1,original_recipe_url:x.original_recipe_url||"",ingredients:x.ingredients||[],steps:x.steps||[]}),T(x))},[r.state?.recipe]);const _=(x,N)=>{h(A=>({...A,[x]:N}))},v=async x=>{x.preventDefault(),d(!0);try{if(u){const N=ly(g,f);if(!N){t.success("No changes detected."),d(!1);return}await vi.upsertRecipe(a,N),t.success("Recipe updated successfully!"),n(`/recipes/${a}`)}else{const N=await vi.upsertRecipe(void 0,{...f,prep_time:parseInt(f.prep_time.toString(),10),cook_time:parseInt(f.cook_time.toString(),10)},e?.id);t.success("Recipe added successfully!"),n(`/recipes/${N.recipeId}`)}}catch(N){console.error(`Error ${u?"updating":"adding"} recipe:`,N.message),t.error(`Failed to ${u?"update":"add"} recipe. Please try again.`)}finally{d(!1)}};return b.jsxs("div",{className:"max-w-2xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-end items-center mb-4 gap-4",children:[b.jsx(Ht,{to:u?`/recipes/${a}`:"/",children:b.jsx(Ye,{btnType:"dismissable",children:"Cancel"})}),b.jsx(Ye,{onClick:v,isLoading:l,children:u?"Save":"Add"})]}),b.jsx(dy,{imgUrl:f.img_url,onImgUrlChange:x=>_("img_url",x)}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 p-6 rounded-b-lg shadow-md ${!f.img_url?.length&&"rounded-t-lg"}`,children:[b.jsx(fy,{formData:f,onFormChange:_}),b.jsx(D5,{formData:f,onFormChange:_}),b.jsx(k1,{originalFormState:f.ingredients,setOriginalFormState:x=>_("ingredients",x),sectionName:"Ingredient"}),b.jsx(k1,{originalFormState:f.steps,setOriginalFormState:x=>_("steps",x),sectionName:"Step"})]})]})},L5=()=>b.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 pb-6",children:b.jsx(X2,{basename:"/elysia",children:b.jsxs(VR,{children:[b.jsx(KR,{}),b.jsx("div",{className:"container mx-auto px-4",children:b.jsxs(C2,{children:[b.jsx(jt,{path:"/sign-in",element:b.jsx(tl,{children:b.jsx(iI,{})})}),b.jsx(jt,{path:"/register",element:b.jsx(aI,{})}),b.jsx(jt,{path:"/forgot-password",element:b.jsx(SI,{})}),b.jsx(jt,{path:"/reset-password",element:b.jsx(sI,{})}),b.jsx(jt,{path:"/",element:b.jsx(QR,{})}),b.jsx(jt,{path:"/about",element:b.jsx(rI,{})}),b.jsx(jt,{path:"/tags",element:b.jsx(nI,{})}),b.jsx(jt,{path:"/add-new",element:b.jsx(tl,{children:b.jsx(R1,{})})}),b.jsx(jt,{path:"/recipes/:id",element:b.jsx(WO,{})}),b.jsx(jt,{path:"/recipes/:id/edit",element:b.jsx(tl,{children:b.jsx(R1,{})})}),b.jsx(jt,{path:"/collections",element:b.jsx(_I,{})}),b.jsx(jt,{path:"/collections/add-new",element:b.jsx(tl,{children:b.jsx(d1,{})})}),b.jsx(jt,{path:"/collections/:id",element:b.jsx(yI,{})}),b.jsx(jt,{path:"/collections/:id/edit",element:b.jsx(d1,{})})]})})]})})});F_.createRoot(document.getElementById("root")).render(b.jsx(y.StrictMode,{children:b.jsx(Vv,{children:b.jsx(GR,{children:b.jsx(WR,{children:b.jsx(L5,{})})})})}));export{Xf as g};
//# sourceMappingURL=index-CnT115LS.js.map
