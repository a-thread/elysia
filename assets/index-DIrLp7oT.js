(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function rh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function I_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var $d={exports:{}},Ia={},zd={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function O_(){if(Pm)return Ce;Pm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,N={};function C(P,W,pe){this.props=P,this.context=W,this.refs=N,this.updater=pe||x}C.prototype.isReactComponent={},C.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function I(){}I.prototype=C.prototype;function M(P,W,pe){this.props=P,this.context=W,this.refs=N,this.updater=pe||x}var U=M.prototype=new I;U.constructor=M,v(U,C.prototype),U.isPureReactComponent=!0;var O=Array.isArray,q=Object.prototype.hasOwnProperty,J={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function ue(P,W,pe){var be,ve={},ye=null,Fe=null;if(W!=null)for(be in W.ref!==void 0&&(Fe=W.ref),W.key!==void 0&&(ye=""+W.key),W)q.call(W,be)&&!re.hasOwnProperty(be)&&(ve[be]=W[be]);var Se=arguments.length-2;if(Se===1)ve.children=pe;else if(1<Se){for(var Le=Array(Se),_e=0;_e<Se;_e++)Le[_e]=arguments[_e+2];ve.children=Le}if(P&&P.defaultProps)for(be in Se=P.defaultProps,Se)ve[be]===void 0&&(ve[be]=Se[be]);return{$$typeof:e,type:P,key:ye,ref:Fe,props:ve,_owner:J.current}}function Ee(P,W){return{$$typeof:e,type:P.type,key:W,ref:P.ref,props:P.props,_owner:P._owner}}function ke(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function Ie(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(pe){return W[pe]})}var rt=/\/+/g;function We(P,W){return typeof P=="object"&&P!==null&&P.key!=null?Ie(""+P.key):W.toString(36)}function st(P,W,pe,be,ve){var ye=typeof P;(ye==="undefined"||ye==="boolean")&&(P=null);var Fe=!1;if(P===null)Fe=!0;else switch(ye){case"string":case"number":Fe=!0;break;case"object":switch(P.$$typeof){case e:case t:Fe=!0}}if(Fe)return Fe=P,ve=ve(Fe),P=be===""?"."+We(Fe,0):be,O(ve)?(pe="",P!=null&&(pe=P.replace(rt,"$&/")+"/"),st(ve,W,pe,"",function(_e){return _e})):ve!=null&&(ke(ve)&&(ve=Ee(ve,pe+(!ve.key||Fe&&Fe.key===ve.key?"":(""+ve.key).replace(rt,"$&/")+"/")+P)),W.push(ve)),1;if(Fe=0,be=be===""?".":be+":",O(P))for(var Se=0;Se<P.length;Se++){ye=P[Se];var Le=be+We(ye,Se);Fe+=st(ye,W,pe,Le,ve)}else if(Le=_(P),typeof Le=="function")for(P=Le.call(P),Se=0;!(ye=P.next()).done;)ye=ye.value,Le=be+We(ye,Se++),Fe+=st(ye,W,pe,Le,ve);else if(ye==="object")throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Nt(P,W,pe){if(P==null)return P;var be=[],ve=0;return st(P,be,"","",function(ye){return W.call(pe,ye,ve++)}),be}function dt(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(pe){(P._status===0||P._status===-1)&&(P._status=1,P._result=pe)},function(pe){(P._status===0||P._status===-1)&&(P._status=2,P._result=pe)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var Re={current:null},ee={transition:null},le={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:ee,ReactCurrentOwner:J};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Nt,forEach:function(P,W,pe){Nt(P,function(){W.apply(this,arguments)},pe)},count:function(P){var W=0;return Nt(P,function(){W++}),W},toArray:function(P){return Nt(P,function(W){return W})||[]},only:function(P){if(!ke(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ce.Component=C,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=M,Ce.StrictMode=r,Ce.Suspense=f,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ce.act=te,Ce.cloneElement=function(P,W,pe){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var be=v({},P.props),ve=P.key,ye=P.ref,Fe=P._owner;if(W!=null){if(W.ref!==void 0&&(ye=W.ref,Fe=J.current),W.key!==void 0&&(ve=""+W.key),P.type&&P.type.defaultProps)var Se=P.type.defaultProps;for(Le in W)q.call(W,Le)&&!re.hasOwnProperty(Le)&&(be[Le]=W[Le]===void 0&&Se!==void 0?Se[Le]:W[Le])}var Le=arguments.length-2;if(Le===1)be.children=pe;else if(1<Le){Se=Array(Le);for(var _e=0;_e<Le;_e++)Se[_e]=arguments[_e+2];be.children=Se}return{$$typeof:e,type:P.type,key:ve,ref:ye,props:be,_owner:Fe}},Ce.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:u,_context:P},P.Consumer=P},Ce.createElement=ue,Ce.createFactory=function(P){var W=ue.bind(null,P);return W.type=P,W},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:c,render:P}},Ce.isValidElement=ke,Ce.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:dt}},Ce.memo=function(P,W){return{$$typeof:h,type:P,compare:W===void 0?null:W}},Ce.startTransition=function(P){var W=ee.transition;ee.transition={};try{P()}finally{ee.transition=W}},Ce.unstable_act=te,Ce.useCallback=function(P,W){return Re.current.useCallback(P,W)},Ce.useContext=function(P){return Re.current.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P){return Re.current.useDeferredValue(P)},Ce.useEffect=function(P,W){return Re.current.useEffect(P,W)},Ce.useId=function(){return Re.current.useId()},Ce.useImperativeHandle=function(P,W,pe){return Re.current.useImperativeHandle(P,W,pe)},Ce.useInsertionEffect=function(P,W){return Re.current.useInsertionEffect(P,W)},Ce.useLayoutEffect=function(P,W){return Re.current.useLayoutEffect(P,W)},Ce.useMemo=function(P,W){return Re.current.useMemo(P,W)},Ce.useReducer=function(P,W,pe){return Re.current.useReducer(P,W,pe)},Ce.useRef=function(P){return Re.current.useRef(P)},Ce.useState=function(P){return Re.current.useState(P)},Ce.useSyncExternalStore=function(P,W,pe){return Re.current.useSyncExternalStore(P,W,pe)},Ce.useTransition=function(){return Re.current.useTransition()},Ce.version="18.3.1",Ce}var Mm;function sh(){return Mm||(Mm=1,zd.exports=O_()),zd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function L_(){if(Fm)return Ia;Fm=1;var e=sh(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,h){var g,y={},_=null,x=null;h!==void 0&&(_=""+h),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)r.call(f,g)&&!u.hasOwnProperty(g)&&(y[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:t,type:c,key:_,ref:x,props:y,_owner:a.current}}return Ia.Fragment=n,Ia.jsx=l,Ia.jsxs=l,Ia}var Bm;function D_(){return Bm||(Bm=1,$d.exports=L_()),$d.exports}var b=D_(),T=sh();const nn=rh(T);var Qo={},qd={exports:{}},Jt={},Wd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function P_(){return Um||(Um=1,function(e){function t(ee,le){var te=ee.length;ee.push(le);e:for(;0<te;){var P=te-1>>>1,W=ee[P];if(0<a(W,le))ee[P]=le,ee[te]=W,te=P;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var le=ee[0],te=ee.pop();if(te!==le){ee[0]=te;e:for(var P=0,W=ee.length,pe=W>>>1;P<pe;){var be=2*(P+1)-1,ve=ee[be],ye=be+1,Fe=ee[ye];if(0>a(ve,te))ye<W&&0>a(Fe,ve)?(ee[P]=Fe,ee[ye]=te,P=ye):(ee[P]=ve,ee[be]=te,P=be);else if(ye<W&&0>a(Fe,te))ee[P]=Fe,ee[ye]=te,P=ye;else break e}}return le}function a(ee,le){var te=ee.sortIndex-le.sortIndex;return te!==0?te:ee.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],h=[],g=1,y=null,_=3,x=!1,v=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(ee){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=ee)r(h),le.sortIndex=le.expirationTime,t(f,le);else break;le=n(h)}}function O(ee){if(N=!1,U(ee),!v)if(n(f)!==null)v=!0,dt(q);else{var le=n(h);le!==null&&Re(O,le.startTime-ee)}}function q(ee,le){v=!1,N&&(N=!1,I(ue),ue=-1),x=!0;var te=_;try{for(U(le),y=n(f);y!==null&&(!(y.expirationTime>le)||ee&&!Ie());){var P=y.callback;if(typeof P=="function"){y.callback=null,_=y.priorityLevel;var W=P(y.expirationTime<=le);le=e.unstable_now(),typeof W=="function"?y.callback=W:y===n(f)&&r(f),U(le)}else r(f);y=n(f)}if(y!==null)var pe=!0;else{var be=n(h);be!==null&&Re(O,be.startTime-le),pe=!1}return pe}finally{y=null,_=te,x=!1}}var J=!1,re=null,ue=-1,Ee=5,ke=-1;function Ie(){return!(e.unstable_now()-ke<Ee)}function rt(){if(re!==null){var ee=e.unstable_now();ke=ee;var le=!0;try{le=re(!0,ee)}finally{le?We():(J=!1,re=null)}}else J=!1}var We;if(typeof M=="function")We=function(){M(rt)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,Nt=st.port2;st.port1.onmessage=rt,We=function(){Nt.postMessage(null)}}else We=function(){C(rt,0)};function dt(ee){re=ee,J||(J=!0,We())}function Re(ee,le){ue=C(function(){ee(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,dt(q))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(ee){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var te=_;_=le;try{return ee()}finally{_=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var te=_;_=ee;try{return le()}finally{_=te}},e.unstable_scheduleCallback=function(ee,le,te){var P=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?P+te:P):te=P,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,ee={id:g++,callback:le,priorityLevel:ee,startTime:te,expirationTime:W,sortIndex:-1},te>P?(ee.sortIndex=te,t(h,ee),n(f)===null&&ee===n(h)&&(N?(I(ue),ue=-1):N=!0,Re(O,te-P))):(ee.sortIndex=W,t(f,ee),v||x||(v=!0,dt(q))),ee},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(ee){var le=_;return function(){var te=_;_=le;try{return ee.apply(this,arguments)}finally{_=te}}}}(Yd)),Yd}var jm;function M_(){return jm||(jm=1,Wd.exports=P_()),Wd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function F_(){if(Hm)return Jt;Hm=1;var e=sh(),t=M_();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function u(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(a[s]=i,s=0;s<i.length;s++)r.add(i[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function _(s){return f.call(y,s)?!0:f.call(g,s)?!1:h.test(s)?y[s]=!0:(g[s]=!0,!1)}function x(s,i,o,d){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function v(s,i,o,d){if(i===null||typeof i>"u"||x(s,i,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(s,i,o,d,m,E,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=s,this.type=i,this.sanitizeURL=E,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];C[i]=new N(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(I,M);C[i]=new N(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(I,M);C[i]=new N(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(I,M);C[i]=new N(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,i,o,d){var m=C.hasOwnProperty(i)?C[i]:null;(m!==null?m.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(v(i,o,m,d)&&(o=null),d||m===null?_(i)&&(o===null?s.removeAttribute(i):s.setAttribute(i,""+o)):m.mustUseProperty?s[m.propertyName]=o===null?m.type===3?!1:"":o:(i=m.attributeName,d=m.attributeNamespace,o===null?s.removeAttribute(i):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,d?s.setAttributeNS(d,i,o):s.setAttribute(i,o))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),J=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),ke=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),We=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),ee=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,P;function W(s){if(P===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+s}var pe=!1;function be(s,i){if(!s||pe)return"";pe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var d=H}Reflect.construct(s,[],i)}else{try{i.call()}catch(H){d=H}s.call(i.prototype)}else{try{throw Error()}catch(H){d=H}s()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),E=d.stack.split(`
`),w=m.length-1,k=E.length-1;1<=w&&0<=k&&m[w]!==E[k];)k--;for(;1<=w&&0<=k;w--,k--)if(m[w]!==E[k]){if(w!==1||k!==1)do if(w--,k--,0>k||m[w]!==E[k]){var L=`
`+m[w].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=w&&0<=k);break}}}finally{pe=!1,Error.prepareStackTrace=o}return(s=s?s.displayName||s.name:"")?W(s):""}function ve(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function ye(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case re:return"Fragment";case J:return"Portal";case Ee:return"Profiler";case ue:return"StrictMode";case We:return"Suspense";case st:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ie:return(s.displayName||"Context")+".Consumer";case ke:return(s._context.displayName||"Context")+".Provider";case rt:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Nt:return i=s.displayName||null,i!==null?i:ye(s.type)||"Memo";case dt:i=s._payload,s=s._init;try{return ye(s(i))}catch{}}return null}function Fe(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(i);case 8:return i===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Se(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Le(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _e(s){var i=Le(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,E=o.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){d=""+w,E.call(this,w)}}),Object.defineProperty(s,i,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Zn(s){s._valueTracker||(s._valueTracker=_e(s))}function ln(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return s&&(d=Le(s)?s.checked?"true":"false":s.value),s=d,s!==o?(i.setValue(s),!0):!1}function On(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function cn(s,i){var o=i.checked;return te({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??s._wrapperState.initialChecked})}function pr(s,i){var o=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;o=Se(i.value!=null?i.value:o),s._wrapperState={initialChecked:d,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function mr(s,i){i=i.checked,i!=null&&U(s,"checked",i,!1)}function Vs(s,i){mr(s,i);var o=Se(i.value),d=i.type;if(o!=null)d==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+o):s.value!==""+o&&(s.value=""+o);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ms(s,i.type,o):i.hasOwnProperty("defaultValue")&&ms(s,i.type,Se(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function qi(s,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,o||i===s.value||(s.value=i),s.defaultValue=i}o=s.name,o!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,o!==""&&(s.name=o)}function ms(s,i,o){(i!=="number"||On(s.ownerDocument)!==s)&&(o==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+o&&(s.defaultValue=""+o))}var qt=Array.isArray;function Ln(s,i,o,d){if(s=s.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=i.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&d&&(s[o].defaultSelected=!0)}else{for(o=""+Se(o),i=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Ir(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Wi(s,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(n(92));if(qt(o)){if(1<o.length)throw Error(n(93));o=o[0]}i=o}i==null&&(i=""),o=i}s._wrapperState={initialValue:Se(o)}}function Yi(s,i){var o=Se(i.value),d=Se(i.defaultValue);o!=null&&(o=""+o,o!==s.value&&(s.value=o),i.defaultValue==null&&s.defaultValue!==o&&(s.defaultValue=o)),d!=null&&(s.defaultValue=""+d)}function Bu(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Uu(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Uu(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Dn,Or=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,d,m){MSApp.execUnsafeLocalFunction(function(){return s(i,o,d,m)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Dn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Lr(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var Wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ju=["Webkit","ms","Moz","O"];Object.keys(Wt).forEach(function(s){ju.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Wt[i]=Wt[s]})});function Hu(s,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||Wt.hasOwnProperty(s)&&Wt[s]?(""+i).trim():i+"px"}function $u(s,i){s=s.style;for(var o in i)if(i.hasOwnProperty(o)){var d=o.indexOf("--")===0,m=Hu(o,i[o],d);o==="float"&&(o="cssFloat"),d?s.setProperty(o,m):s[o]=m}}var Vi=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gs(s,i){if(i){if(Vi[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Gi(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=null;function Qi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ki=null,Dr=null,Je=null;function kt(s){if(s=ga(s)){if(typeof Ki!="function")throw Error(n(280));var i=s.stateNode;i&&(i=lo(i),Ki(s.stateNode,s.type,i))}}function Rt(s){Dr?Je?Je.push(s):Je=[s]:Dr=s}function Pn(){if(Dr){var s=Dr,i=Je;if(Je=Dr=null,kt(s),i)for(s=0;s<i.length;s++)kt(i[s])}}function Ut(s,i){return s(i)}function It(){}var Yt=!1;function gr(s,i,o){if(Yt)return s(i,o);Yt=!0;try{return Ut(s,i,o)}finally{Yt=!1,(Dr!==null||Je!==null)&&(It(),Pn())}}function Ze(s,i){var o=s.stateNode;if(o===null)return null;var d=lo(o);if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(n(231,i,typeof o));return o}var Tn=!1;if(c)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Tn=!1}function Mn(s,i,o,d,m,E,w,k,L){var H=Array.prototype.slice.call(arguments,3);try{i.apply(o,H)}catch(G){this.onError(G)}}var Fn=!1,tr=null,dn=!1,Er=null,Xi={onError:function(s){Fn=!0,tr=s}};function jy(s,i,o,d,m,E,w,k,L){Fn=!1,tr=null,Mn.apply(Xi,arguments)}function Hy(s,i,o,d,m,E,w,k,L){if(jy.apply(this,arguments),Fn){if(Fn){var H=tr;Fn=!1,tr=null}else throw Error(n(198));dn||(dn=!0,Er=H)}}function gs(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,i.flags&4098&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function s0(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function i0(s){if(gs(s)!==s)throw Error(n(188))}function $y(s){var i=s.alternate;if(!i){if(i=gs(s),i===null)throw Error(n(188));return i!==s?null:s}for(var o=s,d=i;;){var m=o.return;if(m===null)break;var E=m.alternate;if(E===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===E.child){for(E=m.child;E;){if(E===o)return i0(m),s;if(E===d)return i0(m),i;E=E.sibling}throw Error(n(188))}if(o.return!==d.return)o=m,d=E;else{for(var w=!1,k=m.child;k;){if(k===o){w=!0,o=m,d=E;break}if(k===d){w=!0,d=m,o=E;break}k=k.sibling}if(!w){for(k=E.child;k;){if(k===o){w=!0,o=E,d=m;break}if(k===d){w=!0,d=E,o=m;break}k=k.sibling}if(!w)throw Error(n(189))}}if(o.alternate!==d)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?s:i}function a0(s){return s=$y(s),s!==null?u0(s):null}function u0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=u0(s);if(i!==null)return i;s=s.sibling}return null}var o0=t.unstable_scheduleCallback,l0=t.unstable_cancelCallback,zy=t.unstable_shouldYield,qy=t.unstable_requestPaint,at=t.unstable_now,Wy=t.unstable_getCurrentPriorityLevel,oc=t.unstable_ImmediatePriority,c0=t.unstable_UserBlockingPriority,zu=t.unstable_NormalPriority,Yy=t.unstable_LowPriority,d0=t.unstable_IdlePriority,qu=null,nr=null;function Vy(s){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(qu,s,void 0,(s.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:Ky,Gy=Math.log,Qy=Math.LN2;function Ky(s){return s>>>=0,s===0?32:31-(Gy(s)/Qy|0)|0}var Wu=64,Yu=4194304;function Ji(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Vu(s,i){var o=s.pendingLanes;if(o===0)return 0;var d=0,m=s.suspendedLanes,E=s.pingedLanes,w=o&268435455;if(w!==0){var k=w&~m;k!==0?d=Ji(k):(E&=w,E!==0&&(d=Ji(E)))}else w=o&~m,w!==0?d=Ji(w):E!==0&&(d=Ji(E));if(d===0)return 0;if(i!==0&&i!==d&&!(i&m)&&(m=d&-d,E=i&-i,m>=E||m===16&&(E&4194240)!==0))return i;if(d&4&&(d|=o&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)o=31-Bn(i),m=1<<o,d|=s[o],i&=~m;return d}function Xy(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jy(s,i){for(var o=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,E=s.pendingLanes;0<E;){var w=31-Bn(E),k=1<<w,L=m[w];L===-1?(!(k&o)||k&d)&&(m[w]=Xy(k,i)):L<=i&&(s.expiredLanes|=k),E&=~k}}function lc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function f0(){var s=Wu;return Wu<<=1,!(Wu&4194240)&&(Wu=64),s}function cc(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function Zi(s,i,o){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Bn(i),s[i]=o}function Zy(s,i){var o=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<o;){var m=31-Bn(o),E=1<<m;i[m]=0,d[m]=-1,s[m]=-1,o&=~E}}function dc(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var d=31-Bn(o),m=1<<d;m&i|s[d]&i&&(s[d]|=i),o&=~m}}var je=0;function h0(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var p0,fc,m0,g0,E0,hc=!1,Gu=[],Pr=null,Mr=null,Fr=null,ea=new Map,ta=new Map,Br=[],eT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b0(s,i){switch(s){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ea.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(i.pointerId)}}function na(s,i,o,d,m,E){return s===null||s.nativeEvent!==E?(s={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:E,targetContainers:[m]},i!==null&&(i=ga(i),i!==null&&fc(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function tT(s,i,o,d,m){switch(i){case"focusin":return Pr=na(Pr,s,i,o,d,m),!0;case"dragenter":return Mr=na(Mr,s,i,o,d,m),!0;case"mouseover":return Fr=na(Fr,s,i,o,d,m),!0;case"pointerover":var E=m.pointerId;return ea.set(E,na(ea.get(E)||null,s,i,o,d,m)),!0;case"gotpointercapture":return E=m.pointerId,ta.set(E,na(ta.get(E)||null,s,i,o,d,m)),!0}return!1}function y0(s){var i=Es(s.target);if(i!==null){var o=gs(i);if(o!==null){if(i=o.tag,i===13){if(i=s0(o),i!==null){s.blockedOn=i,E0(s.priority,function(){m0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qu(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=mc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(o===null){o=s.nativeEvent;var d=new o.constructor(o.type,o);Qs=d,o.target.dispatchEvent(d),Qs=null}else return i=ga(o),i!==null&&fc(i),s.blockedOn=o,!1;i.shift()}return!0}function T0(s,i,o){Qu(s)&&o.delete(i)}function nT(){hc=!1,Pr!==null&&Qu(Pr)&&(Pr=null),Mr!==null&&Qu(Mr)&&(Mr=null),Fr!==null&&Qu(Fr)&&(Fr=null),ea.forEach(T0),ta.forEach(T0)}function ra(s,i){s.blockedOn===i&&(s.blockedOn=null,hc||(hc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nT)))}function sa(s){function i(m){return ra(m,s)}if(0<Gu.length){ra(Gu[0],s);for(var o=1;o<Gu.length;o++){var d=Gu[o];d.blockedOn===s&&(d.blockedOn=null)}}for(Pr!==null&&ra(Pr,s),Mr!==null&&ra(Mr,s),Fr!==null&&ra(Fr,s),ea.forEach(i),ta.forEach(i),o=0;o<Br.length;o++)d=Br[o],d.blockedOn===s&&(d.blockedOn=null);for(;0<Br.length&&(o=Br[0],o.blockedOn===null);)y0(o),o.blockedOn===null&&Br.shift()}var Ks=O.ReactCurrentBatchConfig,Ku=!0;function rT(s,i,o,d){var m=je,E=Ks.transition;Ks.transition=null;try{je=1,pc(s,i,o,d)}finally{je=m,Ks.transition=E}}function sT(s,i,o,d){var m=je,E=Ks.transition;Ks.transition=null;try{je=4,pc(s,i,o,d)}finally{je=m,Ks.transition=E}}function pc(s,i,o,d){if(Ku){var m=mc(s,i,o,d);if(m===null)Oc(s,i,d,Xu,o),b0(s,d);else if(tT(m,s,i,o,d))d.stopPropagation();else if(b0(s,d),i&4&&-1<eT.indexOf(s)){for(;m!==null;){var E=ga(m);if(E!==null&&p0(E),E=mc(s,i,o,d),E===null&&Oc(s,i,d,Xu,o),E===m)break;m=E}m!==null&&d.stopPropagation()}else Oc(s,i,d,null,o)}}var Xu=null;function mc(s,i,o,d){if(Xu=null,s=Qi(d),s=Es(s),s!==null)if(i=gs(s),i===null)s=null;else if(o=i.tag,o===13){if(s=s0(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Xu=s,null}function _0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wy()){case oc:return 1;case c0:return 4;case zu:case Yy:return 16;case d0:return 536870912;default:return 16}default:return 16}}var Ur=null,gc=null,Ju=null;function w0(){if(Ju)return Ju;var s,i=gc,o=i.length,d,m="value"in Ur?Ur.value:Ur.textContent,E=m.length;for(s=0;s<o&&i[s]===m[s];s++);var w=o-s;for(d=1;d<=w&&i[o-d]===m[E-d];d++);return Ju=m.slice(s,1<d?1-d:void 0)}function Zu(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function eo(){return!0}function x0(){return!1}function fn(s){function i(o,d,m,E,w){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=E,this.target=w,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(o=s[k],this[k]=o?o(E):E[k]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?eo:x0,this.isPropagationStopped=x0,this}return te(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),i}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ec=fn(Xs),ia=te({},Xs,{view:0,detail:0}),iT=fn(ia),bc,yc,aa,to=te({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==aa&&(aa&&s.type==="mousemove"?(bc=s.screenX-aa.screenX,yc=s.screenY-aa.screenY):yc=bc=0,aa=s),bc)},movementY:function(s){return"movementY"in s?s.movementY:yc}}),v0=fn(to),aT=te({},to,{dataTransfer:0}),uT=fn(aT),oT=te({},ia,{relatedTarget:0}),Tc=fn(oT),lT=te({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),cT=fn(lT),dT=te({},Xs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),fT=fn(dT),hT=te({},Xs,{data:0}),S0=fn(hT),pT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ET(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=gT[s])?!!i[s]:!1}function _c(){return ET}var bT=te({},ia,{key:function(s){if(s.key){var i=pT[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Zu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?mT[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(s){return s.type==="keypress"?Zu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Zu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),yT=fn(bT),TT=te({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C0=fn(TT),_T=te({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),wT=fn(_T),xT=te({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),vT=fn(xT),ST=te({},to,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),CT=fn(ST),AT=[9,13,27,32],wc=c&&"CompositionEvent"in window,ua=null;c&&"documentMode"in document&&(ua=document.documentMode);var NT=c&&"TextEvent"in window&&!ua,A0=c&&(!wc||ua&&8<ua&&11>=ua),N0=" ",k0=!1;function R0(s,i){switch(s){case"keyup":return AT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Js=!1;function kT(s,i){switch(s){case"compositionend":return I0(i);case"keypress":return i.which!==32?null:(k0=!0,N0);case"textInput":return s=i.data,s===N0&&k0?null:s;default:return null}}function RT(s,i){if(Js)return s==="compositionend"||!wc&&R0(s,i)?(s=w0(),Ju=gc=Ur=null,Js=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return A0&&i.locale!=="ko"?null:i.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!IT[s.type]:i==="textarea"}function L0(s,i,o,d){Rt(d),i=ao(i,"onChange"),0<i.length&&(o=new Ec("onChange","change",null,o,d),s.push({event:o,listeners:i}))}var oa=null,la=null;function OT(s){X0(s,0)}function no(s){var i=ri(s);if(ln(i))return s}function LT(s,i){if(s==="change")return i}var D0=!1;if(c){var xc;if(c){var vc="oninput"in document;if(!vc){var P0=document.createElement("div");P0.setAttribute("oninput","return;"),vc=typeof P0.oninput=="function"}xc=vc}else xc=!1;D0=xc&&(!document.documentMode||9<document.documentMode)}function M0(){oa&&(oa.detachEvent("onpropertychange",F0),la=oa=null)}function F0(s){if(s.propertyName==="value"&&no(la)){var i=[];L0(i,la,s,Qi(s)),gr(OT,i)}}function DT(s,i,o){s==="focusin"?(M0(),oa=i,la=o,oa.attachEvent("onpropertychange",F0)):s==="focusout"&&M0()}function PT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return no(la)}function MT(s,i){if(s==="click")return no(i)}function FT(s,i){if(s==="input"||s==="change")return no(i)}function BT(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Un=typeof Object.is=="function"?Object.is:BT;function ca(s,i){if(Un(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!f.call(i,m)||!Un(s[m],i[m]))return!1}return!0}function B0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function U0(s,i){var o=B0(s);s=0;for(var d;o;){if(o.nodeType===3){if(d=s+o.textContent.length,s<=i&&d>=i)return{node:o,offset:i-s};s=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=B0(o)}}function j0(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?j0(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function H0(){for(var s=window,i=On();i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=On(s.document)}return i}function Sc(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function UT(s){var i=H0(),o=s.focusedElem,d=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&j0(o.ownerDocument.documentElement,o)){if(d!==null&&Sc(o)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(s,o.value.length);else if(s=(i=o.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var m=o.textContent.length,E=Math.min(d.start,m);d=d.end===void 0?E:Math.min(d.end,m),!s.extend&&E>d&&(m=d,d=E,E=m),m=U0(o,E);var w=U0(o,d);m&&w&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==w.node||s.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),s.removeAllRanges(),E>d?(s.addRange(i),s.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),s.addRange(i)))}}for(i=[],s=o;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)s=i[o],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jT=c&&"documentMode"in document&&11>=document.documentMode,Zs=null,Cc=null,da=null,Ac=!1;function $0(s,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ac||Zs==null||Zs!==On(d)||(d=Zs,"selectionStart"in d&&Sc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),da&&ca(da,d)||(da=d,d=ao(Cc,"onSelect"),0<d.length&&(i=new Ec("onSelect","select",null,i,o),s.push({event:i,listeners:d}),i.target=Zs)))}function ro(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var ei={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},Nc={},z0={};c&&(z0=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function so(s){if(Nc[s])return Nc[s];if(!ei[s])return s;var i=ei[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in z0)return Nc[s]=i[o];return s}var q0=so("animationend"),W0=so("animationiteration"),Y0=so("animationstart"),V0=so("transitionend"),G0=new Map,Q0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(s,i){G0.set(s,i),u(i,[s])}for(var kc=0;kc<Q0.length;kc++){var Rc=Q0[kc],HT=Rc.toLowerCase(),$T=Rc[0].toUpperCase()+Rc.slice(1);jr(HT,"on"+$T)}jr(q0,"onAnimationEnd"),jr(W0,"onAnimationIteration"),jr(Y0,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(V0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zT=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function K0(s,i,o){var d=s.type||"unknown-event";s.currentTarget=o,Hy(d,i,void 0,s),s.currentTarget=null}function X0(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var d=s[o],m=d.event;d=d.listeners;e:{var E=void 0;if(i)for(var w=d.length-1;0<=w;w--){var k=d[w],L=k.instance,H=k.currentTarget;if(k=k.listener,L!==E&&m.isPropagationStopped())break e;K0(m,k,H),E=L}else for(w=0;w<d.length;w++){if(k=d[w],L=k.instance,H=k.currentTarget,k=k.listener,L!==E&&m.isPropagationStopped())break e;K0(m,k,H),E=L}}}if(dn)throw s=Er,dn=!1,Er=null,s}function Ye(s,i){var o=i[Bc];o===void 0&&(o=i[Bc]=new Set);var d=s+"__bubble";o.has(d)||(J0(i,s,2,!1),o.add(d))}function Ic(s,i,o){var d=0;i&&(d|=4),J0(o,s,d,i)}var io="_reactListening"+Math.random().toString(36).slice(2);function ha(s){if(!s[io]){s[io]=!0,r.forEach(function(o){o!=="selectionchange"&&(zT.has(o)||Ic(o,!1,s),Ic(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[io]||(i[io]=!0,Ic("selectionchange",!1,i))}}function J0(s,i,o,d){switch(_0(i)){case 1:var m=rT;break;case 4:m=sT;break;default:m=pc}o=m.bind(null,i,o,s),m=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(i,o,{capture:!0,passive:m}):s.addEventListener(i,o,!0):m!==void 0?s.addEventListener(i,o,{passive:m}):s.addEventListener(i,o,!1)}function Oc(s,i,o,d,m){var E=d;if(!(i&1)&&!(i&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var k=d.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(w===4)for(w=d.return;w!==null;){var L=w.tag;if((L===3||L===4)&&(L=w.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;w=w.return}for(;k!==null;){if(w=Es(k),w===null)return;if(L=w.tag,L===5||L===6){d=E=w;continue e}k=k.parentNode}}d=d.return}gr(function(){var H=E,G=Qi(o),K=[];e:{var V=G0.get(s);if(V!==void 0){var ne=Ec,ie=s;switch(s){case"keypress":if(Zu(o)===0)break e;case"keydown":case"keyup":ne=yT;break;case"focusin":ie="focus",ne=Tc;break;case"focusout":ie="blur",ne=Tc;break;case"beforeblur":case"afterblur":ne=Tc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=v0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=uT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=wT;break;case q0:case W0:case Y0:ne=cT;break;case V0:ne=vT;break;case"scroll":ne=iT;break;case"wheel":ne=CT;break;case"copy":case"cut":case"paste":ne=fT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=C0}var ae=(i&4)!==0,ut=!ae&&s==="scroll",B=ae?V!==null?V+"Capture":null:V;ae=[];for(var D=H,j;D!==null;){j=D;var Z=j.stateNode;if(j.tag===5&&Z!==null&&(j=Z,B!==null&&(Z=Ze(D,B),Z!=null&&ae.push(pa(D,Z,j)))),ut)break;D=D.return}0<ae.length&&(V=new ne(V,ie,null,o,G),K.push({event:V,listeners:ae}))}}if(!(i&7)){e:{if(V=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",V&&o!==Qs&&(ie=o.relatedTarget||o.fromElement)&&(Es(ie)||ie[br]))break e;if((ne||V)&&(V=G.window===G?G:(V=G.ownerDocument)?V.defaultView||V.parentWindow:window,ne?(ie=o.relatedTarget||o.toElement,ne=H,ie=ie?Es(ie):null,ie!==null&&(ut=gs(ie),ie!==ut||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ne=null,ie=H),ne!==ie)){if(ae=v0,Z="onMouseLeave",B="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(ae=C0,Z="onPointerLeave",B="onPointerEnter",D="pointer"),ut=ne==null?V:ri(ne),j=ie==null?V:ri(ie),V=new ae(Z,D+"leave",ne,o,G),V.target=ut,V.relatedTarget=j,Z=null,Es(G)===H&&(ae=new ae(B,D+"enter",ie,o,G),ae.target=j,ae.relatedTarget=ut,Z=ae),ut=Z,ne&&ie)t:{for(ae=ne,B=ie,D=0,j=ae;j;j=ti(j))D++;for(j=0,Z=B;Z;Z=ti(Z))j++;for(;0<D-j;)ae=ti(ae),D--;for(;0<j-D;)B=ti(B),j--;for(;D--;){if(ae===B||B!==null&&ae===B.alternate)break t;ae=ti(ae),B=ti(B)}ae=null}else ae=null;ne!==null&&Z0(K,V,ne,ae,!1),ie!==null&&ut!==null&&Z0(K,ut,ie,ae,!0)}}e:{if(V=H?ri(H):window,ne=V.nodeName&&V.nodeName.toLowerCase(),ne==="select"||ne==="input"&&V.type==="file")var oe=LT;else if(O0(V))if(D0)oe=FT;else{oe=PT;var ce=DT}else(ne=V.nodeName)&&ne.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(oe=MT);if(oe&&(oe=oe(s,H))){L0(K,oe,o,G);break e}ce&&ce(s,V,H),s==="focusout"&&(ce=V._wrapperState)&&ce.controlled&&V.type==="number"&&ms(V,"number",V.value)}switch(ce=H?ri(H):window,s){case"focusin":(O0(ce)||ce.contentEditable==="true")&&(Zs=ce,Cc=H,da=null);break;case"focusout":da=Cc=Zs=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,$0(K,o,G);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":$0(K,o,G)}var de;if(wc)e:{switch(s){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Js?R0(s,o)&&(me="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(me="onCompositionStart");me&&(A0&&o.locale!=="ko"&&(Js||me!=="onCompositionStart"?me==="onCompositionEnd"&&Js&&(de=w0()):(Ur=G,gc="value"in Ur?Ur.value:Ur.textContent,Js=!0)),ce=ao(H,me),0<ce.length&&(me=new S0(me,s,null,o,G),K.push({event:me,listeners:ce}),de?me.data=de:(de=I0(o),de!==null&&(me.data=de)))),(de=NT?kT(s,o):RT(s,o))&&(H=ao(H,"onBeforeInput"),0<H.length&&(G=new S0("onBeforeInput","beforeinput",null,o,G),K.push({event:G,listeners:H}),G.data=de))}X0(K,i)})}function pa(s,i,o){return{instance:s,listener:i,currentTarget:o}}function ao(s,i){for(var o=i+"Capture",d=[];s!==null;){var m=s,E=m.stateNode;m.tag===5&&E!==null&&(m=E,E=Ze(s,o),E!=null&&d.unshift(pa(s,E,m)),E=Ze(s,i),E!=null&&d.push(pa(s,E,m))),s=s.return}return d}function ti(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Z0(s,i,o,d,m){for(var E=i._reactName,w=[];o!==null&&o!==d;){var k=o,L=k.alternate,H=k.stateNode;if(L!==null&&L===d)break;k.tag===5&&H!==null&&(k=H,m?(L=Ze(o,E),L!=null&&w.unshift(pa(o,L,k))):m||(L=Ze(o,E),L!=null&&w.push(pa(o,L,k)))),o=o.return}w.length!==0&&s.push({event:i,listeners:w})}var qT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function ep(s){return(typeof s=="string"?s:""+s).replace(qT,`
`).replace(WT,"")}function uo(s,i,o){if(i=ep(i),ep(s)!==i&&o)throw Error(n(425))}function oo(){}var Lc=null,Dc=null;function Pc(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mc=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,tp=typeof Promise=="function"?Promise:void 0,VT=typeof queueMicrotask=="function"?queueMicrotask:typeof tp<"u"?function(s){return tp.resolve(null).then(s).catch(GT)}:Mc;function GT(s){setTimeout(function(){throw s})}function Fc(s,i){var o=i,d=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(d===0){s.removeChild(m),sa(i);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=m}while(o);sa(i)}function Hr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function np(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return s;i--}else o==="/$"&&i++}s=s.previousSibling}return null}var ni=Math.random().toString(36).slice(2),rr="__reactFiber$"+ni,ma="__reactProps$"+ni,br="__reactContainer$"+ni,Bc="__reactEvents$"+ni,QT="__reactListeners$"+ni,KT="__reactHandles$"+ni;function Es(s){var i=s[rr];if(i)return i;for(var o=s.parentNode;o;){if(i=o[br]||o[rr]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=np(s);s!==null;){if(o=s[rr])return o;s=np(s)}return i}s=o,o=s.parentNode}return null}function ga(s){return s=s[rr]||s[br],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ri(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function lo(s){return s[ma]||null}var Uc=[],si=-1;function $r(s){return{current:s}}function Ve(s){0>si||(s.current=Uc[si],Uc[si]=null,si--)}function ze(s,i){si++,Uc[si]=s.current,s.current=i}var zr={},Lt=$r(zr),Vt=$r(!1),bs=zr;function ii(s,i){var o=s.type.contextTypes;if(!o)return zr;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var m={},E;for(E in o)m[E]=i[E];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=m),m}function Gt(s){return s=s.childContextTypes,s!=null}function co(){Ve(Vt),Ve(Lt)}function rp(s,i,o){if(Lt.current!==zr)throw Error(n(168));ze(Lt,i),ze(Vt,o)}function sp(s,i,o){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var m in d)if(!(m in i))throw Error(n(108,Fe(s)||"Unknown",m));return te({},o,d)}function fo(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||zr,bs=Lt.current,ze(Lt,s),ze(Vt,Vt.current),!0}function ip(s,i,o){var d=s.stateNode;if(!d)throw Error(n(169));o?(s=sp(s,i,bs),d.__reactInternalMemoizedMergedChildContext=s,Ve(Vt),Ve(Lt),ze(Lt,s)):Ve(Vt),ze(Vt,o)}var yr=null,ho=!1,jc=!1;function ap(s){yr===null?yr=[s]:yr.push(s)}function XT(s){ho=!0,ap(s)}function qr(){if(!jc&&yr!==null){jc=!0;var s=0,i=je;try{var o=yr;for(je=1;s<o.length;s++){var d=o[s];do d=d(!0);while(d!==null)}yr=null,ho=!1}catch(m){throw yr!==null&&(yr=yr.slice(s+1)),o0(oc,qr),m}finally{je=i,jc=!1}}return null}var ai=[],ui=0,po=null,mo=0,_n=[],wn=0,ys=null,Tr=1,_r="";function Ts(s,i){ai[ui++]=mo,ai[ui++]=po,po=s,mo=i}function up(s,i,o){_n[wn++]=Tr,_n[wn++]=_r,_n[wn++]=ys,ys=s;var d=Tr;s=_r;var m=32-Bn(d)-1;d&=~(1<<m),o+=1;var E=32-Bn(i)+m;if(30<E){var w=m-m%5;E=(d&(1<<w)-1).toString(32),d>>=w,m-=w,Tr=1<<32-Bn(i)+m|o<<m|d,_r=E+s}else Tr=1<<E|o<<m|d,_r=s}function Hc(s){s.return!==null&&(Ts(s,1),up(s,1,0))}function $c(s){for(;s===po;)po=ai[--ui],ai[ui]=null,mo=ai[--ui],ai[ui]=null;for(;s===ys;)ys=_n[--wn],_n[wn]=null,_r=_n[--wn],_n[wn]=null,Tr=_n[--wn],_n[wn]=null}var hn=null,pn=null,Ge=!1,jn=null;function op(s,i){var o=Cn(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=s,i=s.deletions,i===null?(s.deletions=[o],s.flags|=16):i.push(o)}function lp(s,i){switch(s.tag){case 5:var o=s.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,hn=s,pn=Hr(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,hn=s,pn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=ys!==null?{id:Tr,overflow:_r}:null,s.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Cn(18,null,null,0),o.stateNode=i,o.return=s,s.child=o,hn=s,pn=null,!0):!1;default:return!1}}function zc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function qc(s){if(Ge){var i=pn;if(i){var o=i;if(!lp(s,i)){if(zc(s))throw Error(n(418));i=Hr(o.nextSibling);var d=hn;i&&lp(s,i)?op(d,o):(s.flags=s.flags&-4097|2,Ge=!1,hn=s)}}else{if(zc(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ge=!1,hn=s}}}function cp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;hn=s}function go(s){if(s!==hn)return!1;if(!Ge)return cp(s),Ge=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Pc(s.type,s.memoizedProps)),i&&(i=pn)){if(zc(s))throw dp(),Error(n(418));for(;i;)op(s,i),i=Hr(i.nextSibling)}if(cp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"){if(i===0){pn=Hr(s.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}s=s.nextSibling}pn=null}}else pn=hn?Hr(s.stateNode.nextSibling):null;return!0}function dp(){for(var s=pn;s;)s=Hr(s.nextSibling)}function oi(){pn=hn=null,Ge=!1}function Wc(s){jn===null?jn=[s]:jn.push(s)}var JT=O.ReactCurrentBatchConfig;function Ea(s,i,o){if(s=o.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var d=o.stateNode}if(!d)throw Error(n(147,s));var m=d,E=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===E?i.ref:(i=function(w){var k=m.refs;w===null?delete k[E]:k[E]=w},i._stringRef=E,i)}if(typeof s!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,s))}return s}function Eo(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function fp(s){var i=s._init;return i(s._payload)}function hp(s){function i(B,D){if(s){var j=B.deletions;j===null?(B.deletions=[D],B.flags|=16):j.push(D)}}function o(B,D){if(!s)return null;for(;D!==null;)i(B,D),D=D.sibling;return null}function d(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function m(B,D){return B=Jr(B,D),B.index=0,B.sibling=null,B}function E(B,D,j){return B.index=j,s?(j=B.alternate,j!==null?(j=j.index,j<D?(B.flags|=2,D):j):(B.flags|=2,D)):(B.flags|=1048576,D)}function w(B){return s&&B.alternate===null&&(B.flags|=2),B}function k(B,D,j,Z){return D===null||D.tag!==6?(D=Md(j,B.mode,Z),D.return=B,D):(D=m(D,j),D.return=B,D)}function L(B,D,j,Z){var oe=j.type;return oe===re?G(B,D,j.props.children,Z,j.key):D!==null&&(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===dt&&fp(oe)===D.type)?(Z=m(D,j.props),Z.ref=Ea(B,D,j),Z.return=B,Z):(Z=Ho(j.type,j.key,j.props,null,B.mode,Z),Z.ref=Ea(B,D,j),Z.return=B,Z)}function H(B,D,j,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Fd(j,B.mode,Z),D.return=B,D):(D=m(D,j.children||[]),D.return=B,D)}function G(B,D,j,Z,oe){return D===null||D.tag!==7?(D=Ns(j,B.mode,Z,oe),D.return=B,D):(D=m(D,j),D.return=B,D)}function K(B,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Md(""+D,B.mode,j),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return j=Ho(D.type,D.key,D.props,null,B.mode,j),j.ref=Ea(B,null,D),j.return=B,j;case J:return D=Fd(D,B.mode,j),D.return=B,D;case dt:var Z=D._init;return K(B,Z(D._payload),j)}if(qt(D)||le(D))return D=Ns(D,B.mode,j,null),D.return=B,D;Eo(B,D)}return null}function V(B,D,j,Z){var oe=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return oe!==null?null:k(B,D,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case q:return j.key===oe?L(B,D,j,Z):null;case J:return j.key===oe?H(B,D,j,Z):null;case dt:return oe=j._init,V(B,D,oe(j._payload),Z)}if(qt(j)||le(j))return oe!==null?null:G(B,D,j,Z,null);Eo(B,j)}return null}function ne(B,D,j,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return B=B.get(j)||null,k(D,B,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:return B=B.get(Z.key===null?j:Z.key)||null,L(D,B,Z,oe);case J:return B=B.get(Z.key===null?j:Z.key)||null,H(D,B,Z,oe);case dt:var ce=Z._init;return ne(B,D,j,ce(Z._payload),oe)}if(qt(Z)||le(Z))return B=B.get(j)||null,G(D,B,Z,oe,null);Eo(D,Z)}return null}function ie(B,D,j,Z){for(var oe=null,ce=null,de=D,me=D=0,bt=null;de!==null&&me<j.length;me++){de.index>me?(bt=de,de=null):bt=de.sibling;var Me=V(B,de,j[me],Z);if(Me===null){de===null&&(de=bt);break}s&&de&&Me.alternate===null&&i(B,de),D=E(Me,D,me),ce===null?oe=Me:ce.sibling=Me,ce=Me,de=bt}if(me===j.length)return o(B,de),Ge&&Ts(B,me),oe;if(de===null){for(;me<j.length;me++)de=K(B,j[me],Z),de!==null&&(D=E(de,D,me),ce===null?oe=de:ce.sibling=de,ce=de);return Ge&&Ts(B,me),oe}for(de=d(B,de);me<j.length;me++)bt=ne(de,B,me,j[me],Z),bt!==null&&(s&&bt.alternate!==null&&de.delete(bt.key===null?me:bt.key),D=E(bt,D,me),ce===null?oe=bt:ce.sibling=bt,ce=bt);return s&&de.forEach(function(Zr){return i(B,Zr)}),Ge&&Ts(B,me),oe}function ae(B,D,j,Z){var oe=le(j);if(typeof oe!="function")throw Error(n(150));if(j=oe.call(j),j==null)throw Error(n(151));for(var ce=oe=null,de=D,me=D=0,bt=null,Me=j.next();de!==null&&!Me.done;me++,Me=j.next()){de.index>me?(bt=de,de=null):bt=de.sibling;var Zr=V(B,de,Me.value,Z);if(Zr===null){de===null&&(de=bt);break}s&&de&&Zr.alternate===null&&i(B,de),D=E(Zr,D,me),ce===null?oe=Zr:ce.sibling=Zr,ce=Zr,de=bt}if(Me.done)return o(B,de),Ge&&Ts(B,me),oe;if(de===null){for(;!Me.done;me++,Me=j.next())Me=K(B,Me.value,Z),Me!==null&&(D=E(Me,D,me),ce===null?oe=Me:ce.sibling=Me,ce=Me);return Ge&&Ts(B,me),oe}for(de=d(B,de);!Me.done;me++,Me=j.next())Me=ne(de,B,me,Me.value,Z),Me!==null&&(s&&Me.alternate!==null&&de.delete(Me.key===null?me:Me.key),D=E(Me,D,me),ce===null?oe=Me:ce.sibling=Me,ce=Me);return s&&de.forEach(function(R_){return i(B,R_)}),Ge&&Ts(B,me),oe}function ut(B,D,j,Z){if(typeof j=="object"&&j!==null&&j.type===re&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case q:e:{for(var oe=j.key,ce=D;ce!==null;){if(ce.key===oe){if(oe=j.type,oe===re){if(ce.tag===7){o(B,ce.sibling),D=m(ce,j.props.children),D.return=B,B=D;break e}}else if(ce.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===dt&&fp(oe)===ce.type){o(B,ce.sibling),D=m(ce,j.props),D.ref=Ea(B,ce,j),D.return=B,B=D;break e}o(B,ce);break}else i(B,ce);ce=ce.sibling}j.type===re?(D=Ns(j.props.children,B.mode,Z,j.key),D.return=B,B=D):(Z=Ho(j.type,j.key,j.props,null,B.mode,Z),Z.ref=Ea(B,D,j),Z.return=B,B=Z)}return w(B);case J:e:{for(ce=j.key;D!==null;){if(D.key===ce)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){o(B,D.sibling),D=m(D,j.children||[]),D.return=B,B=D;break e}else{o(B,D);break}else i(B,D);D=D.sibling}D=Fd(j,B.mode,Z),D.return=B,B=D}return w(B);case dt:return ce=j._init,ut(B,D,ce(j._payload),Z)}if(qt(j))return ie(B,D,j,Z);if(le(j))return ae(B,D,j,Z);Eo(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(o(B,D.sibling),D=m(D,j),D.return=B,B=D):(o(B,D),D=Md(j,B.mode,Z),D.return=B,B=D),w(B)):o(B,D)}return ut}var li=hp(!0),pp=hp(!1),bo=$r(null),yo=null,ci=null,Yc=null;function Vc(){Yc=ci=yo=null}function Gc(s){var i=bo.current;Ve(bo),s._currentValue=i}function Qc(s,i,o){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===o)break;s=s.return}}function di(s,i){yo=s,Yc=ci=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&i&&(Qt=!0),s.firstContext=null)}function xn(s){var i=s._currentValue;if(Yc!==s)if(s={context:s,memoizedValue:i,next:null},ci===null){if(yo===null)throw Error(n(308));ci=s,yo.dependencies={lanes:0,firstContext:s}}else ci=ci.next=s;return i}var _s=null;function Kc(s){_s===null?_s=[s]:_s.push(s)}function mp(s,i,o,d){var m=i.interleaved;return m===null?(o.next=o,Kc(i)):(o.next=m.next,m.next=o),i.interleaved=o,wr(s,d)}function wr(s,i){s.lanes|=i;var o=s.alternate;for(o!==null&&(o.lanes|=i),o=s,s=s.return;s!==null;)s.childLanes|=i,o=s.alternate,o!==null&&(o.childLanes|=i),o=s,s=s.return;return o.tag===3?o.stateNode:null}var Wr=!1;function Xc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function xr(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Yr(s,i,o){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,De&2){var m=d.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i,wr(s,o)}return m=d.interleaved,m===null?(i.next=i,Kc(d)):(i.next=m.next,m.next=i),d.interleaved=i,wr(s,o)}function To(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,o|=d,i.lanes=o,dc(s,o)}}function Ep(s,i){var o=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,E=null;if(o=o.firstBaseUpdate,o!==null){do{var w={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};E===null?m=E=w:E=E.next=w,o=o.next}while(o!==null);E===null?m=E=i:E=E.next=i}else m=E=i;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:E,shared:d.shared,effects:d.effects},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}function _o(s,i,o,d){var m=s.updateQueue;Wr=!1;var E=m.firstBaseUpdate,w=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var L=k,H=L.next;L.next=null,w===null?E=H:w.next=H,w=L;var G=s.alternate;G!==null&&(G=G.updateQueue,k=G.lastBaseUpdate,k!==w&&(k===null?G.firstBaseUpdate=H:k.next=H,G.lastBaseUpdate=L))}if(E!==null){var K=m.baseState;w=0,G=H=L=null,k=E;do{var V=k.lane,ne=k.eventTime;if((d&V)===V){G!==null&&(G=G.next={eventTime:ne,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ie=s,ae=k;switch(V=i,ne=o,ae.tag){case 1:if(ie=ae.payload,typeof ie=="function"){K=ie.call(ne,K,V);break e}K=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ae.payload,V=typeof ie=="function"?ie.call(ne,K,V):ie,V==null)break e;K=te({},K,V);break e;case 2:Wr=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,V=m.effects,V===null?m.effects=[k]:V.push(k))}else ne={eventTime:ne,lane:V,tag:k.tag,payload:k.payload,callback:k.callback,next:null},G===null?(H=G=ne,L=K):G=G.next=ne,w|=V;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;V=k,k=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);if(G===null&&(L=K),m.baseState=L,m.firstBaseUpdate=H,m.lastBaseUpdate=G,i=m.shared.interleaved,i!==null){m=i;do w|=m.lane,m=m.next;while(m!==i)}else E===null&&(m.shared.lanes=0);vs|=w,s.lanes=w,s.memoizedState=K}}function bp(s,i,o){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],m=d.callback;if(m!==null){if(d.callback=null,d=o,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var ba={},sr=$r(ba),ya=$r(ba),Ta=$r(ba);function ws(s){if(s===ba)throw Error(n(174));return s}function Jc(s,i){switch(ze(Ta,i),ze(ya,s),ze(sr,ba),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:er(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=er(i,s)}Ve(sr),ze(sr,i)}function fi(){Ve(sr),Ve(ya),Ve(Ta)}function yp(s){ws(Ta.current);var i=ws(sr.current),o=er(i,s.type);i!==o&&(ze(ya,s),ze(sr,o))}function Zc(s){ya.current===s&&(Ve(sr),Ve(ya))}var et=$r(0);function wo(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ed=[];function td(){for(var s=0;s<ed.length;s++)ed[s]._workInProgressVersionPrimary=null;ed.length=0}var xo=O.ReactCurrentDispatcher,nd=O.ReactCurrentBatchConfig,xs=0,tt=null,ft=null,gt=null,vo=!1,_a=!1,wa=0,ZT=0;function Dt(){throw Error(n(321))}function rd(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Un(s[o],i[o]))return!1;return!0}function sd(s,i,o,d,m,E){if(xs=E,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,xo.current=s===null||s.memoizedState===null?r_:s_,s=o(d,m),_a){E=0;do{if(_a=!1,wa=0,25<=E)throw Error(n(301));E+=1,gt=ft=null,i.updateQueue=null,xo.current=i_,s=o(d,m)}while(_a)}if(xo.current=Ao,i=ft!==null&&ft.next!==null,xs=0,gt=ft=tt=null,vo=!1,i)throw Error(n(300));return s}function id(){var s=wa!==0;return wa=0,s}function ir(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?tt.memoizedState=gt=s:gt=gt.next=s,gt}function vn(){if(ft===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=ft.next;var i=gt===null?tt.memoizedState:gt.next;if(i!==null)gt=i,ft=s;else{if(s===null)throw Error(n(310));ft=s,s={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?tt.memoizedState=gt=s:gt=gt.next=s}return gt}function xa(s,i){return typeof i=="function"?i(s):i}function ad(s){var i=vn(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=s;var d=ft,m=d.baseQueue,E=o.pending;if(E!==null){if(m!==null){var w=m.next;m.next=E.next,E.next=w}d.baseQueue=m=E,o.pending=null}if(m!==null){E=m.next,d=d.baseState;var k=w=null,L=null,H=E;do{var G=H.lane;if((xs&G)===G)L!==null&&(L=L.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:s(d,H.action);else{var K={lane:G,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};L===null?(k=L=K,w=d):L=L.next=K,tt.lanes|=G,vs|=G}H=H.next}while(H!==null&&H!==E);L===null?w=d:L.next=k,Un(d,i.memoizedState)||(Qt=!0),i.memoizedState=d,i.baseState=w,i.baseQueue=L,o.lastRenderedState=d}if(s=o.interleaved,s!==null){m=s;do E=m.lane,tt.lanes|=E,vs|=E,m=m.next;while(m!==s)}else m===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function ud(s){var i=vn(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=s;var d=o.dispatch,m=o.pending,E=i.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do E=s(E,w.action),w=w.next;while(w!==m);Un(E,i.memoizedState)||(Qt=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),o.lastRenderedState=E}return[E,d]}function Tp(){}function _p(s,i){var o=tt,d=vn(),m=i(),E=!Un(d.memoizedState,m);if(E&&(d.memoizedState=m,Qt=!0),d=d.queue,od(vp.bind(null,o,d,s),[s]),d.getSnapshot!==i||E||gt!==null&&gt.memoizedState.tag&1){if(o.flags|=2048,va(9,xp.bind(null,o,d,m,i),void 0,null),Et===null)throw Error(n(349));xs&30||wp(o,i,m)}return m}function wp(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function xp(s,i,o,d){i.value=o,i.getSnapshot=d,Sp(i)&&Cp(s)}function vp(s,i,o){return o(function(){Sp(i)&&Cp(s)})}function Sp(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Un(s,o)}catch{return!0}}function Cp(s){var i=wr(s,1);i!==null&&qn(i,s,1,-1)}function Ap(s){var i=ir();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:s},i.queue=s,s=s.dispatch=n_.bind(null,tt,s),[i.memoizedState,s]}function va(s,i,o,d){return s={tag:s,create:i,destroy:o,deps:d,next:null},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.lastEffect=s.next=s):(o=i.lastEffect,o===null?i.lastEffect=s.next=s:(d=o.next,o.next=s,s.next=d,i.lastEffect=s)),s}function Np(){return vn().memoizedState}function So(s,i,o,d){var m=ir();tt.flags|=s,m.memoizedState=va(1|i,o,void 0,d===void 0?null:d)}function Co(s,i,o,d){var m=vn();d=d===void 0?null:d;var E=void 0;if(ft!==null){var w=ft.memoizedState;if(E=w.destroy,d!==null&&rd(d,w.deps)){m.memoizedState=va(i,o,E,d);return}}tt.flags|=s,m.memoizedState=va(1|i,o,E,d)}function kp(s,i){return So(8390656,8,s,i)}function od(s,i){return Co(2048,8,s,i)}function Rp(s,i){return Co(4,2,s,i)}function Ip(s,i){return Co(4,4,s,i)}function Op(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Lp(s,i,o){return o=o!=null?o.concat([s]):null,Co(4,4,Op.bind(null,i,s),o)}function ld(){}function Dp(s,i){var o=vn();i=i===void 0?null:i;var d=o.memoizedState;return d!==null&&i!==null&&rd(i,d[1])?d[0]:(o.memoizedState=[s,i],s)}function Pp(s,i){var o=vn();i=i===void 0?null:i;var d=o.memoizedState;return d!==null&&i!==null&&rd(i,d[1])?d[0]:(s=s(),o.memoizedState=[s,i],s)}function Mp(s,i,o){return xs&21?(Un(o,i)||(o=f0(),tt.lanes|=o,vs|=o,s.baseState=!0),i):(s.baseState&&(s.baseState=!1,Qt=!0),s.memoizedState=o)}function e_(s,i){var o=je;je=o!==0&&4>o?o:4,s(!0);var d=nd.transition;nd.transition={};try{s(!1),i()}finally{je=o,nd.transition=d}}function Fp(){return vn().memoizedState}function t_(s,i,o){var d=Kr(s);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},Bp(s))Up(i,o);else if(o=mp(s,i,o,d),o!==null){var m=Ht();qn(o,s,d,m),jp(o,i,d)}}function n_(s,i,o){var d=Kr(s),m={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bp(s))Up(i,m);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var w=i.lastRenderedState,k=E(w,o);if(m.hasEagerState=!0,m.eagerState=k,Un(k,w)){var L=i.interleaved;L===null?(m.next=m,Kc(i)):(m.next=L.next,L.next=m),i.interleaved=m;return}}catch{}finally{}o=mp(s,i,m,d),o!==null&&(m=Ht(),qn(o,s,d,m),jp(o,i,d))}}function Bp(s){var i=s.alternate;return s===tt||i!==null&&i===tt}function Up(s,i){_a=vo=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function jp(s,i,o){if(o&4194240){var d=i.lanes;d&=s.pendingLanes,o|=d,i.lanes=o,dc(s,o)}}var Ao={readContext:xn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},r_={readContext:xn,useCallback:function(s,i){return ir().memoizedState=[s,i===void 0?null:i],s},useContext:xn,useEffect:kp,useImperativeHandle:function(s,i,o){return o=o!=null?o.concat([s]):null,So(4194308,4,Op.bind(null,i,s),o)},useLayoutEffect:function(s,i){return So(4194308,4,s,i)},useInsertionEffect:function(s,i){return So(4,2,s,i)},useMemo:function(s,i){var o=ir();return i=i===void 0?null:i,s=s(),o.memoizedState=[s,i],s},useReducer:function(s,i,o){var d=ir();return i=o!==void 0?o(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=t_.bind(null,tt,s),[d.memoizedState,s]},useRef:function(s){var i=ir();return s={current:s},i.memoizedState=s},useState:Ap,useDebugValue:ld,useDeferredValue:function(s){return ir().memoizedState=s},useTransition:function(){var s=Ap(!1),i=s[0];return s=e_.bind(null,s[1]),ir().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,o){var d=tt,m=ir();if(Ge){if(o===void 0)throw Error(n(407));o=o()}else{if(o=i(),Et===null)throw Error(n(349));xs&30||wp(d,i,o)}m.memoizedState=o;var E={value:o,getSnapshot:i};return m.queue=E,kp(vp.bind(null,d,E,s),[s]),d.flags|=2048,va(9,xp.bind(null,d,E,o,i),void 0,null),o},useId:function(){var s=ir(),i=Et.identifierPrefix;if(Ge){var o=_r,d=Tr;o=(d&~(1<<32-Bn(d)-1)).toString(32)+o,i=":"+i+"R"+o,o=wa++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=ZT++,i=":"+i+"r"+o.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},s_={readContext:xn,useCallback:Dp,useContext:xn,useEffect:od,useImperativeHandle:Lp,useInsertionEffect:Rp,useLayoutEffect:Ip,useMemo:Pp,useReducer:ad,useRef:Np,useState:function(){return ad(xa)},useDebugValue:ld,useDeferredValue:function(s){var i=vn();return Mp(i,ft.memoizedState,s)},useTransition:function(){var s=ad(xa)[0],i=vn().memoizedState;return[s,i]},useMutableSource:Tp,useSyncExternalStore:_p,useId:Fp,unstable_isNewReconciler:!1},i_={readContext:xn,useCallback:Dp,useContext:xn,useEffect:od,useImperativeHandle:Lp,useInsertionEffect:Rp,useLayoutEffect:Ip,useMemo:Pp,useReducer:ud,useRef:Np,useState:function(){return ud(xa)},useDebugValue:ld,useDeferredValue:function(s){var i=vn();return ft===null?i.memoizedState=s:Mp(i,ft.memoizedState,s)},useTransition:function(){var s=ud(xa)[0],i=vn().memoizedState;return[s,i]},useMutableSource:Tp,useSyncExternalStore:_p,useId:Fp,unstable_isNewReconciler:!1};function Hn(s,i){if(s&&s.defaultProps){i=te({},i),s=s.defaultProps;for(var o in s)i[o]===void 0&&(i[o]=s[o]);return i}return i}function cd(s,i,o,d){i=s.memoizedState,o=o(d,i),o=o==null?i:te({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var No={isMounted:function(s){return(s=s._reactInternals)?gs(s)===s:!1},enqueueSetState:function(s,i,o){s=s._reactInternals;var d=Ht(),m=Kr(s),E=xr(d,m);E.payload=i,o!=null&&(E.callback=o),i=Yr(s,E,m),i!==null&&(qn(i,s,m,d),To(i,s,m))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var d=Ht(),m=Kr(s),E=xr(d,m);E.tag=1,E.payload=i,o!=null&&(E.callback=o),i=Yr(s,E,m),i!==null&&(qn(i,s,m,d),To(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=Ht(),d=Kr(s),m=xr(o,d);m.tag=2,i!=null&&(m.callback=i),i=Yr(s,m,d),i!==null&&(qn(i,s,d,o),To(i,s,d))}};function Hp(s,i,o,d,m,E,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,E,w):i.prototype&&i.prototype.isPureReactComponent?!ca(o,d)||!ca(m,E):!0}function $p(s,i,o){var d=!1,m=zr,E=i.contextType;return typeof E=="object"&&E!==null?E=xn(E):(m=Gt(i)?bs:Lt.current,d=i.contextTypes,E=(d=d!=null)?ii(s,m):zr),i=new i(o,E),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=No,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=E),i}function zp(s,i,o,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==s&&No.enqueueReplaceState(i,i.state,null)}function dd(s,i,o,d){var m=s.stateNode;m.props=o,m.state=s.memoizedState,m.refs={},Xc(s);var E=i.contextType;typeof E=="object"&&E!==null?m.context=xn(E):(E=Gt(i)?bs:Lt.current,m.context=ii(s,E)),m.state=s.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(cd(s,i,E,o),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&No.enqueueReplaceState(m,m.state,null),_o(s,o,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function hi(s,i){try{var o="",d=i;do o+=ve(d),d=d.return;while(d);var m=o}catch(E){m=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:i,stack:m,digest:null}}function fd(s,i,o){return{value:s,source:null,stack:o??null,digest:i??null}}function hd(s,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var a_=typeof WeakMap=="function"?WeakMap:Map;function qp(s,i,o){o=xr(-1,o),o.tag=3,o.payload={element:null};var d=i.value;return o.callback=function(){Po||(Po=!0,Nd=d),hd(s,i)},o}function Wp(s,i,o){o=xr(-1,o),o.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=i.value;o.payload=function(){return d(m)},o.callback=function(){hd(s,i)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(o.callback=function(){hd(s,i),typeof d!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),o}function Yp(s,i,o){var d=s.pingCache;if(d===null){d=s.pingCache=new a_;var m=new Set;d.set(i,m)}else m=d.get(i),m===void 0&&(m=new Set,d.set(i,m));m.has(o)||(m.add(o),s=T_.bind(null,s,i,o),i.then(s,s))}function Vp(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Gp(s,i,o,d,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===i?s.flags|=65536:(s.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=xr(-1,1),i.tag=2,Yr(o,i,1))),o.lanes|=1),s)}var u_=O.ReactCurrentOwner,Qt=!1;function jt(s,i,o,d){i.child=s===null?pp(i,null,o,d):li(i,s.child,o,d)}function Qp(s,i,o,d,m){o=o.render;var E=i.ref;return di(i,m),d=sd(s,i,o,d,E,m),o=id(),s!==null&&!Qt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,vr(s,i,m)):(Ge&&o&&Hc(i),i.flags|=1,jt(s,i,d,m),i.child)}function Kp(s,i,o,d,m){if(s===null){var E=o.type;return typeof E=="function"&&!Pd(E)&&E.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=E,Xp(s,i,E,d,m)):(s=Ho(o.type,null,d,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(E=s.child,!(s.lanes&m)){var w=E.memoizedProps;if(o=o.compare,o=o!==null?o:ca,o(w,d)&&s.ref===i.ref)return vr(s,i,m)}return i.flags|=1,s=Jr(E,d),s.ref=i.ref,s.return=i,i.child=s}function Xp(s,i,o,d,m){if(s!==null){var E=s.memoizedProps;if(ca(E,d)&&s.ref===i.ref)if(Qt=!1,i.pendingProps=d=E,(s.lanes&m)!==0)s.flags&131072&&(Qt=!0);else return i.lanes=s.lanes,vr(s,i,m)}return pd(s,i,o,d,m)}function Jp(s,i,o){var d=i.pendingProps,m=d.children,E=s!==null?s.memoizedState:null;if(d.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(mi,mn),mn|=o;else{if(!(o&1073741824))return s=E!==null?E.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,ze(mi,mn),mn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=E!==null?E.baseLanes:o,ze(mi,mn),mn|=d}else E!==null?(d=E.baseLanes|o,i.memoizedState=null):d=o,ze(mi,mn),mn|=d;return jt(s,i,m,o),i.child}function Zp(s,i){var o=i.ref;(s===null&&o!==null||s!==null&&s.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function pd(s,i,o,d,m){var E=Gt(o)?bs:Lt.current;return E=ii(i,E),di(i,m),o=sd(s,i,o,d,E,m),d=id(),s!==null&&!Qt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,vr(s,i,m)):(Ge&&d&&Hc(i),i.flags|=1,jt(s,i,o,m),i.child)}function em(s,i,o,d,m){if(Gt(o)){var E=!0;fo(i)}else E=!1;if(di(i,m),i.stateNode===null)Ro(s,i),$p(i,o,d),dd(i,o,d,m),d=!0;else if(s===null){var w=i.stateNode,k=i.memoizedProps;w.props=k;var L=w.context,H=o.contextType;typeof H=="object"&&H!==null?H=xn(H):(H=Gt(o)?bs:Lt.current,H=ii(i,H));var G=o.getDerivedStateFromProps,K=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function";K||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==d||L!==H)&&zp(i,w,d,H),Wr=!1;var V=i.memoizedState;w.state=V,_o(i,d,w,m),L=i.memoizedState,k!==d||V!==L||Vt.current||Wr?(typeof G=="function"&&(cd(i,o,G,d),L=i.memoizedState),(k=Wr||Hp(i,o,k,d,V,L,H))?(K||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=L),w.props=d,w.state=L,w.context=H,d=k):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{w=i.stateNode,gp(s,i),k=i.memoizedProps,H=i.type===i.elementType?k:Hn(i.type,k),w.props=H,K=i.pendingProps,V=w.context,L=o.contextType,typeof L=="object"&&L!==null?L=xn(L):(L=Gt(o)?bs:Lt.current,L=ii(i,L));var ne=o.getDerivedStateFromProps;(G=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==K||V!==L)&&zp(i,w,d,L),Wr=!1,V=i.memoizedState,w.state=V,_o(i,d,w,m);var ie=i.memoizedState;k!==K||V!==ie||Vt.current||Wr?(typeof ne=="function"&&(cd(i,o,ne,d),ie=i.memoizedState),(H=Wr||Hp(i,o,H,d,V,ie,L)||!1)?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ie,L),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ie,L)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ie),w.props=d,w.state=ie,w.context=L,d=H):(typeof w.componentDidUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&V===s.memoizedState||(i.flags|=1024),d=!1)}return md(s,i,o,d,E,m)}function md(s,i,o,d,m,E){Zp(s,i);var w=(i.flags&128)!==0;if(!d&&!w)return m&&ip(i,o,!1),vr(s,i,E);d=i.stateNode,u_.current=i;var k=w&&typeof o.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&w?(i.child=li(i,s.child,null,E),i.child=li(i,null,k,E)):jt(s,i,k,E),i.memoizedState=d.state,m&&ip(i,o,!0),i.child}function tm(s){var i=s.stateNode;i.pendingContext?rp(s,i.pendingContext,i.pendingContext!==i.context):i.context&&rp(s,i.context,!1),Jc(s,i.containerInfo)}function nm(s,i,o,d,m){return oi(),Wc(m),i.flags|=256,jt(s,i,o,d),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0};function Ed(s){return{baseLanes:s,cachePool:null,transitions:null}}function rm(s,i,o){var d=i.pendingProps,m=et.current,E=!1,w=(i.flags&128)!==0,k;if((k=w)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(E=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),ze(et,m&1),s===null)return qc(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(i.mode&1?s.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(w=d.children,s=d.fallback,E?(d=i.mode,E=i.child,w={mode:"hidden",children:w},!(d&1)&&E!==null?(E.childLanes=0,E.pendingProps=w):E=$o(w,d,0,null),s=Ns(s,d,o,null),E.return=i,s.return=i,E.sibling=s,i.child=E,i.child.memoizedState=Ed(o),i.memoizedState=gd,s):bd(i,w));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return o_(s,i,w,d,k,m,o);if(E){E=d.fallback,w=i.mode,m=s.child,k=m.sibling;var L={mode:"hidden",children:d.children};return!(w&1)&&i.child!==m?(d=i.child,d.childLanes=0,d.pendingProps=L,i.deletions=null):(d=Jr(m,L),d.subtreeFlags=m.subtreeFlags&14680064),k!==null?E=Jr(k,E):(E=Ns(E,w,o,null),E.flags|=2),E.return=i,d.return=i,d.sibling=E,i.child=d,d=E,E=i.child,w=s.child.memoizedState,w=w===null?Ed(o):{baseLanes:w.baseLanes|o,cachePool:null,transitions:w.transitions},E.memoizedState=w,E.childLanes=s.childLanes&~o,i.memoizedState=gd,d}return E=s.child,s=E.sibling,d=Jr(E,{mode:"visible",children:d.children}),!(i.mode&1)&&(d.lanes=o),d.return=i,d.sibling=null,s!==null&&(o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)),i.child=d,i.memoizedState=null,d}function bd(s,i){return i=$o({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function ko(s,i,o,d){return d!==null&&Wc(d),li(i,s.child,null,o),s=bd(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function o_(s,i,o,d,m,E,w){if(o)return i.flags&256?(i.flags&=-257,d=fd(Error(n(422))),ko(s,i,w,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(E=d.fallback,m=i.mode,d=$o({mode:"visible",children:d.children},m,0,null),E=Ns(E,m,w,null),E.flags|=2,d.return=i,E.return=i,d.sibling=E,i.child=d,i.mode&1&&li(i,s.child,null,w),i.child.memoizedState=Ed(w),i.memoizedState=gd,E);if(!(i.mode&1))return ko(s,i,w,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var k=d.dgst;return d=k,E=Error(n(419)),d=fd(E,d,void 0),ko(s,i,w,d)}if(k=(w&s.childLanes)!==0,Qt||k){if(d=Et,d!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|w)?0:m,m!==0&&m!==E.retryLane&&(E.retryLane=m,wr(s,m),qn(d,s,m,-1))}return Dd(),d=fd(Error(n(421))),ko(s,i,w,d)}return m.data==="$?"?(i.flags|=128,i.child=s.child,i=__.bind(null,s),m._reactRetry=i,null):(s=E.treeContext,pn=Hr(m.nextSibling),hn=i,Ge=!0,jn=null,s!==null&&(_n[wn++]=Tr,_n[wn++]=_r,_n[wn++]=ys,Tr=s.id,_r=s.overflow,ys=i),i=bd(i,d.children),i.flags|=4096,i)}function sm(s,i,o){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Qc(s.return,i,o)}function yd(s,i,o,d,m){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=o,E.tailMode=m)}function im(s,i,o){var d=i.pendingProps,m=d.revealOrder,E=d.tail;if(jt(s,i,d.children,o),d=et.current,d&2)d=d&1|2,i.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sm(s,o,i);else if(s.tag===19)sm(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(ze(et,d),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(o=i.child,m=null;o!==null;)s=o.alternate,s!==null&&wo(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),yd(i,!1,m,o,E);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&wo(s)===null){i.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}yd(i,!0,o,null,E);break;case"together":yd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ro(s,i){!(i.mode&1)&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function vr(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),vs|=i.lanes,!(o&i.childLanes))return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,o=Jr(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Jr(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function l_(s,i,o){switch(i.tag){case 3:tm(i),oi();break;case 5:yp(i);break;case 1:Gt(i.type)&&fo(i);break;case 4:Jc(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,m=i.memoizedProps.value;ze(bo,d._currentValue),d._currentValue=m;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(ze(et,et.current&1),i.flags|=128,null):o&i.child.childLanes?rm(s,i,o):(ze(et,et.current&1),s=vr(s,i,o),s!==null?s.sibling:null);ze(et,et.current&1);break;case 19:if(d=(o&i.childLanes)!==0,s.flags&128){if(d)return im(s,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ze(et,et.current),d)break;return null;case 22:case 23:return i.lanes=0,Jp(s,i,o)}return vr(s,i,o)}var am,Td,um,om;am=function(s,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)s.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Td=function(){},um=function(s,i,o,d){var m=s.memoizedProps;if(m!==d){s=i.stateNode,ws(sr.current);var E=null;switch(o){case"input":m=cn(s,m),d=cn(s,d),E=[];break;case"select":m=te({},m,{value:void 0}),d=te({},d,{value:void 0}),E=[];break;case"textarea":m=Ir(s,m),d=Ir(s,d),E=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=oo)}Gs(o,d);var w;o=null;for(H in m)if(!d.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var k=m[H];for(w in k)k.hasOwnProperty(w)&&(o||(o={}),o[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?E||(E=[]):(E=E||[]).push(H,null));for(H in d){var L=d[H];if(k=m?.[H],d.hasOwnProperty(H)&&L!==k&&(L!=null||k!=null))if(H==="style")if(k){for(w in k)!k.hasOwnProperty(w)||L&&L.hasOwnProperty(w)||(o||(o={}),o[w]="");for(w in L)L.hasOwnProperty(w)&&k[w]!==L[w]&&(o||(o={}),o[w]=L[w])}else o||(E||(E=[]),E.push(H,o)),o=L;else H==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,k=k?k.__html:void 0,L!=null&&k!==L&&(E=E||[]).push(H,L)):H==="children"?typeof L!="string"&&typeof L!="number"||(E=E||[]).push(H,""+L):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(a.hasOwnProperty(H)?(L!=null&&H==="onScroll"&&Ye("scroll",s),E||k===L||(E=[])):(E=E||[]).push(H,L))}o&&(E=E||[]).push("style",o);var H=E;(i.updateQueue=H)&&(i.flags|=4)}},om=function(s,i,o,d){o!==d&&(i.flags|=4)};function Sa(s,i){if(!Ge)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Pt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,d=0;if(i)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=o,i}function c_(s,i,o){var d=i.pendingProps;switch($c(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(i),null;case 1:return Gt(i.type)&&co(),Pt(i),null;case 3:return d=i.stateNode,fi(),Ve(Vt),Ve(Lt),td(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(go(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,jn!==null&&(Id(jn),jn=null))),Td(s,i),Pt(i),null;case 5:Zc(i);var m=ws(Ta.current);if(o=i.type,s!==null&&i.stateNode!=null)um(s,i,o,d,m),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Pt(i),null}if(s=ws(sr.current),go(i)){d=i.stateNode,o=i.type;var E=i.memoizedProps;switch(d[rr]=i,d[ma]=E,s=(i.mode&1)!==0,o){case"dialog":Ye("cancel",d),Ye("close",d);break;case"iframe":case"object":case"embed":Ye("load",d);break;case"video":case"audio":for(m=0;m<fa.length;m++)Ye(fa[m],d);break;case"source":Ye("error",d);break;case"img":case"image":case"link":Ye("error",d),Ye("load",d);break;case"details":Ye("toggle",d);break;case"input":pr(d,E),Ye("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!E.multiple},Ye("invalid",d);break;case"textarea":Wi(d,E),Ye("invalid",d)}Gs(o,E),m=null;for(var w in E)if(E.hasOwnProperty(w)){var k=E[w];w==="children"?typeof k=="string"?d.textContent!==k&&(E.suppressHydrationWarning!==!0&&uo(d.textContent,k,s),m=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(E.suppressHydrationWarning!==!0&&uo(d.textContent,k,s),m=["children",""+k]):a.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&Ye("scroll",d)}switch(o){case"input":Zn(d),qi(d,E,!0);break;case"textarea":Zn(d),Bu(d);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(d.onclick=oo)}d=m,i.updateQueue=d,d!==null&&(i.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Uu(o)),s==="http://www.w3.org/1999/xhtml"?o==="script"?(s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=w.createElement(o,{is:d.is}):(s=w.createElement(o),o==="select"&&(w=s,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):s=w.createElementNS(s,o),s[rr]=i,s[ma]=d,am(s,i,!1,!1),i.stateNode=s;e:{switch(w=Gi(o,d),o){case"dialog":Ye("cancel",s),Ye("close",s),m=d;break;case"iframe":case"object":case"embed":Ye("load",s),m=d;break;case"video":case"audio":for(m=0;m<fa.length;m++)Ye(fa[m],s);m=d;break;case"source":Ye("error",s),m=d;break;case"img":case"image":case"link":Ye("error",s),Ye("load",s),m=d;break;case"details":Ye("toggle",s),m=d;break;case"input":pr(s,d),m=cn(s,d),Ye("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=te({},d,{value:void 0}),Ye("invalid",s);break;case"textarea":Wi(s,d),m=Ir(s,d),Ye("invalid",s);break;default:m=d}Gs(o,m),k=m;for(E in k)if(k.hasOwnProperty(E)){var L=k[E];E==="style"?$u(s,L):E==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Or(s,L)):E==="children"?typeof L=="string"?(o!=="textarea"||L!=="")&&Lr(s,L):typeof L=="number"&&Lr(s,""+L):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?L!=null&&E==="onScroll"&&Ye("scroll",s):L!=null&&U(s,E,L,w))}switch(o){case"input":Zn(s),qi(s,d,!1);break;case"textarea":Zn(s),Bu(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Se(d.value));break;case"select":s.multiple=!!d.multiple,E=d.value,E!=null?Ln(s,!!d.multiple,E,!1):d.defaultValue!=null&&Ln(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=oo)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Pt(i),null;case 6:if(s&&i.stateNode!=null)om(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(o=ws(Ta.current),ws(sr.current),go(i)){if(d=i.stateNode,o=i.memoizedProps,d[rr]=i,(E=d.nodeValue!==o)&&(s=hn,s!==null))switch(s.tag){case 3:uo(d.nodeValue,o,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&uo(d.nodeValue,o,(s.mode&1)!==0)}E&&(i.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[rr]=i,i.stateNode=d}return Pt(i),null;case 13:if(Ve(et),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ge&&pn!==null&&i.mode&1&&!(i.flags&128))dp(),oi(),i.flags|=98560,E=!1;else if(E=go(i),d!==null&&d.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=i.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[rr]=i}else oi(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Pt(i),E=!1}else jn!==null&&(Id(jn),jn=null),E=!0;if(!E)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,i.mode&1&&(s===null||et.current&1?ht===0&&(ht=3):Dd())),i.updateQueue!==null&&(i.flags|=4),Pt(i),null);case 4:return fi(),Td(s,i),s===null&&ha(i.stateNode.containerInfo),Pt(i),null;case 10:return Gc(i.type._context),Pt(i),null;case 17:return Gt(i.type)&&co(),Pt(i),null;case 19:if(Ve(et),E=i.memoizedState,E===null)return Pt(i),null;if(d=(i.flags&128)!==0,w=E.rendering,w===null)if(d)Sa(E,!1);else{if(ht!==0||s!==null&&s.flags&128)for(s=i.child;s!==null;){if(w=wo(s),w!==null){for(i.flags|=128,Sa(E,!1),d=w.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=o,o=i.child;o!==null;)E=o,s=d,E.flags&=14680066,w=E.alternate,w===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=w.childLanes,E.lanes=w.lanes,E.child=w.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=w.memoizedProps,E.memoizedState=w.memoizedState,E.updateQueue=w.updateQueue,E.type=w.type,s=w.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o=o.sibling;return ze(et,et.current&1|2),i.child}s=s.sibling}E.tail!==null&&at()>gi&&(i.flags|=128,d=!0,Sa(E,!1),i.lanes=4194304)}else{if(!d)if(s=wo(w),s!==null){if(i.flags|=128,d=!0,o=s.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Sa(E,!0),E.tail===null&&E.tailMode==="hidden"&&!w.alternate&&!Ge)return Pt(i),null}else 2*at()-E.renderingStartTime>gi&&o!==1073741824&&(i.flags|=128,d=!0,Sa(E,!1),i.lanes=4194304);E.isBackwards?(w.sibling=i.child,i.child=w):(o=E.last,o!==null?o.sibling=w:i.child=w,E.last=w)}return E.tail!==null?(i=E.tail,E.rendering=i,E.tail=i.sibling,E.renderingStartTime=at(),i.sibling=null,o=et.current,ze(et,d?o&1|2:o&1),i):(Pt(i),null);case 22:case 23:return Ld(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&i.mode&1?mn&1073741824&&(Pt(i),i.subtreeFlags&6&&(i.flags|=8192)):Pt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function d_(s,i){switch($c(i),i.tag){case 1:return Gt(i.type)&&co(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return fi(),Ve(Vt),Ve(Lt),td(),s=i.flags,s&65536&&!(s&128)?(i.flags=s&-65537|128,i):null;case 5:return Zc(i),null;case 13:if(Ve(et),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));oi()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Ve(et),null;case 4:return fi(),null;case 10:return Gc(i.type._context),null;case 22:case 23:return Ld(),null;case 24:return null;default:return null}}var Io=!1,Mt=!1,f_=typeof WeakSet=="function"?WeakSet:Set,se=null;function pi(s,i){var o=s.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){it(s,i,d)}else o.current=null}function _d(s,i,o){try{o()}catch(d){it(s,i,d)}}var lm=!1;function h_(s,i){if(Lc=Ku,s=H0(),Sc(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,E=d.focusNode;d=d.focusOffset;try{o.nodeType,E.nodeType}catch{o=null;break e}var w=0,k=-1,L=-1,H=0,G=0,K=s,V=null;t:for(;;){for(var ne;K!==o||m!==0&&K.nodeType!==3||(k=w+m),K!==E||d!==0&&K.nodeType!==3||(L=w+d),K.nodeType===3&&(w+=K.nodeValue.length),(ne=K.firstChild)!==null;)V=K,K=ne;for(;;){if(K===s)break t;if(V===o&&++H===m&&(k=w),V===E&&++G===d&&(L=w),(ne=K.nextSibling)!==null)break;K=V,V=K.parentNode}K=ne}o=k===-1||L===-1?null:{start:k,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dc={focusedElem:s,selectionRange:o},Ku=!1,se=i;se!==null;)if(i=se,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,se=s;else for(;se!==null;){i=se;try{var ie=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var ae=ie.memoizedProps,ut=ie.memoizedState,B=i.stateNode,D=B.getSnapshotBeforeUpdate(i.elementType===i.type?ae:Hn(i.type,ae),ut);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=i.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){it(i,i.return,Z)}if(s=i.sibling,s!==null){s.return=i.return,se=s;break}se=i.return}return ie=lm,lm=!1,ie}function Ca(s,i,o){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var E=m.destroy;m.destroy=void 0,E!==void 0&&_d(i,o,E)}m=m.next}while(m!==d)}}function Oo(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&s)===s){var d=o.create;o.destroy=d()}o=o.next}while(o!==i)}}function wd(s){var i=s.ref;if(i!==null){var o=s.stateNode;switch(s.tag){case 5:s=o;break;default:s=o}typeof i=="function"?i(s):i.current=s}}function cm(s){var i=s.alternate;i!==null&&(s.alternate=null,cm(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[rr],delete i[ma],delete i[Bc],delete i[QT],delete i[KT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function dm(s){return s.tag===5||s.tag===3||s.tag===4}function fm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function xd(s,i,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(s,i):o.insertBefore(s,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(s,o)):(i=o,i.appendChild(s)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=oo));else if(d!==4&&(s=s.child,s!==null))for(xd(s,i,o),s=s.sibling;s!==null;)xd(s,i,o),s=s.sibling}function vd(s,i,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(vd(s,i,o),s=s.sibling;s!==null;)vd(s,i,o),s=s.sibling}var xt=null,$n=!1;function Vr(s,i,o){for(o=o.child;o!==null;)hm(s,i,o),o=o.sibling}function hm(s,i,o){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(qu,o)}catch{}switch(o.tag){case 5:Mt||pi(o,i);case 6:var d=xt,m=$n;xt=null,Vr(s,i,o),xt=d,$n=m,xt!==null&&($n?(s=xt,o=o.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):xt.removeChild(o.stateNode));break;case 18:xt!==null&&($n?(s=xt,o=o.stateNode,s.nodeType===8?Fc(s.parentNode,o):s.nodeType===1&&Fc(s,o),sa(s)):Fc(xt,o.stateNode));break;case 4:d=xt,m=$n,xt=o.stateNode.containerInfo,$n=!0,Vr(s,i,o),xt=d,$n=m;break;case 0:case 11:case 14:case 15:if(!Mt&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var E=m,w=E.destroy;E=E.tag,w!==void 0&&(E&2||E&4)&&_d(o,i,w),m=m.next}while(m!==d)}Vr(s,i,o);break;case 1:if(!Mt&&(pi(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(k){it(o,i,k)}Vr(s,i,o);break;case 21:Vr(s,i,o);break;case 22:o.mode&1?(Mt=(d=Mt)||o.memoizedState!==null,Vr(s,i,o),Mt=d):Vr(s,i,o);break;default:Vr(s,i,o)}}function pm(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var o=s.stateNode;o===null&&(o=s.stateNode=new f_),i.forEach(function(d){var m=w_.bind(null,s,d);o.has(d)||(o.add(d),d.then(m,m))})}}function zn(s,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];try{var E=s,w=i,k=w;e:for(;k!==null;){switch(k.tag){case 5:xt=k.stateNode,$n=!1;break e;case 3:xt=k.stateNode.containerInfo,$n=!0;break e;case 4:xt=k.stateNode.containerInfo,$n=!0;break e}k=k.return}if(xt===null)throw Error(n(160));hm(E,w,m),xt=null,$n=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(H){it(m,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)mm(i,s),i=i.sibling}function mm(s,i){var o=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(zn(i,s),ar(s),d&4){try{Ca(3,s,s.return),Oo(3,s)}catch(ae){it(s,s.return,ae)}try{Ca(5,s,s.return)}catch(ae){it(s,s.return,ae)}}break;case 1:zn(i,s),ar(s),d&512&&o!==null&&pi(o,o.return);break;case 5:if(zn(i,s),ar(s),d&512&&o!==null&&pi(o,o.return),s.flags&32){var m=s.stateNode;try{Lr(m,"")}catch(ae){it(s,s.return,ae)}}if(d&4&&(m=s.stateNode,m!=null)){var E=s.memoizedProps,w=o!==null?o.memoizedProps:E,k=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{k==="input"&&E.type==="radio"&&E.name!=null&&mr(m,E),Gi(k,w);var H=Gi(k,E);for(w=0;w<L.length;w+=2){var G=L[w],K=L[w+1];G==="style"?$u(m,K):G==="dangerouslySetInnerHTML"?Or(m,K):G==="children"?Lr(m,K):U(m,G,K,H)}switch(k){case"input":Vs(m,E);break;case"textarea":Yi(m,E);break;case"select":var V=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!E.multiple;var ne=E.value;ne!=null?Ln(m,!!E.multiple,ne,!1):V!==!!E.multiple&&(E.defaultValue!=null?Ln(m,!!E.multiple,E.defaultValue,!0):Ln(m,!!E.multiple,E.multiple?[]:"",!1))}m[ma]=E}catch(ae){it(s,s.return,ae)}}break;case 6:if(zn(i,s),ar(s),d&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,E=s.memoizedProps;try{m.nodeValue=E}catch(ae){it(s,s.return,ae)}}break;case 3:if(zn(i,s),ar(s),d&4&&o!==null&&o.memoizedState.isDehydrated)try{sa(i.containerInfo)}catch(ae){it(s,s.return,ae)}break;case 4:zn(i,s),ar(s);break;case 13:zn(i,s),ar(s),m=s.child,m.flags&8192&&(E=m.memoizedState!==null,m.stateNode.isHidden=E,!E||m.alternate!==null&&m.alternate.memoizedState!==null||(Ad=at())),d&4&&pm(s);break;case 22:if(G=o!==null&&o.memoizedState!==null,s.mode&1?(Mt=(H=Mt)||G,zn(i,s),Mt=H):zn(i,s),ar(s),d&8192){if(H=s.memoizedState!==null,(s.stateNode.isHidden=H)&&!G&&s.mode&1)for(se=s,G=s.child;G!==null;){for(K=se=G;se!==null;){switch(V=se,ne=V.child,V.tag){case 0:case 11:case 14:case 15:Ca(4,V,V.return);break;case 1:pi(V,V.return);var ie=V.stateNode;if(typeof ie.componentWillUnmount=="function"){d=V,o=V.return;try{i=d,ie.props=i.memoizedProps,ie.state=i.memoizedState,ie.componentWillUnmount()}catch(ae){it(d,o,ae)}}break;case 5:pi(V,V.return);break;case 22:if(V.memoizedState!==null){bm(K);continue}}ne!==null?(ne.return=V,se=ne):bm(K)}G=G.sibling}e:for(G=null,K=s;;){if(K.tag===5){if(G===null){G=K;try{m=K.stateNode,H?(E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(k=K.stateNode,L=K.memoizedProps.style,w=L!=null&&L.hasOwnProperty("display")?L.display:null,k.style.display=Hu("display",w))}catch(ae){it(s,s.return,ae)}}}else if(K.tag===6){if(G===null)try{K.stateNode.nodeValue=H?"":K.memoizedProps}catch(ae){it(s,s.return,ae)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===s)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===s)break e;for(;K.sibling===null;){if(K.return===null||K.return===s)break e;G===K&&(G=null),K=K.return}G===K&&(G=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:zn(i,s),ar(s),d&4&&pm(s);break;case 21:break;default:zn(i,s),ar(s)}}function ar(s){var i=s.flags;if(i&2){try{e:{for(var o=s.return;o!==null;){if(dm(o)){var d=o;break e}o=o.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Lr(m,""),d.flags&=-33);var E=fm(s);vd(s,E,m);break;case 3:case 4:var w=d.stateNode.containerInfo,k=fm(s);xd(s,k,w);break;default:throw Error(n(161))}}catch(L){it(s,s.return,L)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function p_(s,i,o){se=s,gm(s)}function gm(s,i,o){for(var d=(s.mode&1)!==0;se!==null;){var m=se,E=m.child;if(m.tag===22&&d){var w=m.memoizedState!==null||Io;if(!w){var k=m.alternate,L=k!==null&&k.memoizedState!==null||Mt;k=Io;var H=Mt;if(Io=w,(Mt=L)&&!H)for(se=m;se!==null;)w=se,L=w.child,w.tag===22&&w.memoizedState!==null?ym(m):L!==null?(L.return=w,se=L):ym(m);for(;E!==null;)se=E,gm(E),E=E.sibling;se=m,Io=k,Mt=H}Em(s)}else m.subtreeFlags&8772&&E!==null?(E.return=m,se=E):Em(s)}}function Em(s){for(;se!==null;){var i=se;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Mt||Oo(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Mt)if(o===null)d.componentDidMount();else{var m=i.elementType===i.type?o.memoizedProps:Hn(i.type,o.memoizedProps);d.componentDidUpdate(m,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var E=i.updateQueue;E!==null&&bp(i,E,d);break;case 3:var w=i.updateQueue;if(w!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}bp(i,w,o)}break;case 5:var k=i.stateNode;if(o===null&&i.flags&4){o=k;var L=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&o.focus();break;case"img":L.src&&(o.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var G=H.memoizedState;if(G!==null){var K=G.dehydrated;K!==null&&sa(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||i.flags&512&&wd(i)}catch(V){it(i,i.return,V)}}if(i===s){se=null;break}if(o=i.sibling,o!==null){o.return=i.return,se=o;break}se=i.return}}function bm(s){for(;se!==null;){var i=se;if(i===s){se=null;break}var o=i.sibling;if(o!==null){o.return=i.return,se=o;break}se=i.return}}function ym(s){for(;se!==null;){var i=se;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Oo(4,i)}catch(L){it(i,o,L)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var m=i.return;try{d.componentDidMount()}catch(L){it(i,m,L)}}var E=i.return;try{wd(i)}catch(L){it(i,E,L)}break;case 5:var w=i.return;try{wd(i)}catch(L){it(i,w,L)}}}catch(L){it(i,i.return,L)}if(i===s){se=null;break}var k=i.sibling;if(k!==null){k.return=i.return,se=k;break}se=i.return}}var m_=Math.ceil,Lo=O.ReactCurrentDispatcher,Sd=O.ReactCurrentOwner,Sn=O.ReactCurrentBatchConfig,De=0,Et=null,lt=null,vt=0,mn=0,mi=$r(0),ht=0,Aa=null,vs=0,Do=0,Cd=0,Na=null,Kt=null,Ad=0,gi=1/0,Sr=null,Po=!1,Nd=null,Gr=null,Mo=!1,Qr=null,Fo=0,ka=0,kd=null,Bo=-1,Uo=0;function Ht(){return De&6?at():Bo!==-1?Bo:Bo=at()}function Kr(s){return s.mode&1?De&2&&vt!==0?vt&-vt:JT.transition!==null?(Uo===0&&(Uo=f0()),Uo):(s=je,s!==0||(s=window.event,s=s===void 0?16:_0(s.type)),s):1}function qn(s,i,o,d){if(50<ka)throw ka=0,kd=null,Error(n(185));Zi(s,o,d),(!(De&2)||s!==Et)&&(s===Et&&(!(De&2)&&(Do|=o),ht===4&&Xr(s,vt)),Xt(s,d),o===1&&De===0&&!(i.mode&1)&&(gi=at()+500,ho&&qr()))}function Xt(s,i){var o=s.callbackNode;Jy(s,i);var d=Vu(s,s===Et?vt:0);if(d===0)o!==null&&l0(o),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(o!=null&&l0(o),i===1)s.tag===0?XT(_m.bind(null,s)):ap(_m.bind(null,s)),VT(function(){!(De&6)&&qr()}),o=null;else{switch(h0(d)){case 1:o=oc;break;case 4:o=c0;break;case 16:o=zu;break;case 536870912:o=d0;break;default:o=zu}o=km(o,Tm.bind(null,s))}s.callbackPriority=i,s.callbackNode=o}}function Tm(s,i){if(Bo=-1,Uo=0,De&6)throw Error(n(327));var o=s.callbackNode;if(Ei()&&s.callbackNode!==o)return null;var d=Vu(s,s===Et?vt:0);if(d===0)return null;if(d&30||d&s.expiredLanes||i)i=jo(s,d);else{i=d;var m=De;De|=2;var E=xm();(Et!==s||vt!==i)&&(Sr=null,gi=at()+500,Cs(s,i));do try{b_();break}catch(k){wm(s,k)}while(!0);Vc(),Lo.current=E,De=m,lt!==null?i=0:(Et=null,vt=0,i=ht)}if(i!==0){if(i===2&&(m=lc(s),m!==0&&(d=m,i=Rd(s,m))),i===1)throw o=Aa,Cs(s,0),Xr(s,d),Xt(s,at()),o;if(i===6)Xr(s,d);else{if(m=s.current.alternate,!(d&30)&&!g_(m)&&(i=jo(s,d),i===2&&(E=lc(s),E!==0&&(d=E,i=Rd(s,E))),i===1))throw o=Aa,Cs(s,0),Xr(s,d),Xt(s,at()),o;switch(s.finishedWork=m,s.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:As(s,Kt,Sr);break;case 3:if(Xr(s,d),(d&130023424)===d&&(i=Ad+500-at(),10<i)){if(Vu(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){Ht(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Mc(As.bind(null,s,Kt,Sr),i);break}As(s,Kt,Sr);break;case 4:if(Xr(s,d),(d&4194240)===d)break;for(i=s.eventTimes,m=-1;0<d;){var w=31-Bn(d);E=1<<w,w=i[w],w>m&&(m=w),d&=~E}if(d=m,d=at()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*m_(d/1960))-d,10<d){s.timeoutHandle=Mc(As.bind(null,s,Kt,Sr),d);break}As(s,Kt,Sr);break;case 5:As(s,Kt,Sr);break;default:throw Error(n(329))}}}return Xt(s,at()),s.callbackNode===o?Tm.bind(null,s):null}function Rd(s,i){var o=Na;return s.current.memoizedState.isDehydrated&&(Cs(s,i).flags|=256),s=jo(s,i),s!==2&&(i=Kt,Kt=o,i!==null&&Id(i)),s}function Id(s){Kt===null?Kt=s:Kt.push.apply(Kt,s)}function g_(s){for(var i=s;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var m=o[d],E=m.getSnapshot;m=m.value;try{if(!Un(E(),m))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xr(s,i){for(i&=~Cd,i&=~Do,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var o=31-Bn(i),d=1<<o;s[o]=-1,i&=~d}}function _m(s){if(De&6)throw Error(n(327));Ei();var i=Vu(s,0);if(!(i&1))return Xt(s,at()),null;var o=jo(s,i);if(s.tag!==0&&o===2){var d=lc(s);d!==0&&(i=d,o=Rd(s,d))}if(o===1)throw o=Aa,Cs(s,0),Xr(s,i),Xt(s,at()),o;if(o===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,As(s,Kt,Sr),Xt(s,at()),null}function Od(s,i){var o=De;De|=1;try{return s(i)}finally{De=o,De===0&&(gi=at()+500,ho&&qr())}}function Ss(s){Qr!==null&&Qr.tag===0&&!(De&6)&&Ei();var i=De;De|=1;var o=Sn.transition,d=je;try{if(Sn.transition=null,je=1,s)return s()}finally{je=d,Sn.transition=o,De=i,!(De&6)&&qr()}}function Ld(){mn=mi.current,Ve(mi)}function Cs(s,i){s.finishedWork=null,s.finishedLanes=0;var o=s.timeoutHandle;if(o!==-1&&(s.timeoutHandle=-1,YT(o)),lt!==null)for(o=lt.return;o!==null;){var d=o;switch($c(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&co();break;case 3:fi(),Ve(Vt),Ve(Lt),td();break;case 5:Zc(d);break;case 4:fi();break;case 13:Ve(et);break;case 19:Ve(et);break;case 10:Gc(d.type._context);break;case 22:case 23:Ld()}o=o.return}if(Et=s,lt=s=Jr(s.current,null),vt=mn=i,ht=0,Aa=null,Cd=Do=vs=0,Kt=Na=null,_s!==null){for(i=0;i<_s.length;i++)if(o=_s[i],d=o.interleaved,d!==null){o.interleaved=null;var m=d.next,E=o.pending;if(E!==null){var w=E.next;E.next=m,d.next=w}o.pending=d}_s=null}return s}function wm(s,i){do{var o=lt;try{if(Vc(),xo.current=Ao,vo){for(var d=tt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}vo=!1}if(xs=0,gt=ft=tt=null,_a=!1,wa=0,Sd.current=null,o===null||o.return===null){ht=1,Aa=i,lt=null;break}e:{var E=s,w=o.return,k=o,L=i;if(i=vt,k.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var H=L,G=k,K=G.tag;if(!(G.mode&1)&&(K===0||K===11||K===15)){var V=G.alternate;V?(G.updateQueue=V.updateQueue,G.memoizedState=V.memoizedState,G.lanes=V.lanes):(G.updateQueue=null,G.memoizedState=null)}var ne=Vp(w);if(ne!==null){ne.flags&=-257,Gp(ne,w,k,E,i),ne.mode&1&&Yp(E,H,i),i=ne,L=H;var ie=i.updateQueue;if(ie===null){var ae=new Set;ae.add(L),i.updateQueue=ae}else ie.add(L);break e}else{if(!(i&1)){Yp(E,H,i),Dd();break e}L=Error(n(426))}}else if(Ge&&k.mode&1){var ut=Vp(w);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Gp(ut,w,k,E,i),Wc(hi(L,k));break e}}E=L=hi(L,k),ht!==4&&(ht=2),Na===null?Na=[E]:Na.push(E),E=w;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var B=qp(E,L,i);Ep(E,B);break e;case 1:k=L;var D=E.type,j=E.stateNode;if(!(E.flags&128)&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Gr===null||!Gr.has(j)))){E.flags|=65536,i&=-i,E.lanes|=i;var Z=Wp(E,k,i);Ep(E,Z);break e}}E=E.return}while(E!==null)}Sm(o)}catch(oe){i=oe,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function xm(){var s=Lo.current;return Lo.current=Ao,s===null?Ao:s}function Dd(){(ht===0||ht===3||ht===2)&&(ht=4),Et===null||!(vs&268435455)&&!(Do&268435455)||Xr(Et,vt)}function jo(s,i){var o=De;De|=2;var d=xm();(Et!==s||vt!==i)&&(Sr=null,Cs(s,i));do try{E_();break}catch(m){wm(s,m)}while(!0);if(Vc(),De=o,Lo.current=d,lt!==null)throw Error(n(261));return Et=null,vt=0,ht}function E_(){for(;lt!==null;)vm(lt)}function b_(){for(;lt!==null&&!zy();)vm(lt)}function vm(s){var i=Nm(s.alternate,s,mn);s.memoizedProps=s.pendingProps,i===null?Sm(s):lt=i,Sd.current=null}function Sm(s){var i=s;do{var o=i.alternate;if(s=i.return,i.flags&32768){if(o=d_(o,i),o!==null){o.flags&=32767,lt=o;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ht=6,lt=null;return}}else if(o=c_(o,i,mn),o!==null){lt=o;return}if(i=i.sibling,i!==null){lt=i;return}lt=i=s}while(i!==null);ht===0&&(ht=5)}function As(s,i,o){var d=je,m=Sn.transition;try{Sn.transition=null,je=1,y_(s,i,o,d)}finally{Sn.transition=m,je=d}return null}function y_(s,i,o,d){do Ei();while(Qr!==null);if(De&6)throw Error(n(327));o=s.finishedWork;var m=s.finishedLanes;if(o===null)return null;if(s.finishedWork=null,s.finishedLanes=0,o===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=o.lanes|o.childLanes;if(Zy(s,E),s===Et&&(lt=Et=null,vt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Mo||(Mo=!0,km(zu,function(){return Ei(),null})),E=(o.flags&15990)!==0,o.subtreeFlags&15990||E){E=Sn.transition,Sn.transition=null;var w=je;je=1;var k=De;De|=4,Sd.current=null,h_(s,o),mm(o,s),UT(Dc),Ku=!!Lc,Dc=Lc=null,s.current=o,p_(o),qy(),De=k,je=w,Sn.transition=E}else s.current=o;if(Mo&&(Mo=!1,Qr=s,Fo=m),E=s.pendingLanes,E===0&&(Gr=null),Vy(o.stateNode),Xt(s,at()),i!==null)for(d=s.onRecoverableError,o=0;o<i.length;o++)m=i[o],d(m.value,{componentStack:m.stack,digest:m.digest});if(Po)throw Po=!1,s=Nd,Nd=null,s;return Fo&1&&s.tag!==0&&Ei(),E=s.pendingLanes,E&1?s===kd?ka++:(ka=0,kd=s):ka=0,qr(),null}function Ei(){if(Qr!==null){var s=h0(Fo),i=Sn.transition,o=je;try{if(Sn.transition=null,je=16>s?16:s,Qr===null)var d=!1;else{if(s=Qr,Qr=null,Fo=0,De&6)throw Error(n(331));var m=De;for(De|=4,se=s.current;se!==null;){var E=se,w=E.child;if(se.flags&16){var k=E.deletions;if(k!==null){for(var L=0;L<k.length;L++){var H=k[L];for(se=H;se!==null;){var G=se;switch(G.tag){case 0:case 11:case 15:Ca(8,G,E)}var K=G.child;if(K!==null)K.return=G,se=K;else for(;se!==null;){G=se;var V=G.sibling,ne=G.return;if(cm(G),G===H){se=null;break}if(V!==null){V.return=ne,se=V;break}se=ne}}}var ie=E.alternate;if(ie!==null){var ae=ie.child;if(ae!==null){ie.child=null;do{var ut=ae.sibling;ae.sibling=null,ae=ut}while(ae!==null)}}se=E}}if(E.subtreeFlags&2064&&w!==null)w.return=E,se=w;else e:for(;se!==null;){if(E=se,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Ca(9,E,E.return)}var B=E.sibling;if(B!==null){B.return=E.return,se=B;break e}se=E.return}}var D=s.current;for(se=D;se!==null;){w=se;var j=w.child;if(w.subtreeFlags&2064&&j!==null)j.return=w,se=j;else e:for(w=D;se!==null;){if(k=se,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Oo(9,k)}}catch(oe){it(k,k.return,oe)}if(k===w){se=null;break e}var Z=k.sibling;if(Z!==null){Z.return=k.return,se=Z;break e}se=k.return}}if(De=m,qr(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(qu,s)}catch{}d=!0}return d}finally{je=o,Sn.transition=i}}return!1}function Cm(s,i,o){i=hi(o,i),i=qp(s,i,1),s=Yr(s,i,1),i=Ht(),s!==null&&(Zi(s,1,i),Xt(s,i))}function it(s,i,o){if(s.tag===3)Cm(s,s,o);else for(;i!==null;){if(i.tag===3){Cm(i,s,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))){s=hi(o,s),s=Wp(i,s,1),i=Yr(i,s,1),s=Ht(),i!==null&&(Zi(i,1,s),Xt(i,s));break}}i=i.return}}function T_(s,i,o){var d=s.pingCache;d!==null&&d.delete(i),i=Ht(),s.pingedLanes|=s.suspendedLanes&o,Et===s&&(vt&o)===o&&(ht===4||ht===3&&(vt&130023424)===vt&&500>at()-Ad?Cs(s,0):Cd|=o),Xt(s,i)}function Am(s,i){i===0&&(s.mode&1?(i=Yu,Yu<<=1,!(Yu&130023424)&&(Yu=4194304)):i=1);var o=Ht();s=wr(s,i),s!==null&&(Zi(s,i,o),Xt(s,o))}function __(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),Am(s,o)}function w_(s,i){var o=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),Am(s,o)}var Nm;Nm=function(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps||Vt.current)Qt=!0;else{if(!(s.lanes&o)&&!(i.flags&128))return Qt=!1,l_(s,i,o);Qt=!!(s.flags&131072)}else Qt=!1,Ge&&i.flags&1048576&&up(i,mo,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Ro(s,i),s=i.pendingProps;var m=ii(i,Lt.current);di(i,o),m=sd(null,i,d,s,m,o);var E=id();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Gt(d)?(E=!0,fo(i)):E=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Xc(i),m.updater=No,i.stateNode=m,m._reactInternals=i,dd(i,d,s,o),i=md(null,i,d,!0,E,o)):(i.tag=0,Ge&&E&&Hc(i),jt(null,i,m,o),i=i.child),i;case 16:d=i.elementType;e:{switch(Ro(s,i),s=i.pendingProps,m=d._init,d=m(d._payload),i.type=d,m=i.tag=v_(d),s=Hn(d,s),m){case 0:i=pd(null,i,d,s,o);break e;case 1:i=em(null,i,d,s,o);break e;case 11:i=Qp(null,i,d,s,o);break e;case 14:i=Kp(null,i,d,Hn(d.type,s),o);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Hn(d,m),pd(s,i,d,m,o);case 1:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Hn(d,m),em(s,i,d,m,o);case 3:e:{if(tm(i),s===null)throw Error(n(387));d=i.pendingProps,E=i.memoizedState,m=E.element,gp(s,i),_o(i,d,null,o);var w=i.memoizedState;if(d=w.element,E.isDehydrated)if(E={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=E,i.memoizedState=E,i.flags&256){m=hi(Error(n(423)),i),i=nm(s,i,d,o,m);break e}else if(d!==m){m=hi(Error(n(424)),i),i=nm(s,i,d,o,m);break e}else for(pn=Hr(i.stateNode.containerInfo.firstChild),hn=i,Ge=!0,jn=null,o=pp(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(oi(),d===m){i=vr(s,i,o);break e}jt(s,i,d,o)}i=i.child}return i;case 5:return yp(i),s===null&&qc(i),d=i.type,m=i.pendingProps,E=s!==null?s.memoizedProps:null,w=m.children,Pc(d,m)?w=null:E!==null&&Pc(d,E)&&(i.flags|=32),Zp(s,i),jt(s,i,w,o),i.child;case 6:return s===null&&qc(i),null;case 13:return rm(s,i,o);case 4:return Jc(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=li(i,null,d,o):jt(s,i,d,o),i.child;case 11:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Hn(d,m),Qp(s,i,d,m,o);case 7:return jt(s,i,i.pendingProps,o),i.child;case 8:return jt(s,i,i.pendingProps.children,o),i.child;case 12:return jt(s,i,i.pendingProps.children,o),i.child;case 10:e:{if(d=i.type._context,m=i.pendingProps,E=i.memoizedProps,w=m.value,ze(bo,d._currentValue),d._currentValue=w,E!==null)if(Un(E.value,w)){if(E.children===m.children&&!Vt.current){i=vr(s,i,o);break e}}else for(E=i.child,E!==null&&(E.return=i);E!==null;){var k=E.dependencies;if(k!==null){w=E.child;for(var L=k.firstContext;L!==null;){if(L.context===d){if(E.tag===1){L=xr(-1,o&-o),L.tag=2;var H=E.updateQueue;if(H!==null){H=H.shared;var G=H.pending;G===null?L.next=L:(L.next=G.next,G.next=L),H.pending=L}}E.lanes|=o,L=E.alternate,L!==null&&(L.lanes|=o),Qc(E.return,o,i),k.lanes|=o;break}L=L.next}}else if(E.tag===10)w=E.type===i.type?null:E.child;else if(E.tag===18){if(w=E.return,w===null)throw Error(n(341));w.lanes|=o,k=w.alternate,k!==null&&(k.lanes|=o),Qc(w,o,i),w=E.sibling}else w=E.child;if(w!==null)w.return=E;else for(w=E;w!==null;){if(w===i){w=null;break}if(E=w.sibling,E!==null){E.return=w.return,w=E;break}w=w.return}E=w}jt(s,i,m.children,o),i=i.child}return i;case 9:return m=i.type,d=i.pendingProps.children,di(i,o),m=xn(m),d=d(m),i.flags|=1,jt(s,i,d,o),i.child;case 14:return d=i.type,m=Hn(d,i.pendingProps),m=Hn(d.type,m),Kp(s,i,d,m,o);case 15:return Xp(s,i,i.type,i.pendingProps,o);case 17:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:Hn(d,m),Ro(s,i),i.tag=1,Gt(d)?(s=!0,fo(i)):s=!1,di(i,o),$p(i,d,m),dd(i,d,m,o),md(null,i,d,!0,s,o);case 19:return im(s,i,o);case 22:return Jp(s,i,o)}throw Error(n(156,i.tag))};function km(s,i){return o0(s,i)}function x_(s,i,o,d){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(s,i,o,d){return new x_(s,i,o,d)}function Pd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function v_(s){if(typeof s=="function")return Pd(s)?1:0;if(s!=null){if(s=s.$$typeof,s===rt)return 11;if(s===Nt)return 14}return 2}function Jr(s,i){var o=s.alternate;return o===null?(o=Cn(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&14680064,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o}function Ho(s,i,o,d,m,E){var w=2;if(d=s,typeof s=="function")Pd(s)&&(w=1);else if(typeof s=="string")w=5;else e:switch(s){case re:return Ns(o.children,m,E,i);case ue:w=8,m|=8;break;case Ee:return s=Cn(12,o,i,m|2),s.elementType=Ee,s.lanes=E,s;case We:return s=Cn(13,o,i,m),s.elementType=We,s.lanes=E,s;case st:return s=Cn(19,o,i,m),s.elementType=st,s.lanes=E,s;case Re:return $o(o,m,E,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ke:w=10;break e;case Ie:w=9;break e;case rt:w=11;break e;case Nt:w=14;break e;case dt:w=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Cn(w,o,i,m),i.elementType=s,i.type=d,i.lanes=E,i}function Ns(s,i,o,d){return s=Cn(7,s,d,i),s.lanes=o,s}function $o(s,i,o,d){return s=Cn(22,s,d,i),s.elementType=Re,s.lanes=o,s.stateNode={isHidden:!1},s}function Md(s,i,o){return s=Cn(6,s,null,i),s.lanes=o,s}function Fd(s,i,o){return i=Cn(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function S_(s,i,o,d,m){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cc(0),this.expirationTimes=cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cc(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Bd(s,i,o,d,m,E,w,k,L){return s=new S_(s,i,o,k,L),i===1?(i=1,E===!0&&(i|=8)):i=0,E=Cn(3,null,null,i),s.current=E,E.stateNode=s,E.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xc(E),s}function C_(s,i,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:d==null?null:""+d,children:s,containerInfo:i,implementation:o}}function Rm(s){if(!s)return zr;s=s._reactInternals;e:{if(gs(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var o=s.type;if(Gt(o))return sp(s,o,i)}return i}function Im(s,i,o,d,m,E,w,k,L){return s=Bd(o,d,!0,s,m,E,w,k,L),s.context=Rm(null),o=s.current,d=Ht(),m=Kr(o),E=xr(d,m),E.callback=i??null,Yr(o,E,m),s.current.lanes=m,Zi(s,m,d),Xt(s,d),s}function zo(s,i,o,d){var m=i.current,E=Ht(),w=Kr(m);return o=Rm(o),i.context===null?i.context=o:i.pendingContext=o,i=xr(E,w),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=Yr(m,i,w),s!==null&&(qn(s,m,w,E),To(s,m,w)),w}function qo(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Om(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function Ud(s,i){Om(s,i),(s=s.alternate)&&Om(s,i)}var Lm=typeof reportError=="function"?reportError:function(s){console.error(s)};function jd(s){this._internalRoot=s}Wo.prototype.render=jd.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));zo(s,i,null,null)},Wo.prototype.unmount=jd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Ss(function(){zo(null,s,null,null)}),i[br]=null}};function Wo(s){this._internalRoot=s}Wo.prototype.unstable_scheduleHydration=function(s){if(s){var i=g0();s={blockedOn:null,target:s,priority:i};for(var o=0;o<Br.length&&i!==0&&i<Br[o].priority;o++);Br.splice(o,0,s),o===0&&y0(s)}};function Hd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Yo(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Dm(){}function A_(s,i,o,d,m){if(m){if(typeof d=="function"){var E=d;d=function(){var H=qo(w);E.call(H)}}var w=Im(i,d,s,0,null,!1,!1,"",Dm);return s._reactRootContainer=w,s[br]=w.current,ha(s.nodeType===8?s.parentNode:s),Ss(),w}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var k=d;d=function(){var H=qo(L);k.call(H)}}var L=Bd(s,0,!1,null,null,!1,!1,"",Dm);return s._reactRootContainer=L,s[br]=L.current,ha(s.nodeType===8?s.parentNode:s),Ss(function(){zo(i,L,o,d)}),L}function Vo(s,i,o,d,m){var E=o._reactRootContainer;if(E){var w=E;if(typeof m=="function"){var k=m;m=function(){var L=qo(w);k.call(L)}}zo(i,w,s,m)}else w=A_(o,i,s,m,d);return qo(w)}p0=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var o=Ji(i.pendingLanes);o!==0&&(dc(i,o|1),Xt(i,at()),!(De&6)&&(gi=at()+500,qr()))}break;case 13:Ss(function(){var d=wr(s,1);if(d!==null){var m=Ht();qn(d,s,1,m)}}),Ud(s,1)}},fc=function(s){if(s.tag===13){var i=wr(s,134217728);if(i!==null){var o=Ht();qn(i,s,134217728,o)}Ud(s,134217728)}},m0=function(s){if(s.tag===13){var i=Kr(s),o=wr(s,i);if(o!==null){var d=Ht();qn(o,s,i,d)}Ud(s,i)}},g0=function(){return je},E0=function(s,i){var o=je;try{return je=s,i()}finally{je=o}},Ki=function(s,i,o){switch(i){case"input":if(Vs(s,o),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==s&&d.form===s.form){var m=lo(d);if(!m)throw Error(n(90));ln(d),Vs(d,m)}}}break;case"textarea":Yi(s,o);break;case"select":i=o.value,i!=null&&Ln(s,!!o.multiple,i,!1)}},Ut=Od,It=Ss;var N_={usingClientEntryPoint:!1,Events:[ga,ri,lo,Rt,Pn,Od]},Ra={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k_={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=a0(s),s===null?null:s.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{qu=Go.inject(k_),nr=Go}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N_,Jt.createPortal=function(s,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(i))throw Error(n(200));return C_(s,i,null,o)},Jt.createRoot=function(s,i){if(!Hd(s))throw Error(n(299));var o=!1,d="",m=Lm;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Bd(s,1,!1,null,null,o,!1,d,m),s[br]=i.current,ha(s.nodeType===8?s.parentNode:s),new jd(i)},Jt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=a0(i),s=s===null?null:s.stateNode,s},Jt.flushSync=function(s){return Ss(s)},Jt.hydrate=function(s,i,o){if(!Yo(i))throw Error(n(200));return Vo(null,s,i,!0,o)},Jt.hydrateRoot=function(s,i,o){if(!Hd(s))throw Error(n(405));var d=o!=null&&o.hydratedSources||null,m=!1,E="",w=Lm;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(E=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),i=Im(i,null,s,1,o??null,m,!1,E,w),s[br]=i.current,ha(s),d)for(s=0;s<d.length;s++)o=d[s],m=o._getVersion,m=m(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,m]:i.mutableSourceEagerHydrationData.push(o,m);return new Wo(i)},Jt.render=function(s,i,o){if(!Yo(i))throw Error(n(200));return Vo(null,s,i,!1,o)},Jt.unmountComponentAtNode=function(s){if(!Yo(s))throw Error(n(40));return s._reactRootContainer?(Ss(function(){Vo(null,null,s,!1,function(){s._reactRootContainer=null,s[br]=null})}),!0):!1},Jt.unstable_batchedUpdates=Od,Jt.unstable_renderSubtreeIntoContainer=function(s,i,o,d){if(!Yo(o))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Vo(s,i,o,!1,d)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var $m;function P1(){if($m)return qd.exports;$m=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qd.exports=F_(),qd.exports}var zm;function B_(){if(zm)return Qo;zm=1;var e=P1();return Qo.createRoot=e.createRoot,Qo.hydrateRoot=e.hydrateRoot,Qo}var U_=B_(),Oa={},qm;function j_(){if(qm)return Oa;qm=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.parse=l,Oa.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,x){const v=new u,N=_.length;if(N<2)return v;const C=x?.decode||g;let I=0;do{const M=_.indexOf("=",I);if(M===-1)break;const U=_.indexOf(";",I),O=U===-1?N:U;if(M>O){I=_.lastIndexOf(";",M-1)+1;continue}const q=c(_,I,M),J=f(_,M,q),re=_.slice(q,J);if(v[re]===void 0){let ue=c(_,M+1,O),Ee=f(_,O,ue);const ke=C(_.slice(ue,Ee));v[re]=ke}I=O+1}while(I<N);return v}function c(_,x,v){do{const N=_.charCodeAt(x);if(N!==32&&N!==9)return x}while(++x<v);return v}function f(_,x,v){for(;x>v;){const N=_.charCodeAt(--x);if(N!==32&&N!==9)return x+1}return v}function h(_,x,v){const N=v?.encode||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const C=N(x);if(!t.test(C))throw new TypeError(`argument val is invalid: ${x}`);let I=_+"="+C;if(!v)return I;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);I+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);I+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);I+="; Path="+v.path}if(v.expires){if(!y(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);I+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(I+="; HttpOnly"),v.secure&&(I+="; Secure"),v.partitioned&&(I+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return I}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return a.call(_)==="[object Date]"}return Oa}j_();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wm="popstate";function H_(e={}){function t(r,a){let{pathname:u,search:l,hash:c}=r.location;return wf("",{pathname:u,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:cu(a)}return z_(t,n,null,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $_(){return Math.random().toString(36).substring(2,10)}function Ym(e,t){return{usr:e.state,key:e.key,idx:t}}function wf(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Oi(t):t,state:n,key:t&&t.key||r||$_()}}function cu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Oi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function z_(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:u=!1}=r,l=a.history,c="POP",f=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function y(){c="POP";let C=g(),I=C==null?null:C-h;h=C,f&&f({action:c,location:N.location,delta:I})}function _(C,I){c="PUSH";let M=wf(N.location,C,I);h=g()+1;let U=Ym(M,h),O=N.createHref(M);try{l.pushState(U,"",O)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(O)}u&&f&&f({action:c,location:N.location,delta:1})}function x(C,I){c="REPLACE";let M=wf(N.location,C,I);h=g();let U=Ym(M,h),O=N.createHref(M);l.replaceState(U,"",O),u&&f&&f({action:c,location:N.location,delta:0})}function v(C){let I=a.location.origin!=="null"?a.location.origin:a.location.href,M=typeof C=="string"?C:cu(C);return M=M.replace(/ $/,"%20"),Xe(I,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,I)}let N={get action(){return c},get location(){return e(a,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Wm,y),f=C,()=>{a.removeEventListener(Wm,y),f=null}},createHref(C){return t(a,C)},createURL:v,encodeLocation(C){let I=v(C);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:x,go(C){return l.go(C)}};return N}function M1(e,t,n="/"){return q_(e,t,n,!1)}function q_(e,t,n,r){let a=typeof t=="string"?Oi(t):t,u=ls(a.pathname||"/",n);if(u==null)return null;let l=F1(e);W_(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=n2(u);c=e2(l[f],h,r)}return c}function F1(e,t=[],n=[],r=""){let a=(u,l,c)=>{let f={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:l,route:u};f.relativePath.startsWith("/")&&(Xe(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=kr([r,f.relativePath]),g=n.concat(f);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),F1(u.children,t,g,h)),!(u.path==null&&!u.index)&&t.push({path:h,score:J_(h,u.index),routesMeta:g})};return e.forEach((u,l)=>{if(u.path===""||!u.path?.includes("?"))a(u,l);else for(let c of B1(u.path))a(u,l,c)}),t}function B1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return a?[u,""]:[u];let l=B1(r.join("/")),c=[];return c.push(...l.map(f=>f===""?u:[u,f].join("/"))),a&&c.push(...l),c.map(f=>e.startsWith("/")&&f===""?"/":f)}function W_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Z_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Y_=/^:[\w-]+$/,V_=3,G_=2,Q_=1,K_=10,X_=-2,Vm=e=>e==="*";function J_(e,t){let n=e.split("/"),r=n.length;return n.some(Vm)&&(r+=X_),t&&(r+=G_),n.filter(a=>!Vm(a)).reduce((a,u)=>a+(Y_.test(u)?V_:u===""?Q_:K_),r)}function Z_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function e2(e,t,n=!1){let{routesMeta:r}=e,a={},u="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,g=u==="/"?t:t.slice(u.length)||"/",y=El({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),_=f.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=El({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),l.push({params:a,pathname:kr([u,y.pathname]),pathnameBase:a2(kr([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=kr([u,y.pathnameBase]))}return l}function El(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=t2(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let u=a[0],l=u.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:y},_)=>{if(g==="*"){let v=c[_]||"";l=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const x=c[_];return y&&!x?h[g]=void 0:h[g]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:l,pattern:e}}function t2(e,t=!1,n=!0){Yn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function n2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ls(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function r2(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Oi(e):e;return{pathname:n?n.startsWith("/")?n:s2(n,t):t,search:u2(r),hash:o2(a)}}function s2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Vd(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ih(e){let t=i2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ah(e,t,n,r=!1){let a;typeof e=="string"?a=Oi(e):(a={...e},Xe(!a.pathname||!a.pathname.includes("?"),Vd("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),Vd("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),Vd("#","search","hash",a)));let u=e===""||a.pathname==="",l=u?"/":a.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;a.pathname=_.join("/")}c=y>=0?t[y]:"/"}let f=r2(a,c),h=l&&l!=="/"&&l.endsWith("/"),g=(u||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var kr=e=>e.join("/").replace(/\/\/+/g,"/"),a2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,o2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function l2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var U1=["POST","PUT","PATCH","DELETE"];new Set(U1);var c2=["GET",...U1];new Set(c2);var Li=T.createContext(null);Li.displayName="DataRouter";var Fl=T.createContext(null);Fl.displayName="DataRouterState";var j1=T.createContext({isTransitioning:!1});j1.displayName="ViewTransition";var d2=T.createContext(new Map);d2.displayName="Fetchers";var f2=T.createContext(null);f2.displayName="Await";var Gn=T.createContext(null);Gn.displayName="Navigation";var xu=T.createContext(null);xu.displayName="Location";var Qn=T.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var uh=T.createContext(null);uh.displayName="RouteError";function h2(e,{relative:t}={}){Xe(Di(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Gn),{hash:a,pathname:u,search:l}=vu(e,{relative:t}),c=u;return n!=="/"&&(c=u==="/"?n:kr([n,u])),r.createHref({pathname:c,search:l,hash:a})}function Di(){return T.useContext(xu)!=null}function Kn(){return Xe(Di(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(xu).location}var H1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $1(e){T.useContext(Gn).static||T.useLayoutEffect(e)}function zt(){let{isDataRoute:e}=T.useContext(Qn);return e?C2():p2()}function p2(){Xe(Di(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Li),{basename:t,navigator:n}=T.useContext(Gn),{matches:r}=T.useContext(Qn),{pathname:a}=Kn(),u=JSON.stringify(ih(r)),l=T.useRef(!1);return $1(()=>{l.current=!0}),T.useCallback((f,h={})=>{if(Yn(l.current,H1),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=ah(f,JSON.parse(u),a,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:kr([t,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[t,n,u,a,e])}T.createContext(null);function Bl(){let{matches:e}=T.useContext(Qn),t=e[e.length-1];return t?t.params:{}}function vu(e,{relative:t}={}){let{matches:n}=T.useContext(Qn),{pathname:r}=Kn(),a=JSON.stringify(ih(n));return T.useMemo(()=>ah(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function m2(e,t){return z1(e,t)}function z1(e,t,n,r){Xe(Di(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(Gn),{matches:u}=T.useContext(Qn),l=u[u.length-1],c=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let I=g&&g.path||"";q1(f,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=Kn(),_;if(t){let I=typeof t=="string"?Oi(t):t;Xe(h==="/"||I.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${I.pathname}" was given in the \`location\` prop.`),_=I}else _=y;let x=_.pathname||"/",v=x;if(h!=="/"){let I=h.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let N=M1(e,{pathname:v});Yn(g||N!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Yn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=T2(N&&N.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:kr([h,a.encodeLocation?a.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:kr([h,a.encodeLocation?a.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),u,n,r);return t&&C?T.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function g2(){let e=S2(),t=l2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:u},"ErrorBoundary")," or"," ",T.createElement("code",{style:u},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:a},n):null,l)}var E2=T.createElement(g2,null),b2=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(Qn.Provider,{value:this.props.routeContext},T.createElement(uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y2({routeContext:e,match:t,children:n}){let r=T.useContext(Li);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Qn.Provider,{value:e},n)}function T2(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,u=n?.errors;if(u!=null){let f=a.findIndex(h=>h.route.id&&u?.[h.route.id]!==void 0);Xe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:g,errors:y}=n,_=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||_){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,h,g)=>{let y,_=!1,x=null,v=null;n&&(y=u&&h.route.id?u[h.route.id]:void 0,x=h.route.errorElement||E2,l&&(c<0&&g===0?(q1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,v=null):c===g&&(_=!0,v=h.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,g+1)),C=()=>{let I;return y?I=x:_?I=v:h.route.Component?I=T.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=f,T.createElement(y2,{match:h,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:I})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?T.createElement(b2,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}function oh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _2(e){let t=T.useContext(Li);return Xe(t,oh(e)),t}function w2(e){let t=T.useContext(Fl);return Xe(t,oh(e)),t}function x2(e){let t=T.useContext(Qn);return Xe(t,oh(e)),t}function lh(e){let t=x2(e),n=t.matches[t.matches.length-1];return Xe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function v2(){return lh("useRouteId")}function S2(){let e=T.useContext(uh),t=w2("useRouteError"),n=lh("useRouteError");return e!==void 0?e:t.errors?.[n]}function C2(){let{router:e}=_2("useNavigate"),t=lh("useNavigate"),n=T.useRef(!1);return $1(()=>{n.current=!0}),T.useCallback(async(a,u={})=>{Yn(n.current,H1),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...u}))},[e,t])}var Gm={};function q1(e,t,n){!t&&!Gm[e]&&(Gm[e]=!0,Yn(!1,n))}T.memo(A2);function A2({routes:e,future:t,state:n}){return z1(e,void 0,n,t)}function Qm({to:e,replace:t,state:n,relative:r}){Xe(Di(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(Gn);Yn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=T.useContext(Qn),{pathname:l}=Kn(),c=zt(),f=ah(e,ih(u),l,r==="path"),h=JSON.stringify(f);return T.useEffect(()=>{c(JSON.parse(h),{replace:t,state:n,relative:r})},[c,h,r,t,n]),null}function $t(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:u=!1}){Xe(!Di(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:a,static:u,future:{}}),[l,a,u]);typeof n=="string"&&(n=Oi(n));let{pathname:f="/",search:h="",hash:g="",state:y=null,key:_="default"}=n,x=T.useMemo(()=>{let v=ls(f,l);return v==null?null:{location:{pathname:v,search:h,hash:g,state:y,key:_},navigationType:r}},[l,f,h,g,y,_,r]);return Yn(x!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(Gn.Provider,{value:c},T.createElement(xu.Provider,{children:t,value:x}))}function k2({children:e,location:t}){return m2(xf(e),t)}function xf(e,t=[]){let n=[];return T.Children.forEach(e,(r,a)=>{if(!T.isValidElement(r))return;let u=[...t,a];if(r.type===T.Fragment){n.push.apply(n,xf(r.props.children,u));return}Xe(r.type===$t,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=xf(r.props.children,u)),n.push(l)}),n}var ll="get",cl="application/x-www-form-urlencoded";function Ul(e){return e!=null&&typeof e.tagName=="string"}function R2(e){return Ul(e)&&e.tagName.toLowerCase()==="button"}function I2(e){return Ul(e)&&e.tagName.toLowerCase()==="form"}function O2(e){return Ul(e)&&e.tagName.toLowerCase()==="input"}function L2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function D2(e,t){return e.button===0&&(!t||t==="_self")&&!L2(e)}var Ko=null;function P2(){if(Ko===null)try{new FormData(document.createElement("form"),0),Ko=!1}catch{Ko=!0}return Ko}var M2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gd(e){return e!=null&&!M2.has(e)?(Yn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cl}"`),null):e}function F2(e,t){let n,r,a,u,l;if(I2(e)){let c=e.getAttribute("action");r=c?ls(c,t):null,n=e.getAttribute("method")||ll,a=Gd(e.getAttribute("enctype"))||cl,u=new FormData(e)}else if(R2(e)||O2(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||c.getAttribute("action");if(r=f?ls(f,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||ll,a=Gd(e.getAttribute("formenctype"))||Gd(c.getAttribute("enctype"))||cl,u=new FormData(c,e),!P2()){let{name:h,type:g,value:y}=e;if(g==="image"){let _=h?`${h}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else h&&u.append(h,y)}}else{if(Ul(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ll,r=null,a=cl,l=e}return u&&a==="text/plain"&&(l=u,u=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:u,body:l}}function ch(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function B2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j2(e,t,n){let r=await Promise.all(e.map(async a=>{let u=t.routes[a.route.id];if(u){let l=await B2(u,n);return l.links?l.links():[]}return[]}));return q2(r.flat(1).filter(U2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Km(e,t,n,r,a,u){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return u==="assets"?t.filter((f,h)=>l(f,h)||c(f,h)):u==="data"?t.filter((f,h)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function H2(e,t){return $2(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function $2(e){return[...new Set(e)]}function z2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function q2(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let u=JSON.stringify(z2(a));return n.has(u)||(n.add(u),r.push({key:u,link:a})),r},[])}function W2(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Y2(){let e=T.useContext(Li);return ch(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function V2(){let e=T.useContext(Fl);return ch(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dh=T.createContext(void 0);dh.displayName="FrameworkContext";function W1(){let e=T.useContext(dh);return ch(e,"You must render this element inside a <HydratedRouter> element"),e}function G2(e,t){let n=T.useContext(dh),[r,a]=T.useState(!1),[u,l]=T.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=t,_=T.useRef(null);T.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let N=I=>{I.forEach(M=>{l(M.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[e]),T.useEffect(()=>{if(r){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[r]);let x=()=>{a(!0)},v=()=>{a(!1),l(!1)};return n?e!=="intent"?[u,_,{}]:[u,_,{onFocus:La(c,x),onBlur:La(f,v),onMouseEnter:La(h,x),onMouseLeave:La(g,v),onTouchStart:La(y,x)}]:[!1,_,{}]}function La(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Q2({page:e,...t}){let{router:n}=Y2(),r=T.useMemo(()=>M1(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?T.createElement(X2,{page:e,matches:r,...t}):null}function K2(e){let{manifest:t,routeModules:n}=W1(),[r,a]=T.useState([]);return T.useEffect(()=>{let u=!1;return j2(e,t,n).then(l=>{u||a(l)}),()=>{u=!0}},[e,t,n]),r}function X2({page:e,matches:t,...n}){let r=Kn(),{manifest:a,routeModules:u}=W1(),{loaderData:l,matches:c}=V2(),f=T.useMemo(()=>Km(e,t,c,a,r,"data"),[e,t,c,a,r]),h=T.useMemo(()=>Km(e,t,c,a,r,"assets"),[e,t,c,a,r]),g=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(t.forEach(C=>{let I=a.routes[C.route.id];!I||!I.hasLoader||(!f.some(M=>M.route.id===C.route.id)&&C.route.id in l&&u[C.route.id]?.shouldRevalidate||I.hasClientLoader?v=!0:x.add(C.route.id))}),x.size===0)return[];let N=W2(e);return v&&x.size>0&&N.searchParams.set("_routes",t.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[N.pathname+N.search]},[l,r,a,f,t,e,u]),y=T.useMemo(()=>H2(h,a),[h,a]),_=K2(h);return T.createElement(T.Fragment,null,g.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),_.map(({key:x,link:v})=>T.createElement("link",{key:x,...v})))}function J2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Y1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y1&&(window.__reactRouterVersion="7.1.3")}catch{}function Z2({basename:e,children:t,window:n}){let r=T.useRef();r.current==null&&(r.current=H_({window:n,v5Compat:!0}));let a=r.current,[u,l]=T.useState({action:a.action,location:a.location}),c=T.useCallback(f=>{T.startTransition(()=>l(f))},[l]);return T.useLayoutEffect(()=>a.listen(c),[a,c]),T.createElement(N2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a})}var V1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=T.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:u,replace:l,state:c,target:f,to:h,preventScrollReset:g,viewTransition:y,..._},x){let{basename:v}=T.useContext(Gn),N=typeof h=="string"&&V1.test(h),C,I=!1;if(typeof h=="string"&&N&&(C=h,Y1))try{let Ee=new URL(window.location.href),ke=h.startsWith("//")?new URL(Ee.protocol+h):new URL(h),Ie=ls(ke.pathname,v);ke.origin===Ee.origin&&Ie!=null?h=Ie+ke.search+ke.hash:I=!0}catch{Yn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=h2(h,{relative:a}),[U,O,q]=G2(r,_),J=rw(h,{replace:l,state:c,target:f,preventScrollReset:g,relative:a,viewTransition:y});function re(Ee){t&&t(Ee),Ee.defaultPrevented||J(Ee)}let ue=T.createElement("a",{..._,...q,href:C||M,onClick:I||u?t:re,ref:J2(x,O),target:f,"data-discover":!N&&n==="render"?"true":void 0});return U&&!N?T.createElement(T.Fragment,null,ue,T.createElement(Q2,{page:M})):ue});sn.displayName="Link";var ew=T.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:u,to:l,viewTransition:c,children:f,...h},g){let y=vu(l,{relative:h.relative}),_=Kn(),x=T.useContext(Fl),{navigator:v,basename:N}=T.useContext(Gn),C=x!=null&&ow(y)&&c===!0,I=v.encodeLocation?v.encodeLocation(y).pathname:y.pathname,M=_.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(M=M.toLowerCase(),U=U?U.toLowerCase():null,I=I.toLowerCase()),U&&N&&(U=ls(U,N)||U);const O=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let q=M===I||!a&&M.startsWith(I)&&M.charAt(O)==="/",J=U!=null&&(U===I||!a&&U.startsWith(I)&&U.charAt(I.length)==="/"),re={isActive:q,isPending:J,isTransitioning:C},ue=q?t:void 0,Ee;typeof r=="function"?Ee=r(re):Ee=[r,q?"active":null,J?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ke=typeof u=="function"?u(re):u;return T.createElement(sn,{...h,"aria-current":ue,className:Ee,ref:g,style:ke,to:l,viewTransition:c},typeof f=="function"?f(re):f)});ew.displayName="NavLink";var tw=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:u,method:l=ll,action:c,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:y,..._},x)=>{let v=aw(),N=uw(c,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",I=typeof c=="string"&&V1.test(c),M=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let O=U.nativeEvent.submitter,q=O?.getAttribute("formmethod")||l;v(O||U.currentTarget,{fetcherKey:t,method:q,navigate:n,replace:a,state:u,relative:h,preventScrollReset:g,viewTransition:y})};return T.createElement("form",{ref:x,method:C,action:N,onSubmit:r?f:M,..._,"data-discover":!I&&e==="render"?"true":void 0})});tw.displayName="Form";function nw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(e){let t=T.useContext(Li);return Xe(t,nw(e)),t}function rw(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:u,viewTransition:l}={}){let c=zt(),f=Kn(),h=vu(e,{relative:u});return T.useCallback(g=>{if(D2(g,t)){g.preventDefault();let y=n!==void 0?n:cu(f)===cu(h);c(e,{replace:y,state:r,preventScrollReset:a,relative:u,viewTransition:l})}},[f,c,h,n,r,t,e,a,u,l])}var sw=0,iw=()=>`__${String(++sw)}__`;function aw(){let{router:e}=G1("useSubmit"),{basename:t}=T.useContext(Gn),n=v2();return T.useCallback(async(r,a={})=>{let{action:u,method:l,encType:c,formData:f,body:h}=F2(r,t);if(a.navigate===!1){let g=a.fetcherKey||iw();await e.fetch(g,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function uw(e,{relative:t}={}){let{basename:n}=T.useContext(Gn),r=T.useContext(Qn);Xe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),u={...vu(e||".",{relative:t})},l=Kn();if(e==null){u.search=l.search;let c=new URLSearchParams(u.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();u.search=g?`?${g}`:""}}return(!e||e===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:kr([n,u.pathname])),cu(u)}function ow(e,t={}){let n=T.useContext(j1);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=G1("useViewTransitionState"),a=vu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return El(a.pathname,l)!=null||El(a.pathname,u)!=null}new TextEncoder;var Qa=P1();const lw="modulepreload",cw=function(e){return"/elysia/"+e},Xm={},Ci=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=Promise.allSettled(n.map(f=>{if(f=cw(f),f in Xm)return;Xm[f]=!0;const h=f.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":lw,h||(y.as="script"),y.crossOrigin="",y.href=f,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((_,x)=>{y.addEventListener("load",_),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&u(c.reason);return t().catch(u)})},dw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ci(async()=>{const{default:r}=await Promise.resolve().then(()=>Pi);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class fh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class fw extends fh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hw extends fh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pw extends fh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vf||(vf={}));var mw=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(c,f)}h((r=r.apply(e,t||[])).next())})};class gw{constructor(t,{headers:n={},customFetch:r,region:a=vf.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=dw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return mw(this,void 0,void 0,function*(){try{const{headers:a,method:u,body:l}=n;let c={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(c["x-region"]=f);let h;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const g=yield this.fetch(`${this.url}/${t}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:h}).catch(v=>{throw new fw(v)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new hw(g);if(!g.ok)throw new pw(g);let _=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return _==="application/json"?x=yield g.json():_==="application/octet-stream"?x=yield g.blob():_==="text/event-stream"?x=g:_==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null}}catch(a){return{data:null,error:a}}})}}var St={},Da={},Pa={},Ma={},Fa={},Ba={},Ew=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ai=Ew();const bw=Ai.fetch,Q1=Ai.fetch.bind(Ai),K1=Ai.Headers,yw=Ai.Request,Tw=Ai.Response,Pi=Object.freeze(Object.defineProperty({__proto__:null,Headers:K1,Request:yw,Response:Tw,default:Q1,fetch:bw},Symbol.toStringTag,{value:"Module"})),_w=I_(Pi);var Xo={},Jm;function X1(){if(Jm)return Xo;Jm=1,Object.defineProperty(Xo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Xo.default=e,Xo}var Zm;function J1(){if(Zm)return Ba;Zm=1;var e=Ba.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ba,"__esModule",{value:!0});const t=e(_w),n=e(X1());class r{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,l){return this.headers=Object.assign({},this.headers),this.headers[u]=l,this}then(u,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var g,y,_;let x=null,v=null,N=null,C=h.status,I=h.statusText;if(h.ok){if(this.method!=="HEAD"){const q=await h.text();q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=q:v=JSON.parse(q))}const U=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),O=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");U&&O&&O.length>1&&(N=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(x={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,N=null,C=406,I="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const U=await h.text();try{x=JSON.parse(U),Array.isArray(x)&&h.status===404&&(v=[],x=null,C=200,I="OK")}catch{h.status===404&&U===""?(C=204,I="No Content"):x={message:U}}if(x&&this.isMaybeSingle&&(!((_=x?.details)===null||_===void 0)&&_.includes("0 rows"))&&(x=null,C=200,I="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:v,count:N,status:C,statusText:I}});return this.shouldThrowOnError||(f=f.catch(h=>{var g,y,_;return{error:{message:`${(g=h?.name)!==null&&g!==void 0?g:"FetchError"}: ${h?.message}`,details:`${(y=h?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(_=h?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),f.then(u,l)}}return Ba.default=r,Ba}var eg;function Z1(){if(eg)return Fa;eg=1;var e=Fa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fa,"__esModule",{value:!0});const t=e(J1());class n extends t.default{select(a){let u=!1;const l=(a??"*").split("").map(c=>/\s/.test(c)&&!u?"":(c==='"'&&(u=!u),c)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:u=!0,nullsFirst:l,foreignTable:c,referencedTable:f=c}={}){const h=f?`${f}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${a}.${u?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:u,referencedTable:l=u}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,u,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(h,`${u-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:u=!1,settings:l=!1,buffers:c=!1,wal:f=!1,format:h="text"}={}){var g;const y=[a?"analyze":null,u?"verbose":null,l?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),_=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${_}"; options=${y};`,h==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Fa.default=n,Fa}var tg;function hh(){if(tg)return Ma;tg=1;var e=Ma.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ma,"__esModule",{value:!0});const t=e(Z1());class n extends t.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}in(a,u){const l=Array.from(new Set(u)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:l,type:c}={}){let f="";c==="plain"?f="pl":c==="phrase"?f="ph":c==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${h}.${u}`),this}match(a){return Object.entries(a).forEach(([u,l])=>{this.url.searchParams.append(u,`eq.${l}`)}),this}not(a,u,l){return this.url.searchParams.append(a,`not.${u}.${l}`),this}or(a,{foreignTable:u,referencedTable:l=u}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,u,l){return this.url.searchParams.append(a,`${u}.${l}`),this}}return Ma.default=n,Ma}var ng;function eE(){if(ng)return Pa;ng=1;var e=Pa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pa,"__esModule",{value:!0});const t=e(hh());class n{constructor(a,{headers:u={},schema:l,fetch:c}){this.url=a,this.headers=u,this.schema=l,this.fetch=c}select(a,{head:u=!1,count:l}={}){const c=u?"HEAD":"GET";let f=!1;const h=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",h),l&&(this.headers.Prefer=`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:u,defaultToNull:l=!0}={}){const c="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),u&&f.push(`count=${u}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const h=a.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(h.length>0){const g=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:u,ignoreDuplicates:l=!1,count:c,defaultToNull:f=!0}={}){const h="POST",g=[`resolution=${l?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&g.push(this.headers.Prefer),c&&g.push(`count=${c}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const y=a.reduce((_,x)=>_.concat(Object.keys(x)),[]);if(y.length>0){const _=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:u}={}){const l="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),u&&c.push(`count=${u}`),this.headers.Prefer=c.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const u="DELETE",l=[];return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Pa.default=n,Pa}var Ua={},ja={},rg;function ww(){return rg||(rg=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.version=void 0,ja.version="0.0.0-automated"),ja}var sg;function xw(){if(sg)return Ua;sg=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.DEFAULT_HEADERS=void 0;const e=ww();return Ua.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Ua}var ig;function vw(){if(ig)return Da;ig=1;var e=Da.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Da,"__esModule",{value:!0});const t=e(eE()),n=e(hh()),r=xw();class a{constructor(l,{headers:c={},schema:f,fetch:h}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),c),this.schemaName=f,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new t.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:f=!1,get:h=!1,count:g}={}){let y;const _=new URL(`${this.url}/rpc/${l}`);let x;f||h?(y=f?"HEAD":"GET",Object.entries(c).filter(([N,C])=>C!==void 0).map(([N,C])=>[N,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([N,C])=>{_.searchParams.append(N,C)})):(y="POST",x=c);const v=Object.assign({},this.headers);return g&&(v.Prefer=`count=${g}`),new n.default({method:y,url:_,headers:v,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return Da.default=a,Da}var ag;function Sw(){if(ag)return St;ag=1;var e=St.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const t=e(vw());St.PostgrestClient=t.default;const n=e(eE());St.PostgrestQueryBuilder=n.default;const r=e(hh());St.PostgrestFilterBuilder=r.default;const a=e(Z1());St.PostgrestTransformBuilder=a.default;const u=e(J1());St.PostgrestBuilder=u.default;const l=e(X1());return St.PostgrestError=l.default,St.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:u.default,PostgrestError:l.default},St}var Cw=Sw();const Aw=rh(Cw),{PostgrestClient:Nw,PostgrestQueryBuilder:y5,PostgrestFilterBuilder:T5,PostgrestTransformBuilder:_5,PostgrestBuilder:w5,PostgrestError:x5}=Aw,kw="2.11.2",Rw={"X-Client-Info":`realtime-js/${kw}`},Iw="1.0.0",tE=1e4,Ow=1e3;var wi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wi||(wi={}));var gn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gn||(gn={}));var Wn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wn||(Wn={}));var Sf;(function(e){e.websocket="websocket"})(Sf||(Sf={}));var Os;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Os||(Os={}));class Lw{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),u=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(t.slice(l,l+a));l=l+a;const f=r.decode(t.slice(l,l+u));l=l+u;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:f,payload:h}}}class nE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qe||(qe={}));const ug=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((u,l)=>(u[l]=Dw(l,e,t,a),u),{})},Dw=(e,t,n,r)=>{const a=t.find(c=>c.name===e),u=a?.type,l=n[e];return u&&!r.includes(u)?rE(u,l):Cf(l)},rE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Bw(t,n)}switch(e){case qe.bool:return Pw(t);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return Mw(t);case qe.json:case qe.jsonb:return Fw(t);case qe.timestamp:return Uw(t);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Cf(t);default:return Cf(t)}},Cf=e=>e,Pw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Mw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Fw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Bw=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let u;const l=e.slice(1,n);try{u=JSON.parse("["+l+"]")}catch{u=l?l.split(","):[]}return u.map(c=>rE(t,c))}return e},Uw=e=>typeof e=="string"?e.replace(" ","T"):e,sE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Qd{constructor(t,n,r={},a=tE){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var og;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(og||(og={}));class Ja{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:u,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ja.syncState(this.state,a,u,l),this.pendingDiffs.forEach(f=>{this.state=Ja.syncDiff(this.state,f,u,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},a=>{const{onJoin:u,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ja.syncDiff(this.state,a,u,l),c())}),this.onJoin((a,u,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:l})}),this.onLeave((a,u,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const u=this.cloneDeep(t),l=this.transformState(n),c={},f={};return this.map(u,(h,g)=>{l[h]||(f[h]=g)}),this.map(l,(h,g)=>{const y=u[h];if(y){const _=g.map(C=>C.presence_ref),x=y.map(C=>C.presence_ref),v=g.filter(C=>x.indexOf(C.presence_ref)<0),N=y.filter(C=>_.indexOf(C.presence_ref)<0);v.length>0&&(c[h]=v),N.length>0&&(f[h]=N)}else c[h]=g}),this.syncDiff(u,{joins:c,leaves:f},r,a)}static syncDiff(t,n,r,a){const{joins:u,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(u,(c,f)=>{var h;const g=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(f),g.length>0){const y=t[c].map(x=>x.presence_ref),_=g.filter(x=>y.indexOf(x.presence_ref)<0);t[c].unshift(..._)}r(c,g,f)}),this.map(l,(c,f)=>{let h=t[c];if(!h)return;const g=f.map(y=>y.presence_ref);h=h.filter(y=>g.indexOf(y.presence_ref)<0),t[c]=h,a(c,h,f),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lg||(lg={}));var cg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cg||(cg={}));var Ar;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ar||(Ar={}));class ph{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qd(this,Wn.join,this.params,this.timeout),this.rejoinTimer=new nE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wn.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Ja(this),this.broadcastEndpointURL=sE(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:l,private:c}}=this.params;this._onError(g=>t?.(Ar.CHANNEL_ERROR,g)),this._onClose(()=>t?.(Ar.CLOSED));const f={},h={broadcast:u,presence:l,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&a!==void 0?a:[],private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){t?.(Ar.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(y=_?.length)!==null&&y!==void 0?y:0,v=[];for(let N=0;N<x;N++){const C=_[N],{filter:{event:I,schema:M,table:U,filter:O}}=C,q=g&&g[N];if(q&&q.event===I&&q.schema===M&&q.table===U&&q.filter===O)v.push(Object.assign(Object.assign({},C),{id:q.id}));else{this.unsubscribe(),t?.(Ar.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Ar.SUBSCRIBED);return}}).receive("error",g=>{t?.(Ar.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ar.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var l,c,f;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&u("ok"),h.receive("ok",()=>u("ok")),h.receive("error",()=>u("error")),h.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new Qd(this,Wn.leave,{},t);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const a=new AbortController,u=setTimeout(()=>a.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(u),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Qd(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,u;const l=t.toLocaleLowerCase(),{close:c,error:f,leave:h,join:g}=Wn;if(r&&[c,f,h,g].indexOf(l)>=0&&r!==this._joinRef())return;let _=this._onMessage(l,n,r);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var v,N,C;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((C=(N=x.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(x=>x.callback(_,r)):(u=this.bindings[l])===null||u===void 0||u.filter(x=>{var v,N,C,I,M,U;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const O=x.id,q=(v=x.filter)===null||v===void 0?void 0:v.event;return O&&((N=n.ids)===null||N===void 0?void 0:N.includes(O))&&(q==="*"||q?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const O=(M=(I=x?.filter)===null||I===void 0?void 0:I.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return O==="*"||O===((U=n?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof _=="object"&&"ids"in _){const v=_.data,{schema:N,table:C,commit_timestamp:I,type:M,errors:U}=v;_=Object.assign(Object.assign({},{schema:N,table:C,commit_timestamp:I,eventType:M,new:{},old:{},errors:U}),this._getPayloadRecords(v))}x.callback(_,r)})}_isClosed(){return this.state===gn.closed}_isJoined(){return this.state===gn.joined}_isJoining(){return this.state===gn.joining}_isLeaving(){return this.state===gn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),u={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&ph.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wn.close,{},t)}_onError(t){this._on(Wn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ug(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ug(t.columns,t.old_record)),n}}const jw=()=>{},Hw=typeof WebSocket<"u",$w=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zw{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Rw,this.params={},this.timeout=tE,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=jw,this.conn=null,this.sendBuffer=[],this.serializer=new Lw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let l;return u?l=u:typeof fetch>"u"?l=(...c)=>Ci(async()=>{const{default:f}=await Promise.resolve().then(()=>Pi);return{default:f}},void 0).then(({default:f})=>f(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${Sf.websocket}`,this.httpEndpoint=sE(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n?.encode?n.encode:(u,l)=>l(JSON.stringify(u)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new nE(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Hw){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qw(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ci(async()=>{const{default:t}=await import("./browser-Dv9lw3Fd.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Iw}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wi.connecting:return Os.Connecting;case wi.open:return Os.Open;case wi.closing:return Os.Closing;default:return Os.Closed}}isConnected(){return this.connectionState()===Os.Open}channel(t,n={config:{}}){const r=new ph(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:a,ref:u}=t,l=()=>{this.encode(t,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${r} (${u})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(Wn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ow,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:u,ref:l}=n;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${r} ${a} ${l&&"("+l+")"||""}`,u),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(a,u,l)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([$w],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class qw{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class mh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ww extends mh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Af extends mh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Yw=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(c,f)}h((r=r.apply(e,t||[])).next())})};const iE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ci(async()=>{const{default:r}=await Promise.resolve().then(()=>Pi);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Vw=()=>Yw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ci(()=>Promise.resolve().then(()=>Pi),void 0)).Response:Response}),Nf=e=>{if(Array.isArray(e))return e.map(n=>Nf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[a]=Nf(r)}),t};var $s=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(c,f)}h((r=r.apply(e,t||[])).next())})};const Kd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gw=(e,t,n)=>$s(void 0,void 0,void 0,function*(){const r=yield Vw();e instanceof r&&!n?.noResolveJson?e.json().then(a=>{t(new Ww(Kd(a),e.status||500))}).catch(a=>{t(new Af(Kd(a),a))}):t(new Af(Kd(e),e))}),Qw=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function Su(e,t,n,r,a,u){return $s(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,Qw(t,r,a,u)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>Gw(f,c,r))})})}function bl(e,t,n,r){return $s(this,void 0,void 0,function*(){return Su(e,"GET",t,n,r)})}function rs(e,t,n,r,a){return $s(this,void 0,void 0,function*(){return Su(e,"POST",t,r,a,n)})}function Kw(e,t,n,r,a){return $s(this,void 0,void 0,function*(){return Su(e,"PUT",t,r,a,n)})}function Xw(e,t,n,r){return $s(this,void 0,void 0,function*(){return Su(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function aE(e,t,n,r,a){return $s(this,void 0,void 0,function*(){return Su(e,"DELETE",t,r,a,n)})}var Zt=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(c,f)}h((r=r.apply(e,t||[])).next())})};const Jw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zw{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=iE(a)}uploadOrUpdate(t,n,r,a){return Zt(this,void 0,void 0,function*(){try{let u;const l=Object.assign(Object.assign({},dg),a);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),f&&u.append("metadata",this.encodeMetadata(f)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",l.cacheControl),f&&u.append("metadata",this.encodeMetadata(f))):(u=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(c=Object.assign(Object.assign({},c),a.headers));const h=this._removeEmptyFolders(n),g=this._getFinalPath(h),y=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:u,headers:c},l?.duplex?{duplex:l.duplex}:{})),_=yield y.json();return y.ok?{data:{path:h,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(u){if(Tt(u))return{data:null,error:u};throw u}})}upload(t,n,r){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return Zt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),l=this._getFinalPath(u),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:dg.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const y=yield this.fetch(c.toString(),{method:"PUT",body:f,headers:g}),_=yield y.json();return y.ok?{data:{path:u,fullPath:_.Key},error:null}:{data:null,error:_}}catch(f){if(Tt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Zt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const u=yield rs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),l=new URL(this.url+u.url),c=l.searchParams.get("token");if(!c)throw new mh("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Zt(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}copy(t,n,r){return Zt(this,void 0,void 0,function*(){try{return{data:{path:(yield rs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return Zt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),u=yield rs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${l}`)},{data:u,error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return Zt(this,void 0,void 0,function*(){try{const a=yield rs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${u}`):null})),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}download(t,n){return Zt(this,void 0,void 0,function*(){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),l=u?`?${u}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield bl(this.fetch,`${this.url}/${a}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Tt(c))return{data:null,error:c};throw c}})}info(t){return Zt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield bl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Nf(r),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}exists(t){return Zt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Xw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Tt(r)&&r instanceof Af){const a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&a.push(u);const c=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&a.push(f);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}remove(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield aE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Zt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Jw),n),{prefix:t||""});return{data:yield rs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const ex="2.7.1",tx={"X-Client-Info":`storage-js/${ex}`};var bi=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(c,f)}h((r=r.apply(e,t||[])).next())})};class nx{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},tx),n),this.fetch=iE(r)}listBuckets(){return bi(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Tt(t))return{data:null,error:t};throw t}})}getBucket(t){return bi(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return bi(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return bi(this,void 0,void 0,function*(){try{return{data:yield Kw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return bi(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return bi(this,void 0,void 0,function*(){try{return{data:yield aE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}}class rx extends nx{constructor(t,n={},r){super(t,n,r)}from(t){return new Zw(this.url,this.headers,t,this.fetch)}}const sx="2.48.0";let Ka="";typeof Deno<"u"?Ka="deno":typeof document<"u"?Ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ka="react-native":Ka="node";const ix={"X-Client-Info":`supabase-js-${Ka}/${sx}`},ax={headers:ix},ux={schema:"public"},ox={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lx={};var cx=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(c,f)}h((r=r.apply(e,t||[])).next())})};const dx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Q1:t=fetch,(...n)=>t(...n)},fx=()=>typeof Headers>"u"?K1:Headers,hx=(e,t,n)=>{const r=dx(n),a=fx();return(u,l)=>cx(void 0,void 0,void 0,function*(){var c;const f=(c=yield t())!==null&&c!==void 0?c:e;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(u,Object.assign(Object.assign({},l),{headers:h}))})};var px=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(c,f)}h((r=r.apply(e,t||[])).next())})};function mx(e){return e.replace(/\/$/,"")}function gx(e,t){const{db:n,auth:r,realtime:a,global:u}=e,{db:l,auth:c,realtime:f,global:h}=t,g={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign({},h),u),accessToken:()=>px(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const uE="2.67.3",Ex="http://localhost:9999",bx="supabase.auth.token",yx={"X-Client-Info":`gotrue-js/${uE}`},fg=10,kf="X-Supabase-Api-Version",oE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Tx(e){return Math.round(Date.now()/1e3)+e}function _x(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const or=()=>typeof window<"u"&&typeof document<"u",ks={tested:!1,writable:!1},Za=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function wx(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,u)=>{t[u]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const lE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ci(async()=>{const{default:r}=await Promise.resolve().then(()=>Pi);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},xx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cE=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Jo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zo=async(e,t)=>{await e.removeItem(t)};function vx(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,a,u,l,c,f,h,g=0;for(e=e.replace("-","+").replace("_","/");g<e.length;)l=t.indexOf(e.charAt(g++)),c=t.indexOf(e.charAt(g++)),f=t.indexOf(e.charAt(g++)),h=t.indexOf(e.charAt(g++)),r=l<<2|c>>4,a=(c&15)<<4|f>>2,u=(f&3)<<6|h,n=n+String.fromCharCode(r),f!=64&&a!=0&&(n=n+String.fromCharCode(a)),h!=64&&u!=0&&(n=n+String.fromCharCode(u));return n}class jl{constructor(){this.promise=new jl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}jl.promiseConstructor=Promise;function hg(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(vx(r))}async function Sx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Cx(e,t){return new Promise((r,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const l=await e(u);if(!t(u,null,l)){r(l);return}}catch(l){if(!t(u,l)){a(l);return}}})()})}function Ax(e){return("0"+e.toString(16)).substr(-2)}function Nx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let u=0;u<56;u++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,Ax).join("")}async function kx(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}function Rx(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ix(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await kx(e);return Rx(n)}async function yi(e,t,n=!1){const r=Nx();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await cE(e,`${t}-code-verifier`,a);const u=await Ix(r);return[u,r===u?"plain":"s256"]}const Ox=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lx(e){const t=e.headers.get(kf);if(!t||!t.match(Ox))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class gh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Dx extends gh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Px(e){return xe(e)&&e.name==="AuthApiError"}class dE extends gh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class zs extends gh{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class es extends zs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mx(e){return xe(e)&&e.name==="AuthSessionMissingError"}class Xd extends zs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class el extends zs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tl extends zs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fx(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class pg extends zs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rf extends zs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Jd(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class mg extends zs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Bx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Is=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ux=[502,503,504];async function gg(e){var t;if(!xx(e))throw new Rf(Is(e),0);if(Ux.includes(e.status))throw new Rf(Is(e),e.status);let n;try{n=await e.json()}catch(u){throw new dE(Is(u),u)}let r;const a=Lx(e);if(a&&a.getTime()>=oE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new mg(Is(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new es}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,l)=>u&&typeof l=="string",!0))throw new mg(Is(n),e.status,n.weak_password.reasons);throw new Dx(Is(n),e.status||500,r)}const jx=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function Oe(e,t,n,r){var a;const u=Object.assign({},r?.headers);u[kf]||(u[kf]=oE["2024-01-01"].name),r?.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const l=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await Hx(e,t,n+c,{headers:u,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function Hx(e,t,n,r,a,u){const l=jx(t,r,a,u);let c;try{c=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new Rf(Is(f),0)}if(c.ok||await gg(c),r?.noResolveJson)return c;try{return await c.json()}catch(f){await gg(f)}}function ts(e){var t;let n=null;Wx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Tx(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Eg(e){const t=ts(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function as(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $x(e){return{data:e,error:null}}function zx(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:u}=e,l=Bx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:u},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function qx(e){return e}function Wx(e){return e.access_token&&e.refresh_token&&e.expires_in}var Yx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class Vx{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=lE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:as})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Yx(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:zx,redirectTo:n?.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:as})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,u,l,c,f;try{const h={nextPage:null,lastPage:0,total:0},g=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(u=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:qx});if(g.error)throw g.error;const y=await g.json(),_=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(v=>{const N=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(v.split(";")[1].split("=")[1]);h[`${C}Page`]=N}),h.total=parseInt(_)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(xe(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:as})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:as})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:as})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}const Gx={getItem:e=>Za()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Za()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Za()&&globalThis.localStorage.removeItem(e)}};function bg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Qx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ti={debug:!!(globalThis&&Za()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Kx extends fE{}async function Xx(e,t,n){Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Kx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ti.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Qx();const Jx={url:Ex,storageKey:bx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ha=30*1e3,yg=3;async function Tg(e,t,n){return await n()}class du{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=du.nextInstanceID,du.nextInstanceID+=1,this.instanceID>0&&or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Jx),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Vx({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=lE(a.fetch),this.lock=a.lock||Tg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:or()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Xx:this.lock=Tg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Za()?this.storage=Gx:(this.memoryStorage={},this.storage=bg(this.memoryStorage)):(this.memoryStorage={},this.storage=bg(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${uE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=wx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),or()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:u}=await this._getSessionFromURL(n,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Fx(u)){const f=(t=u.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:l,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?{error:n}:{error:new dE("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const u=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ts}),{data:l,error:c}=u;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(u){if(xe(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var n,r,a;try{let u;if("email"in t){const{email:g,password:y,options:_}=t;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await yi(this.storage,this.storageKey)),u=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:g,password:y,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:x,code_challenge_method:v},xform:ts})}else if("phone"in t){const{phone:g,password:y,options:_}=t;u=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=_?.data)!==null&&r!==void 0?r:{},channel:(a=_?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:ts})}else throw new el("You must provide either an email or phone number and a password");const{data:l,error:c}=u;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(u){if(xe(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let n;if("email"in t){const{email:u,password:l,options:c}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Eg})}else if("phone"in t){const{phone:u,password:l,options:c}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Eg})}else throw new el("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Jo(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:u,error:l}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ts});if(await Zo(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Xd}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:l})}catch(u){if(xe(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:u,nonce:l}=t,c=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:u,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ts}),{data:f,error:h}=c;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Xd}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,u,l;try{if("email"in t){const{email:c,options:f}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await yi(this.storage,this.storageKey));const{error:y}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:c,options:f}=t,{data:h,error:g}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(u=f?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:g}}throw new el("You must provide either an email or phone number.")}catch(c){if(xe(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let a,u;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,u=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:ts});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let u=null,l=null;return this.flowType==="pkce"&&([u,l]=await yi(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:l}),headers:this.headers,xform:$x})}catch(u){if(xe(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new es;const{error:a}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:u}=t,{error:l}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:a,options:u}=t,{data:l,error:c}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new el("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Jo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,g)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,g))})}return{data:{session:t},error:null}}const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:as}):await this._useSession(async n=>{var r,a,u;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new es}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:as})})}catch(n){if(xe(n))return Mx(n)&&(await this._removeSession(),await Zo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:u}=r;if(u)throw u;if(!a.session)throw new es;const l=a.session;let c=null,f=null;this.flowType==="pkce"&&t.email!=null&&([c,f]=await yi(this.storage,this.storageKey));const{data:h,error:g}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:as});if(g)throw g;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return hg(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new es;const n=Date.now()/1e3;let r=n,a=!0,u=null;const l=hg(t.access_token);if(l.exp&&(r=l.exp,a=r<=n),a){const{session:c,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!c)return{data:{user:null,session:null},error:null};u=c}else{const{data:c,error:f}=await this._getUser(t.access_token);if(f)throw f;u={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new es;const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!or())throw new tl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pg("No code detected.");const{data:M,error:U}=await this._exchangeCodeForSession(t.code);if(U)throw U;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:u,refresh_token:l,expires_in:c,expires_at:f,token_type:h}=t;if(!u||!c||!l||!h)throw new tl("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(c);let _=g+y;f&&(_=parseInt(f));const x=_-g;x*1e3<=Ha&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const v=_-y;g-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,_,g):g-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,_,g);const{data:N,error:C}=await this._getUser(u);if(C)throw C;const I={provider_token:r,provider_refresh_token:a,access_token:u,expires_in:y,expires_at:_,refresh_token:l,token_type:h,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(r){if(xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Jo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:u}=n;if(u)return{error:u};const l=(r=a.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(Px(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Zo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=_x(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:u},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await yi(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(xe(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async u=>{var l,c,f,h,g;const{data:y,error:_}=u;if(_)throw _;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return or()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(xe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:u,error:l}=n;if(l)throw l;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Cx(async a=>(a>0&&await Sx(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ts})),(a,u)=>{const l=200*Math.pow(2,a);return u&&Jd(u)&&Date.now()+l-r<Ha})}catch(r){if(this._debug(n,"error",r),xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),or()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Jo(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),u=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<a+fg;if(this._debug(n,`session has${u?"":" not"} expired with margin of ${fg}s`),u){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),Jd(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new jl;const{data:u,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!u.session)throw new es;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const c={session:u.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(u){if(this._debug(a,"error",u),xe(u)){const l={session:null,error:u};return Jd(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const u=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(f){u.push(f)}});if(await Promise.all(l),u.length>0){for(let c=0;c<u.length;c+=1)console.error(u[c]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await cE(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Zo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&or()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ha);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Ha);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ha}ms, refresh threshold is ${yg} ticks`),a<=yg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!or()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,l]=await yi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(c.toString())}if(r?.queryParams){const u=new URLSearchParams(r.queryParams);a.push(u.toString())}return r?.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;return u?{data:null,error:u}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:u,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:h}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;if(u)return{data:null,error:u};const{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:u}=n;return u?{data:null,error:u}:await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],a=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),u=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:a,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:u}=t;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(a.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}}du.nextInstanceID=0;const Zx=du;class ev extends Zx{constructor(t){super(t)}}var tv=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(g){try{h(r.next(g))}catch(y){l(y)}}function f(g){try{h(r.throw(g))}catch(y){l(y)}}function h(g){g.done?u(g.value):a(g.value).then(c,f)}h((r=r.apply(e,t||[])).next())})};class nv{constructor(t,n,r){var a,u,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=mx(t);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:ux,realtime:lx,auth:Object.assign(Object.assign({},ox),{storageKey:f}),global:ax},g=gx(r??{},h);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=hx(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new Nw(`${c}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new gw(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return tv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:u,flowType:l,lock:c,debug:f},h,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ev({url:this.authUrl,headers:Object.assign(Object.assign({},y),h),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:l,lock:c,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zw(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rv=(e,t,n)=>new nv(e,t,n),sv="https://bbosgvxsamxhzjgzxiuz.supabase.co",iv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJib3NndnhzYW14aHpqZ3p4aXV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU4NjQyNzEsImV4cCI6MjA1MTQ0MDI3MX0.xA3GJjaAzNVlddpCnHhvKOjDDxNXexY67yCqxi1GtYA",av=rv(sv,iv);class uv{client;abortControllers;constructor(t){this.client=t,this.abortControllers=new Map}request=async(t,n)=>{this.abortControllers.has(t)&&this.abortControllers.get(t)?.abort();const r=new AbortController;this.abortControllers.set(t,r);try{return await n(this.client)}catch(a){if(a.name==="AbortError")return console.log(`Request "${t}" was aborted.`),null;throw a}finally{this.abortControllers.delete(t)}}}const Te=new uv(av);var Ne=(e=>(e.COLLECTIONS="collections",e.COLLECTION_TO_RECIPES="collection_to_recipes",e.COLLECTION_TO_TAGS="collection_to_tags",e.COLLECTION_TO_USERS="collection_to_users",e.RECIPE_SEARCH="recipe_search",e.RECIPES="recipes",e.RECIPE_TO_TAGS="recipe_to_tags",e.RECIPE_TO_USERS="collection_to_users",e.INGREDIENTS="ingredients",e.STEPS="steps",e.TAGS="tags",e.USERS="users",e))(Ne||{});const ov=async e=>await Te.request(`findByEmail-${e}`,async t=>{const{data:n,error:r}=await t.from(Ne.USERS).select("id, display_name, profile_image").eq("email",e).single();if(r||!n?.id)throw new Error("User not found.");return{...n,display_name:n.display_name||e}}),lv=async()=>await Te.request("getSession",async e=>{const{data:{session:t},error:n}=await e.auth.getSession();if(n)throw new Error(`Failed to sign in: ${n.message}`);return t}),cv=async(e,t)=>await Te.request("signIn",async n=>{const{error:r}=await n.auth.signInWithPassword({email:e,password:t});if(r)throw new Error(`Failed to sign in: ${r.message}`)}),dv=async(e,t)=>await Te.request("signUp",async n=>{const{error:r}=await n.auth.signUp({email:e,password:t});if(r)throw new Error(`Failed to sign up: ${r.message}`)}),fv=async(e,t)=>await Te.request("resetPassword",async n=>{const{error:r}=await n.auth.resetPasswordForEmail(e,{redirectTo:t});if(r)throw new Error(`Failed to reset password: ${r.message}`)}),hv=async e=>await Te.request("updatePassword",async t=>{const{error:n}=await t.auth.updateUser({password:e});if(n)throw new Error(`Failed to update password: ${n.message}`)}),pv=async()=>await Te.request("signOut",async e=>{const{error:t}=await e.auth.signOut();if(t)throw new Error("Failed to sign out.")}),cs={signIn:cv,signUp:dv,signOut:pv,resetPassword:fv,updatePassword:hv,getSession:lv,findByEmail:ov},hE=T.createContext(void 0),mv=({children:e})=>{const[t,n]=T.useState(null),[r,a]=T.useState(!1);return T.useEffect(()=>{(async()=>{const c=await cs.getSession();n(c?.user||null)})();const l=Te.request("onAuthStateChange",async c=>c.auth.onAuthStateChange((f,h)=>{n(h?.user||null)}));return()=>{l.then(c=>c&&c.data.subscription?.unsubscribe())}},[]),T.useEffect(()=>{a(!!t)},[t]),b.jsx(hE.Provider,{value:{user:t,isAuthenticated:r},children:e})},ds=()=>{const e=T.useContext(hE);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function nl({children:e}){const{user:t}=ds();return t?window.location.pathname==="/elysia/sign-in"?b.jsx(Qm,{to:"/"}):b.jsx(b.Fragment,{children:e}):window.location.pathname==="/elysia/sign-in"?b.jsx(b.Fragment,{children:e}):b.jsx(Qm,{to:"/sign-in"})}function gv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"}))}const Ev=T.forwardRef(gv);function bv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const yv=T.forwardRef(bv);function Tv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const _v=T.forwardRef(Tv);function wv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const xv=T.forwardRef(wv);function vv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))}const Sv=T.forwardRef(vv);function Cv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Av=T.forwardRef(Cv);function Nv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const kv=T.forwardRef(Nv);function Rv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Iv=T.forwardRef(Rv);function Ov({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Lv=T.forwardRef(Ov);function Dv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Pv=T.forwardRef(Dv);function Mv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Fv=T.forwardRef(Mv);function Bv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Eh=T.forwardRef(Bv),pE=T.createContext(void 0),Uv=({children:e})=>{const[t,n]=T.useState(()=>typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches),r=()=>{n(a=>!a)};return T.useEffect(()=>{const a=document.documentElement;t?a.classList.add("dark"):a.classList.remove("dark")},[t]),b.jsx(pE.Provider,{value:{isDarkMode:t,toggleDarkMode:r},children:e})},mE=()=>{const e=T.useContext(pE);if(!e)throw new Error("useDarkMode must be used within a DarkModeProvider");return e},qs=({message:e="",isLarge:t=!0,className:n=""})=>b.jsxs("div",{className:`flex items-center justify-center space-x-2 ${n}`,children:[b.jsxs("svg",{className:`animate-spin text-blue-500 ${t?"h-10 w-10":"h-5 w-5"}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l-3 3 3-3z"})]}),b.jsx("span",{children:e})]}),He=({type:e="button",btnType:t="primary",onClick:n,children:r,isLoading:a=!1,className:u="",disabled:l=!1,...c})=>{const g=`flex gap-2 justify-center items-center font-medium px-4 py-2 text-center transition focus:outline-hidden ${{primary:"text-white bg-leaf-green-700 dark:bg-leaf-green-600 hover:bg-leaf-green-800 dark:hover:bg-leaf-green-800 rounded-lg",secondary:"text-leaf-green-600 dark:text-leaf-green-100 border border-leaf-green-600 dark:border-leaf-green-100 hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 rounded-lg",delete:"text-red-500 border border-red-500 hover:text-white hover:bg-red-500 rounded-lg",dismissable:"text-gray-800 border border-gray-300 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",dropdown:"w-full text-leaf-green-600 dark:text-leaf-green-100 px-4 py-2 text-center hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 transition focus:outline-hidden rounded-none"}[t]||""} ${l||a?"opacity-50 cursor-not-allowed":""} ${u}`;return b.jsxs("button",{type:e,className:g,disabled:l||a,onClick:!l&&!a?n:void 0,...c,children:[a&&b.jsx(qs,{isLarge:!1}),r]})},Ps=({icon:e,onClick:t=()=>{},disabled:n=!1,className:r="",title:a="",attributes:u={},listeners:l={},...c})=>b.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),t(f)},className:`inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 ${r}`,disabled:n,title:a,...u,...l,...c,children:e});function jv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 0 1 5.25 2h5.5A2.25 2.25 0 0 1 13 4.25v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 10.75 18h-5.5A2.25 2.25 0 0 1 3 15.75V4.25Z",clipRule:"evenodd"}),T.createElement("path",{fillRule:"evenodd",d:"M19 10a.75.75 0 0 0-.75-.75H8.704l1.048-.943a.75.75 0 1 0-1.004-1.114l-2.5 2.25a.75.75 0 0 0 0 1.114l2.5 2.25a.75.75 0 1 0 1.004-1.114l-1.048-.943h9.546A.75.75 0 0 0 19 10Z",clipRule:"evenodd"}))}const Hv=T.forwardRef(jv);function $v({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M17 4.25A2.25 2.25 0 0 0 14.75 2h-5.5A2.25 2.25 0 0 0 7 4.25v2a.75.75 0 0 0 1.5 0v-2a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-5.5a.75.75 0 0 1-.75-.75v-2a.75.75 0 0 0-1.5 0v2A2.25 2.25 0 0 0 9.25 18h5.5A2.25 2.25 0 0 0 17 15.75V4.25Z",clipRule:"evenodd"}),T.createElement("path",{fillRule:"evenodd",d:"M1 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H1.75A.75.75 0 0 1 1 10Z",clipRule:"evenodd"}))}const zv=T.forwardRef($v);function qv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Wv=T.forwardRef(qv);function Yv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Vv=T.forwardRef(Yv);function Gv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const gE=T.forwardRef(Gv);function Qv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}const EE=T.forwardRef(Qv);function Kv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const bh=T.forwardRef(Kv);function Xv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"}))}const bE=T.forwardRef(Xv);function Jv({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const yE=T.forwardRef(Jv),TE=({onClick:e})=>{const[t,n]=T.useState(!1);return b.jsx(Ps,{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),title:"Delete",icon:t?b.jsx(bE,{className:"w-6 h-6 text-red-500"}):b.jsx(Pv,{className:"w-6 h-6 text-gray-500"})})},fu=({isReadOnly:e=!1,title:t="tag",onClick:n,btnClass:r="",disabled:a=!1,...u})=>b.jsxs("button",{type:"button",className:`flex gap-2 justify-center items-center font-medium px-2 py-1 text-center transition focus:outline-hidden text-leaf-green-600 dark:text-leaf-green-100 border border-leaf-green-600 dark:border-leaf-green-100 rounded-lg ${e?"":"hover:bg-leaf-green-100 dark:hover:text-leaf-green-600"} ${r}`,disabled:e||a,"aria-label":`${!e&&"Remove "}${t}`,onClick:e?void 0:n,...u,children:[b.jsx("small",{children:t}),!e&&b.jsx(Eh,{className:"w-3 h-3"})]}),Hl=({options:e,icon:t})=>{const[n,r]=T.useState(!1),a=T.useRef(null);return T.useEffect(()=>{const u=l=>{a.current&&!a.current.contains(l.target)&&r(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),b.jsxs("div",{className:"relative inline-block",ref:a,children:[b.jsx(Ps,{icon:t,onClick:()=>r(!n),title:"More Options"}),n&&b.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:b.jsx("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:e.map((u,l)=>b.jsx("li",{children:b.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{u.onClick(),r(!1)},children:u.label})},l))})})]})};function _E(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zv}=Object.prototype,{getPrototypeOf:yh}=Object,$l=(e=>t=>{const n=Zv.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=e=>(e=e.toLowerCase(),t=>$l(t)===e),zl=e=>t=>typeof t===e,{isArray:Mi}=Array,hu=zl("undefined");function eS(e){return e!==null&&!hu(e)&&e.constructor!==null&&!hu(e.constructor)&&yn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const wE=Xn("ArrayBuffer");function tS(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&wE(e.buffer),t}const nS=zl("string"),yn=zl("function"),xE=zl("number"),ql=e=>e!==null&&typeof e=="object",rS=e=>e===!0||e===!1,dl=e=>{if($l(e)!=="object")return!1;const t=yh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sS=Xn("Date"),iS=Xn("File"),aS=Xn("Blob"),uS=Xn("FileList"),oS=e=>ql(e)&&yn(e.pipe),lS=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yn(e.append)&&((t=$l(e))==="formdata"||t==="object"&&yn(e.toString)&&e.toString()==="[object FormData]"))},cS=Xn("URLSearchParams"),[dS,fS,hS,pS]=["ReadableStream","Request","Response","Headers"].map(Xn),mS=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Mi(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;let c;for(r=0;r<l;r++)c=u[r],t.call(null,e[c],c,e)}}function vE(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,SE=e=>!hu(e)&&e!==Ds;function If(){const{caseless:e}=SE(this)&&this||{},t={},n=(r,a)=>{const u=e&&vE(t,a)||a;dl(t[u])&&dl(r)?t[u]=If(t[u],r):dl(r)?t[u]=If({},r):Mi(r)?t[u]=r.slice():t[u]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Cu(arguments[r],n);return t}const gS=(e,t,n,{allOwnKeys:r}={})=>(Cu(t,(a,u)=>{n&&yn(a)?e[u]=_E(a,n):e[u]=a},{allOwnKeys:r}),e),ES=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bS=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},yS=(e,t,n,r)=>{let a,u,l;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),u=a.length;u-- >0;)l=a[u],(!r||r(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=n!==!1&&yh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},TS=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},_S=e=>{if(!e)return null;if(Mi(e))return e;let t=e.length;if(!xE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},wS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yh(Uint8Array)),xS=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const u=a.value;t.call(e,u[0],u[1])}},vS=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},SS=Xn("HTMLFormElement"),CS=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),_g=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),AS=Xn("RegExp"),CE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Cu(n,(a,u)=>{let l;(l=t(a,u,e))!==!1&&(r[u]=l||a)}),Object.defineProperties(e,r)},NS=e=>{CE(e,(t,n)=>{if(yn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(yn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kS=(e,t)=>{const n={},r=a=>{a.forEach(u=>{n[u]=!0})};return Mi(e)?r(e):r(String(e).split(t)),n},RS=()=>{},IS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Zd="abcdefghijklmnopqrstuvwxyz",wg="0123456789",AE={DIGIT:wg,ALPHA:Zd,ALPHA_DIGIT:Zd+Zd.toUpperCase()+wg},OS=(e=16,t=AE.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function LS(e){return!!(e&&yn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const DS=e=>{const t=new Array(10),n=(r,a)=>{if(ql(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const u=Mi(r)?[]:{};return Cu(r,(l,c)=>{const f=n(l,a+1);!hu(f)&&(u[c]=f)}),t[a]=void 0,u}}return r};return n(e,0)},PS=Xn("AsyncFunction"),MS=e=>e&&(ql(e)||yn(e))&&yn(e.then)&&yn(e.catch),NE=((e,t)=>e?setImmediate:t?((n,r)=>(Ds.addEventListener("message",({source:a,data:u})=>{a===Ds&&u===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Ds.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yn(Ds.postMessage)),FS=typeof queueMicrotask<"u"?queueMicrotask.bind(Ds):typeof process<"u"&&process.nextTick||NE,z={isArray:Mi,isArrayBuffer:wE,isBuffer:eS,isFormData:lS,isArrayBufferView:tS,isString:nS,isNumber:xE,isBoolean:rS,isObject:ql,isPlainObject:dl,isReadableStream:dS,isRequest:fS,isResponse:hS,isHeaders:pS,isUndefined:hu,isDate:sS,isFile:iS,isBlob:aS,isRegExp:AS,isFunction:yn,isStream:oS,isURLSearchParams:cS,isTypedArray:wS,isFileList:uS,forEach:Cu,merge:If,extend:gS,trim:mS,stripBOM:ES,inherits:bS,toFlatObject:yS,kindOf:$l,kindOfTest:Xn,endsWith:TS,toArray:_S,forEachEntry:xS,matchAll:vS,isHTMLForm:SS,hasOwnProperty:_g,hasOwnProp:_g,reduceDescriptors:CE,freezeMethods:NS,toObjectSet:kS,toCamelCase:CS,noop:RS,toFiniteNumber:IS,findKey:vE,global:Ds,isContextDefined:SE,ALPHABET:AE,generateString:OS,isSpecCompliantForm:LS,toJSONObject:DS,isAsyncFn:PS,isThenable:MS,setImmediate:NE,asap:FS};function we(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}z.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const kE=we.prototype,RE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{RE[e]={value:e}});Object.defineProperties(we,RE);Object.defineProperty(kE,"isAxiosError",{value:!0});we.from=(e,t,n,r,a,u)=>{const l=Object.create(kE);return z.toFlatObject(e,l,function(f){return f!==Error.prototype},c=>c!=="isAxiosError"),we.call(l,e.message,t,n,r,a),l.cause=e,l.name=e.name,u&&Object.assign(l,u),l};const BS=null;function Of(e){return z.isPlainObject(e)||z.isArray(e)}function IE(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function xg(e,t,n){return e?e.concat(t).map(function(a,u){return a=IE(a),!n&&u?"["+a+"]":a}).join(n?".":""):t}function US(e){return z.isArray(e)&&!e.some(Of)}const jS=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function Wl(e,t,n){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,C){return!z.isUndefined(C[N])});const r=n.metaTokens,a=n.visitor||g,u=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(a))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(z.isDate(v))return v.toISOString();if(!f&&z.isBlob(v))throw new we("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(v)||z.isTypedArray(v)?f&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function g(v,N,C){let I=v;if(v&&!C&&typeof v=="object"){if(z.endsWith(N,"{}"))N=r?N:N.slice(0,-2),v=JSON.stringify(v);else if(z.isArray(v)&&US(v)||(z.isFileList(v)||z.endsWith(N,"[]"))&&(I=z.toArray(v)))return N=IE(N),I.forEach(function(U,O){!(z.isUndefined(U)||U===null)&&t.append(l===!0?xg([N],O,u):l===null?N:N+"[]",h(U))}),!1}return Of(v)?!0:(t.append(xg(C,N,u),h(v)),!1)}const y=[],_=Object.assign(jS,{defaultVisitor:g,convertValue:h,isVisitable:Of});function x(v,N){if(!z.isUndefined(v)){if(y.indexOf(v)!==-1)throw Error("Circular reference detected in "+N.join("."));y.push(v),z.forEach(v,function(I,M){(!(z.isUndefined(I)||I===null)&&a.call(t,I,z.isString(M)?M.trim():M,N,_))===!0&&x(I,N?N.concat(M):[M])}),y.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return x(e),t}function vg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Th(e,t){this._pairs=[],e&&Wl(e,this,t)}const OE=Th.prototype;OE.append=function(t,n){this._pairs.push([t,n])};OE.toString=function(t){const n=t?function(r){return t.call(this,r,vg)}:vg;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function HS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LE(e,t,n){if(!t)return e;const r=n&&n.encode||HS;z.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let u;if(a?u=a(t,n):u=z.isURLSearchParams(t)?t.toString():new Th(t,n).toString(r),u){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class Sg{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(r){r!==null&&t(r)})}}const DE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$S=typeof URLSearchParams<"u"?URLSearchParams:Th,zS=typeof FormData<"u"?FormData:null,qS=typeof Blob<"u"?Blob:null,WS={isBrowser:!0,classes:{URLSearchParams:$S,FormData:zS,Blob:qS},protocols:["http","https","file","blob","url","data"]},_h=typeof window<"u"&&typeof document<"u",Lf=typeof navigator=="object"&&navigator||void 0,YS=_h&&(!Lf||["ReactNative","NativeScript","NS"].indexOf(Lf.product)<0),VS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GS=_h&&window.location.href||"http://localhost",QS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_h,hasStandardBrowserEnv:YS,hasStandardBrowserWebWorkerEnv:VS,navigator:Lf,origin:GS},Symbol.toStringTag,{value:"Module"})),Ft={...QS,...WS};function KS(e,t){return Wl(e,new Ft.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,u){return Ft.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function XS(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function JS(e){const t={},n=Object.keys(e);let r;const a=n.length;let u;for(r=0;r<a;r++)u=n[r],t[u]=e[u];return t}function PE(e){function t(n,r,a,u){let l=n[u++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),f=u>=n.length;return l=!l&&z.isArray(a)?a.length:l,f?(z.hasOwnProp(a,l)?a[l]=[a[l],r]:a[l]=r,!c):((!a[l]||!z.isObject(a[l]))&&(a[l]=[]),t(n,r,a[l],u)&&z.isArray(a[l])&&(a[l]=JS(a[l])),!c)}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,(r,a)=>{t(XS(r),a,n,0)}),n}return null}function ZS(e,t,n){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Au={transitional:DE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,u=z.isObject(t);if(u&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return a?JSON.stringify(PE(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return KS(t,this.formSerializer).toString();if((c=z.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Wl(c?{"files[]":t}:t,f&&new f,this.formSerializer)}}return u||a?(n.setContentType("application/json",!1),ZS(t)):t}],transformResponse:[function(t){const n=this.transitional||Au.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(r&&!this.responseType||a)){const l=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(c){if(l)throw c.name==="SyntaxError"?we.from(c,we.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{Au.headers[e]={}});const eC=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tC=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),r=l.substring(a+1).trim(),!(!n||t[n]&&eC[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Cg=Symbol("internals");function $a(e){return e&&String(e).trim().toLowerCase()}function fl(e){return e===!1||e==null?e:z.isArray(e)?e.map(fl):String(e)}function nC(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const rC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ef(e,t,n,r,a){if(z.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!z.isString(t)){if(z.isString(r))return t.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(t)}}function sC(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function iC(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,u,l){return this[r].call(this,t,a,u,l)},configurable:!0})})}class an{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function u(c,f,h){const g=$a(f);if(!g)throw new Error("header name must be a non-empty string");const y=z.findKey(a,g);(!y||a[y]===void 0||h===!0||h===void 0&&a[y]!==!1)&&(a[y||f]=fl(c))}const l=(c,f)=>z.forEach(c,(h,g)=>u(h,g,f));if(z.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(z.isString(t)&&(t=t.trim())&&!rC(t))l(tC(t),n);else if(z.isHeaders(t))for(const[c,f]of t.entries())u(f,c,r);else t!=null&&u(n,t,r);return this}get(t,n){if(t=$a(t),t){const r=z.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return nC(a);if(z.isFunction(n))return n.call(this,a,r);if(z.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=$a(t),t){const r=z.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ef(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function u(l){if(l=$a(l),l){const c=z.findKey(r,l);c&&(!n||ef(r,r[c],c,n))&&(delete r[c],a=!0)}}return z.isArray(t)?t.forEach(u):u(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const u=n[r];(!t||ef(this,this[u],u,t,!0))&&(delete this[u],a=!0)}return a}normalize(t){const n=this,r={};return z.forEach(this,(a,u)=>{const l=z.findKey(r,u);if(l){n[l]=fl(a),delete n[u];return}const c=t?sC(u):String(u).trim();c!==u&&delete n[u],n[c]=fl(a),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return z.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Cg]=this[Cg]={accessors:{}}).accessors,a=this.prototype;function u(l){const c=$a(l);r[c]||(iC(a,l),r[c]=!0)}return z.isArray(t)?t.forEach(u):u(t),this}}an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(an.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});z.freezeMethods(an);function tf(e,t){const n=this||Au,r=t||n,a=an.from(r.headers);let u=r.data;return z.forEach(e,function(c){u=c.call(n,u,a.normalize(),t?t.status:void 0)}),a.normalize(),u}function ME(e){return!!(e&&e.__CANCEL__)}function Fi(e,t,n){we.call(this,e??"canceled",we.ERR_CANCELED,t,n),this.name="CanceledError"}z.inherits(Fi,we,{__CANCEL__:!0});function FE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function aC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uC(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,u=0,l;return t=t!==void 0?t:1e3,function(f){const h=Date.now(),g=r[u];l||(l=h),n[a]=f,r[a]=h;let y=u,_=0;for(;y!==a;)_+=n[y++],y=y%e;if(a=(a+1)%e,a===u&&(u=(u+1)%e),h-l<t)return;const x=g&&h-g;return x?Math.round(_*1e3/x):void 0}}function oC(e,t){let n=0,r=1e3/t,a,u;const l=(h,g=Date.now())=>{n=g,a=null,u&&(clearTimeout(u),u=null),e.apply(null,h)};return[(...h)=>{const g=Date.now(),y=g-n;y>=r?l(h,g):(a=h,u||(u=setTimeout(()=>{u=null,l(a)},r-y)))},()=>a&&l(a)]}const yl=(e,t,n=3)=>{let r=0;const a=uC(50,250);return oC(u=>{const l=u.loaded,c=u.lengthComputable?u.total:void 0,f=l-r,h=a(f),g=l<=c;r=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:f,rate:h||void 0,estimated:h&&c&&g?(c-l)/h:void 0,event:u,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(y)},n)},Ag=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ng=e=>(...t)=>z.asap(()=>e(...t)),lC=Ft.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ft.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ft.origin),Ft.navigator&&/(msie|trident)/i.test(Ft.navigator.userAgent)):()=>!0,cC=Ft.hasStandardBrowserEnv?{write(e,t,n,r,a,u){const l=[e+"="+encodeURIComponent(t)];z.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),z.isString(r)&&l.push("path="+r),z.isString(a)&&l.push("domain="+a),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function BE(e,t){return e&&!dC(t)?fC(e,t):t}const kg=e=>e instanceof an?{...e}:e;function Us(e,t){t=t||{};const n={};function r(h,g,y,_){return z.isPlainObject(h)&&z.isPlainObject(g)?z.merge.call({caseless:_},h,g):z.isPlainObject(g)?z.merge({},g):z.isArray(g)?g.slice():g}function a(h,g,y,_){if(z.isUndefined(g)){if(!z.isUndefined(h))return r(void 0,h,y,_)}else return r(h,g,y,_)}function u(h,g){if(!z.isUndefined(g))return r(void 0,g)}function l(h,g){if(z.isUndefined(g)){if(!z.isUndefined(h))return r(void 0,h)}else return r(void 0,g)}function c(h,g,y){if(y in t)return r(h,g);if(y in e)return r(void 0,h)}const f={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,g,y)=>a(kg(h),kg(g),y,!0)};return z.forEach(Object.keys(Object.assign({},e,t)),function(g){const y=f[g]||a,_=y(e[g],t[g],g);z.isUndefined(_)&&y!==c||(n[g]=_)}),n}const UE=e=>{const t=Us({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:u,headers:l,auth:c}=t;t.headers=l=an.from(l),t.url=LE(BE(t.baseURL,t.url),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let f;if(z.isFormData(n)){if(Ft.hasStandardBrowserEnv||Ft.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((f=l.getContentType())!==!1){const[h,...g]=f?f.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...g].join("; "))}}if(Ft.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(t)),r||r!==!1&&lC(t.url))){const h=a&&u&&cC.read(u);h&&l.set(a,h)}return t},hC=typeof XMLHttpRequest<"u",pC=hC&&function(e){return new Promise(function(n,r){const a=UE(e);let u=a.data;const l=an.from(a.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:h}=a,g,y,_,x,v;function N(){x&&x(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(a.method.toUpperCase(),a.url,!0),C.timeout=a.timeout;function I(){if(!C)return;const U=an.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),q={data:!c||c==="text"||c==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:U,config:e,request:C};FE(function(re){n(re),N()},function(re){r(re),N()},q),C=null}"onloadend"in C?C.onloadend=I:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(I)},C.onabort=function(){C&&(r(new we("Request aborted",we.ECONNABORTED,e,C)),C=null)},C.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let O=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const q=a.transitional||DE;a.timeoutErrorMessage&&(O=a.timeoutErrorMessage),r(new we(O,q.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,e,C)),C=null},u===void 0&&l.setContentType(null),"setRequestHeader"in C&&z.forEach(l.toJSON(),function(O,q){C.setRequestHeader(q,O)}),z.isUndefined(a.withCredentials)||(C.withCredentials=!!a.withCredentials),c&&c!=="json"&&(C.responseType=a.responseType),h&&([_,v]=yl(h,!0),C.addEventListener("progress",_)),f&&C.upload&&([y,x]=yl(f),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(g=U=>{C&&(r(!U||U.type?new Fi(null,e,C):U),C.abort(),C=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const M=aC(a.url);if(M&&Ft.protocols.indexOf(M)===-1){r(new we("Unsupported protocol "+M+":",we.ERR_BAD_REQUEST,e));return}C.send(u||null)})},mC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const u=function(h){if(!a){a=!0,c();const g=h instanceof Error?h:this.reason;r.abort(g instanceof we?g:new Fi(g instanceof Error?g.message:g))}};let l=t&&setTimeout(()=>{l=null,u(new we(`timeout ${t} of ms exceeded`,we.ETIMEDOUT))},t);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(u):h.removeEventListener("abort",u)}),e=null)};e.forEach(h=>h.addEventListener("abort",u));const{signal:f}=r;return f.unsubscribe=()=>z.asap(c),f}},gC=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},EC=async function*(e,t){for await(const n of bC(e))yield*gC(n,t)},bC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Rg=(e,t,n,r)=>{const a=EC(e,t);let u=0,l,c=f=>{l||(l=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:h,value:g}=await a.next();if(h){c(),f.close();return}let y=g.byteLength;if(n){let _=u+=y;n(_)}f.enqueue(new Uint8Array(g))}catch(h){throw c(h),h}},cancel(f){return c(f),a.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jE=Yl&&typeof ReadableStream=="function",yC=Yl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),HE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},TC=jE&&HE(()=>{let e=!1;const t=new Request(Ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ig=64*1024,Df=jE&&HE(()=>z.isReadableStream(new Response("").body)),Tl={stream:Df&&(e=>e.body)};Yl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Tl[t]&&(Tl[t]=z.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new we(`Response type '${t}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);const _C=async e=>{if(e==null)return 0;if(z.isBlob(e))return e.size;if(z.isSpecCompliantForm(e))return(await new Request(Ft.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(z.isArrayBufferView(e)||z.isArrayBuffer(e))return e.byteLength;if(z.isURLSearchParams(e)&&(e=e+""),z.isString(e))return(await yC(e)).byteLength},wC=async(e,t)=>{const n=z.toFiniteNumber(e.getContentLength());return n??_C(t)},xC=Yl&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:u,timeout:l,onDownloadProgress:c,onUploadProgress:f,responseType:h,headers:g,withCredentials:y="same-origin",fetchOptions:_}=UE(e);h=h?(h+"").toLowerCase():"text";let x=mC([a,u&&u.toAbortSignal()],l),v;const N=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let C;try{if(f&&TC&&n!=="get"&&n!=="head"&&(C=await wC(g,r))!==0){let q=new Request(t,{method:"POST",body:r,duplex:"half"}),J;if(z.isFormData(r)&&(J=q.headers.get("content-type"))&&g.setContentType(J),q.body){const[re,ue]=Ag(C,yl(Ng(f)));r=Rg(q.body,Ig,re,ue)}}z.isString(y)||(y=y?"include":"omit");const I="credentials"in Request.prototype;v=new Request(t,{..._,signal:x,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:I?y:void 0});let M=await fetch(v);const U=Df&&(h==="stream"||h==="response");if(Df&&(c||U&&N)){const q={};["status","statusText","headers"].forEach(Ee=>{q[Ee]=M[Ee]});const J=z.toFiniteNumber(M.headers.get("content-length")),[re,ue]=c&&Ag(J,yl(Ng(c),!0))||[];M=new Response(Rg(M.body,Ig,re,()=>{ue&&ue(),N&&N()}),q)}h=h||"text";let O=await Tl[z.findKey(Tl,h)||"text"](M,e);return!U&&N&&N(),await new Promise((q,J)=>{FE(q,J,{data:O,headers:an.from(M.headers),status:M.status,statusText:M.statusText,config:e,request:v})})}catch(I){throw N&&N(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,e,v),{cause:I.cause||I}):we.from(I,I&&I.code,e,v)}}),Pf={http:BS,xhr:pC,fetch:xC};z.forEach(Pf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Og=e=>`- ${e}`,vC=e=>z.isFunction(e)||e===null||e===!1,$E={getAdapter:e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let u=0;u<t;u++){n=e[u];let l;if(r=n,!vC(n)&&(r=Pf[(l=String(n)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${l}'`);if(r)break;a[l||"#"+u]=r}if(!r){const u=Object.entries(a).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=t?u.length>1?`since :
`+u.map(Og).join(`
`):" "+Og(u[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Pf};function nf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fi(null,e)}function Lg(e){return nf(e),e.headers=an.from(e.headers),e.data=tf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$E.getAdapter(e.adapter||Au.adapter)(e).then(function(r){return nf(e),r.data=tf.call(e,e.transformResponse,r),r.headers=an.from(r.headers),r},function(r){return ME(r)||(nf(e),r&&r.response&&(r.response.data=tf.call(e,e.transformResponse,r.response),r.response.headers=an.from(r.response.headers))),Promise.reject(r)})}const zE="1.7.9",Vl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Dg={};Vl.transitional=function(t,n,r){function a(u,l){return"[Axios v"+zE+"] Transitional option '"+u+"'"+l+(r?". "+r:"")}return(u,l,c)=>{if(t===!1)throw new we(a(l," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!Dg[l]&&(Dg[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,l,c):!0}};Vl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function SC(e,t,n){if(typeof e!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const u=r[a],l=t[u];if(l){const c=e[u],f=c===void 0||l(c,u,e);if(f!==!0)throw new we("option "+u+" must be "+f,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+u,we.ERR_BAD_OPTION)}}const hl={assertOptions:SC,validators:Vl},ur=hl.validators;class Ms{constructor(t){this.defaults=t,this.interceptors={request:new Sg,response:new Sg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Us(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:u}=n;r!==void 0&&hl.assertOptions(r,{silentJSONParsing:ur.transitional(ur.boolean),forcedJSONParsing:ur.transitional(ur.boolean),clarifyTimeoutError:ur.transitional(ur.boolean)},!1),a!=null&&(z.isFunction(a)?n.paramsSerializer={serialize:a}:hl.assertOptions(a,{encode:ur.function,serialize:ur.function},!0)),hl.assertOptions(n,{baseUrl:ur.spelling("baseURL"),withXsrfToken:ur.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=u&&z.merge(u.common,u[n.method]);u&&z.forEach(["delete","get","head","post","put","patch","common"],v=>{delete u[v]}),n.headers=an.concat(l,u);const c=[];let f=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(f=f&&N.synchronous,c.unshift(N.fulfilled,N.rejected))});const h=[];this.interceptors.response.forEach(function(N){h.push(N.fulfilled,N.rejected)});let g,y=0,_;if(!f){const v=[Lg.bind(this),void 0];for(v.unshift.apply(v,c),v.push.apply(v,h),_=v.length,g=Promise.resolve(n);y<_;)g=g.then(v[y++],v[y++]);return g}_=c.length;let x=n;for(y=0;y<_;){const v=c[y++],N=c[y++];try{x=v(x)}catch(C){N.call(this,C);break}}try{g=Lg.call(this,x)}catch(v){return Promise.reject(v)}for(y=0,_=h.length;y<_;)g=g.then(h[y++],h[y++]);return g}getUri(t){t=Us(this.defaults,t);const n=BE(t.baseURL,t.url);return LE(n,t.params,t.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(t){Ms.prototype[t]=function(n,r){return this.request(Us(r||{},{method:t,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(t){function n(r){return function(u,l,c){return this.request(Us(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:l}))}}Ms.prototype[t]=n(),Ms.prototype[t+"Form"]=n(!0)});class wh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(a=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](a);r._listeners=null}),this.promise.then=a=>{let u;const l=new Promise(c=>{r.subscribe(c),u=c}).then(a);return l.cancel=function(){r.unsubscribe(u)},l},t(function(u,l,c){r.reason||(r.reason=new Fi(u,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new wh(function(a){t=a}),cancel:t}}}function CC(e){return function(n){return e.apply(null,n)}}function AC(e){return z.isObject(e)&&e.isAxiosError===!0}const Mf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mf).forEach(([e,t])=>{Mf[t]=e});function qE(e){const t=new Ms(e),n=_E(Ms.prototype.request,t);return z.extend(n,Ms.prototype,t,{allOwnKeys:!0}),z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return qE(Us(e,a))},n}const ct=qE(Au);ct.Axios=Ms;ct.CanceledError=Fi;ct.CancelToken=wh;ct.isCancel=ME;ct.VERSION=zE;ct.toFormData=Wl;ct.AxiosError=we;ct.Cancel=ct.CanceledError;ct.all=function(t){return Promise.all(t)};ct.spread=CC;ct.isAxiosError=AC;ct.mergeConfig=Us;ct.AxiosHeaders=an;ct.formToJSON=e=>PE(z.isHTMLForm(e)?new FormData(e):e);ct.getAdapter=$E.getAdapter;ct.HttpStatusCode=Mf;ct.default=ct;var Ue;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(Ue||(Ue={}));function NC(e){return e.type===Ue.Tag||e.type===Ue.Script||e.type===Ue.Style}const kC=Ue.Root,RC=Ue.Text,IC=Ue.Directive,OC=Ue.Comment,LC=Ue.Script,DC=Ue.Style,PC=Ue.Tag,MC=Ue.CDATA,FC=Ue.Doctype;class WE{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return mu(this,t)}}class xh extends WE{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class pu extends xh{constructor(){super(...arguments),this.type=Ue.Text}get nodeType(){return 3}}class vh extends xh{constructor(){super(...arguments),this.type=Ue.Comment}get nodeType(){return 8}}class Sh extends xh{constructor(t,n){super(n),this.name=t,this.type=Ue.Directive}get nodeType(){return 1}}class Ch extends WE{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class YE extends Ch{constructor(){super(...arguments),this.type=Ue.CDATA}get nodeType(){return 4}}class js extends Ch{constructor(){super(...arguments),this.type=Ue.Root}get nodeType(){return 9}}class Ah extends Ch{constructor(t,n,r=[],a=t==="script"?Ue.Script:t==="style"?Ue.Style:Ue.Tag){super(r),this.name=t,this.attribs=n,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,r;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[t]}})}}function ge(e){return NC(e)}function Gl(e){return e.type===Ue.CDATA}function dr(e){return e.type===Ue.Text}function Ql(e){return e.type===Ue.Comment}function Ff(e){return e.type===Ue.Directive}function fs(e){return e.type===Ue.Root}function ot(e){return Object.prototype.hasOwnProperty.call(e,"children")}function mu(e,t=!1){let n;if(dr(e))n=new pu(e.data);else if(Ql(e))n=new vh(e.data);else if(ge(e)){const r=t?rf(e.children):[],a=new Ah(e.name,{...e.attribs},r);r.forEach(u=>u.parent=a),e.namespace!=null&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=a}else if(Gl(e)){const r=t?rf(e.children):[],a=new YE(r);r.forEach(u=>u.parent=a),n=a}else if(fs(e)){const r=t?rf(e.children):[],a=new js(r);r.forEach(u=>u.parent=a),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else if(Ff(e)){const r=new Sh(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function rf(e){const t=e.map(n=>mu(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const Pg={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class BC{constructor(t,n,r){this.dom=[],this.root=new js(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=Pg),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??Pg,this.elementCB=r??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new js(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const r=this.options.xmlMode?Ue.Tag:void 0,a=new Ah(t,n,void 0,r);this.addNode(a),this.tagStack.push(a)}ontext(t){const{lastNode:n}=this;if(n&&n.type===Ue.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new pu(t);this.addNode(r),this.lastNode=r}}oncomment(t){if(this.lastNode&&this.lastNode.type===Ue.Comment){this.lastNode.data+=t;return}const n=new vh(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new pu(""),n=new YE([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const r=new Sh(t,n);this.addNode(r)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),r&&(t.prev=r,r.next=t),t.parent=n,this.lastNode=null}}const Nh=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),VE=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var sf;const UC=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Bf=(sf=String.fromCodePoint)!==null&&sf!==void 0?sf:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function jC(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=UC.get(e))!==null&&t!==void 0?t:e}var wt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(wt||(wt={}));const HC=32;var us;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(us||(us={}));function Uf(e){return e>=wt.ZERO&&e<=wt.NINE}function $C(e){return e>=wt.UPPER_A&&e<=wt.UPPER_F||e>=wt.LOWER_A&&e<=wt.LOWER_F}function zC(e){return e>=wt.UPPER_A&&e<=wt.UPPER_Z||e>=wt.LOWER_A&&e<=wt.LOWER_Z||Uf(e)}function qC(e){return e===wt.EQUALS||zC(e)}var yt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(yt||(yt={}));var kn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(kn||(kn={}));class kh{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=yt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=kn.Strict}startEntity(t){this.decodeMode=t,this.state=yt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case yt.EntityStart:return t.charCodeAt(n)===wt.NUM?(this.state=yt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=yt.NamedEntity,this.stateNamedEntity(t,n));case yt.NumericStart:return this.stateNumericStart(t,n);case yt.NumericDecimal:return this.stateNumericDecimal(t,n);case yt.NumericHex:return this.stateNumericHex(t,n);case yt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|HC)===wt.LOWER_X?(this.state=yt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=yt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const u=r-n;this.result=this.result*Math.pow(a,u)+parseInt(t.substr(n,u),a),this.consumed+=u}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Uf(a)||$C(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Uf(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===wt.SEMI)this.consumed+=1;else if(this.decodeMode===kn.Strict)return 0;return this.emitCodePoint(jC(this.result),this.consumed),this.errors&&(t!==wt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],u=(a&us.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const l=t.charCodeAt(n);if(this.treeIndex=WC(r,a,this.treeIndex+Math.max(1,u),l),this.treeIndex<0)return this.result===0||this.decodeMode===kn.Attribute&&(u===0||qC(l))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],u=(a&us.VALUE_LENGTH)>>14,u!==0){if(l===wt.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==kn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&us.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~us.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case yt.NamedEntity:return this.result!==0&&(this.decodeMode!==kn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case yt.NumericDecimal:return this.emitNumericEntity(0,2);case yt.NumericHex:return this.emitNumericEntity(0,3);case yt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case yt.EntityStart:return 0}}}function GE(e){let t="";const n=new kh(e,r=>t+=Bf(r));return function(a,u){let l=0,c=0;for(;(c=a.indexOf("&",c))>=0;){t+=a.slice(l,c),n.startEntity(u);const h=n.write(a,c+1);if(h<0){l=c+n.end();break}l=c+h,c=h===0?l+1:l}const f=t+a.slice(l);return t="",f}}function WC(e,t,n,r){const a=(t&us.BRANCH_LENGTH)>>7,u=t&us.JUMP_TABLE;if(a===0)return u!==0&&r===u?n:-1;if(u){const f=r-u;return f<0||f>=a?-1:e[n+f]-1}let l=n,c=l+a-1;for(;l<=c;){const f=l+c>>>1,h=e[f];if(h<r)l=f+1;else if(h>r)c=f-1;else return e[f+a]}return-1}GE(Nh);GE(VE);const Mg=/["&'<>$\x80-\uFFFF]/g,YC=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),VC=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function QE(e){let t="",n=0,r;for(;(r=Mg.exec(e))!==null;){const a=r.index,u=e.charCodeAt(a),l=YC.get(u);l!==void 0?(t+=e.substring(n,a)+l,n=a+1):(t+=`${e.substring(n,a)}&#x${VC(e,a).toString(16)};`,n=Mg.lastIndex+=+((u&64512)===55296))}return t+e.substr(n)}function KE(e,t){return function(r){let a,u=0,l="";for(;a=e.exec(r);)u!==a.index&&(l+=r.substring(u,a.index)),l+=t.get(a[0].charCodeAt(0)),u=a.index+1;return l+r.substring(u)}}const XE=KE(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),JE=KE(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),GC=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),QC=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),KC=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function XC(e){return e.replace(/"/g,"&quot;")}function JC(e,t){var n;if(!e)return;const r=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?XC:t.xmlMode||t.encodeEntities!=="utf8"?QE:XE;return Object.keys(e).map(a=>{var u,l;const c=(u=e[a])!==null&&u!==void 0?u:"";return t.xmlMode==="foreign"&&(a=(l=QC.get(a))!==null&&l!==void 0?l:a),!t.emptyAttrs&&!t.xmlMode&&c===""?a:`${a}="${r(c)}"`}).join(" ")}const Fg=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Kl(e,t={}){const n="length"in e?e:[e];let r="";for(let a=0;a<n.length;a++)r+=ZC(n[a],t);return r}function ZC(e,t){switch(e.type){case kC:return Kl(e.children,t);case FC:case IC:return rA(e);case OC:return aA(e);case MC:return iA(e);case LC:case DC:case PC:return nA(e,t);case RC:return sA(e,t)}}const eA=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),tA=new Set(["svg","math"]);function nA(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=GC.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&eA.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&tA.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const a=JC(e.attribs,t);return a&&(r+=` ${a}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&Fg.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=Kl(e.children,t)),(t.xmlMode||!Fg.has(e.name))&&(r+=`</${e.name}>`)),r}function rA(e){return`<${e.data}>`}function sA(e,t){var n;let r=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&KC.has(e.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?QE(r):JE(r)),r}function iA(e){return`<![CDATA[${e.children[0].data}]]>`}function aA(e){return`<!--${e.data}-->`}function ZE(e,t){return Kl(e,t)}function uA(e,t){return ot(e)?e.children.map(n=>ZE(n,t)).join(""):""}function pl(e){return Array.isArray(e)?e.map(pl).join(""):ge(e)?e.name==="br"?`
`:pl(e.children):Gl(e)?pl(e.children):dr(e)?e.data:""}function Ni(e){return Array.isArray(e)?e.map(Ni).join(""):ot(e)&&!Ql(e)?Ni(e.children):dr(e)?e.data:""}function _l(e){return Array.isArray(e)?e.map(_l).join(""):ot(e)&&(e.type===Ue.Tag||Gl(e))?_l(e.children):dr(e)?e.data:""}function Xl(e){return ot(e)?e.children:[]}function eb(e){return e.parent||null}function tb(e){const t=eb(e);if(t!=null)return Xl(t);const n=[e];let{prev:r,next:a}=e;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;a!=null;)n.push(a),{next:a}=a;return n}function oA(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function lA(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function cA(e){return e.name}function Rh(e){let{next:t}=e;for(;t!==null&&!ge(t);)({next:t}=t);return t}function Ih(e){let{prev:t}=e;for(;t!==null&&!ge(t);)({prev:t}=t);return t}function Ws(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function dA(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const a=t.parent=e.parent;if(a){const u=a.children;u[u.lastIndexOf(e)]=t,e.parent=null}}function fA(e,t){if(Ws(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function hA(e,t){Ws(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const a=n.children;a.splice(a.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function pA(e,t){if(Ws(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function mA(e,t){Ws(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function Nu(e,t,n=!0,r=1/0){return Oh(e,Array.isArray(t)?t:[t],n,r)}function Oh(e,t,n,r){const a=[],u=[Array.isArray(t)?t:[t]],l=[0];for(;;){if(l[0]>=u[0].length){if(l.length===1)return a;u.shift(),l.shift();continue}const c=u[0][l[0]++];if(e(c)&&(a.push(c),--r<=0))return a;n&&ot(c)&&c.children.length>0&&(l.unshift(0),u.unshift(c.children))}}function gA(e,t){return t.find(e)}function Lh(e,t,n=!0){const r=Array.isArray(t)?t:[t];for(let a=0;a<r.length;a++){const u=r[a];if(ge(u)&&e(u))return u;if(n&&ot(u)&&u.children.length>0){const l=Lh(e,u.children,!0);if(l)return l}}return null}function nb(e,t){return(Array.isArray(t)?t:[t]).some(n=>ge(n)&&e(n)||ot(n)&&nb(e,n.children))}function EA(e,t){const n=[],r=[Array.isArray(t)?t:[t]],a=[0];for(;;){if(a[0]>=r[0].length){if(r.length===1)return n;r.shift(),a.shift();continue}const u=r[0][a[0]++];ge(u)&&e(u)&&n.push(u),ot(u)&&u.children.length>0&&(a.unshift(0),r.unshift(u.children))}}const wl={tag_name(e){return typeof e=="function"?t=>ge(t)&&e(t.name):e==="*"?ge:t=>ge(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>dr(t)&&e(t.data):t=>dr(t)&&t.data===e}};function Dh(e,t){return typeof t=="function"?n=>ge(n)&&t(n.attribs[e]):n=>ge(n)&&n.attribs[e]===t}function bA(e,t){return n=>e(n)||t(n)}function rb(e){const t=Object.keys(e).map(n=>{const r=e[n];return Object.prototype.hasOwnProperty.call(wl,n)?wl[n](r):Dh(n,r)});return t.length===0?null:t.reduce(bA)}function yA(e,t){const n=rb(e);return n?n(t):!0}function TA(e,t,n,r=1/0){const a=rb(e);return a?Nu(a,t,n,r):[]}function _A(e,t,n=!0){return Array.isArray(t)||(t=[t]),Lh(Dh("id",e),t,n)}function Bi(e,t,n=!0,r=1/0){return Nu(wl.tag_name(e),t,n,r)}function wA(e,t,n=!0,r=1/0){return Nu(Dh("class",e),t,n,r)}function xA(e,t,n=!0,r=1/0){return Nu(wl.tag_type(e),t,n,r)}function vA(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0){e.splice(t,1);continue}for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var An;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(An||(An={}));function sb(e,t){const n=[],r=[];if(e===t)return 0;let a=ot(e)?e:e.parent;for(;a;)n.unshift(a),a=a.parent;for(a=ot(t)?t:t.parent;a;)r.unshift(a),a=a.parent;const u=Math.min(n.length,r.length);let l=0;for(;l<u&&n[l]===r[l];)l++;if(l===0)return An.DISCONNECTED;const c=n[l-1],f=c.children,h=n[l],g=r[l];return f.indexOf(h)>f.indexOf(g)?c===t?An.FOLLOWING|An.CONTAINED_BY:An.FOLLOWING:c===e?An.PRECEDING|An.CONTAINS:An.PRECEDING}function Ui(e){return e=e.filter((t,n,r)=>!r.includes(t,n+1)),e.sort((t,n)=>{const r=sb(t,n);return r&An.PRECEDING?-1:r&An.FOLLOWING?1:0}),e}function SA(e){const t=xl(RA,e);return t?t.name==="feed"?CA(t):AA(t):null}function CA(e){var t;const n=e.children,r={type:"atom",items:Bi("entry",n).map(l=>{var c;const{children:f}=l,h={media:ib(f)};tn(h,"id","id",f),tn(h,"title","title",f);const g=(c=xl("link",f))===null||c===void 0?void 0:c.attribs.href;g&&(h.link=g);const y=os("summary",f)||os("content",f);y&&(h.description=y);const _=os("updated",f);return _&&(h.pubDate=new Date(_)),h})};tn(r,"id","id",n),tn(r,"title","title",n);const a=(t=xl("link",n))===null||t===void 0?void 0:t.attribs.href;a&&(r.link=a),tn(r,"description","subtitle",n);const u=os("updated",n);return u&&(r.updated=new Date(u)),tn(r,"author","email",n,!0),r}function AA(e){var t,n;const r=(n=(t=xl("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],a={type:e.name.substr(0,3),id:"",items:Bi("item",e.children).map(l=>{const{children:c}=l,f={media:ib(c)};tn(f,"id","guid",c),tn(f,"title","title",c),tn(f,"link","link",c),tn(f,"description","description",c);const h=os("pubDate",c)||os("dc:date",c);return h&&(f.pubDate=new Date(h)),f})};tn(a,"title","title",r),tn(a,"link","link",r),tn(a,"description","description",r);const u=os("lastBuildDate",r);return u&&(a.updated=new Date(u)),tn(a,"author","managingEditor",r,!0),a}const NA=["url","type","lang"],kA=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function ib(e){return Bi("media:content",e).map(t=>{const{attribs:n}=t,r={medium:n.medium,isDefault:!!n.isDefault};for(const a of NA)n[a]&&(r[a]=n[a]);for(const a of kA)n[a]&&(r[a]=parseInt(n[a],10));return n.expression&&(r.expression=n.expression),r})}function xl(e,t){return Bi(e,t,!0,1)[0]}function os(e,t,n=!1){return Ni(Bi(e,t,n,1)).trim()}function tn(e,t,n,r,a=!1){const u=os(n,r,a);u&&(e[t]=u)}function RA(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}const Jl=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return An},append:hA,appendChild:fA,compareDocumentPosition:sb,existsOne:nb,filter:Nu,find:Oh,findAll:EA,findOne:Lh,findOneChild:gA,getAttributeValue:oA,getChildren:Xl,getElementById:_A,getElements:TA,getElementsByClassName:wA,getElementsByTagName:Bi,getElementsByTagType:xA,getFeed:SA,getInnerHTML:uA,getName:cA,getOuterHTML:ZE,getParent:eb,getSiblings:tb,getText:pl,hasAttrib:lA,hasChildren:ot,innerText:_l,isCDATA:Gl,isComment:Ql,isDocument:fs,isTag:ge,isText:dr,nextElementSibling:Rh,prepend:mA,prependChild:pA,prevElementSibling:Ih,removeElement:Ws,removeSubsets:vA,replaceElement:dA,testElement:yA,textContent:Ni,uniqueSort:Ui},Symbol.toStringTag,{value:"Module"})),IA={_useHtmlParser2:!1};function jf(e,t){if(!e)return t??IA;const n={_useHtmlParser2:!!e.xmlMode,...t,...e};return e.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,e.xml!==!0&&Object.assign(n,e.xml)):e.xmlMode&&(n._useHtmlParser2=!0),n}function ab(e,t,n){return e?e(t??e._root.children,null,void 0,n).toString():""}function OA(e,t){return typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function LA(e,t){const n=OA(e)?(t=e,void 0):e,r={...this===null||this===void 0?void 0:this._options,...jf(t)};return ab(this,n,r)}function DA(e){const t={...this._options,xmlMode:!0};return ab(this,e,t)}function gu(e){const t=e??(this?this.root():[]);let n="";for(let r=0;r<t.length;r++)n+=Ni(t[r]);return n}function PA(e,t,n=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t);const r=this.load(e,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function MA(){return this(this._root)}function ub(e,t){if(t===e)return!1;let n=t;for(;n&&n!==n.parent;)if(n=n.parent,n===e)return!0;return!1}function FA(e){return this.root().extract(e)}function BA(e,t){if(!Bg(e)||!Bg(t))return;let n=e.length;const r=+t.length;for(let a=0;a<r;a++)e[n++]=t[a];return e.length=n,e}function Bg(e){if(Array.isArray(e))return!0;if(typeof e!="object"||e===null||!("length"in e)||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}const UA=Object.freeze(Object.defineProperty({__proto__:null,contains:ub,extract:FA,html:LA,merge:BA,parseHTML:PA,root:MA,text:gu,xml:DA},Symbol.toStringTag,{value:"Module"}));function Rr(e){return e.cheerio!=null}function jA(e){return e.replace(/[._-](\w|$)/g,(t,n)=>n.toUpperCase())}function HA(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function nt(e,t){const n=e.length;for(let r=0;r<n;r++)t(e[r],r);return e}var Ls;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(Ls||(Ls={}));function Hf(e){const t=e.indexOf("<");if(t<0||t>e.length-3)return!1;const n=e.charCodeAt(t+1);return(n>=Ls.LowerA&&n<=Ls.LowerZ||n>=Ls.UpperA&&n<=Ls.UpperZ||n===Ls.Exclamation)&&e.includes(">",t+2)}const Eu=Object.prototype.hasOwnProperty,bu=/\s+/,$f="data-",Ph=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,$A=/^{[^]*}$|^\[[^]*]$/;function vl(e,t,n){var r;if(!(!e||!ge(e))){if((r=e.attribs)!==null&&r!==void 0||(e.attribs={}),!t)return e.attribs;if(Eu.call(e.attribs,t))return!n&&Ph.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return gu(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function xi(e,t,n){n===null?lb(e,t):e.attribs[t]=`${n}`}function zA(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return nt(this,(n,r)=>{ge(n)&&xi(n,e,t.call(n,r,n.attribs[e]))})}return nt(this,n=>{if(ge(n))if(typeof e=="object")for(const r of Object.keys(e)){const a=e[r];xi(n,r,a)}else xi(n,e,t)})}return arguments.length>1?this:vl(this[0],e,this.options.xmlMode)}function Ug(e,t,n){return t in e?e[t]:!n&&Ph.test(t)?vl(e,t,!1)!==void 0:vl(e,t,n)}function af(e,t,n,r){t in e?e[t]=n:xi(e,t,!r&&Ph.test(t)?n?"":null:`${n}`)}function qA(e,t){var n;if(typeof e=="string"&&t===void 0){const r=this[0];if(!r||!ge(r))return;switch(e){case"style":{const a=this.css(),u=Object.keys(a);for(let l=0;l<u.length;l++)a[l]=u[l];return a.length=u.length,a}case"tagName":case"nodeName":return r.name.toUpperCase();case"href":case"src":{const a=(n=r.attribs)===null||n===void 0?void 0:n[e];return typeof URL<"u"&&(e==="href"&&(r.tagName==="a"||r.tagName==="link")||e==="src"&&(r.tagName==="img"||r.tagName==="iframe"||r.tagName==="audio"||r.tagName==="video"||r.tagName==="source"))&&a!==void 0&&this.options.baseURI?new URL(a,this.options.baseURI).href:a}case"innerText":return _l(r);case"textContent":return Ni(r);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Ug(r,e,this.options.xmlMode)}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new TypeError("Bad combination of arguments.");return nt(this,(r,a)=>{ge(r)&&af(r,e,t.call(r,a,Ug(r,e,this.options.xmlMode)),this.options.xmlMode)})}return nt(this,r=>{if(ge(r))if(typeof e=="object")for(const a of Object.keys(e)){const u=e[a];af(r,a,u,this.options.xmlMode)}else af(r,e,t,this.options.xmlMode)})}}function jg(e,t,n){var r;(r=e.data)!==null&&r!==void 0||(e.data={}),typeof t=="object"?Object.assign(e.data,t):typeof t=="string"&&n!==void 0&&(e.data[t]=n)}function WA(e){for(const t of Object.keys(e.attribs)){if(!t.startsWith($f))continue;const n=jA(t.slice($f.length));Eu.call(e.data,n)||(e.data[n]=ob(e.attribs[t]))}return e.data}function YA(e,t){const n=$f+HA(t),r=e.data;if(Eu.call(r,t))return r[t];if(Eu.call(e.attribs,n))return r[t]=ob(e.attribs[n])}function ob(e){if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;const t=Number(e);if(e===String(t))return t;if($A.test(e))try{return JSON.parse(e)}catch{}return e}function VA(e,t){var n;const r=this[0];if(!r||!ge(r))return;const a=r;return(n=a.data)!==null&&n!==void 0||(a.data={}),e==null?WA(a):typeof e=="object"||t!==void 0?(nt(this,u=>{ge(u)&&(typeof e=="object"?jg(u,e):jg(u,e,t))}),this):YA(a,e)}function GA(e){const t=arguments.length===0,n=this[0];if(!n||!ge(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":{const r=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");const a=typeof e=="object"?e:[e];for(const u of a)this.find(`option[value="${u}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(a=>gu(a.children)):r.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function lb(e,t){!e.attribs||!Eu.call(e.attribs,t)||delete e.attribs[t]}function Sl(e){return e?e.trim().split(bu):[]}function QA(e){const t=Sl(e);for(const n of t)nt(this,r=>{ge(r)&&lb(r,n)});return this}function KA(e){return this.toArray().some(t=>{const n=ge(t)&&t.attribs.class;let r=-1;if(n&&e.length>0)for(;(r=n.indexOf(e,r+1))>-1;){const a=r+e.length;if((r===0||bu.test(n[r-1]))&&(a===n.length||bu.test(n[a])))return!0}return!1})}function cb(e){if(typeof e=="function")return nt(this,(r,a)=>{if(ge(r)){const u=r.attribs.class||"";cb.call([r],e.call(r,a,u))}});if(!e||typeof e!="string")return this;const t=e.split(bu),n=this.length;for(let r=0;r<n;r++){const a=this[r];if(!ge(a))continue;const u=vl(a,"class",!1);if(u){let l=` ${u} `;for(const c of t){const f=`${c} `;l.includes(` ${f}`)||(l+=f)}xi(a,"class",l.trim())}else xi(a,"class",t.join(" ").trim())}return this}function db(e){if(typeof e=="function")return nt(this,(a,u)=>{ge(a)&&db.call([a],e.call(a,u,a.attribs.class||""))});const t=Sl(e),n=t.length,r=arguments.length===0;return nt(this,a=>{if(ge(a))if(r)a.attribs.class="";else{const u=Sl(a.attribs.class);let l=!1;for(let c=0;c<n;c++){const f=u.indexOf(t[c]);f>=0&&(u.splice(f,1),l=!0,c--)}l&&(a.attribs.class=u.join(" "))}})}function fb(e,t){if(typeof e=="function")return nt(this,(l,c)=>{ge(l)&&fb.call([l],e.call(l,c,l.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;const n=e.split(bu),r=n.length,a=typeof t=="boolean"?t?1:-1:0,u=this.length;for(let l=0;l<u;l++){const c=this[l];if(!ge(c))continue;const f=Sl(c.attribs.class);for(let h=0;h<r;h++){const g=f.indexOf(n[h]);a>=0&&g<0?f.push(n[h]):a<=0&&g>=0&&f.splice(g,1)}c.attribs.class=f.join(" ")}return this}const XA=Object.freeze(Object.defineProperty({__proto__:null,addClass:cb,attr:zA,data:VA,hasClass:KA,prop:qA,removeAttr:QA,removeClass:db,toggleClass:fb,val:GA},Symbol.toStringTag,{value:"Module"}));var fe;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(fe||(fe={}));var mt;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(mt||(mt={}));const Hg=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,JA=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,ZA=new Map([[126,mt.Element],[94,mt.Start],[36,mt.End],[42,mt.Any],[33,mt.Not],[124,mt.Hyphen]]),e3=new Set(["has","not","matches","is","where","host","host-context"]);function eu(e){switch(e.type){case fe.Adjacent:case fe.Child:case fe.Descendant:case fe.Parent:case fe.Sibling:case fe.ColumnCombinator:return!0;default:return!1}}const t3=new Set(["contains","icontains"]);function n3(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function za(e){return e.replace(JA,n3)}function uf(e){return e===39||e===34}function $g(e){return e===32||e===9||e===10||e===12||e===13}function Zl(e){const t=[],n=hb(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function hb(e,t,n){let r=[];function a(_){const x=t.slice(n+_).match(Hg);if(!x)throw new Error(`Expected name, found ${t.slice(n)}`);const[v]=x;return n+=_+v.length,za(v)}function u(_){for(n+=_;n<t.length&&$g(t.charCodeAt(n));)n++}function l(){n+=1;const _=n;let x=1;for(;x>0&&n<t.length;n++)t.charCodeAt(n)===40&&!c(n)?x++:t.charCodeAt(n)===41&&!c(n)&&x--;if(x)throw new Error("Parenthesis not matched");return za(t.slice(_,n-1))}function c(_){let x=0;for(;t.charCodeAt(--_)===92;)x++;return(x&1)===1}function f(){if(r.length>0&&eu(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function h(_){if(r.length>0&&r[r.length-1].type===fe.Descendant){r[r.length-1].type=_;return}f(),r.push({type:_})}function g(_,x){r.push({type:fe.Attribute,name:_,action:x,value:a(1),namespace:null,ignoreCase:"quirks"})}function y(){if(r.length&&r[r.length-1].type===fe.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");e.push(r)}if(u(0),t.length===n)return n;e:for(;n<t.length;){const _=t.charCodeAt(n);switch(_){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==fe.Descendant)&&(f(),r.push({type:fe.Descendant})),u(1);break}case 62:{h(fe.Child),u(1);break}case 60:{h(fe.Parent),u(1);break}case 126:{h(fe.Sibling),u(1);break}case 43:{h(fe.Adjacent),u(1);break}case 46:{g("class",mt.Element);break}case 35:{g("id",mt.Equals);break}case 91:{u(1);let x,v=null;t.charCodeAt(n)===124?x=a(1):t.startsWith("*|",n)?(v="*",x=a(2)):(x=a(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(v=x,x=a(1))),u(0);let N=mt.Exists;const C=ZA.get(t.charCodeAt(n));if(C){if(N=C,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");u(2)}else t.charCodeAt(n)===61&&(N=mt.Equals,u(1));let I="",M=null;if(N!=="exists"){if(uf(t.charCodeAt(n))){const q=t.charCodeAt(n);let J=n+1;for(;J<t.length&&(t.charCodeAt(J)!==q||c(J));)J+=1;if(t.charCodeAt(J)!==q)throw new Error("Attribute value didn't end");I=za(t.slice(n+1,J)),n=J+1}else{const q=n;for(;n<t.length&&(!$g(t.charCodeAt(n))&&t.charCodeAt(n)!==93||c(n));)n+=1;I=za(t.slice(q,n))}u(0);const O=t.charCodeAt(n)|32;O===115?(M=!1,u(1)):O===105&&(M=!0,u(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const U={type:fe.Attribute,name:x,action:N,value:I,namespace:v,ignoreCase:M};r.push(U);break}case 58:{if(t.charCodeAt(n+1)===58){r.push({type:fe.PseudoElement,name:a(2).toLowerCase(),data:t.charCodeAt(n)===40?l():null});continue}const x=a(1).toLowerCase();let v=null;if(t.charCodeAt(n)===40)if(e3.has(x)){if(uf(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${x} cannot be quoted`);if(v=[],n=hb(v,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${x} (${t})`);n+=1}else{if(v=l(),t3.has(x)){const N=v.charCodeAt(0);N===v.charCodeAt(v.length-1)&&uf(N)&&(v=v.slice(1,-1))}v=za(v)}r.push({type:fe.Pseudo,name:x,data:v});break}case 44:{y(),r=[],u(1);break}default:{if(t.startsWith("/*",n)){const N=t.indexOf("*/",n+2);if(N<0)throw new Error("Comment was not terminated");n=N+2,r.length===0&&u(0);break}let x=null,v;if(_===42)n+=1,v="*";else if(_===124){if(v="",t.charCodeAt(n+1)===124){h(fe.ColumnCombinator),u(2);break}}else if(Hg.test(t.slice(n)))v=a(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(x=v,t.charCodeAt(n+1)===42?(v="*",n+=2):v=a(1)),r.push(v==="*"?{type:fe.Universal,namespace:x}:{type:fe.Tag,name:v,namespace:x})}}}return y(),n}var of,zg;function r3(){return zg||(zg=1,of={trueFunc:function(){return!0},falseFunc:function(){return!1}}),of}var Cl=r3();const Ae=rh(Cl),pb=new Map([[fe.Universal,50],[fe.Tag,30],[fe.Attribute,1],[fe.Pseudo,0]]);function Mh(e){return!pb.has(e.type)}const s3=new Map([[mt.Exists,10],[mt.Equals,8],[mt.Not,7],[mt.Start,6],[mt.End,6],[mt.Any,5]]);function i3(e){const t=e.map(mb);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let a=n-1;a>=0&&r<t[a];a--){const u=e[a+1];e[a+1]=e[a],e[a]=u,t[a+1]=t[a],t[a]=r}}}function mb(e){var t,n;let r=(t=pb.get(e.type))!==null&&t!==void 0?t:-1;return e.type===fe.Attribute?(r=(n=s3.get(e.action))!==null&&n!==void 0?n:4,e.action===mt.Equals&&e.name==="id"&&(r=9),e.ignoreCase&&(r>>=1)):e.type===fe.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map(a=>Math.min(...a.map(mb)))),r<0&&(r=0)):r=2:r=3),r}const a3=/[-[\]{}()*+?.,\\^$|#\s]/g;function qg(e){return e.replace(a3,"\\$&")}const u3=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Rs(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&u3.has(e.name)}const o3={equals(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;return Rs(t,n)?(u=u.toLowerCase(),l=>{const c=r.getAttributeValue(l,a);return c!=null&&c.length===u.length&&c.toLowerCase()===u&&e(l)}):l=>r.getAttributeValue(l,a)===u&&e(l)},hyphen(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=u.length;return Rs(t,n)?(u=u.toLowerCase(),function(f){const h=r.getAttributeValue(f,a);return h!=null&&(h.length===l||h.charAt(l)==="-")&&h.substr(0,l).toLowerCase()===u&&e(f)}):function(f){const h=r.getAttributeValue(f,a);return h!=null&&(h.length===l||h.charAt(l)==="-")&&h.substr(0,l)===u&&e(f)}},element(e,t,n){const{adapter:r}=n,{name:a,value:u}=t;if(/\s/.test(u))return Ae.falseFunc;const l=new RegExp(`(?:^|\\s)${qg(u)}(?:$|\\s)`,Rs(t,n)?"i":"");return function(f){const h=r.getAttributeValue(f,a);return h!=null&&h.length>=u.length&&l.test(h)&&e(f)}},exists(e,{name:t},{adapter:n}){return r=>n.hasAttrib(r,t)&&e(r)},start(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=u.length;return l===0?Ae.falseFunc:Rs(t,n)?(u=u.toLowerCase(),c=>{const f=r.getAttributeValue(c,a);return f!=null&&f.length>=l&&f.substr(0,l).toLowerCase()===u&&e(c)}):c=>{var f;return!!(!((f=r.getAttributeValue(c,a))===null||f===void 0)&&f.startsWith(u))&&e(c)}},end(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;const l=-u.length;return l===0?Ae.falseFunc:Rs(t,n)?(u=u.toLowerCase(),c=>{var f;return((f=r.getAttributeValue(c,a))===null||f===void 0?void 0:f.substr(l).toLowerCase())===u&&e(c)}):c=>{var f;return!!(!((f=r.getAttributeValue(c,a))===null||f===void 0)&&f.endsWith(u))&&e(c)}},any(e,t,n){const{adapter:r}=n,{name:a,value:u}=t;if(u==="")return Ae.falseFunc;if(Rs(t,n)){const l=new RegExp(qg(u),"i");return function(f){const h=r.getAttributeValue(f,a);return h!=null&&h.length>=u.length&&l.test(h)&&e(f)}}return l=>{var c;return!!(!((c=r.getAttributeValue(l,a))===null||c===void 0)&&c.includes(u))&&e(l)}},not(e,t,n){const{adapter:r}=n,{name:a}=t;let{value:u}=t;return u===""?l=>!!r.getAttributeValue(l,a)&&e(l):Rs(t,n)?(u=u.toLowerCase(),l=>{const c=r.getAttributeValue(l,a);return(c==null||c.length!==u.length||c.toLowerCase()!==u)&&e(l)}):l=>r.getAttributeValue(l,a)!==u&&e(l)}},l3=new Set([9,10,12,13,32]),Wg=48,c3=57;function d3(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,r=u(),a=l();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=r*(a??1),c(),t<e.length?(r=u(),c(),a=l()):r=a=0),a===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*a];function u(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function l(){const f=t;let h=0;for(;t<e.length&&e.charCodeAt(t)>=Wg&&e.charCodeAt(t)<=c3;)h=h*10+(e.charCodeAt(t)-Wg),t++;return t===f?null:h}function c(){for(;t<e.length&&l3.has(e.charCodeAt(t));)t++}}function f3(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return Ae.falseFunc;if(t===-1)return u=>u<=n;if(t===0)return u=>u===n;if(t===1)return n<0?Ae.trueFunc:u=>u>=n;const r=Math.abs(t),a=(n%r+r)%r;return t>1?u=>u>=n&&u%r===a:u=>u<=n&&u%r===a}function rl(e){return f3(d3(e))}function sl(e,t){return n=>{const r=t.getParent(n);return r!=null&&t.isTag(r)&&e(n)}}const zf={contains(e,t,{adapter:n}){return function(a){return e(a)&&n.getText(a).includes(t)}},icontains(e,t,{adapter:n}){const r=t.toLowerCase();return function(u){return e(u)&&n.getText(u).toLowerCase().includes(r)}},"nth-child"(e,t,{adapter:n,equals:r}){const a=rl(t);return a===Ae.falseFunc?Ae.falseFunc:a===Ae.trueFunc?sl(e,n):function(l){const c=n.getSiblings(l);let f=0;for(let h=0;h<c.length&&!r(l,c[h]);h++)n.isTag(c[h])&&f++;return a(f)&&e(l)}},"nth-last-child"(e,t,{adapter:n,equals:r}){const a=rl(t);return a===Ae.falseFunc?Ae.falseFunc:a===Ae.trueFunc?sl(e,n):function(l){const c=n.getSiblings(l);let f=0;for(let h=c.length-1;h>=0&&!r(l,c[h]);h--)n.isTag(c[h])&&f++;return a(f)&&e(l)}},"nth-of-type"(e,t,{adapter:n,equals:r}){const a=rl(t);return a===Ae.falseFunc?Ae.falseFunc:a===Ae.trueFunc?sl(e,n):function(l){const c=n.getSiblings(l);let f=0;for(let h=0;h<c.length;h++){const g=c[h];if(r(l,g))break;n.isTag(g)&&n.getName(g)===n.getName(l)&&f++}return a(f)&&e(l)}},"nth-last-of-type"(e,t,{adapter:n,equals:r}){const a=rl(t);return a===Ae.falseFunc?Ae.falseFunc:a===Ae.trueFunc?sl(e,n):function(l){const c=n.getSiblings(l);let f=0;for(let h=c.length-1;h>=0;h--){const g=c[h];if(r(l,g))break;n.isTag(g)&&n.getName(g)===n.getName(l)&&f++}return a(f)&&e(l)}},root(e,t,{adapter:n}){return r=>{const a=n.getParent(r);return(a==null||!n.isTag(a))&&e(r)}},scope(e,t,n,r){const{equals:a}=n;return!r||r.length===0?zf.root(e,t,n):r.length===1?u=>a(r[0],u)&&e(u):u=>r.includes(u)&&e(u)},hover:lf("isHovered"),visited:lf("isVisited"),active:lf("isActive")};function lf(e){return function(n,r,{adapter:a}){const u=a[e];return typeof u!="function"?Ae.falseFunc:function(c){return u(c)&&n(c)}}}const Yg={empty(e,{adapter:t}){return!t.getChildren(e).some(n=>t.isTag(n)||t.getText(n)!=="")},"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const r=t.getSiblings(e).find(a=>t.isTag(a));return r!=null&&n(e,r)},"last-child"(e,{adapter:t,equals:n}){const r=t.getSiblings(e);for(let a=r.length-1;a>=0;a--){if(n(e,r[a]))return!0;if(t.isTag(r[a]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),a=t.getName(e);for(let u=0;u<r.length;u++){const l=r[u];if(n(e,l))return!0;if(t.isTag(l)&&t.getName(l)===a)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),a=t.getName(e);for(let u=r.length-1;u>=0;u--){const l=r[u];if(n(e,l))return!0;if(t.isTag(l)&&t.getName(l)===a)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const r=t.getName(e);return t.getSiblings(e).every(a=>n(e,a)||!t.isTag(a)||t.getName(a)!==r)},"only-child"(e,{adapter:t,equals:n}){return t.getSiblings(e).every(r=>n(e,r)||!t.isTag(r))}};function Vg(e,t,n,r){if(n===null){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const h3={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},gb={};function p3(e,t){return e===Ae.falseFunc?Ae.falseFunc:n=>t.isTag(n)&&e(n)}function Eb(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function qf(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const cf=(e,t,n,r,a)=>{const u=a(t,qf(n),r);return u===Ae.trueFunc?e:u===Ae.falseFunc?Ae.falseFunc:l=>u(l)&&e(l)},df={is:cf,matches:cf,where:cf,not(e,t,n,r,a){const u=a(t,qf(n),r);return u===Ae.falseFunc?e:u===Ae.trueFunc?Ae.falseFunc:l=>!u(l)&&e(l)},has(e,t,n,r,a){const{adapter:u}=n,l=qf(n);l.relativeSelector=!0;const c=t.some(g=>g.some(Mh))?[gb]:void 0,f=a(t,l,c);if(f===Ae.falseFunc)return Ae.falseFunc;const h=p3(f,u);if(c&&f!==Ae.trueFunc){const{shouldTestNextSiblings:g=!1}=f;return y=>{if(!e(y))return!1;c[0]=y;const _=u.getChildren(y),x=g?[..._,...Eb(y,u)]:_;return u.existsOne(h,x)}}return g=>e(g)&&u.existsOne(h,u.getChildren(g))}};function m3(e,t,n,r,a){var u;const{name:l,data:c}=t;if(Array.isArray(c)){if(!(l in df))throw new Error(`Unknown pseudo-class :${l}(${c})`);return df[l](e,c,n,r,a)}const f=(u=n.pseudos)===null||u===void 0?void 0:u[l],h=typeof f=="string"?f:h3[l];if(typeof h=="string"){if(c!=null)throw new Error(`Pseudo ${l} doesn't have any arguments`);const g=Zl(h);return df.is(e,g,n,r,a)}if(typeof f=="function")return Vg(f,l,c,1),g=>f(g,c)&&e(g);if(l in zf)return zf[l](e,c,n,r);if(l in Yg){const g=Yg[l];return Vg(g,l,c,2),y=>g(y,n,c)&&e(y)}throw new Error(`Unknown pseudo-class :${l}`)}function ff(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function g3(e,t,n,r,a){const{adapter:u,equals:l}=n;switch(t.type){case fe.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case fe.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case fe.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),o3[t.action](e,t,n)}case fe.Pseudo:return m3(e,t,n,r,a);case fe.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:c}=t;return(!n.xmlMode||n.lowerCaseTags)&&(c=c.toLowerCase()),function(h){return u.getName(h)===c&&e(h)}}case fe.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(h){let g=h;for(;g=ff(g,u);)if(e(g))return!0;return!1};const c=new WeakSet;return function(h){let g=h;for(;g=ff(g,u);)if(!c.has(g)){if(u.isTag(g)&&e(g))return!0;c.add(g)}return!1}}case"_flexibleDescendant":return function(f){let h=f;do if(e(h))return!0;while(h=ff(h,u));return!1};case fe.Parent:return function(f){return u.getChildren(f).some(h=>u.isTag(h)&&e(h))};case fe.Child:return function(f){const h=u.getParent(f);return h!=null&&u.isTag(h)&&e(h)};case fe.Sibling:return function(f){const h=u.getSiblings(f);for(let g=0;g<h.length;g++){const y=h[g];if(l(f,y))break;if(u.isTag(y)&&e(y))return!0}return!1};case fe.Adjacent:return u.prevElementSibling?function(f){const h=u.prevElementSibling(f);return h!=null&&e(h)}:function(f){const h=u.getSiblings(f);let g;for(let y=0;y<h.length;y++){const _=h[y];if(l(f,_))break;u.isTag(_)&&(g=_)}return!!g&&e(g)};case fe.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function bb(e){return e.type===fe.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(bb)))}const E3={type:fe.Descendant},b3={type:"_flexibleDescendant"},y3={type:fe.Pseudo,name:"scope",data:null};function T3(e,{adapter:t},n){const r=!!n?.every(a=>{const u=t.isTag(a)&&t.getParent(a);return a===gb||u&&t.isTag(u)});for(const a of e){if(!(a.length>0&&Mh(a[0])&&a[0].type!==fe.Descendant))if(r&&!a.some(bb))a.unshift(E3);else continue;a.unshift(y3)}}function yb(e,t,n){var r;e.forEach(i3),n=(r=t.context)!==null&&r!==void 0?r:n;const a=Array.isArray(n),u=n&&(Array.isArray(n)?n:[n]);if(t.relativeSelector!==!1)T3(e,t,u);else if(e.some(f=>f.length>0&&Mh(f[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let l=!1;const c=e.map(f=>{if(f.length>=2){const[h,g]=f;h.type!==fe.Pseudo||h.name!=="scope"||(a&&g.type===fe.Descendant?f[1]=b3:(g.type===fe.Adjacent||g.type===fe.Sibling)&&(l=!0))}return _3(f,t,u)}).reduce(w3,Ae.falseFunc);return c.shouldTestNextSiblings=l,c}function _3(e,t,n){var r;return e.reduce((a,u)=>a===Ae.falseFunc?Ae.falseFunc:g3(a,u,t,n,yb),(r=t.rootFunc)!==null&&r!==void 0?r:Ae.trueFunc)}function w3(e,t){return t===Ae.falseFunc||e===Ae.trueFunc?e:e===Ae.falseFunc||t===Ae.trueFunc?t:function(r){return e(r)||t(r)}}const Tb=(e,t)=>e===t,x3={adapter:Jl,equals:Tb};function v3(e){var t,n,r,a;const u=e??x3;return(t=u.adapter)!==null&&t!==void 0||(u.adapter=Jl),(n=u.equals)!==null&&n!==void 0||(u.equals=(a=(r=u.adapter)===null||r===void 0?void 0:r.equals)!==null&&a!==void 0?a:Tb),u}function S3(e){return function(n,r,a){const u=v3(r);return e(n,u,a)}}const Fh=S3(yb);function _b(e,t,n=!1){return n&&(e=C3(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function C3(e,t){const n=Array.isArray(e)?e.slice(0):[e],r=n.length;for(let a=0;a<r;a++){const u=Eb(n[a],t);n.push(...u)}return n}const A3=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function Al(e){return e.type!=="pseudo"?!1:A3.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(Al)):!1}function N3(e,t,n){const r=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function k3(e){for(;e.parent;)e=e.parent;return e}function Bh(e){const t=[],n=[];for(const r of e)r.some(Al)?t.push(r):n.push(r);return[n,t]}const R3={type:fe.Universal,namespace:null},I3={type:fe.Pseudo,name:"scope",data:null};function wb(e,t,n={}){return xb([e],t,n)}function xb(e,t,n={}){if(typeof t=="function")return e.some(t);const[r,a]=Bh(Zl(t));return r.length>0&&e.some(Fh(r,n))||a.some(u=>Cb(u,e,n).length>0)}function O3(e,t,n,r){const a=typeof n=="string"?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(a)&&Math.abs(a)<t.length?[a<0?t[t.length+a]:t[a]]:[];case"gt":return isFinite(a)?t.slice(a+1):[];case"even":return t.filter((u,l)=>l%2===0);case"odd":return t.filter((u,l)=>l%2===1);case"not":{const u=new Set(Sb(n,t,r));return t.filter(l=>!u.has(l))}}}function vb(e,t,n={}){return Sb(Zl(e),t,n)}function Sb(e,t,n){if(t.length===0)return[];const[r,a]=Bh(e);let u;if(r.length){const l=Yf(t,r,n);if(a.length===0)return l;l.length&&(u=new Set(l))}for(let l=0;l<a.length&&u?.size!==t.length;l++){const c=a[l];if((u?t.filter(g=>ge(g)&&!u.has(g)):t).length===0)break;const h=Cb(c,t,n);if(h.length)if(u)h.forEach(g=>u.add(g));else{if(l===a.length-1)return h;u=new Set(h)}}return typeof u<"u"?u.size===t.length?t:t.filter(l=>u.has(l)):[]}function Cb(e,t,n){var r;if(e.some(eu)){const a=(r=n.root)!==null&&r!==void 0?r:k3(t[0]),u={...n,context:t,relativeSelector:!1};return e.push(I3),Nl(a,e,u,!0,t.length)}return Nl(t,e,n,!1,t.length)}function L3(e,t,n={},r=1/0){if(typeof e=="function")return Ab(t,e);const[a,u]=Bh(Zl(e)),l=u.map(c=>Nl(t,c,n,!0,r));return a.length&&l.push(Wf(t,a,n,r)),l.length===0?[]:l.length===1?l[0]:Ui(l.reduce((c,f)=>[...c,...f]))}function Nl(e,t,n,r,a){const u=t.findIndex(Al),l=t.slice(0,u),c=t[u],f=t.length-1===u?a:1/0,h=N3(c.name,c.data,f);if(h===0)return[];const y=(l.length===0&&!Array.isArray(e)?Xl(e).filter(ge):l.length===0?(Array.isArray(e)?e:[e]).filter(ge):r||l.some(eu)?Wf(e,[l],n,h):Yf(e,[l],n)).slice(0,h);let _=O3(c.name,y,c.data,n);if(_.length===0||t.length===u+1)return _;const x=t.slice(u+1),v=x.some(eu);if(v){if(eu(x[0])){const{type:N}=x[0];(N===fe.Sibling||N===fe.Adjacent)&&(_=_b(_,Jl,!0)),x.unshift(R3)}n={...n,relativeSelector:!1,rootFunc:N=>_.includes(N)}}else n.rootFunc&&n.rootFunc!==Cl.trueFunc&&(n={...n,rootFunc:Cl.trueFunc});return x.some(Al)?Nl(_,x,n,!1,a):v?Wf(_,[x],n,a):Yf(_,[x],n)}function Wf(e,t,n,r){const a=Fh(t,n,e);return Ab(e,a,r)}function Ab(e,t,n=1/0){const r=_b(e,Jl,t.shouldTestNextSiblings);return Oh(a=>ge(a)&&t(a),r,!0,n)}function Yf(e,t,n){const r=(Array.isArray(e)?e:[e]).filter(ge);if(r.length===0)return r;const a=Fh(t,n);return a===Cl.trueFunc?r:r.filter(a)}const D3=/^\s*[+~]/;function P3(e){if(!e)return this._make([]);if(typeof e!="string"){const t=Rr(e)?e.toArray():[e],n=this.toArray();return this._make(t.filter(r=>n.some(a=>ub(a,r))))}return this._findBySelector(e,Number.POSITIVE_INFINITY)}function M3(e,t){var n;const r=this.toArray(),a=D3.test(e)?r:this.children().toArray(),u={context:r,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(L3(e,a,u,t))}function Uh(e){return function(t,...n){return function(r){var a;let u=e(t,this);return r&&(u=$h(u,r,this.options.xmlMode,(a=this._root)===null||a===void 0?void 0:a[0])),this._make(this.length>1&&u.length>1?n.reduce((l,c)=>c(l),u):u)}}}const ku=Uh((e,t)=>{let n=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a.length>0&&(n=n.concat(a))}return n}),jh=Uh((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a!==null&&n.push(a)}return n});function Hh(e,...t){let n=null;const r=Uh((a,u)=>{const l=[];return nt(u,c=>{for(let f;(f=a(c))&&!n?.(f,l.length);c=f)l.push(f)}),l})(e,...t);return function(a,u){n=typeof a=="string"?c=>wb(c,a,this.options):a?Ru(a):null;const l=r.call(this,u);return n=null,l}}function ji(e){return e.length>1?Array.from(new Set(e)):e}const F3=jh(({parent:e})=>e&&!fs(e)?e:null,ji),B3=ku(e=>{const t=[];for(;e.parent&&!fs(e.parent);)t.push(e.parent),e=e.parent;return t},Ui,e=>e.reverse()),U3=Hh(({parent:e})=>e&&!fs(e)?e:null,Ui,e=>e.reverse());function j3(e){var t;const n=[];if(!e)return this._make(n);const r={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},a=typeof e=="string"?u=>wb(u,e,r):Ru(e);return nt(this,u=>{for(u&&!fs(u)&&!ge(u)&&(u=u.parent);u&&ge(u);){if(a(u,0)){n.includes(u)||n.push(u);break}u=u.parent}}),this._make(n)}const H3=jh(e=>Rh(e)),$3=ku(e=>{const t=[];for(;e.next;)e=e.next,ge(e)&&t.push(e);return t},ji),z3=Hh(e=>Rh(e),ji),q3=jh(e=>Ih(e)),W3=ku(e=>{const t=[];for(;e.prev;)e=e.prev,ge(e)&&t.push(e);return t},ji),Y3=Hh(e=>Ih(e),ji),V3=ku(e=>tb(e).filter(t=>ge(t)&&t!==e),Ui),G3=ku(e=>Xl(e).filter(ge),ji);function Q3(){const e=this.toArray().reduce((t,n)=>ot(n)?t.concat(n.children):t,[]);return this._make(e)}function K3(e){let t=0;const n=this.length;for(;t<n&&e.call(this[t],t,this[t])!==!1;)++t;return this}function X3(e){let t=[];for(let n=0;n<this.length;n++){const r=this[n],a=e.call(r,n,r);a!=null&&(t=t.concat(a))}return this._make(t)}function Ru(e){return typeof e=="function"?(t,n)=>e.call(t,n,t):Rr(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function J3(e){var t;return this._make($h(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function $h(e,t,n,r){return typeof t=="string"?vb(t,e,{xmlMode:n,root:r}):e.filter(Ru(t))}function Z3(e){const t=this.toArray();return typeof e=="string"?xb(t.filter(ge),e,this.options):e?t.some(Ru(e)):!1}function eN(e){let t=this.toArray();if(typeof e=="string"){const n=new Set(vb(e,t,this.options));t=t.filter(r=>!n.has(r))}else{const n=Ru(e);t=t.filter((r,a)=>!n(r,a))}return this._make(t)}function tN(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,n)=>this._make(n).find(e).length>0)}function nN(){return this.length>1?this._make(this[0]):this}function rN(){return this.length>0?this._make(this[this.length-1]):this}function sN(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function iN(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function aN(){return Array.prototype.slice.call(this)}function uN(e){let t,n;return e==null?(t=this.parent().children(),n=this[0]):typeof e=="string"?(t=this._make(e),n=this[0]):(t=this,n=Rr(e)?e[0]:e),Array.prototype.indexOf.call(t,n)}function oN(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function lN(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function cN(e,t){const n=this._make(e,t),r=Ui([...this.get(),...n.get()]);return this._make(r)}function dN(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}const fN=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:M3,add:cN,addBack:dN,children:G3,closest:j3,contents:Q3,each:K3,end:lN,eq:sN,filter:J3,filterArray:$h,find:P3,first:nN,get:iN,has:tN,index:uN,is:Z3,last:rN,map:X3,next:H3,nextAll:$3,nextUntil:z3,not:eN,parent:F3,parents:B3,parentsUntil:U3,prev:q3,prevAll:W3,prevUntil:Y3,siblings:V3,slice:oN,toArray:aN},Symbol.toStringTag,{value:"Module"}));function hN(e){return function(n,r,a,u){if(typeof Buffer<"u"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return e(n,r,a,u);const l=n;if(!Array.isArray(l)&&fs(l))return l;const c=new js([]);return Hs(l,c),c}}function Hs(e,t){const n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(let r=0;r<n.length;r++){const a=n[r];a.parent&&a.parent.children!==n&&Ws(a),t?(a.prev=n[r-1]||null,a.next=n[r+1]||null):a.prev=a.next=null,a.parent=t}return t}function pN(e,t){if(e==null)return[];if(typeof e=="string")return this._parse(e,this.options,!1,null).children.slice(0);if("length"in e){if(e.length===1)return this._makeDomArray(e[0],t);const n=[];for(let r=0;r<e.length;r++){const a=e[r];if(typeof a=="object"){if(a==null)continue;if(!("length"in a)){n.push(t?mu(a,!0):a);continue}}n.push(...this._makeDomArray(a,t))}return n}return[t?mu(e,!0):e]}function Nb(e){return function(...t){const n=this.length-1;return nt(this,(r,a)=>{if(!ot(r))return;const u=typeof t[0]=="function"?t[0].call(r,a,this._render(r.children)):t,l=this._makeDomArray(u,a<n);e(l,r.children,r)})}}function hs(e,t,n,r,a){var u,l;const c=[t,n,...r],f=t===0?null:e[t-1],h=t+n>=e.length?null:e[t+n];for(let g=0;g<r.length;++g){const y=r[g],_=y.parent;if(_){const v=_.children.indexOf(y);v>-1&&(_.children.splice(v,1),a===_&&t>v&&c[0]--)}y.parent=a,y.prev&&(y.prev.next=(u=y.next)!==null&&u!==void 0?u:null),y.next&&(y.next.prev=(l=y.prev)!==null&&l!==void 0?l:null),y.prev=g===0?f:r[g-1],y.next=g===r.length-1?h:r[g+1]}return f&&(f.next=r[0]),h&&(h.prev=r[r.length-1]),e.splice(...c)}function mN(e){return(Rr(e)?e:this._make(e)).append(this),this}function gN(e){return(Rr(e)?e:this._make(e)).prepend(this),this}const EN=Nb((e,t,n)=>{hs(t,t.length,0,e,n)}),bN=Nb((e,t,n)=>{hs(t,0,0,e,n)});function kb(e){return function(t){const n=this.length-1,r=this.parents().last();for(let a=0;a<this.length;a++){const u=this[a],l=typeof t=="function"?t.call(u,a,u):typeof t=="string"&&!Hf(t)?r.find(t).clone():t,[c]=this._makeDomArray(l,a<n);if(!c||!ot(c))continue;let f=c,h=0;for(;h<f.children.length;){const g=f.children[h];ge(g)?(f=g,h=0):h++}e(u,f,[c])}return this}}const yN=kb((e,t,n)=>{const{parent:r}=e;if(!r)return;const a=r.children,u=a.indexOf(e);Hs([e],t),hs(a,u,0,n,r)}),TN=kb((e,t,n)=>{ot(e)&&(Hs(e.children,t),Hs(n,e))});function _N(e){return this.parent(e).not("body").each((t,n)=>{this._make(n).replaceWith(n.children)}),this}function wN(e){const t=this[0];if(t){const n=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t);let r;for(let u=0;u<n.length;u++)n[u].type==="tag"&&(r=n[u]);let a=0;for(;r&&a<r.children.length;){const u=r.children[a];u.type==="tag"?(r=u,a=0):a++}r&&this._make(r).append(this)}return this}function xN(...e){const t=this.length-1;return nt(this,(n,r)=>{if(!ot(n)||!n.parent)return;const a=n.parent.children,u=a.indexOf(n);if(u<0)return;const l=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,c=this._makeDomArray(l,r<t);hs(a,u+1,0,c,n.parent)})}function vN(e){typeof e=="string"&&(e=this._make(e)),this.remove();const t=[];for(const n of this._makeDomArray(e)){const r=this.clone().toArray(),{parent:a}=n;if(!a)continue;const u=a.children,l=u.indexOf(n);l<0||(hs(u,l+1,0,r,a),t.push(...r))}return this._make(t)}function SN(...e){const t=this.length-1;return nt(this,(n,r)=>{if(!ot(n)||!n.parent)return;const a=n.parent.children,u=a.indexOf(n);if(u<0)return;const l=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,c=this._makeDomArray(l,r<t);hs(a,u,0,c,n.parent)})}function CN(e){const t=this._make(e);this.remove();const n=[];return nt(t,r=>{const a=this.clone().toArray(),{parent:u}=r;if(!u)return;const l=u.children,c=l.indexOf(r);c<0||(hs(l,c,0,a,u),n.push(...a))}),this._make(n)}function AN(e){const t=e?this.filter(e):this;return nt(t,n=>{Ws(n),n.prev=n.next=n.parent=null}),this}function NN(e){return nt(this,(t,n)=>{const{parent:r}=t;if(!r)return;const a=r.children,u=typeof e=="function"?e.call(t,n,t):e,l=this._makeDomArray(u);Hs(l,null);const c=a.indexOf(t);hs(a,c,1,l,r),l.includes(t)||(t.parent=t.prev=t.next=null)})}function kN(){return nt(this,e=>{if(ot(e)){for(const t of e.children)t.next=t.prev=t.parent=null;e.children.length=0}})}function RN(e){if(e===void 0){const t=this[0];return!t||!ot(t)?null:this._render(t.children)}return nt(this,t=>{if(!ot(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=Rr(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;Hs(n,t)})}function IN(){return this._render(this)}function ON(e){return e===void 0?gu(this):typeof e=="function"?nt(this,(t,n)=>this._make(t).text(e.call(t,n,gu([t])))):nt(this,t=>{if(!ot(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=new pu(`${e}`);Hs(n,t)})}function LN(){const e=Array.prototype.map.call(this.get(),n=>mu(n,!0)),t=new js(e);for(const n of e)n.parent=t;return this._make(e)}const DN=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:pN,after:xN,append:EN,appendTo:mN,before:SN,clone:LN,empty:kN,html:RN,insertAfter:vN,insertBefore:CN,prepend:bN,prependTo:gN,remove:AN,replaceWith:NN,text:ON,toString:IN,unwrap:_N,wrap:yN,wrapAll:wN,wrapInner:TN},Symbol.toStringTag,{value:"Module"}));function PN(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return nt(this,(n,r)=>{ge(n)&&Rb(n,e,t,r)});if(this.length!==0)return Ib(this[0],e)}function Rb(e,t,n,r){if(typeof t=="string"){const a=Ib(e),u=typeof n=="function"?n.call(e,r,a[t]):n;u===""?delete a[t]:u!=null&&(a[t]=u),e.attribs.style=MN(a)}else if(typeof t=="object"){const a=Object.keys(t);for(let u=0;u<a.length;u++){const l=a[u];Rb(e,l,t[l],u)}}}function Ib(e,t){if(!e||!ge(e))return;const n=FN(e.attribs.style);if(typeof t=="string")return n[t];if(Array.isArray(t)){const r={};for(const a of t)n[a]!=null&&(r[a]=n[a]);return r}return n}function MN(e){return Object.keys(e).reduce((t,n)=>`${t}${t?" ":""}${n}: ${e[n]};`,"")}function FN(e){if(e=(e||"").trim(),!e)return{};const t={};let n;for(const r of e.split(";")){const a=r.indexOf(":");if(a<1||a===r.length-1){const u=r.trimEnd();u.length>0&&n!==void 0&&(t[n]+=`;${u}`)}else n=r.slice(0,a).trim(),t[n]=r.slice(a+1).trim()}return t}const BN=Object.freeze(Object.defineProperty({__proto__:null,css:PN},Symbol.toStringTag,{value:"Module"})),Gg="input,select,textarea,keygen",UN=/%20/g,Qg=/\r?\n/g;function jN(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(UN,"+")}function HN(){return this.map((e,t)=>{const n=this._make(t);return ge(t)&&t.name==="form"?n.find(Gg).toArray():n.filter(Gg).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var n;const r=this._make(t),a=r.attr("name"),u=(n=r.val())!==null&&n!==void 0?n:"";return Array.isArray(u)?u.map(l=>({name:a,value:l.replace(Qg,`\r
`)})):{name:a,value:u.replace(Qg,`\r
`)}}).toArray()}const $N=Object.freeze(Object.defineProperty({__proto__:null,serialize:jN,serializeArray:HN},Symbol.toStringTag,{value:"Module"}));function zN(e){var t;return typeof e=="string"?{selector:e,value:"textContent"}:{selector:e.selector,value:(t=e.value)!==null&&t!==void 0?t:"textContent"}}function qN(e){const t={};for(const n in e){const r=e[n],a=Array.isArray(r),{selector:u,value:l}=zN(a?r[0]:r),c=typeof l=="function"?l:typeof l=="string"?f=>this._make(f).prop(l):f=>this._make(f).extract(l);if(a)t[n]=this._findBySelector(u,Number.POSITIVE_INFINITY).map((f,h)=>c(h,n,t)).get();else{const f=this._findBySelector(u,1);t[n]=f.length>0?c(f[0],n,t):void 0}}return t}const WN=Object.freeze(Object.defineProperty({__proto__:null,extract:qN},Symbol.toStringTag,{value:"Module"}));class Iu{constructor(t,n,r){if(this.length=0,this.options=r,this._root=n,t){for(let a=0;a<t.length;a++)this[a]=t[a];this.length=t.length}}}Iu.prototype.cheerio="[cheerio object]";Iu.prototype.splice=Array.prototype.splice;Iu.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(Iu.prototype,XA,fN,DN,BN,$N,WN);function YN(e,t){return function n(r,a,u=!0){if(r==null)throw new Error("cheerio.load() expects a string");const l=jf(a),c=e(r,l,u,null);class f extends Iu{_make(y,_){const x=h(y,_);return x.prevObject=this,x}_parse(y,_,x,v){return e(y,_,x,v)}_render(y){return t(y,this.options)}}function h(g,y,_=c,x){if(g&&Rr(g))return g;const v=jf(x,l),N=typeof _=="string"?[e(_,v,!1,null)]:"length"in _?_:[_],C=Rr(N)?N:new f(N,null,v);if(C._root=C,!g)return new f(void 0,C,v);const I=typeof g=="string"&&Hf(g)?e(g,v,!1,null).children:VN(g)?[g]:Array.isArray(g)?g:void 0,M=new f(I,C,v);if(I)return M;if(typeof g!="string")throw new TypeError("Unexpected type of selector");let U=g;const O=y?typeof y=="string"?Hf(y)?new f([e(y,v,!1,null)],C,v):(U=`${y} ${U}`,C):Rr(y)?y:new f(Array.isArray(y)?y:[y],C,v):C;return O?O.find(U):M}return Object.assign(h,UA,{load:n,_root:c,_options:l,fn:f.prototype,prototype:f.prototype}),h}}function VN(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}const GN=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qe="";var S;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(S||(S={}));const en={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Ob(e){return e>=55296&&e<=57343}function QN(e){return e>=56320&&e<=57343}function KN(e,t){return(e-55296)*1024+9216+t}function Lb(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Db(e){return e>=64976&&e<=65007||GN.has(e)}var $;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})($||($={}));const XN=65536;class JN{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=XN,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:a,offset:u}=this,l=a+n,c=u+n;return{code:t,startLine:r,endLine:r,startCol:l,endCol:l,startOffset:c,endOffset:c}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(QN(n))return this.pos++,this._addGap(),KN(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,S.EOF;return this._err($.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,S.EOF;const r=this.html.charCodeAt(n);return r===S.CARRIAGE_RETURN?S.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,S.EOF;let t=this.html.charCodeAt(this.pos);return t===S.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,S.LINE_FEED):t===S.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Ob(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===S.LINE_FEED||t===S.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Lb(t)?this._err($.controlCharacterInInputStream):Db(t)&&this._err($.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Pe;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Pe||(Pe={}));function Pb(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}var Y;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Y||(Y={}));var Fs;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Fs||(Fs={}));var bn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(bn||(bn={}));var F;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(F||(F={}));var p;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(p||(p={}));const ZN=new Map([[F.A,p.A],[F.ADDRESS,p.ADDRESS],[F.ANNOTATION_XML,p.ANNOTATION_XML],[F.APPLET,p.APPLET],[F.AREA,p.AREA],[F.ARTICLE,p.ARTICLE],[F.ASIDE,p.ASIDE],[F.B,p.B],[F.BASE,p.BASE],[F.BASEFONT,p.BASEFONT],[F.BGSOUND,p.BGSOUND],[F.BIG,p.BIG],[F.BLOCKQUOTE,p.BLOCKQUOTE],[F.BODY,p.BODY],[F.BR,p.BR],[F.BUTTON,p.BUTTON],[F.CAPTION,p.CAPTION],[F.CENTER,p.CENTER],[F.CODE,p.CODE],[F.COL,p.COL],[F.COLGROUP,p.COLGROUP],[F.DD,p.DD],[F.DESC,p.DESC],[F.DETAILS,p.DETAILS],[F.DIALOG,p.DIALOG],[F.DIR,p.DIR],[F.DIV,p.DIV],[F.DL,p.DL],[F.DT,p.DT],[F.EM,p.EM],[F.EMBED,p.EMBED],[F.FIELDSET,p.FIELDSET],[F.FIGCAPTION,p.FIGCAPTION],[F.FIGURE,p.FIGURE],[F.FONT,p.FONT],[F.FOOTER,p.FOOTER],[F.FOREIGN_OBJECT,p.FOREIGN_OBJECT],[F.FORM,p.FORM],[F.FRAME,p.FRAME],[F.FRAMESET,p.FRAMESET],[F.H1,p.H1],[F.H2,p.H2],[F.H3,p.H3],[F.H4,p.H4],[F.H5,p.H5],[F.H6,p.H6],[F.HEAD,p.HEAD],[F.HEADER,p.HEADER],[F.HGROUP,p.HGROUP],[F.HR,p.HR],[F.HTML,p.HTML],[F.I,p.I],[F.IMG,p.IMG],[F.IMAGE,p.IMAGE],[F.INPUT,p.INPUT],[F.IFRAME,p.IFRAME],[F.KEYGEN,p.KEYGEN],[F.LABEL,p.LABEL],[F.LI,p.LI],[F.LINK,p.LINK],[F.LISTING,p.LISTING],[F.MAIN,p.MAIN],[F.MALIGNMARK,p.MALIGNMARK],[F.MARQUEE,p.MARQUEE],[F.MATH,p.MATH],[F.MENU,p.MENU],[F.META,p.META],[F.MGLYPH,p.MGLYPH],[F.MI,p.MI],[F.MO,p.MO],[F.MN,p.MN],[F.MS,p.MS],[F.MTEXT,p.MTEXT],[F.NAV,p.NAV],[F.NOBR,p.NOBR],[F.NOFRAMES,p.NOFRAMES],[F.NOEMBED,p.NOEMBED],[F.NOSCRIPT,p.NOSCRIPT],[F.OBJECT,p.OBJECT],[F.OL,p.OL],[F.OPTGROUP,p.OPTGROUP],[F.OPTION,p.OPTION],[F.P,p.P],[F.PARAM,p.PARAM],[F.PLAINTEXT,p.PLAINTEXT],[F.PRE,p.PRE],[F.RB,p.RB],[F.RP,p.RP],[F.RT,p.RT],[F.RTC,p.RTC],[F.RUBY,p.RUBY],[F.S,p.S],[F.SCRIPT,p.SCRIPT],[F.SEARCH,p.SEARCH],[F.SECTION,p.SECTION],[F.SELECT,p.SELECT],[F.SOURCE,p.SOURCE],[F.SMALL,p.SMALL],[F.SPAN,p.SPAN],[F.STRIKE,p.STRIKE],[F.STRONG,p.STRONG],[F.STYLE,p.STYLE],[F.SUB,p.SUB],[F.SUMMARY,p.SUMMARY],[F.SUP,p.SUP],[F.TABLE,p.TABLE],[F.TBODY,p.TBODY],[F.TEMPLATE,p.TEMPLATE],[F.TEXTAREA,p.TEXTAREA],[F.TFOOT,p.TFOOT],[F.TD,p.TD],[F.TH,p.TH],[F.THEAD,p.THEAD],[F.TITLE,p.TITLE],[F.TR,p.TR],[F.TRACK,p.TRACK],[F.TT,p.TT],[F.U,p.U],[F.UL,p.UL],[F.SVG,p.SVG],[F.VAR,p.VAR],[F.WBR,p.WBR],[F.XMP,p.XMP]]);function ec(e){var t;return(t=ZN.get(e))!==null&&t!==void 0?t:p.UNKNOWN}const X=p,ek={[Y.HTML]:new Set([X.ADDRESS,X.APPLET,X.AREA,X.ARTICLE,X.ASIDE,X.BASE,X.BASEFONT,X.BGSOUND,X.BLOCKQUOTE,X.BODY,X.BR,X.BUTTON,X.CAPTION,X.CENTER,X.COL,X.COLGROUP,X.DD,X.DETAILS,X.DIR,X.DIV,X.DL,X.DT,X.EMBED,X.FIELDSET,X.FIGCAPTION,X.FIGURE,X.FOOTER,X.FORM,X.FRAME,X.FRAMESET,X.H1,X.H2,X.H3,X.H4,X.H5,X.H6,X.HEAD,X.HEADER,X.HGROUP,X.HR,X.HTML,X.IFRAME,X.IMG,X.INPUT,X.LI,X.LINK,X.LISTING,X.MAIN,X.MARQUEE,X.MENU,X.META,X.NAV,X.NOEMBED,X.NOFRAMES,X.NOSCRIPT,X.OBJECT,X.OL,X.P,X.PARAM,X.PLAINTEXT,X.PRE,X.SCRIPT,X.SECTION,X.SELECT,X.SOURCE,X.STYLE,X.SUMMARY,X.TABLE,X.TBODY,X.TD,X.TEMPLATE,X.TEXTAREA,X.TFOOT,X.TH,X.THEAD,X.TITLE,X.TR,X.TRACK,X.UL,X.WBR,X.XMP]),[Y.MATHML]:new Set([X.MI,X.MO,X.MN,X.MS,X.MTEXT,X.ANNOTATION_XML]),[Y.SVG]:new Set([X.TITLE,X.FOREIGN_OBJECT,X.DESC]),[Y.XLINK]:new Set,[Y.XML]:new Set,[Y.XMLNS]:new Set},Vf=new Set([X.H1,X.H2,X.H3,X.H4,X.H5,X.H6]),tk=new Set([F.STYLE,F.SCRIPT,F.XMP,F.IFRAME,F.NOEMBED,F.NOFRAMES,F.PLAINTEXT]);function nk(e,t){return tk.has(e)||t&&e===F.NOSCRIPT}var A;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(A||(A={}));const rn={DATA:A.DATA,RCDATA:A.RCDATA,RAWTEXT:A.RAWTEXT,SCRIPT_DATA:A.SCRIPT_DATA,PLAINTEXT:A.PLAINTEXT,CDATA_SECTION:A.CDATA_SECTION};function rk(e){return e>=S.DIGIT_0&&e<=S.DIGIT_9}function Xa(e){return e>=S.LATIN_CAPITAL_A&&e<=S.LATIN_CAPITAL_Z}function sk(e){return e>=S.LATIN_SMALL_A&&e<=S.LATIN_SMALL_Z}function ns(e){return sk(e)||Xa(e)}function Kg(e){return ns(e)||rk(e)}function il(e){return e+32}function Mb(e){return e===S.SPACE||e===S.LINE_FEED||e===S.TABULATION||e===S.FORM_FEED}function Xg(e){return Mb(e)||e===S.SOLIDUS||e===S.GREATER_THAN_SIGN}function ik(e){return e===S.NULL?$.nullCharacterReference:e>1114111?$.characterReferenceOutsideUnicodeRange:Ob(e)?$.surrogateCharacterReference:Db(e)?$.noncharacterCharacterReference:Lb(e)||e===S.CARRIAGE_RETURN?$.controlCharacterReference:null}let ak=class{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=A.DATA,this.returnState=A.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new JN(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new kh(Nh,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err($.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err($.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=ik(r);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Pe.START_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Pe.END_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Pe.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Pe.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Pb(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err($.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ec(t.tagName),t.type===Pe.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err($.endTagWithAttributes),t.selfClosing&&this._err($.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Pe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Pe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Pe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Pe.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Mb(t)?Pe.WHITESPACE_CHARACTER:t===S.NULL?Pe.NULL_CHARACTER:Pe.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Pe.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=A.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?kn.Attribute:kn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===A.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===A.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===A.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case A.DATA:{this._stateData(t);break}case A.RCDATA:{this._stateRcdata(t);break}case A.RAWTEXT:{this._stateRawtext(t);break}case A.SCRIPT_DATA:{this._stateScriptData(t);break}case A.PLAINTEXT:{this._statePlaintext(t);break}case A.TAG_OPEN:{this._stateTagOpen(t);break}case A.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case A.TAG_NAME:{this._stateTagName(t);break}case A.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case A.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case A.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case A.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case A.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case A.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case A.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case A.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case A.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case A.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case A.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case A.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case A.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case A.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case A.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case A.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case A.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case A.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case A.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case A.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case A.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case A.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case A.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case A.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case A.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case A.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case A.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case A.BOGUS_COMMENT:{this._stateBogusComment(t);break}case A.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case A.COMMENT_START:{this._stateCommentStart(t);break}case A.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case A.COMMENT:{this._stateComment(t);break}case A.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case A.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case A.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case A.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case A.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case A.COMMENT_END:{this._stateCommentEnd(t);break}case A.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case A.DOCTYPE:{this._stateDoctype(t);break}case A.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case A.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case A.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case A.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case A.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case A.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case A.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case A.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case A.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case A.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case A.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case A.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case A.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case A.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case A.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case A.CDATA_SECTION:{this._stateCdataSection(t);break}case A.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case A.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case A.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case A.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case S.LESS_THAN_SIGN:{this.state=A.TAG_OPEN;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitCodePoint(t);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case S.AMPERSAND:{this._startCharacterReference();break}case S.LESS_THAN_SIGN:{this.state=A.RCDATA_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case S.LESS_THAN_SIGN:{this.state=A.RAWTEXT_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ns(t))this._createStartTagToken(),this.state=A.TAG_NAME,this._stateTagName(t);else switch(t){case S.EXCLAMATION_MARK:{this.state=A.MARKUP_DECLARATION_OPEN;break}case S.SOLIDUS:{this.state=A.END_TAG_OPEN;break}case S.QUESTION_MARK:{this._err($.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=A.BOGUS_COMMENT,this._stateBogusComment(t);break}case S.EOF:{this._err($.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err($.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=A.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ns(t))this._createEndTagToken(),this.state=A.TAG_NAME,this._stateTagName(t);else switch(t){case S.GREATER_THAN_SIGN:{this._err($.missingEndTagName),this.state=A.DATA;break}case S.EOF:{this._err($.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err($.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=A.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.BEFORE_ATTRIBUTE_NAME;break}case S.SOLIDUS:{this.state=A.SELF_CLOSING_START_TAG;break}case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentTagToken();break}case S.NULL:{this._err($.unexpectedNullCharacter),n.tagName+=Qe;break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Xa(t)?il(t):t)}}_stateRcdataLessThanSign(t){t===S.SOLIDUS?this.state=A.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=A.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ns(t)?(this.state=A.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=A.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=A.BEFORE_ATTRIBUTE_NAME,!1;case S.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=A.SELF_CLOSING_START_TAG,!1;case S.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=A.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=A.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===S.SOLIDUS?this.state=A.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=A.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ns(t)?(this.state=A.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=A.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=A.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case S.SOLIDUS:{this.state=A.SCRIPT_DATA_END_TAG_OPEN;break}case S.EXCLAMATION_MARK:{this.state=A.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=A.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ns(t)?(this.state=A.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=A.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=A.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===S.HYPHEN_MINUS?(this.state=A.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=A.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===S.HYPHEN_MINUS?(this.state=A.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=A.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case S.HYPHEN_MINUS:{this.state=A.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case S.HYPHEN_MINUS:{this.state=A.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=A.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=A.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case S.HYPHEN_MINUS:{this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.GREATER_THAN_SIGN:{this.state=A.SCRIPT_DATA,this._emitChars(">");break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=A.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=A.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===S.SOLIDUS?this.state=A.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ns(t)?(this._emitChars("<"),this.state=A.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=A.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ns(t)?(this.state=A.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=A.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=A.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(en.SCRIPT,!1)&&Xg(this.preprocessor.peek(en.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<en.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=A.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case S.HYPHEN_MINUS:{this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case S.HYPHEN_MINUS:{this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case S.HYPHEN_MINUS:{this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.GREATER_THAN_SIGN:{this.state=A.SCRIPT_DATA,this._emitChars(">");break}case S.NULL:{this._err($.unexpectedNullCharacter),this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case S.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===S.SOLIDUS?(this.state=A.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(en.SCRIPT,!1)&&Xg(this.preprocessor.peek(en.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<en.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=A.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=A.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.SOLIDUS:case S.GREATER_THAN_SIGN:case S.EOF:{this.state=A.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case S.EQUALS_SIGN:{this._err($.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=A.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=A.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:case S.SOLIDUS:case S.GREATER_THAN_SIGN:case S.EOF:{this._leaveAttrName(),this.state=A.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case S.EQUALS_SIGN:{this._leaveAttrName(),this.state=A.BEFORE_ATTRIBUTE_VALUE;break}case S.QUOTATION_MARK:case S.APOSTROPHE:case S.LESS_THAN_SIGN:{this._err($.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.name+=Qe;break}default:this.currentAttr.name+=String.fromCodePoint(Xa(t)?il(t):t)}}_stateAfterAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.SOLIDUS:{this.state=A.SELF_CLOSING_START_TAG;break}case S.EQUALS_SIGN:{this.state=A.BEFORE_ATTRIBUTE_VALUE;break}case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=A.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{this.state=A.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this.state=A.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingAttributeValue),this.state=A.DATA,this.emitCurrentTagToken();break}default:this.state=A.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case S.QUOTATION_MARK:{this.state=A.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case S.APOSTROPHE:{this.state=A.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this._leaveAttrValue(),this.state=A.BEFORE_ATTRIBUTE_NAME;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=A.DATA,this.emitCurrentTagToken();break}case S.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case S.QUOTATION_MARK:case S.APOSTROPHE:case S.LESS_THAN_SIGN:case S.EQUALS_SIGN:case S.GRAVE_ACCENT:{this._err($.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this._leaveAttrValue(),this.state=A.BEFORE_ATTRIBUTE_NAME;break}case S.SOLIDUS:{this._leaveAttrValue(),this.state=A.SELF_CLOSING_START_TAG;break}case S.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=A.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._err($.missingWhitespaceBetweenAttributes),this.state=A.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case S.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=A.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._err($.unexpectedSolidusInTag),this.state=A.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentComment(n);break}case S.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case S.NULL:{this._err($.unexpectedNullCharacter),n.data+=Qe;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(en.DASH_DASH,!0)?(this._createCommentToken(en.DASH_DASH.length+1),this.state=A.COMMENT_START):this._consumeSequenceIfMatch(en.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(en.DOCTYPE.length+1),this.state=A.DOCTYPE):this._consumeSequenceIfMatch(en.CDATA_START,!0)?this.inForeignNode?this.state=A.CDATA_SECTION:(this._err($.cdataInHtmlContent),this._createCommentToken(en.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=A.BOGUS_COMMENT):this._ensureHibernation()||(this._err($.incorrectlyOpenedComment),this._createCommentToken(2),this.state=A.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case S.HYPHEN_MINUS:{this.state=A.COMMENT_START_DASH;break}case S.GREATER_THAN_SIGN:{this._err($.abruptClosingOfEmptyComment),this.state=A.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=A.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=A.COMMENT_END;break}case S.GREATER_THAN_SIGN:{this._err($.abruptClosingOfEmptyComment),this.state=A.DATA,this.emitCurrentComment(n);break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=A.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=A.COMMENT_END_DASH;break}case S.LESS_THAN_SIGN:{n.data+="<",this.state=A.COMMENT_LESS_THAN_SIGN;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.data+=Qe;break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case S.EXCLAMATION_MARK:{n.data+="!",this.state=A.COMMENT_LESS_THAN_SIGN_BANG;break}case S.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=A.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===S.HYPHEN_MINUS?this.state=A.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=A.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===S.HYPHEN_MINUS?this.state=A.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=A.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==S.GREATER_THAN_SIGN&&t!==S.EOF&&this._err($.nestedComment),this.state=A.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=A.COMMENT_END;break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=A.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentComment(n);break}case S.EXCLAMATION_MARK:{this.state=A.COMMENT_END_BANG;break}case S.HYPHEN_MINUS:{n.data+="-";break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=A.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case S.HYPHEN_MINUS:{n.data+="--!",this.state=A.COMMENT_END_DASH;break}case S.GREATER_THAN_SIGN:{this._err($.incorrectlyClosedComment),this.state=A.DATA,this.emitCurrentComment(n);break}case S.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=A.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.BEFORE_DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this.state=A.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case S.EOF:{this._err($.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingWhitespaceBeforeDoctypeName),this.state=A.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Xa(t))this._createDoctypeToken(String.fromCharCode(il(t))),this.state=A.DOCTYPE_NAME;else switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.NULL:{this._err($.unexpectedNullCharacter),this._createDoctypeToken(Qe),this.state=A.DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=A.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.AFTER_DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.NULL:{this._err($.unexpectedNullCharacter),n.name+=Qe;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Xa(t)?il(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(en.PUBLIC,!1)?this.state=A.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(en.SYSTEM,!1)?this.state=A.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.QUOTATION_MARK:{this._err($.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=A.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err($.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=A.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{n.publicId="",this.state=A.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{n.publicId="",this.state=A.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case S.QUOTATION_MARK:{this.state=A.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.publicId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case S.APOSTROPHE:{this.state=A.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.publicId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case S.GREATER_THAN_SIGN:{this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.QUOTATION_MARK:{this._err($.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err($.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.QUOTATION_MARK:{n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=A.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.QUOTATION_MARK:{this._err($.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err($.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{n.systemId="",this.state=A.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err($.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.DATA,this.emitCurrentDoctype(n);break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case S.QUOTATION_MARK:{this.state=A.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.systemId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case S.APOSTROPHE:{this.state=A.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.NULL:{this._err($.unexpectedNullCharacter),n.systemId+=Qe;break}case S.GREATER_THAN_SIGN:{this._err($.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=A.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=A.DATA;break}case S.NULL:{this._err($.unexpectedNullCharacter);break}case S.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case S.RIGHT_SQUARE_BRACKET:{this.state=A.CDATA_SECTION_BRACKET;break}case S.EOF:{this._err($.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===S.RIGHT_SQUARE_BRACKET?this.state=A.CDATA_SECTION_END:(this._emitChars("]"),this.state=A.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case S.GREATER_THAN_SIGN:{this.state=A.DATA;break}case S.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=A.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(S.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Kg(this.preprocessor.peek(1))?A.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Kg(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===S.SEMICOLON&&this._err($.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}};const Fb=new Set([p.DD,p.DT,p.LI,p.OPTGROUP,p.OPTION,p.P,p.RB,p.RP,p.RT,p.RTC]),Jg=new Set([...Fb,p.CAPTION,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]),kl=new Set([p.APPLET,p.CAPTION,p.HTML,p.MARQUEE,p.OBJECT,p.TABLE,p.TD,p.TEMPLATE,p.TH]),uk=new Set([...kl,p.OL,p.UL]),ok=new Set([...kl,p.BUTTON]),Zg=new Set([p.ANNOTATION_XML,p.MI,p.MN,p.MO,p.MS,p.MTEXT]),e1=new Set([p.DESC,p.FOREIGN_OBJECT,p.TITLE]),lk=new Set([p.TR,p.TEMPLATE,p.HTML]),ck=new Set([p.TBODY,p.TFOOT,p.THEAD,p.TEMPLATE,p.HTML]),dk=new Set([p.TABLE,p.TEMPLATE,p.HTML]),fk=new Set([p.TD,p.TH]);class hk{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=p.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===p.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Y.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Y.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Vf,Y.HTML)}popUntilTableCellPopped(){this.popUntilPopped(fk,Y.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(dk,Y.HTML)}clearBackToTableBodyContext(){this.clearBackTo(ck,Y.HTML)}clearBackToTableRowContext(){this.clearBackTo(lk,Y.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===p.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===p.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Y.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case Y.SVG:{if(e1.has(a))return!1;break}case Y.MATHML:{if(Zg.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,kl)}hasInListItemScope(t){return this.hasInDynamicScope(t,uk)}hasInButtonScope(t){return this.hasInDynamicScope(t,ok)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Y.HTML:{if(Vf.has(n))return!0;if(kl.has(n))return!1;break}case Y.SVG:{if(e1.has(n))return!1;break}case Y.MATHML:{if(Zg.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Y.HTML)switch(this.tagIDs[t]){case p.TBODY:case p.THEAD:case p.TFOOT:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case p.OPTION:case p.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;Fb.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Jg.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Jg.has(this.currentTagId);)this.pop()}}const hf=3;var lr;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(lr||(lr={}));const t1={type:lr.Marker};class pk{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],a=n.length,u=this.treeAdapter.getTagName(t),l=this.treeAdapter.getNamespaceURI(t);for(let c=0;c<this.entries.length;c++){const f=this.entries[c];if(f.type===lr.Marker)break;const{element:h}=f;if(this.treeAdapter.getTagName(h)===u&&this.treeAdapter.getNamespaceURI(h)===l){const g=this.treeAdapter.getAttrList(h);g.length===a&&r.push({idx:c,attrs:g})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<hf)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<hf)return;const a=new Map(n.map(l=>[l.name,l.value]));let u=0;for(let l=0;l<r.length;l++){const c=r[l];c.attrs.every(f=>a.get(f.name)===f.value)&&(u+=1,u>=hf&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift(t1)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:lr.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:lr.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(t1);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===lr.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===lr.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===lr.Element&&n.element===t)}}const Nr={createDocument(){return{nodeName:"#document",mode:bn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const a=e.childNodes.find(u=>u.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=r;else{const u={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Nr.appendChild(e,u)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Nr.isTextNode(n)){n.value+=t;return}}Nr.appendChild(e,Nr.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Nr.isTextNode(r)?r.value+=t:Nr.insertBefore(e,Nr.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Bb="html",mk="about:legacy-compat",gk="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Ub=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Ek=[...Ub,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],bk=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),jb=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],yk=[...jb,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function n1(e,t){return t.some(n=>e.startsWith(n))}function Tk(e){return e.name===Bb&&e.publicId===null&&(e.systemId===null||e.systemId===mk)}function _k(e){if(e.name!==Bb)return bn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===gk)return bn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),bk.has(n))return bn.QUIRKS;let r=t===null?Ek:Ub;if(n1(n,r))return bn.QUIRKS;if(r=t===null?jb:yk,n1(n,r))return bn.LIMITED_QUIRKS}return bn.NO_QUIRKS}const r1={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},wk="definitionurl",xk="definitionURL",vk=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Sk=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Y.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Y.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Y.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Y.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Y.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Y.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Y.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Y.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Y.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Y.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Y.XMLNS}]]),Ck=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Ak=new Set([p.B,p.BIG,p.BLOCKQUOTE,p.BODY,p.BR,p.CENTER,p.CODE,p.DD,p.DIV,p.DL,p.DT,p.EM,p.EMBED,p.H1,p.H2,p.H3,p.H4,p.H5,p.H6,p.HEAD,p.HR,p.I,p.IMG,p.LI,p.LISTING,p.MENU,p.META,p.NOBR,p.OL,p.P,p.PRE,p.RUBY,p.S,p.SMALL,p.SPAN,p.STRONG,p.STRIKE,p.SUB,p.SUP,p.TABLE,p.TT,p.U,p.UL,p.VAR]);function Nk(e){const t=e.tagID;return t===p.FONT&&e.attrs.some(({name:r})=>r===Fs.COLOR||r===Fs.SIZE||r===Fs.FACE)||Ak.has(t)}function Hb(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===wk){e.attrs[t].name=xk;break}}function $b(e){for(let t=0;t<e.attrs.length;t++){const n=vk.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function zh(e){for(let t=0;t<e.attrs.length;t++){const n=Sk.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function kk(e){const t=Ck.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ec(e.tagName))}function Rk(e,t){return t===Y.MATHML&&(e===p.MI||e===p.MO||e===p.MN||e===p.MS||e===p.MTEXT)}function Ik(e,t,n){if(t===Y.MATHML&&e===p.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Fs.ENCODING){const a=n[r].value.toLowerCase();return a===r1.TEXT_HTML||a===r1.APPLICATION_XML}}return t===Y.SVG&&(e===p.FOREIGN_OBJECT||e===p.DESC||e===p.TITLE)}function Ok(e,t,n,r){return(!r||r===Y.HTML)&&Ik(e,t,n)||(!r||r===Y.MATHML)&&Rk(e,t)}const Lk="hidden",Dk=8,Pk=3;var R;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(R||(R={}));const Mk={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},zb=new Set([p.TABLE,p.TBODY,p.TFOOT,p.THEAD,p.TR]),s1={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Nr,onParseError:null};let qb=class{constructor(t,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=R.INITIAL,this.originalInsertionMode=R.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...s1,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new ak(this.options,this),this.activeFormattingElements=new pk(this.treeAdapter),this.fragmentContextID=r?ec(this.treeAdapter.getTagName(r)):p.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new hk(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...s1,...n};t??(t=r.treeAdapter.createElement(F.TEMPLATE,Y.HTML,[]));const a=r.treeAdapter.createElement("documentmock",Y.HTML,[]),u=new this(r,a,t);return u.fragmentContextID===p.TEMPLATE&&u.tmplInsertionModeStack.unshift(R.IN_TEMPLATE),u._initTokenizerForFragmentParsing(),u._insertFakeRootElement(),u._resetInsertionMode(),u._findFormInFragmentContext(),u}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var a;if(!this.onParseError)return;const u=(a=t.location)!==null&&a!==void 0?a:Mk,l={code:n,startLine:u.startLine,startCol:u.startCol,startOffset:u.startOffset,endLine:r?u.startLine:u.endLine,endCol:r?u.startCol:u.endCol,endOffset:r?u.startOffset:u.endOffset};this.onParseError(l)}onItemPush(t,n,r){var a,u;(u=(a=this.treeAdapter).onItemPush)===null||u===void 0||u.call(a,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,t,this.openElements.current),n){let u,l;this.openElements.stackTop===0&&this.fragmentContext?(u=this.fragmentContext,l=this.fragmentContextID):{current:u,currentTagId:l}=this.openElements,this._setContextModes(u,l)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Y.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Y.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=R.TEXT}switchToPlaintextParsing(){this.insertionMode=R.TEXT,this.originalInsertionMode=R.IN_BODY,this.tokenizer.state=rn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===F.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Y.HTML))switch(this.fragmentContextID){case p.TITLE:case p.TEXTAREA:{this.tokenizer.state=rn.RCDATA;break}case p.STYLE:case p.XMP:case p.IFRAME:case p.NOEMBED:case p.NOFRAMES:case p.NOSCRIPT:{this.tokenizer.state=rn.RAWTEXT;break}case p.SCRIPT:{this.tokenizer.state=rn.SCRIPT_DATA;break}case p.PLAINTEXT:{this.tokenizer.state=rn.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),t.location){const l=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));l&&this.treeAdapter.setNodeSourceCodeLocation(l,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Y.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Y.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(F.HTML,Y.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,p.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),u=r?a.lastIndexOf(r):a.length,l=a[u-1];if(this.treeAdapter.getNodeSourceCodeLocation(l)){const{endLine:f,endCol:h,endOffset:g}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(l,{endLine:f,endCol:h,endOffset:g})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(l,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(t),u=n.type===Pe.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,u)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===p.SVG&&this.treeAdapter.getTagName(n)===F.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Y.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===p.MGLYPH||t.tagID===p.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Y.HTML)}_processToken(t){switch(t.type){case Pe.CHARACTER:{this.onCharacter(t);break}case Pe.NULL_CHARACTER:{this.onNullCharacter(t);break}case Pe.COMMENT:{this.onComment(t);break}case Pe.DOCTYPE:{this.onDoctype(t);break}case Pe.START_TAG:{this._processStartTag(t);break}case Pe.END_TAG:{this.onEndTag(t);break}case Pe.EOF:{this.onEof(t);break}case Pe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const a=this.treeAdapter.getNamespaceURI(n),u=this.treeAdapter.getAttrList(n);return Ok(t,a,u,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===lr.Marker||this.openElements.contains(a.element)),r=n<0?t-1:n-1;for(let a=r;a>=0;a--){const u=this.activeFormattingElements.entries[a];this._insertElement(u.token,this.treeAdapter.getNamespaceURI(u.element)),u.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=R.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(p.P),this.openElements.popUntilTagNamePopped(p.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case p.TR:{this.insertionMode=R.IN_ROW;return}case p.TBODY:case p.THEAD:case p.TFOOT:{this.insertionMode=R.IN_TABLE_BODY;return}case p.CAPTION:{this.insertionMode=R.IN_CAPTION;return}case p.COLGROUP:{this.insertionMode=R.IN_COLUMN_GROUP;return}case p.TABLE:{this.insertionMode=R.IN_TABLE;return}case p.BODY:{this.insertionMode=R.IN_BODY;return}case p.FRAMESET:{this.insertionMode=R.IN_FRAMESET;return}case p.SELECT:{this._resetInsertionModeForSelect(t);return}case p.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case p.HTML:{this.insertionMode=this.headElement?R.AFTER_HEAD:R.BEFORE_HEAD;return}case p.TD:case p.TH:{if(t>0){this.insertionMode=R.IN_CELL;return}break}case p.HEAD:{if(t>0){this.insertionMode=R.IN_HEAD;return}break}}this.insertionMode=R.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===p.TEMPLATE)break;if(r===p.TABLE){this.insertionMode=R.IN_SELECT_IN_TABLE;return}}this.insertionMode=R.IN_SELECT}_isElementCausesFosterParenting(t){return zb.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case p.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Y.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case p.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return ek[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){fI(this,t);return}switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{tu(this,t);break}case R.BEFORE_HEAD:{nu(this,t);break}case R.IN_HEAD:{ru(this,t);break}case R.IN_HEAD_NO_SCRIPT:{su(this,t);break}case R.AFTER_HEAD:{iu(this,t);break}case R.IN_BODY:case R.IN_CAPTION:case R.IN_CELL:case R.IN_TEMPLATE:{Yb(this,t);break}case R.TEXT:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{pf(this,t);break}case R.IN_TABLE_TEXT:{Jb(this,t);break}case R.IN_COLUMN_GROUP:{Rl(this,t);break}case R.AFTER_BODY:{Il(this,t);break}case R.AFTER_AFTER_BODY:{ml(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){dI(this,t);return}switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{tu(this,t);break}case R.BEFORE_HEAD:{nu(this,t);break}case R.IN_HEAD:{ru(this,t);break}case R.IN_HEAD_NO_SCRIPT:{su(this,t);break}case R.AFTER_HEAD:{iu(this,t);break}case R.TEXT:{this._insertCharacters(t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{pf(this,t);break}case R.IN_COLUMN_GROUP:{Rl(this,t);break}case R.AFTER_BODY:{Il(this,t);break}case R.AFTER_AFTER_BODY:{ml(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Gf(this,t);return}switch(this.insertionMode){case R.INITIAL:case R.BEFORE_HTML:case R.BEFORE_HEAD:case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:case R.IN_BODY:case R.IN_TABLE:case R.IN_CAPTION:case R.IN_COLUMN_GROUP:case R.IN_TABLE_BODY:case R.IN_ROW:case R.IN_CELL:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:case R.IN_TEMPLATE:case R.IN_FRAMESET:case R.AFTER_FRAMESET:{Gf(this,t);break}case R.IN_TABLE_TEXT:{Wa(this,t);break}case R.AFTER_BODY:{zk(this,t);break}case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{qk(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case R.INITIAL:{Wk(this,t);break}case R.BEFORE_HEAD:case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:{this._err(t,$.misplacedDoctype);break}case R.IN_TABLE_TEXT:{Wa(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,$.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?hI(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{Yk(this,t);break}case R.BEFORE_HEAD:{Gk(this,t);break}case R.IN_HEAD:{Jn(this,t);break}case R.IN_HEAD_NO_SCRIPT:{Xk(this,t);break}case R.AFTER_HEAD:{Zk(this,t);break}case R.IN_BODY:{Bt(this,t);break}case R.IN_TABLE:{ki(this,t);break}case R.IN_TABLE_TEXT:{Wa(this,t);break}case R.IN_CAPTION:{QR(this,t);break}case R.IN_COLUMN_GROUP:{Yh(this,t);break}case R.IN_TABLE_BODY:{rc(this,t);break}case R.IN_ROW:{sc(this,t);break}case R.IN_CELL:{JR(this,t);break}case R.IN_SELECT:{ty(this,t);break}case R.IN_SELECT_IN_TABLE:{eI(this,t);break}case R.IN_TEMPLATE:{nI(this,t);break}case R.AFTER_BODY:{sI(this,t);break}case R.IN_FRAMESET:{iI(this,t);break}case R.AFTER_FRAMESET:{uI(this,t);break}case R.AFTER_AFTER_BODY:{lI(this,t);break}case R.AFTER_AFTER_FRAMESET:{cI(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?pI(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{Vk(this,t);break}case R.BEFORE_HEAD:{Qk(this,t);break}case R.IN_HEAD:{Kk(this,t);break}case R.IN_HEAD_NO_SCRIPT:{Jk(this,t);break}case R.AFTER_HEAD:{eR(this,t);break}case R.IN_BODY:{nc(this,t);break}case R.TEXT:{UR(this,t);break}case R.IN_TABLE:{yu(this,t);break}case R.IN_TABLE_TEXT:{Wa(this,t);break}case R.IN_CAPTION:{KR(this,t);break}case R.IN_COLUMN_GROUP:{XR(this,t);break}case R.IN_TABLE_BODY:{Qf(this,t);break}case R.IN_ROW:{ey(this,t);break}case R.IN_CELL:{ZR(this,t);break}case R.IN_SELECT:{ny(this,t);break}case R.IN_SELECT_IN_TABLE:{tI(this,t);break}case R.IN_TEMPLATE:{rI(this,t);break}case R.AFTER_BODY:{sy(this,t);break}case R.IN_FRAMESET:{aI(this,t);break}case R.AFTER_FRAMESET:{oI(this,t);break}case R.AFTER_AFTER_BODY:{ml(this,t);break}}}onEof(t){switch(this.insertionMode){case R.INITIAL:{qa(this,t);break}case R.BEFORE_HTML:{tu(this,t);break}case R.BEFORE_HEAD:{nu(this,t);break}case R.IN_HEAD:{ru(this,t);break}case R.IN_HEAD_NO_SCRIPT:{su(this,t);break}case R.AFTER_HEAD:{iu(this,t);break}case R.IN_BODY:case R.IN_TABLE:case R.IN_CAPTION:case R.IN_COLUMN_GROUP:case R.IN_TABLE_BODY:case R.IN_ROW:case R.IN_CELL:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:{Kb(this,t);break}case R.TEXT:{jR(this,t);break}case R.IN_TABLE_TEXT:{Wa(this,t);break}case R.IN_TEMPLATE:{ry(this,t);break}case R.AFTER_BODY:case R.IN_FRAMESET:case R.AFTER_FRAMESET:case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{Wh(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===S.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:case R.TEXT:case R.IN_COLUMN_GROUP:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:case R.IN_FRAMESET:case R.AFTER_FRAMESET:{this._insertCharacters(t);break}case R.IN_BODY:case R.IN_CAPTION:case R.IN_CELL:case R.IN_TEMPLATE:case R.AFTER_BODY:case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{Wb(this,t);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{pf(this,t);break}case R.IN_TABLE_TEXT:{Xb(this,t);break}}}};function Fk(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Qb(e,t),n}function Bk(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function Uk(e,t,n){let r=t,a=e.openElements.getCommonAncestor(t);for(let u=0,l=a;l!==n;u++,l=a){a=e.openElements.getCommonAncestor(l);const c=e.activeFormattingElements.getElementEntry(l),f=c&&u>=Pk;!c||f?(f&&e.activeFormattingElements.removeEntry(c),e.openElements.remove(l)):(l=jk(e,c),r===t&&(e.activeFormattingElements.bookmark=c),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(l,r),r=l)}return r}function jk(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Hk(e,t,n){const r=e.treeAdapter.getTagName(t),a=ec(r);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const u=e.treeAdapter.getNamespaceURI(t);a===p.TEMPLATE&&u===Y.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function $k(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,u=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,u),e.treeAdapter.appendChild(t,u),e.activeFormattingElements.insertElementAfterBookmark(u,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,u,a.tagID)}function qh(e,t){for(let n=0;n<Dk;n++){const r=Fk(e,t);if(!r)break;const a=Bk(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;const u=Uk(e,a,r.element),l=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(u),l&&Hk(e,l,u),$k(e,a,r)}}function Gf(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function zk(e,t){e._appendCommentNode(t,e.openElements.items[0])}function qk(e,t){e._appendCommentNode(t,e.document)}function Wh(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const u=e.openElements.items[1],l=e.treeAdapter.getNodeSourceCodeLocation(u);l&&!l.endTag&&e._setEndLocation(u,t)}}}}function Wk(e,t){e._setDocumentType(t);const n=t.forceQuirks?bn.QUIRKS:_k(t);Tk(t)||e._err(t,$.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=R.BEFORE_HTML}function qa(e,t){e._err(t,$.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,bn.QUIRKS),e.insertionMode=R.BEFORE_HTML,e._processToken(t)}function Yk(e,t){t.tagID===p.HTML?(e._insertElement(t,Y.HTML),e.insertionMode=R.BEFORE_HEAD):tu(e,t)}function Vk(e,t){const n=t.tagID;(n===p.HTML||n===p.HEAD||n===p.BODY||n===p.BR)&&tu(e,t)}function tu(e,t){e._insertFakeRootElement(),e.insertionMode=R.BEFORE_HEAD,e._processToken(t)}function Gk(e,t){switch(t.tagID){case p.HTML:{Bt(e,t);break}case p.HEAD:{e._insertElement(t,Y.HTML),e.headElement=e.openElements.current,e.insertionMode=R.IN_HEAD;break}default:nu(e,t)}}function Qk(e,t){const n=t.tagID;n===p.HEAD||n===p.BODY||n===p.HTML||n===p.BR?nu(e,t):e._err(t,$.endTagWithoutMatchingOpenElement)}function nu(e,t){e._insertFakeElement(F.HEAD,p.HEAD),e.headElement=e.openElements.current,e.insertionMode=R.IN_HEAD,e._processToken(t)}function Jn(e,t){switch(t.tagID){case p.HTML:{Bt(e,t);break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.TITLE:{e._switchToTextParsing(t,rn.RCDATA);break}case p.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,rn.RAWTEXT):(e._insertElement(t,Y.HTML),e.insertionMode=R.IN_HEAD_NO_SCRIPT);break}case p.NOFRAMES:case p.STYLE:{e._switchToTextParsing(t,rn.RAWTEXT);break}case p.SCRIPT:{e._switchToTextParsing(t,rn.SCRIPT_DATA);break}case p.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=R.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(R.IN_TEMPLATE);break}case p.HEAD:{e._err(t,$.misplacedStartTagForHeadElement);break}default:ru(e,t)}}function Kk(e,t){switch(t.tagID){case p.HEAD:{e.openElements.pop(),e.insertionMode=R.AFTER_HEAD;break}case p.BODY:case p.BR:case p.HTML:{ru(e,t);break}case p.TEMPLATE:{Ys(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function Ys(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==p.TEMPLATE&&e._err(t,$.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(p.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,$.endTagWithoutMatchingOpenElement)}function ru(e,t){e.openElements.pop(),e.insertionMode=R.AFTER_HEAD,e._processToken(t)}function Xk(e,t){switch(t.tagID){case p.HTML:{Bt(e,t);break}case p.BASEFONT:case p.BGSOUND:case p.HEAD:case p.LINK:case p.META:case p.NOFRAMES:case p.STYLE:{Jn(e,t);break}case p.NOSCRIPT:{e._err(t,$.nestedNoscriptInHead);break}default:su(e,t)}}function Jk(e,t){switch(t.tagID){case p.NOSCRIPT:{e.openElements.pop(),e.insertionMode=R.IN_HEAD;break}case p.BR:{su(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function su(e,t){const n=t.type===Pe.EOF?$.openElementsLeftAfterEof:$.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=R.IN_HEAD,e._processToken(t)}function Zk(e,t){switch(t.tagID){case p.HTML:{Bt(e,t);break}case p.BODY:{e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=R.IN_BODY;break}case p.FRAMESET:{e._insertElement(t,Y.HTML),e.insertionMode=R.IN_FRAMESET;break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{e._err(t,$.abandonedHeadElementChild),e.openElements.push(e.headElement,p.HEAD),Jn(e,t),e.openElements.remove(e.headElement);break}case p.HEAD:{e._err(t,$.misplacedStartTagForHeadElement);break}default:iu(e,t)}}function eR(e,t){switch(t.tagID){case p.BODY:case p.HTML:case p.BR:{iu(e,t);break}case p.TEMPLATE:{Ys(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function iu(e,t){e._insertFakeElement(F.BODY,p.BODY),e.insertionMode=R.IN_BODY,tc(e,t)}function tc(e,t){switch(t.type){case Pe.CHARACTER:{Yb(e,t);break}case Pe.WHITESPACE_CHARACTER:{Wb(e,t);break}case Pe.COMMENT:{Gf(e,t);break}case Pe.START_TAG:{Bt(e,t);break}case Pe.END_TAG:{nc(e,t);break}case Pe.EOF:{Kb(e,t);break}}}function Wb(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Yb(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function tR(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function nR(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function rR(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_FRAMESET)}function sR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function iR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),Vf.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Y.HTML)}function aR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function uR(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),n||(e.formElement=e.openElements.current))}function oR(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const a=e.openElements.tagIDs[r];if(n===p.LI&&a===p.LI||(n===p.DD||n===p.DT)&&(a===p.DD||a===p.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==p.ADDRESS&&a!==p.DIV&&a!==p.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function lR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.tokenizer.state=rn.PLAINTEXT}function cR(e,t){e.openElements.hasInScope(p.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1}function dR(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(F.A);n&&(qh(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function fR(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function hR(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(p.NOBR)&&(qh(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function pR(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function mR(e,t){e.treeAdapter.getDocumentMode(e.document)!==bn.QUIRKS&&e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=R.IN_TABLE}function Vb(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Gb(e){const t=Pb(e,Fs.TYPE);return t!=null&&t.toLowerCase()===Lk}function gR(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),Gb(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function ER(e,t){e._appendElement(t,Y.HTML),t.ackSelfClosing=!0}function bR(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function yR(e,t){t.tagName=F.IMG,t.tagID=p.IMG,Vb(e,t)}function TR(e,t){e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.tokenizer.state=rn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=R.TEXT}function _R(e,t){e.openElements.hasInButtonScope(p.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,rn.RAWTEXT)}function wR(e,t){e.framesetOk=!1,e._switchToTextParsing(t,rn.RAWTEXT)}function i1(e,t){e._switchToTextParsing(t,rn.RAWTEXT)}function xR(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===R.IN_TABLE||e.insertionMode===R.IN_CAPTION||e.insertionMode===R.IN_TABLE_BODY||e.insertionMode===R.IN_ROW||e.insertionMode===R.IN_CELL?R.IN_SELECT_IN_TABLE:R.IN_SELECT}function vR(e,t){e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function SR(e,t){e.openElements.hasInScope(p.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Y.HTML)}function CR(e,t){e.openElements.hasInScope(p.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(p.RTC),e._insertElement(t,Y.HTML)}function AR(e,t){e._reconstructActiveFormattingElements(),Hb(t),zh(t),t.selfClosing?e._appendElement(t,Y.MATHML):e._insertElement(t,Y.MATHML),t.ackSelfClosing=!0}function NR(e,t){e._reconstructActiveFormattingElements(),$b(t),zh(t),t.selfClosing?e._appendElement(t,Y.SVG):e._insertElement(t,Y.SVG),t.ackSelfClosing=!0}function a1(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function Bt(e,t){switch(t.tagID){case p.I:case p.S:case p.B:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.SMALL:case p.STRIKE:case p.STRONG:{fR(e,t);break}case p.A:{dR(e,t);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{iR(e,t);break}case p.P:case p.DL:case p.OL:case p.UL:case p.DIV:case p.DIR:case p.NAV:case p.MAIN:case p.MENU:case p.ASIDE:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.DETAILS:case p.ADDRESS:case p.ARTICLE:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{sR(e,t);break}case p.LI:case p.DD:case p.DT:{oR(e,t);break}case p.BR:case p.IMG:case p.WBR:case p.AREA:case p.EMBED:case p.KEYGEN:{Vb(e,t);break}case p.HR:{bR(e,t);break}case p.RB:case p.RTC:{SR(e,t);break}case p.RT:case p.RP:{CR(e,t);break}case p.PRE:case p.LISTING:{aR(e,t);break}case p.XMP:{_R(e,t);break}case p.SVG:{NR(e,t);break}case p.HTML:{tR(e,t);break}case p.BASE:case p.LINK:case p.META:case p.STYLE:case p.TITLE:case p.SCRIPT:case p.BGSOUND:case p.BASEFONT:case p.TEMPLATE:{Jn(e,t);break}case p.BODY:{nR(e,t);break}case p.FORM:{uR(e,t);break}case p.NOBR:{hR(e,t);break}case p.MATH:{AR(e,t);break}case p.TABLE:{mR(e,t);break}case p.INPUT:{gR(e,t);break}case p.PARAM:case p.TRACK:case p.SOURCE:{ER(e,t);break}case p.IMAGE:{yR(e,t);break}case p.BUTTON:{cR(e,t);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{pR(e,t);break}case p.IFRAME:{wR(e,t);break}case p.SELECT:{xR(e,t);break}case p.OPTION:case p.OPTGROUP:{vR(e,t);break}case p.NOEMBED:case p.NOFRAMES:{i1(e,t);break}case p.FRAMESET:{rR(e,t);break}case p.TEXTAREA:{TR(e,t);break}case p.NOSCRIPT:{e.options.scriptingEnabled?i1(e,t):a1(e,t);break}case p.PLAINTEXT:{lR(e,t);break}case p.COL:case p.TH:case p.TD:case p.TR:case p.HEAD:case p.FRAME:case p.TBODY:case p.TFOOT:case p.THEAD:case p.CAPTION:case p.COLGROUP:break;default:a1(e,t)}}function kR(e,t){if(e.openElements.hasInScope(p.BODY)&&(e.insertionMode=R.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function RR(e,t){e.openElements.hasInScope(p.BODY)&&(e.insertionMode=R.AFTER_BODY,sy(e,t))}function IR(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function OR(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(p.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(p.FORM):n&&e.openElements.remove(n))}function LR(e){e.openElements.hasInButtonScope(p.P)||e._insertFakeElement(F.P,p.P),e._closePElement()}function DR(e){e.openElements.hasInListItemScope(p.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(p.LI),e.openElements.popUntilTagNamePopped(p.LI))}function PR(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function MR(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function FR(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function BR(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(F.BR,p.BR),e.openElements.pop(),e.framesetOk=!1}function Qb(e,t){const n=t.tagName,r=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const u=e.openElements.items[a],l=e.openElements.tagIDs[a];if(r===l&&(r!==p.UNKNOWN||e.treeAdapter.getTagName(u)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(u,l))break}}function nc(e,t){switch(t.tagID){case p.A:case p.B:case p.I:case p.S:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.NOBR:case p.SMALL:case p.STRIKE:case p.STRONG:{qh(e,t);break}case p.P:{LR(e);break}case p.DL:case p.UL:case p.OL:case p.DIR:case p.DIV:case p.NAV:case p.PRE:case p.MAIN:case p.MENU:case p.ASIDE:case p.BUTTON:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.ADDRESS:case p.ARTICLE:case p.DETAILS:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.LISTING:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{IR(e,t);break}case p.LI:{DR(e);break}case p.DD:case p.DT:{PR(e,t);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{MR(e);break}case p.BR:{BR(e);break}case p.BODY:{kR(e,t);break}case p.HTML:{RR(e,t);break}case p.FORM:{OR(e);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{FR(e,t);break}case p.TEMPLATE:{Ys(e,t);break}default:Qb(e,t)}}function Kb(e,t){e.tmplInsertionModeStack.length>0?ry(e,t):Wh(e,t)}function UR(e,t){var n;t.tagID===p.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function jR(e,t){e._err(t,$.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function pf(e,t){if(zb.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=R.IN_TABLE_TEXT,t.type){case Pe.CHARACTER:{Jb(e,t);break}case Pe.WHITESPACE_CHARACTER:{Xb(e,t);break}}else Ou(e,t)}function HR(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_CAPTION}function $R(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_COLUMN_GROUP}function zR(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(F.COLGROUP,p.COLGROUP),e.insertionMode=R.IN_COLUMN_GROUP,Yh(e,t)}function qR(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_TABLE_BODY}function WR(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(F.TBODY,p.TBODY),e.insertionMode=R.IN_TABLE_BODY,rc(e,t)}function YR(e,t){e.openElements.hasInTableScope(p.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function VR(e,t){Gb(t)?e._appendElement(t,Y.HTML):Ou(e,t),t.ackSelfClosing=!0}function GR(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Y.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ki(e,t){switch(t.tagID){case p.TD:case p.TH:case p.TR:{WR(e,t);break}case p.STYLE:case p.SCRIPT:case p.TEMPLATE:{Jn(e,t);break}case p.COL:{zR(e,t);break}case p.FORM:{GR(e,t);break}case p.TABLE:{YR(e,t);break}case p.TBODY:case p.TFOOT:case p.THEAD:{qR(e,t);break}case p.INPUT:{VR(e,t);break}case p.CAPTION:{HR(e,t);break}case p.COLGROUP:{$R(e,t);break}default:Ou(e,t)}}function yu(e,t){switch(t.tagID){case p.TABLE:{e.openElements.hasInTableScope(p.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TABLE),e._resetInsertionMode());break}case p.TEMPLATE:{Ys(e,t);break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:Ou(e,t)}}function Ou(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,tc(e,t),e.fosterParentingEnabled=n}function Xb(e,t){e.pendingCharacterTokens.push(t)}function Jb(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Wa(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Ou(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Zb=new Set([p.CAPTION,p.COL,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]);function QR(e,t){const n=t.tagID;Zb.has(n)?e.openElements.hasInTableScope(p.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_TABLE,ki(e,t)):Bt(e,t)}function KR(e,t){const n=t.tagID;switch(n){case p.CAPTION:case p.TABLE:{e.openElements.hasInTableScope(p.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_TABLE,n===p.TABLE&&yu(e,t));break}case p.BODY:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:nc(e,t)}}function Yh(e,t){switch(t.tagID){case p.HTML:{Bt(e,t);break}case p.COL:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.TEMPLATE:{Jn(e,t);break}default:Rl(e,t)}}function XR(e,t){switch(t.tagID){case p.COLGROUP:{e.openElements.currentTagId===p.COLGROUP&&(e.openElements.pop(),e.insertionMode=R.IN_TABLE);break}case p.TEMPLATE:{Ys(e,t);break}case p.COL:break;default:Rl(e,t)}}function Rl(e,t){e.openElements.currentTagId===p.COLGROUP&&(e.openElements.pop(),e.insertionMode=R.IN_TABLE,e._processToken(t))}function rc(e,t){switch(t.tagID){case p.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_ROW;break}case p.TH:case p.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(F.TR,p.TR),e.insertionMode=R.IN_ROW,sc(e,t);break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE,ki(e,t));break}default:ki(e,t)}}function Qf(e,t){const n=t.tagID;switch(t.tagID){case p.TBODY:case p.TFOOT:case p.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE);break}case p.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE,yu(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:case p.TR:break;default:yu(e,t)}}function sc(e,t){switch(t.tagID){case p.TH:case p.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Y.HTML),e.insertionMode=R.IN_CELL,e.activeFormattingElements.insertMarker();break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,rc(e,t));break}default:ki(e,t)}}function ey(e,t){switch(t.tagID){case p.TR:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY);break}case p.TABLE:{e.openElements.hasInTableScope(p.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,Qf(e,t));break}case p.TBODY:case p.TFOOT:case p.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(p.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,Qf(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:break;default:yu(e,t)}}function JR(e,t){const n=t.tagID;Zb.has(n)?(e.openElements.hasInTableScope(p.TD)||e.openElements.hasInTableScope(p.TH))&&(e._closeTableCell(),sc(e,t)):Bt(e,t)}function ZR(e,t){const n=t.tagID;switch(n){case p.TD:case p.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_ROW);break}case p.TABLE:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),ey(e,t));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:break;default:nc(e,t)}}function ty(e,t){switch(t.tagID){case p.HTML:{Bt(e,t);break}case p.OPTION:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case p.OPTGROUP:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case p.HR:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.INPUT:case p.KEYGEN:case p.TEXTAREA:case p.SELECT:{e.openElements.hasInSelectScope(p.SELECT)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),t.tagID!==p.SELECT&&e._processStartTag(t));break}case p.SCRIPT:case p.TEMPLATE:{Jn(e,t);break}}}function ny(e,t){switch(t.tagID){case p.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===p.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===p.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===p.OPTGROUP&&e.openElements.pop();break}case p.OPTION:{e.openElements.currentTagId===p.OPTION&&e.openElements.pop();break}case p.SELECT:{e.openElements.hasInSelectScope(p.SELECT)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode());break}case p.TEMPLATE:{Ys(e,t);break}}}function eI(e,t){const n=t.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ty(e,t)}function tI(e,t){const n=t.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(p.SELECT),e._resetInsertionMode(),e.onEndTag(t)):ny(e,t)}function nI(e,t){switch(t.tagID){case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{Jn(e,t);break}case p.CAPTION:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{e.tmplInsertionModeStack[0]=R.IN_TABLE,e.insertionMode=R.IN_TABLE,ki(e,t);break}case p.COL:{e.tmplInsertionModeStack[0]=R.IN_COLUMN_GROUP,e.insertionMode=R.IN_COLUMN_GROUP,Yh(e,t);break}case p.TR:{e.tmplInsertionModeStack[0]=R.IN_TABLE_BODY,e.insertionMode=R.IN_TABLE_BODY,rc(e,t);break}case p.TD:case p.TH:{e.tmplInsertionModeStack[0]=R.IN_ROW,e.insertionMode=R.IN_ROW,sc(e,t);break}default:e.tmplInsertionModeStack[0]=R.IN_BODY,e.insertionMode=R.IN_BODY,Bt(e,t)}}function rI(e,t){t.tagID===p.TEMPLATE&&Ys(e,t)}function ry(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(p.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Wh(e,t)}function sI(e,t){t.tagID===p.HTML?Bt(e,t):Il(e,t)}function sy(e,t){var n;if(t.tagID===p.HTML){if(e.fragmentContext||(e.insertionMode=R.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===p.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Il(e,t)}function Il(e,t){e.insertionMode=R.IN_BODY,tc(e,t)}function iI(e,t){switch(t.tagID){case p.HTML:{Bt(e,t);break}case p.FRAMESET:{e._insertElement(t,Y.HTML);break}case p.FRAME:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case p.NOFRAMES:{Jn(e,t);break}}}function aI(e,t){t.tagID===p.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==p.FRAMESET&&(e.insertionMode=R.AFTER_FRAMESET))}function uI(e,t){switch(t.tagID){case p.HTML:{Bt(e,t);break}case p.NOFRAMES:{Jn(e,t);break}}}function oI(e,t){t.tagID===p.HTML&&(e.insertionMode=R.AFTER_AFTER_FRAMESET)}function lI(e,t){t.tagID===p.HTML?Bt(e,t):ml(e,t)}function ml(e,t){e.insertionMode=R.IN_BODY,tc(e,t)}function cI(e,t){switch(t.tagID){case p.HTML:{Bt(e,t);break}case p.NOFRAMES:{Jn(e,t);break}}}function dI(e,t){t.chars=Qe,e._insertCharacters(t)}function fI(e,t){e._insertCharacters(t),e.framesetOk=!1}function iy(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Y.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function hI(e,t){if(Nk(t))iy(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Y.MATHML?Hb(t):r===Y.SVG&&(kk(t),$b(t)),zh(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function pI(e,t){if(t.tagID===p.P||t.tagID===p.BR){iy(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Y.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}const mI=new Set([F.AREA,F.BASE,F.BASEFONT,F.BGSOUND,F.BR,F.COL,F.EMBED,F.FRAME,F.HR,F.IMG,F.INPUT,F.KEYGEN,F.LINK,F.META,F.PARAM,F.SOURCE,F.TRACK,F.WBR]);function gI(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===Y.HTML&&mI.has(t.treeAdapter.getTagName(e))}const EI={treeAdapter:Nr,scriptingEnabled:!0};function bI(e,t){const n={...EI,...t};return ay(e,n)}function yI(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===F.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===Y.HTML?t.treeAdapter.getTemplateContent(e):e,a=t.treeAdapter.getChildNodes(r);if(a)for(const u of a)n+=ay(u,t);return n}function ay(e,t){return t.treeAdapter.isElementNode(e)?TI(e,t):t.treeAdapter.isTextNode(e)?wI(e,t):t.treeAdapter.isCommentNode(e)?xI(e,t):t.treeAdapter.isDocumentTypeNode(e)?vI(e,t):""}function TI(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${_I(e,t)}>${gI(e,t)?"":`${yI(e,t)}</${n}>`}`}function _I(e,{treeAdapter:t}){let n="";for(const r of t.getAttrList(e)){if(n+=" ",r.namespace)switch(r.namespace){case Y.XML:{n+=`xml:${r.name}`;break}case Y.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case Y.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${XE(r.value)}"`}return n}function wI(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),a=n.getParentNode(e),u=a&&n.isElementNode(a)&&n.getTagName(a);return u&&n.getNamespaceURI(a)===Y.HTML&&nk(u,t.scriptingEnabled)?r:JE(r)}function xI(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function vI(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function SI(e,t){return qb.parse(e,t)}function CI(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=qb.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function u1(e){const t=e.includes('"')?"'":'"';return t+e+t}function AI(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${u1(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${u1(n)}`),r}const ss={isCommentNode:Ql,isElementNode:ge,isTextNode:dr,createDocument(){const e=new js([]);return e["x-mode"]=bn.NO_QUIRKS,e},createDocumentFragment(){return new js([])},createElement(e,t,n){const r=Object.create(null),a=Object.create(null),u=Object.create(null);for(let c=0;c<n.length;c++){const f=n[c].name;r[f]=n[c].value,a[f]=n[c].namespace,u[f]=n[c].prefix}const l=new Ah(e,r,[]);return l.namespace=t,l["x-attribsNamespace"]=a,l["x-attribsPrefix"]=u,l},createCommentNode(e){return new vh(e)},createTextNode(e){return new pu(e)},appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:a}=n;a&&(a.next=t,t.prev=a),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){ss.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,n,r){const a=AI(t,n,r);let u=e.children.find(l=>Ff(l)&&l.name==="!doctype");u?u.data=a??null:(u=new Sh("!doctype",a),ss.appendChild(e,u)),u["x-name"]=t,u["x-publicId"]=n,u["x-systemId"]=r},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&dr(n)?n.data+=t:ss.appendChild(e,ss.createTextNode(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&dr(r)?r.data+=t:ss.insertBefore(e,ss.createTextNode(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;e.attribs[r]===void 0&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return Ff(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function NI(e,t,n,r){var a;return(a=t.treeAdapter)!==null&&a!==void 0||(t.treeAdapter=ss),t.scriptingEnabled!==!1&&(t.scriptingEnabled=!0),n?SI(e,t):CI(r,e,t)}const kI={treeAdapter:ss};function RI(e){const t="length"in e?e:[e];for(let r=0;r<t.length;r+=1){const a=t[r];fs(a)&&Array.prototype.splice.call(t,r,1,...a.children)}let n="";for(let r=0;r<t.length;r+=1){const a=t[r];n+=bI(a,kI)}return n}var he;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(he||(he={}));var Q;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(Q||(Q={}));function Cr(e){return e===he.Space||e===he.NewLine||e===he.Tab||e===he.FormFeed||e===he.CarriageReturn}function al(e){return e===he.Slash||e===he.Gt||Cr(e)}function II(e){return e>=he.LowerA&&e<=he.LowerZ||e>=he.UpperA&&e<=he.UpperZ}var cr;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(cr||(cr={}));const Ct={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class OI{constructor({xmlMode:t=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=Q.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Q.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new kh(t?VE:Nh,(a,u)=>this.emitCodePoint(a,u))}reset(){this.state=Q.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Q.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===he.Lt||!this.decodeEntities&&this.fastForwardTo(he.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Q.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===he.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?al(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Q.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===he.Gt||Cr(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ct.TitleEnd?this.decodeEntities&&t===he.Amp&&this.startEntity():this.fastForwardTo(he.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===he.Lt)}stateCDATASequence(t){t===Ct.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ct.Cdata.length&&(this.state=Q.InCommentLike,this.currentSequence=Ct.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Q.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ct.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Q.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!al(t):II(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=Q.SpecialStartSequence}stateBeforeTagName(t){if(t===he.ExclamationMark)this.state=Q.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===he.Questionmark)this.state=Q.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=Q.InTagName:n===Ct.ScriptEnd[2]?this.state=Q.BeforeSpecialS:n===Ct.TitleEnd[2]?this.state=Q.BeforeSpecialT:this.state=Q.InTagName}else t===he.Slash?this.state=Q.BeforeClosingTagName:(this.state=Q.Text,this.stateText(t))}stateInTagName(t){al(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Q.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){Cr(t)||(t===he.Gt?this.state=Q.Text:(this.state=this.isTagStartChar(t)?Q.InClosingTagName:Q.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===he.Gt||Cr(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Q.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===he.Gt||this.fastForwardTo(he.Gt))&&(this.state=Q.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===he.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Q.InSpecialTag,this.sequenceIndex=0):this.state=Q.Text,this.sectionStart=this.index+1):t===he.Slash?this.state=Q.InSelfClosingTag:Cr(t)||(this.state=Q.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===he.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Q.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Cr(t)||(this.state=Q.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===he.Eq||al(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Q.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===he.Eq?this.state=Q.BeforeAttributeValue:t===he.Slash||t===he.Gt?(this.cbs.onattribend(cr.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Q.BeforeAttributeName,this.stateBeforeAttributeName(t)):Cr(t)||(this.cbs.onattribend(cr.NoValue,this.sectionStart),this.state=Q.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===he.DoubleQuote?(this.state=Q.InAttributeValueDq,this.sectionStart=this.index+1):t===he.SingleQuote?(this.state=Q.InAttributeValueSq,this.sectionStart=this.index+1):Cr(t)||(this.sectionStart=this.index,this.state=Q.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===he.DoubleQuote?cr.Double:cr.Single,this.index+1),this.state=Q.BeforeAttributeName):this.decodeEntities&&t===he.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,he.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,he.SingleQuote)}stateInAttributeValueNoQuotes(t){Cr(t)||t===he.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(cr.Unquoted,this.index),this.state=Q.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===he.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===he.OpeningSquareBracket?(this.state=Q.CDATASequence,this.sequenceIndex=0):this.state=t===he.Dash?Q.BeforeComment:Q.InDeclaration}stateInDeclaration(t){(t===he.Gt||this.fastForwardTo(he.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Q.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===he.Gt||this.fastForwardTo(he.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Q.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===he.Dash?(this.state=Q.InCommentLike,this.currentSequence=Ct.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Q.InDeclaration}stateInSpecialComment(t){(t===he.Gt||this.fastForwardTo(he.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Q.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===Ct.ScriptEnd[3]?this.startSpecial(Ct.ScriptEnd,4):n===Ct.StyleEnd[3]?this.startSpecial(Ct.StyleEnd,4):(this.state=Q.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const n=t|32;n===Ct.TitleEnd[3]?this.startSpecial(Ct.TitleEnd,4):n===Ct.TextareaEnd[3]?this.startSpecial(Ct.TextareaEnd,4):(this.state=Q.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=Q.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?kn.Strict:this.baseState===Q.Text||this.baseState===Q.InSpecialTag?kn.Legacy:kn.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Q.Text||this.state===Q.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Q.InAttributeValueDq||this.state===Q.InAttributeValueSq||this.state===Q.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Q.Text:{this.stateText(t);break}case Q.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case Q.InSpecialTag:{this.stateInSpecialTag(t);break}case Q.CDATASequence:{this.stateCDATASequence(t);break}case Q.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case Q.InAttributeName:{this.stateInAttributeName(t);break}case Q.InCommentLike:{this.stateInCommentLike(t);break}case Q.InSpecialComment:{this.stateInSpecialComment(t);break}case Q.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case Q.InTagName:{this.stateInTagName(t);break}case Q.InClosingTagName:{this.stateInClosingTagName(t);break}case Q.BeforeTagName:{this.stateBeforeTagName(t);break}case Q.AfterAttributeName:{this.stateAfterAttributeName(t);break}case Q.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case Q.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case Q.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case Q.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case Q.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case Q.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case Q.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case Q.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case Q.InDeclaration:{this.stateInDeclaration(t);break}case Q.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case Q.BeforeComment:{this.stateBeforeComment(t);break}case Q.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case Q.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Q.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===Q.InCommentLike?this.currentSequence===Ct.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===Q.InTagName||this.state===Q.BeforeAttributeName||this.state===Q.BeforeAttributeValue||this.state===Q.AfterAttributeName||this.state===Q.InAttributeName||this.state===Q.InAttributeValueSq||this.state===Q.InAttributeValueDq||this.state===Q.InAttributeValueNq||this.state===Q.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==Q.Text&&this.baseState!==Q.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const _i=new Set(["input","option","optgroup","select","button","datalist","textarea"]),$e=new Set(["p"]),o1=new Set(["thead","tbody"]),l1=new Set(["dd","dt"]),c1=new Set(["rt","rp"]),LI=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",$e],["h1",$e],["h2",$e],["h3",$e],["h4",$e],["h5",$e],["h6",$e],["select",_i],["input",_i],["output",_i],["button",_i],["datalist",_i],["textarea",_i],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l1],["dt",l1],["address",$e],["article",$e],["aside",$e],["blockquote",$e],["details",$e],["div",$e],["dl",$e],["fieldset",$e],["figcaption",$e],["figure",$e],["footer",$e],["form",$e],["header",$e],["hr",$e],["main",$e],["nav",$e],["ol",$e],["pre",$e],["section",$e],["table",$e],["ul",$e],["rt",c1],["rp",c1],["tbody",o1],["tfoot",o1]]),DI=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),d1=new Set(["math","svg"]),f1=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),PI=/\s|\//;class MI{constructor(t,n={}){var r,a,u,l,c,f;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(a=n.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(u=n.recognizeSelfClosing)!==null&&u!==void 0?u:!this.htmlMode,this.tokenizer=new((l=n.Tokenizer)!==null&&l!==void 0?l:OI)(this.options,this),this.foreignContext=[!this.htmlMode],(f=(c=this.cbs).onparserinit)===null||f===void 0||f.call(c,this)}ontext(t,n){var r,a;const u=this.getSlice(t,n);this.endIndex=n-1,(a=(r=this.cbs).ontext)===null||a===void 0||a.call(r,u),this.startIndex=n}ontextentity(t,n){var r,a;this.endIndex=n-1,(a=(r=this.cbs).ontext)===null||a===void 0||a.call(r,Bf(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&DI.has(t)}onopentagname(t,n){this.endIndex=n;let r=this.getSlice(t,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var n,r,a,u;this.openTagStart=this.startIndex,this.tagname=t;const l=this.htmlMode&&LI.get(t);if(l)for(;this.stack.length>0&&l.has(this.stack[0]);){const c=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,c,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(d1.has(t)?this.foreignContext.unshift(!0):f1.has(t)&&this.foreignContext.unshift(!1))),(u=(a=this.cbs).onopentagname)===null||u===void 0||u.call(a,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var r,a,u,l,c,f,h,g;this.endIndex=n;let y=this.getSlice(t,n);if(this.lowerCaseTagNames&&(y=y.toLowerCase()),this.htmlMode&&(d1.has(y)||f1.has(y))&&this.foreignContext.shift(),this.isVoidElement(y))this.htmlMode&&y==="br"&&((l=(u=this.cbs).onopentagname)===null||l===void 0||l.call(u,"br"),(f=(c=this.cbs).onopentag)===null||f===void 0||f.call(c,"br",{},!0),(g=(h=this.cbs).onclosetag)===null||g===void 0||g.call(h,"br",!1));else{const _=this.stack.indexOf(y);if(_!==-1)for(let x=0;x<=_;x++){const v=this.stack.shift();(a=(r=this.cbs).onclosetag)===null||a===void 0||a.call(r,v,x!==_)}else this.htmlMode&&y==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,r;const a=this.tagname;this.endOpenTag(t),this.stack[0]===a&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,a,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const r=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=Bf(t)}onattribend(t,n){var r,a;this.endIndex=n,(a=(r=this.cbs).onattribute)===null||a===void 0||a.call(r,this.attribname,this.attribvalue,t===cr.Double?'"':t===cr.Single?"'":t===cr.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(PI);let r=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${a}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${a}`,`?${r}`)}this.startIndex=n+1}oncomment(t,n,r){var a,u,l,c;this.endIndex=n,(u=(a=this.cbs).oncomment)===null||u===void 0||u.call(a,this.getSlice(t,n-r)),(c=(l=this.cbs).oncommentend)===null||c===void 0||c.call(l),this.startIndex=n+1}oncdata(t,n,r){var a,u,l,c,f,h,g,y,_,x;this.endIndex=n;const v=this.getSlice(t,n-r);!this.htmlMode||this.options.recognizeCDATA?((u=(a=this.cbs).oncdatastart)===null||u===void 0||u.call(a),(c=(l=this.cbs).ontext)===null||c===void 0||c.call(l,v),(h=(f=this.cbs).oncdataend)===null||h===void 0||h.call(f)):((y=(g=this.cbs).oncomment)===null||y===void 0||y.call(g,`[CDATA[${v}]]`),(x=(_=this.cbs).oncommentend)===null||x===void 0||x.call(_)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,r,a;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(r=this.cbs).onparserinit)===null||a===void 0||a.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}}function FI(e,t){const n=new BC(void 0,t);return new MI(n,t).end(e),n.root}const BI=hN((e,t,n,r)=>t._useHtmlParser2?FI(e,t):NI(e,t,n,r)),UI=YN(BI,(e,t)=>t._useHtmlParser2?Kl(e,t):RI(e)),At=[];for(let e=0;e<256;++e)At.push((e+256).toString(16).slice(1));function jI(e,t=0){return(At[e[t+0]]+At[e[t+1]]+At[e[t+2]]+At[e[t+3]]+"-"+At[e[t+4]]+At[e[t+5]]+"-"+At[e[t+6]]+At[e[t+7]]+"-"+At[e[t+8]]+At[e[t+9]]+"-"+At[e[t+10]]+At[e[t+11]]+At[e[t+12]]+At[e[t+13]]+At[e[t+14]]+At[e[t+15]]).toLowerCase()}let mf;const HI=new Uint8Array(16);function $I(){if(!mf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mf=crypto.getRandomValues.bind(crypto)}return mf(HI)}const zI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),h1={randomUUID:zI};function Kf(e,t,n){if(h1.randomUUID&&!e)return h1.randomUUID();e=e||{};const r=e.random??e.rng?.()??$I();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jI(r)}const qI="https://proxy.corsfix.com/?";async function WI(e){function t(a){const u={"":.5,"":.3333333333333333,"":.6666666666666666,"":.25,"":.75,"":.2,"":.4,"":.6,"":.8};return a.replace(/<[^>]*>/g,"").replace(/[^a-zA-Z0-9.\s]/g,"").replace(/[]/g,c=>u[c]||c).trim()}function n(a){return a.replace(/<[^>]*>/g,"").trim()}function r(a){if(!a.length)return 0;const u=a.text().trim(),l=parseInt(u.match(/\d+/)?.[0]||"0");return/hour/i.test(u)?l*60:l}try{const a=encodeURIComponent(e),l=(await ct.get(qI+a)).data,c=UI(l),f=c("meta[property='og:image']").attr("content")||c("meta[name='og:image']").attr("content")||c("meta[itemprop='image']").attr("content")||c('img[class*="recipe-image"]').first().attr("src")||c('img[class*="main-image"]').first().attr("src")||c("img").first().attr("src"),h=c("meta[name='description']").attr("content")||c("meta[property='og:description']").attr("content")||c("meta[name='twitter:description']").attr("content")||c('*[class*="recipe-summary"]')||"",g=h?n(h.replace(/\n/g," ").trim()):"",y=c("h1.recipe-title").text().trim()||c("h1").first().text().trim()||c("h2").first().text().trim()||"Untitled Recipe",_=[];c('ul[class*="ingredients"] li').each((M,U)=>{const O=c(U).html();O&&_.push(t(O))}),_.length===0&&c('ol[class*="ingredients"] li').each((M,U)=>{const O=c(U).html();O&&_.push(t(O))}),_.length===0&&c('div[class*="ingredients"] li').each((M,U)=>{const O=c(U).html();O&&_.push(t(O))});const x=[];c('ol[class*="instructions"] li, ul[class*="instructions"] li').each((M,U)=>{const O=c(U).html();O&&x.push(n(O))}),x.length===0&&c('div[class*="instructions"] li').each((M,U)=>{const O=c(U).html();O&&x.push(n(O))}),x.length===0&&c('div[class*="instructions"] div[class*="step"]').each((M,U)=>{const O=c(U).html();O&&x.push(n(O))}),x.length===0&&c('ol[class*="preparation"] li').each((M,U)=>{const O=c(U).html();O&&x.push(n(O))});const v=c('*[class*="prep_time"], *[class*="prep-time"]').filter(function(){return/\d+/.test(c(this).text())}),N=c('*[class*="cook_time"], *[class*="cook-time"]').filter(function(){return/\d+/.test(c(this).text())});let C=c('*[class*="servings"]').filter(function(){return/\d+/.test(c(this).text())})?.text()?.trim();return C||(C=c('*[class*="yield"]').filter(function(){return/\d+/.test(c(this).text())})?.text()?.trim()),{title:y,description:g,img_url:f,prep_time:r(v),cook_time:r(N),servings:parseInt(C.match(/\d+/)?.[0]||"0"),ingredients:_.map((M,U)=>({id:Kf(),value:M,isActive:!0,sort_number:U+1})),steps:x.map((M,U)=>({id:Kf(),value:M,isActive:!0,sort_number:U+1})),original_recipe_url:e}}catch(a){return console.error(`Failed to scrape recipe from ${e}:`,a.message),null}}const YI=({onCancel:e})=>{const[t,n]=T.useState(""),[r,a]=T.useState(""),[u,l]=T.useState(!1),c=zt(),f=async g=>{try{l(!0);const y=await WI(g);c("/add-new",{state:{recipe:y}}),e(),a("")}catch{a("Failed to fetch the recipe. Please check the URL and try again.")}finally{l(!1)}},h=async g=>{if(g.preventDefault(),!t.trim()){a("URL cannot be empty.");return}await f(t)};return b.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r&&b.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-sm",children:r}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"url",id:"url",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:t,onChange:g=>n(g.target.value)}),b.jsx("label",{htmlFor:"url",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Recipe URL"})]}),b.jsxs("div",{className:"flex justify-end space-x-4",children:[b.jsx(He,{type:"button",onClick:e,children:"Cancel"}),b.jsx(He,{type:"submit",isLoading:u,children:"Import"})]})]})},Vh=({onClose:e})=>{const[t,n]=T.useState(!1),r=zt(),a=u=>{u.preventDefault(),r("/add-new"),e()};return b.jsxs("div",{role:"dialog","aria-labelledby":"modal-title","aria-describedby":"modal-description",className:"p-4",children:[b.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:t?"Import Recipe from URL":"Add Recipe"}),t?b.jsx(YI,{onCancel:e}):b.jsxs(b.Fragment,{children:[b.jsx("p",{id:"modal-description",className:"text-gray-600 dark:text-gray-400 mb-6",children:"How would you like to add your recipe?"}),b.jsxs("div",{className:"flex flex-col space-y-4",children:[b.jsx(He,{onClick:()=>n(!0),"aria-label":"Import recipe from URL",children:"Import from URL"}),b.jsx(He,{className:"w-full","aria-label":"Manually add a recipe",onClick:a,children:"Manual Input"})]})]})]})};var Bs=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e))(Bs||{});const VI=({size:e=Bs.Medium,onClose:t,children:n})=>{const r=T.useRef(null),u=`relative bg-white dark:bg-gray-800 text-black/90 shadow-lg sm:shadow-xl transition-shadow-xs duration-300 ease-in-out rounded-none sm:rounded-lg flex flex-col h-screen w-screen ${e===Bs.Large?"max-w-5xl sm:max-w-[1200px] sm:w-[calc(100%-64px)] sm:max-h-[calc(100%-64px)]":"sm:max-w-md sm:w-auto sm:h-auto"} p-6`,l=()=>{r.current&&r.current.querySelectorAll("input, textarea, select").length===0&&t()};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 dark:bg-black/50 z-50",onClick:l,children:b.jsxs("div",{ref:r,className:u,onClick:c=>c.stopPropagation(),children:[b.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:b.jsx(yE,{className:"w-6 h-6",title:"Close Modal"})}),n]})})},GI={success:b.jsx(yv,{className:"w-6 h-6 text-green-500"}),error:b.jsx(Fv,{className:"w-6 h-6 text-red-500"}),info:b.jsx(Av,{className:"w-6 h-6 text-blue-500"}),warning:b.jsx(_v,{className:"w-6 h-6 text-yellow-500"})},QI=({id:e,message:t,type:n,onClose:r})=>b.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg shadow-md border-l-4
                transition-all duration-300
                dark:bg-gray-800 dark:text-gray-200 bg-white text-gray-800
                ${{success:"border-green-500",error:"border-red-500",info:"border-blue-500",warning:"border-yellow-500"}[n]}
            `,children:[GI[n],b.jsx("span",{children:t}),b.jsx("button",{onClick:()=>r(e),className:"ml-auto",children:b.jsx(yE,{className:"w-5 h-5 dark:text-gray-400 dark:hover:text-gray-200 text-gray-500 hover:text-gray-700"})})]}),uy=T.createContext(null);function KI({children:e}){const[t,n]=T.useState([]),r=T.useCallback(l=>{n(c=>c.filter(f=>f.id!==l))},[]),a=T.useCallback((l="Something went wrong. Please try again.",c="success",f=3e3)=>{const h=Date.now();n(g=>[...g,{id:h,message:l,type:c}]),setTimeout(()=>r(h),f)},[r]),u=T.useMemo(()=>({success:(l,c)=>a(l,"success",c),error:(l,c)=>a(l,"error",c),info:(l,c)=>a(l,"info",c),warning:(l,c)=>a(l,"warning",c)}),[a]);return b.jsxs(uy.Provider,{value:u,children:[e,b.jsx("div",{className:"fixed top-5 right-5 z-50 flex flex-col space-y-2",children:t.map(l=>b.jsx(QI,{...l,onClose:()=>r(l.id)},l.id))})]})}function un(){const e=T.useContext(uy);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const XI=({shareWithUser:e})=>{const[t,n]=T.useState(""),[r,a]=T.useState("read"),[u,l]=T.useState(!1),c=T.useRef(null),f=un(),h=[{value:"read",label:"Read-Only"},{value:"edit",label:"Can Edit"}],g=_=>{a(_),l(!1)},y=async()=>{if(!t)return f.error("Please enter a valid email.");e(t,r)};return T.useEffect(()=>{const _=x=>{c.current&&!c.current.contains(x.target)&&l(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-sm font-medium mb-2",children:"Share with a User"}),b.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[b.jsxs("div",{className:"relative z-0 w-full group",children:[b.jsx("input",{type:"email",name:"email",id:"email",placeholder:" ",value:t,onChange:_=>n(_.target.value),className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer"}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative inline-block",ref:c,children:[b.jsxs("button",{onClick:()=>l(!u),className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 flex justify-between",children:[h.find(_=>_.value===r)?.label,b.jsx(Vv,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})]}),u&&b.jsx("div",{className:"absolute w-full bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:b.jsx("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:h.map(_=>b.jsx("li",{onClick:()=>g(_.value),children:b.jsx("button",{className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:_.label})},_.value))})})]}),b.jsx(He,{btnType:"secondary",onClick:y,className:"w-full",children:"Share"})]})]})},oy=({typeOfShare:e,sharedUsers:t,isPublic:n,onTogglePublicShare:r,shareWithUser:a,onRevokeAccess:u,onCopyLink:l,onClose:c})=>{const[f,h]=T.useState(n);T.useEffect(()=>{h(n)},[n]);const g=()=>{h(!f),r()};return b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-lg font-semibold mb-4 min-w-[300px]",children:["Share ",e]}),b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("label",{className:"text-sm",children:"Make Public"}),b.jsx("input",{type:"checkbox",checked:f,onChange:g,className:"peer hidden",id:"custom-checkbox"}),b.jsx("label",{htmlFor:"custom-checkbox",className:`w-5 h-5 flex items-center justify-center border-2 border-gray-400 rounded-md cursor-pointer transition-all 
          peer-checked:bg-blue-500 peer-checked:border-blue-500 
          dark:border-gray-600 dark:peer-checked:bg-blue-400 dark:peer-checked:border-blue-400`,children:b.jsx(Wv,{className:`w-4 h-4 text-white ${n?"block":"hidden"}`})})]}),f&&b.jsx(He,{btnType:"secondary",onClick:l,className:"w-full",children:"Copy Public Link"}),b.jsx("hr",{className:"border-gray-700 my-4"}),b.jsx(XI,{shareWithUser:a}),b.jsx("hr",{className:"border-gray-700 my-4"}),b.jsx("h3",{className:"text-sm font-medium mb-2",children:"Shared Users"}),b.jsx("ul",{className:"space-y-2 mb-4",children:t.map(y=>b.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 rounded-xs gap-2 p-2",children:[b.jsxs("span",{className:"text-gray-700 dark:text-gray-200 text-sm",children:[y.users.email," - ",y.permission]}),b.jsx(TE,{onClick:()=>u(y.id)})]},y.id))}),b.jsx(He,{onClick:c,className:"w-full",children:"Close"})]})},ly=({label:e="recipe",onCancelDelete:t,onDelete:n})=>{const[r,a]=T.useState(!1),u=async()=>{a(!0);try{await n()}catch(l){console.error("Delete failed:",l)}finally{a(!1)}};return b.jsxs("div",{className:"text-center p-4",children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:["Are you sure you want to delete this ",e,"?"]}),b.jsxs("div",{className:"flex justify-center space-x-4 pt-2",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",disabled:r,children:"Cancel"}),b.jsxs("button",{onClick:u,disabled:r,className:`flex items-center gap-2 px-4 py-2 font-semibold rounded-lg transition ${r?"bg-red-400 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[r&&b.jsx(qs,{isLarge:!1}),"Delete"]})]})]})},cy=T.createContext(void 0),JI=({children:e})=>{const[t,n]=T.useState(null),[r,a]=T.useState(Bs.Small),[u,l]=T.useState(!1),c=(h,g=Bs.Small)=>{n(()=>h),a(g),l(!0)},f=()=>{n(null),a(Bs.Small),l(!1)};return b.jsxs(cy.Provider,{value:{isModalOpen:u,openModal:c,closeModal:f},children:[e,t&&b.jsx(VI,{onClose:f,size:r,children:t})]})},hr=()=>{const e=T.useContext(cy);if(!e)throw new Error("useModalManager must be used within a ModalManager");return e},ZI=async(e,t,n)=>await Te.request("getList",async r=>{let a=r.from(Ne.TAGS).select("*",{count:"exact"}).range(e,e+t-1);n&&(a=a.or(`title.ilike.%${n}%`));const{data:u,count:l,error:c}=await a;if(c)throw new Error("Failed to fetch tags.");return{data:u,count:l}}),e6=async(e,t)=>await Te.request(`upsert-${e||"new"}`,async n=>{let r=e;if(e){if(Object.keys(t.title).length>0){const{error:a}=await n.from(Ne.TAGS).update(t).eq("id",e);if(a)throw new Error(`Failed to update tag: ${a.message}`)}}else{const{data:a,error:u}=await n.from(Ne.TAGS).insert([{title:t.title}]).select().single();if(u)throw new Error(`Failed to insert new tag: ${u.message}`);r=a.id}return{success:!0,tagId:r}}),t6=async e=>await Te.request(`deleteById-${e}`,async t=>{const{error:n}=await t.from(Ne.TAGS).delete().eq("id",e);if(n)throw new Error("Failed to delete tag.")}),n6=async(e,t)=>await Te.request(`addToRecipe-${e}`,async n=>{const r=t.map(u=>({recipe_id:e,tag_id:u.id})),{error:a}=await n.from(Ne.RECIPE_TO_TAGS).insert(r);if(a)throw new Error("Failed to add tag to recipe.");return{success:!0}}),r6=async(e,t)=>{const n=t.map(r=>r.id);return console.log(n),await Te.request(`removeManyFromCollection-${e}`,async r=>{const{error:a}=await r.from(Ne.RECIPE_TO_TAGS).delete().eq("recipe_id",e).in("tag_id",n);if(a)throw new Error("Failed to remove tags from collection.")})},s6=async(e,t)=>await Te.request(`addToCollection-${e}`,async n=>{const r=t.map(u=>({collection_id:e,tag_id:u.id})),{error:a}=await n.from(Ne.COLLECTION_TO_TAGS).insert(r);if(a)throw new Error("Failed to add tag to recipe.");return{success:!0}}),i6=async(e,t)=>{const n=t.map(r=>r.id);return await Te.request(`removeManyFromCollection-${e}`,async r=>{const{error:a}=await r.from(Ne.COLLECTION_TO_RECIPES).delete().eq("collection_id",e).in("tag_id",n);if(a)throw new Error("Failed to remove tags from collection.")})},Rn={addToRecipe:n6,addToCollection:s6,removeFromCollection:i6,removeFromRecipe:r6,getList:ZI,upsert:e6,deleteById:t6},dy=({onCancel:e,onAddTag:t})=>{const[n,r]=T.useState(""),[a,u]=T.useState(!1),l=un(),c=h=>{r(h.target.value)},f=async()=>{u(!0);try{const h={id:Date.now().toString(),title:n};(await Rn.upsert("",h))?.success&&(l.success("Tag added successfully!"),t())}catch(h){console.error("Add tag failed:",h)}finally{u(!1)}};return b.jsxs("div",{className:"p-4",children:[b.jsx("h2",{className:"text-center text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Add New Tag"}),b.jsx("form",{className:"w-full",children:b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"title",id:"title",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:c,required:!0}),b.jsx("label",{htmlFor:"title",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Title"})]})}),b.jsxs("div",{className:"flex justify-end space-x-4 pt-2",children:[b.jsx(He,{btnType:"dismissable",onClick:e,disabled:a,children:"Cancel"}),b.jsx(He,{onClick:f,disabled:a,children:"Add Tag"})]})]})};function a6(){const{isDarkMode:e,toggleDarkMode:t}=mE(),{isAuthenticated:n}=ds(),{isModalOpen:r,openModal:a,closeModal:u}=hr(),l=zt(),c=un(),[f,h]=T.useState(!1),g=Kn(),y=T.useRef(null),_=["/","/collections","/tags","/about"],x=()=>{h(O=>!O)},v=()=>{u(),h(!1)},I=[{label:"Add Recipe",onClick:()=>{a(b.jsx(Vh,{onClose:v}))}},{label:"Add Collection",onClick:()=>l("/collections/add-new")},{label:"Add Tag",onClick:()=>{a(b.jsx(dy,{onCancel:v,onAddTag:v}))}}],M=O=>{O.stopPropagation(),l("/sign-in")},U=async O=>{O.stopPropagation();try{await cs.signOut(),l("/")}catch(q){c.error(q.message)}};return T.useEffect(()=>{const O=q=>{y.current&&!y.current.contains(q.target)&&h(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]),b.jsxs("nav",{className:`bg-white border-gray-200 dark:bg-gray-900 ${r?"opacity-50 pointer-events-none":""}`,ref:y,children:[b.jsxs("div",{className:"max-w-screen-xl flex items-center justify-between mx-auto p-4",children:[b.jsxs(sn,{to:"/",className:"flex items-center space-x-2",children:[b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-8",alt:"Elysia Logo"}),b.jsx("span",{className:"self-center text-2xl font-semibold dark:text-leaf-green-100",children:"Elysia"})]}),b.jsx("div",{className:"hidden md:flex space-x-8",children:_.map(O=>b.jsx(sn,{to:O,className:`py-2 px-3 rounded-md transition duration-200 ${g.pathname===O?"dark:text-leaf-green-300 text-leaf-green-500":"hover:text-leaf-green-300 dark:text-leaf-green-100 dark:hover:text-leaf-green-300"}`,children:O==="/"?"Recipes":O.replace("/","").charAt(0).toUpperCase()+O.slice(2)},O))}),b.jsxs("div",{className:"flex space-x-3",children:[n&&b.jsx(Hl,{options:I,icon:b.jsx(bh,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})}),b.jsx(Ps,{onClick:t,title:"Toggle Dark Mode",icon:e?b.jsx(Lv,{className:"w-6 h-6 text-yellow-400"}):b.jsx(Iv,{className:"w-6 h-6 text-gray-800 dark:text-gray-200"})}),b.jsx(Ps,{onClick:n?U:M,title:n?"Logout":"Login",icon:n?b.jsx(zv,{className:"w-6 h-6 text-red-500"}):b.jsx(Hv,{className:"w-6 h-6 text-green-500"})}),b.jsx(Ps,{onClick:x,className:"text-gray-500 rounded-lg md:hidden focus:ring-gray-200 dark:text-gray-400",title:"Open main menu",icon:b.jsx(Ev,{className:"w-6 h-6 text-gray-800 dark:text-gray-200"})})]})]}),f&&b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end md:hidden",children:b.jsxs("div",{className:"w-3/4 sm:w-[350px] h-full bg-white dark:bg-gray-900 shadow-lg p-6 pt-10 flex flex-col",children:[b.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:b.jsx(Eh,{className:"w-6 h-6",title:"Close Menu"})}),_.filter(Boolean).map(O=>b.jsx(sn,{to:O,className:"py-2 px-3 block rounded-md text-gray-900 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-700",onClick:x,children:O==="/"?"Recipes":O.replace("/","").charAt(0).toUpperCase()+O.slice(2)},O))]})})]})}function u6(){const[e,t]=T.useState(0),[n]=T.useState(10),[r]=T.useState(""),[a,u]=T.useState([]),[l,c]=T.useState(!0),[f,h]=T.useState(!1),[g,y]=T.useState(0);return{tags:a,loading:f,totalCount:g,hasMore:l,loadMoreTags:async()=>{if(!(f||!l)){h(!0);try{const x=await Rn.getList(e,n,r);if(!x)throw new Error("Something went wrong. Please try again.");x.data.length===0?c(!1):(u(v=>[...v,...x.data]),t(v=>v+x.data.length)),y(x.count||0)}catch(x){console.error("Error fetching Tag tags:",x.message)}finally{h(!1)}}}}}const Lu=({title:e,description:t,classes:n="",actionName:r="",onAction:a})=>{const{isAuthenticated:u}=ds();return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:`w-full flex space-x-3 text-left ${n}`,children:[b.jsx("h1",{className:"text-3xl font-medium text-leaf-green-900 dark:text-leaf-green-100",children:e}),u&&r?.length>0&&b.jsx(Ps,{className:"hover:bg-white dar:hover:bg-white/50",title:r,onClick:a,icon:b.jsx(bh,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})})]}),!!t?.length&&b.jsx("p",{className:"text-leaf-green-800 dark:text-gray-300 mt-4 mb-4",children:t})]})};function o6(){const{isDarkMode:e}=mE(),{openModal:t,closeModal:n}=hr(),{tags:r,loading:a,hasMore:u,loadMoreTags:l}=u6(),c=T.useRef(null),f=T.useRef(null);l();const h=T.useCallback(()=>{u&&!a&&l()},[u,a,l]),g=()=>{t(b.jsx(dy,{onCancel:n,onAddTag:n}))};return T.useEffect(()=>{const y=new IntersectionObserver(_=>{_[0].isIntersecting&&h()},{threshold:.5});return f.current&&y.observe(f.current),()=>y.disconnect()},[h]),b.jsxs("div",{ref:c,style:{height:"80vh",overflowY:"auto",scrollbarColor:e?"#666 #2c2c2c":"#ccc #f0f0f0"},className:"max-w-5xl mx-auto p-6 flex flex-col items-center text-center transition-all duration-300",children:[b.jsx(Lu,{title:"Tags",actionName:"+ New Tag",onAction:g}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:r.map(y=>b.jsx(fu,{isReadOnly:!1,title:y.title},y.id))}),a&&b.jsx(qs,{className:"mt-6"}),!u&&!a&&b.jsx("div",{className:"text-gray-500 mt-6 animate-fade-in",children:"Youve reached the end! No more tags to load."}),u&&b.jsx("div",{ref:f,className:"h-1"})]})}const l6=()=>{const{openModal:e,closeModal:t}=hr(),n=()=>{e(b.jsx(Vh,{onClose:t}))};return b.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-center",children:"About Elysia"}),b.jsx("div",{className:"flex flex-row justify-center m-4",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-40",alt:"Elysia Chloratica"})}),b.jsxs("div",{className:"bg-leaf-green-100 p-6 rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-xl font-semibold text-leaf-green-800 mb-3",children:"The Slug That Inspired It All"}),b.jsxs("p",{className:"text-gray-800",children:["Elysia chlorotica is a unique species of sea slug that can perform"," ",b.jsx("strong",{children:"photosynthesis"}),", absorbing energy from the sun like a plant. By incorporating chloroplasts from the algae it eats into its own cells, it becomes ",b.jsx("strong",{children:"self-sustaining"})," and requires less food to survive. This incredible ability mirrors our own journey - by being mindful of what we consume, we empower ourselves to thrive."]})]}),b.jsxs("div",{className:"mt-8 p-6 rounded-lg border border-4 border-dashed border-leaf-green-100 dark:leaf-green-200",children:[b.jsx("h2",{className:"text-xl font-semibold text-leaf-green-800 dark:text-leaf-green-300 mb-3",children:"The Vision Behind Elysia"}),b.jsx("p",{className:"text-gray-800 dark:text-white",children:"Cooking is more than just a necessityit's a way to nourish both body and mind. Our vision is to build a platform where people can explore diverse recipes, develop new skills, and gradually become more self-reliant in the kitchen. Just like Elysia chlorotica adapts and grows by integrating the best of what it consumes, this app allows food lovers to nurture, discover, and evolve their culinary environment."})]}),b.jsx("div",{className:"flex flex-col align-items-center mt-10",children:b.jsx(He,{onClick:n,children:"Start Your Journey"})})]})},c6=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[a,u]=T.useState(!1),[l,c]=T.useState(""),f=un(),h=zt(),g=async y=>{if(y.preventDefault(),c(""),e.length<6){c("Password must be at least 6 characters long.");return}if(e!==n){c("Passwords do not match.");return}try{u(!0),await cs.updatePassword(e),f.success("Password updated successfully! You can now sign in."),h("/sign-in")}catch(_){f.error(_.message)}finally{u(!1)}};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Reset Password"}),b.jsxs("form",{onSubmit:g,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"new-password",id:"new-password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:y=>t(y.target.value),required:!0}),b.jsx("label",{htmlFor:"new-password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"New Password"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"confirm-password",id:"confirm-password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:y=>r(y.target.value),required:!0}),b.jsx("label",{htmlFor:"confirm-password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Confirm Password"})]}),l&&b.jsx("p",{className:"text-red-500 text-sm mb-4",children:l}),b.jsx(He,{type:"submit",isLoading:a,className:"w-full",children:"Reset Password"})]})]})})},d6=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[a,u]=T.useState(!1),l=un(),c=zt(),f=async h=>{h.preventDefault();try{u(!0),await cs.signIn(e,n),c("/")}catch(g){l.error(g.message)}finally{u(!1)}};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold text-leaf-green-600 dark:text-white mb-4 text-center",children:"Sign In"}),b.jsxs("form",{onSubmit:f,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:h=>t(h.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"password",id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:h=>r(h.target.value),required:!0}),b.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"})]}),b.jsx("div",{className:"mb-2 text-right",children:b.jsx(sn,{to:"/forgot-password",children:"Forgot password?"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(He,{type:"submit",isLoading:a,className:"w-full",children:"Sign In"}),b.jsx(sn,{to:"/register",children:b.jsx(He,{btnType:"secondary",className:"w-full",children:"Register"})})]})]})]})})},f6=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(""),[a,u]=T.useState(!1),l=un(),c=zt(),f=async h=>{h.preventDefault();try{u(!0),await cs.signUp(e,n),l.success("Registration successful! A confirmation link has been sent to your email."),c("/")}catch(g){l.error(g.message)}finally{u(!1)}};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-leaf-green-600 dark:text-white text-center",children:"Register"}),b.jsxs("form",{onSubmit:f,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:h=>t(h.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"password",name:"password",id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:h=>r(h.target.value),required:!0}),b.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(He,{type:"submit",isLoading:a,className:"w-full",children:"Register"}),b.jsx(sn,{to:"/sign-in",children:b.jsx(He,{btnType:"secondary",className:"w-full",children:"Back to Sign In"})})]})]})]})})},h6=async(e,t,n)=>await Te.request("getList",async r=>{let a=r.from(Ne.COLLECTIONS).select("*",{count:"exact"});n&&(a=a.or(`title.ilike.%${n}%,description.ilike.%${n}%`));const{data:u,count:l,error:c}=await a.range(e,e+t-1);if(c)throw new Error("Failed to fetch collections.");return{data:u,count:l}}),p6=async(e,t)=>await Te.request(`getDetail-${e}`,async n=>{let r=n.from(Ne.COLLECTIONS).select(`
          id, title, description, img_url, is_public, user_id,
          collection_to_recipes!left(
            recipes!inner(
              id, title, description, img_url, user_id, is_public, 
              recipe_to_tags!left(tags!inner(id, title))
            )
          ),
          collection_to_tags!left(tags!inner(id, title, recipe_to_tags!left(recipes!inner(id, title, description, img_url, user_id, is_public)))) ,
          collection_to_users!left(permission)
          `).eq("id",e);t?r=r.or(`is_public.eq.true,user_id.eq.${t}`):r=r.eq("is_public",!0);const{data:a,error:u}=await r.maybeSingle();if(u)throw new Error("Failed to fetch collection details.");if(!a)throw new Error("No data returned.");const l=a?.collection_to_tags?.flatMap(g=>g.tags)||[],c=a?.collection_to_recipes?.flatMap(g=>{const y=g.recipes;return{...y,tags:y.recipe_to_tags?.map(_=>_.tags)||[]}})||[],f=a?.collection_to_tags?.flatMap(g=>g.tags.recipe_to_tags?.map(y=>({...y.recipes,tags:y.recipes.recipe_to_tags?.map(_=>_.tags)||[]}))||[])||[],h=new Map;return[...c,...f].forEach(g=>{h.set(g.id,g)}),{...a,recipes:Array.from(h.values()),tags:l,can_edit:a.user_id===t||a.collection_to_users&&a.collection_to_users.some(g=>g.permission==="edit")}}),m6=async(e,t,n)=>await Te.request(`upsert-${e||"new"}`,async r=>{let a=e;if(e){const{error:u}=await r.from(Ne.COLLECTIONS).update(t).eq("id",e);if(u)throw new Error(`Failed to update collection: ${u.message}`)}else{const{data:u,error:l}=await r.from(Ne.COLLECTIONS).insert([{title:t.title,description:t.description,img_url:t.img_url,is_public:t.is_public,user_id:n}]).select().single();if(l)throw new Error(`Failed to insert new collection: ${l.message}`);a=u.id}return{success:!0,collectionId:a}}),g6=async e=>await Te.request(`deleteById-${e}`,async t=>{const{error:n}=await t.from(Ne.COLLECTIONS).delete().eq("id",e);if(n)throw new Error("Failed to delete collection.")}),E6=async(e,t)=>await Te.request(`setIsPublic-${e}`,async n=>{const{error:r}=await n.from(Ne.COLLECTIONS).update({is_public:!t}).eq("id",e);if(r)throw new Error("Failed to update public status.");return!t}),b6=async e=>await Te.request(`fetchSharedUsers-${e}`,async t=>{const{data:n,error:r}=await t.from(Ne.COLLECTION_TO_USERS).select("id, user_id, permission, users(email)").eq("collection_id",e);return r?(console.error("Error fetching shared users:",r),[]):n||[]}),y6=async(e,t,n)=>await Te.request(`share-${e}-${t}`,async r=>{const{error:a}=await r.from(Ne.COLLECTION_TO_USERS).insert([{collection_id:e,user_id:t,permission:n}]);if(a)throw new Error("Failed to share collection.")}),T6=async e=>await Te.request(`revokeAccess-${e}`,async t=>{const{error:n}=await t.from(Ne.COLLECTION_TO_USERS).delete().eq("id",e);if(n)throw new Error("Failed to revoke access.")}),_6=async e=>await Te.request(`getIsPublic-${e}`,async t=>{const{data:n,error:r}=await t.from(Ne.COLLECTIONS).select("is_public").eq("id",e).single();return r?(console.error("Error fetching collection visibility:",r),!1):n.is_public}),En={getList:h6,getDetail:p6,upsert:m6,deleteById:g6,getIsPublic:_6,setIsPublic:E6,fetchSharedUsers:b6,share:y6,revokeAccess:T6},w6=({collection:e})=>{const t=zt(),n=un(),{openModal:r,closeModal:a}=hr(),[u,l]=T.useState(e.is_public||!1),[c,f]=T.useState([]),h=()=>{t(`/collections/${e.id}/edit`,{state:{collection:e}})},g=()=>r(b.jsx(ly,{label:"collection",onCancelDelete:a,onDelete:C}));T.useEffect(()=>{(async()=>{if(e.id){const U=await En.fetchSharedUsers(e.id);f(U)}})()},[e.id]);const y=async()=>{l(!u);try{await En.setIsPublic(e.id,u),n.success(`Collection is now ${u?"public":"private"}!`)}catch(M){n.error(M.message)}},_=async(M,U)=>{if(!M)return n.error("Please enter a valid email.");if(!e.id)return n.error();try{const O=await cs.findByEmail(M);await En.share(e.id,O?.id,U),n.success(`Collection shared with ${O?.display_name} as ${U}.`);const q=await En.fetchSharedUsers(e.id);f(q)}catch(O){n.error(O.message)}},x=async M=>{if(!e.id)return n.error();try{await En.revokeAccess(M),n.success("Access revoked.");const U=await En.fetchSharedUsers(e.id);f(U)}catch(U){n.error(U.message)}},v=()=>{const M=`${window.location.origin}/collections/${e.id}`;navigator.clipboard.writeText(M),n.success("Public link copied!")},N=()=>{r(b.jsx(oy,{typeOfShare:"Collection",sharedUsers:c,isPublic:u,onTogglePublicShare:y,shareWithUser:_,onRevokeAccess:x,onCopyLink:v,onClose:a}))},C=async()=>{try{if(!e.id)return n.error();await En.deleteById(e.id),n.success("Collection deleted successfully!"),a(),t("/collections")}catch{n.error("Failed to delete collection. Please try again.")}},I=[{label:"Edit",onClick:h},{label:"Delete",onClick:g},{label:"Share",onClick:N}];return b.jsx(Hl,{options:I,icon:b.jsx(EE,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})},Du=({message:e})=>b.jsx("div",{className:"text-center text-gray-500 p-4 border border-gray-200 rounded-lg",children:e}),Gh=({title:e,img_url:t})=>b.jsxs(b.Fragment,{children:[t&&b.jsx("img",{src:t,alt:e,className:"w-full h-32 object-cover rounded-t-lg"}),b.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-b-lg shadow-md p-4 hover:shadow-lg transition-shadow-xs ${t?"":"rounded-t-lg"}`,children:b.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-leaf-green-100 mb-2",children:e})})]}),x6=()=>{const{id:e}=Bl(),{user:t}=ds(),[n,r]=T.useState(null),[a,u]=T.useState(!0);return T.useEffect(()=>{(async()=>{u(!0);try{if(!e||!t?.id)throw new Error("no id found");const c=await En.getDetail(e,t?.id);if(!c)throw new Error("no data returned");r(c)}finally{u(!1)}})()},[e,t?.id]),a?b.jsx(qs,{className:"mt-40"}):n?b.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-between items-center mb-4",children:[b.jsx(sn,{to:"/collections",children:b.jsxs("div",{className:"flex justify-center items-center font-medium text-center text-leaf-green-600 dark:text-leaf-green-100",children:[b.jsx(gE,{"aria-hidden":"true",className:"size-6"}),b.jsx("p",{children:"Collections"})]})}),b.jsx("div",{className:"flex justify-end flex-wrap gap-2",children:!!t?.id&&b.jsx(w6,{collection:n})})]}),!!n?.img_url?.length&&b.jsx("div",{className:"relative",children:b.jsx("img",{src:n.img_url,alt:n.title,className:"w-full h-64 object-cover rounded-t-lg"})}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-b-lg p-6 ${!n?.img_url&&"rounded-t-lg"}`,children:[b.jsx(Lu,{title:n.title,description:n.description}),n.tags&&n.tags.length>0&&b.jsx("div",{className:"mt-4",children:n.tags.map(l=>b.jsx(fu,{title:l.title,isReadOnly:!0},l.id))})]}),b.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:n.recipes&&n.recipes.map(l=>b.jsx(sn,{to:`/recipes/${l.id}`,children:b.jsx(Gh,{title:l.title,description:l.description,img_url:l.img_url},l.id)},l.id))})]}):b.jsx(Du,{message:"Collection not found."})};function v6(){const[e,t]=T.useState(0),[n]=T.useState(10),[r,a]=T.useState([]),[u,l]=T.useState(""),[c,f]=T.useState(!1),[h,g]=T.useState(0),[y,_]=T.useState(!0);return{collections:r,searchTerm:u,setSearchTerm:l,loading:c,hasMore:y,totalCount:h,loadMoreCollections:async()=>{if(!(c||!y)){f(!0);try{const v=await En.getList(e,n,u);!v||v.data.length===0?_(!1):(a(N=>[...N,...v.data]),t(N=>N+v.data.length),g(v.count||0)),f(!1)}catch(v){console.error("Error fetching collections:",v.message)}finally{f(!1)}}}}}const S6=()=>{const e=zt(),{collections:t,loading:n,hasMore:r,loadMoreCollections:a}=v6(),u=T.useRef(null);a();const l=T.useCallback(()=>{r&&!n&&a()},[r,n,a]);return T.useEffect(()=>{const c=new IntersectionObserver(f=>{f[0].isIntersecting&&l()},{threshold:.5});return u.current&&c.observe(u.current),()=>c.disconnect()},[l]),b.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col justify-center items-center transition-all duration-300",children:[b.jsxs("div",{className:"w-full",children:[b.jsx(Lu,{title:"Collections",actionName:"+ New Collection",classes:"mb-2",onAction:()=>e("add-new")}),b.jsxs("p",{className:"text-gray-600 mb-4",children:["A collection is like a ",b.jsx("strong",{children:"recipe book"})," where you can"," ",b.jsx("strong",{children:"organize recipes, share them"})," with others, or"," ",b.jsx("strong",{children:"keep them private"}),"."]})]}),n&&b.jsx(qs,{className:"mt-6"}),!n&&t.length===0&&b.jsx(Du,{message:"You don't have any collections yet. Create one now!"}),t.length>0&&b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full mt-6",children:t.map(c=>b.jsx(sn,{to:`${c.id}`,children:b.jsx(Gh,{title:c.title,description:c.description,img_url:c.img_url})},c.id))})]})},C6=e=>{const t=e.split(".").pop();return`${e.replace(/\.[^/.]+$/,"").toLowerCase().replace(/[^a-z0-9_\-.]/g,"").replace(/\s+/g,"_")}_${Date.now()}_${Math.floor(Math.random()*1e4)}.${t}`},A6=async e=>await Te.request("addPhoto",async t=>{try{const n=C6(e.name),{error:r}=await t.storage.from("elysia_recipe_photo").upload(n,e,{cacheControl:"3600",upsert:!0});if(r)throw new Error(`Error uploading file: ${r.message}`);return fy(n)}catch(n){throw console.error("Error in addPhoto:",n.message),n}}),fy=e=>Te.request("getPhotoUrl",async t=>{const{data:n}=t.storage.from("elysia_recipe_photo").getPublicUrl(e);if(!n)throw new Error("Failed to get public URL");return n.publicUrl}),N6=async e=>await Te.request("deletePhoto",async t=>{const n=e.split("/").slice(-1)[0];return await t.storage.from("elysia_recipe_photo").remove([n])}),p1={addPhoto:A6,getPhotoUrl:fy,deletePhoto:N6},hy=({imgUrl:e,onImgUrlChange:t})=>{const[n,r]=T.useState(!1),[a,u]=T.useState(!1),[l,c]=T.useState(!1),f=T.useRef(null),h=un(),g=async I=>{try{u(!0);const M=await p1.addPhoto(I);M!==null&&t(M)}catch(M){console.error("Error uploading file:",M.message),h.error("Failed to upload file. Please try again.")}finally{u(!1)}},y=async()=>{if(!e){t("");return}try{if((await p1.deletePhoto(e))?.error){h.error("Failed to delete file. Please try again.");return}else t("")}catch(I){console.error("Error removing file:",I.message)}},_=I=>{const M=I.target.files?.[0];M&&g(M)},x=()=>{f.current&&f.current.click()},v=I=>{I.preventDefault(),c(!0)},N=I=>{I.preventDefault(),c(!1)},C=I=>{I.preventDefault(),c(!1);const M=I.dataTransfer.files[0];M&&g(M)};return b.jsx("div",{className:`relative w-full max-h-64 rounded-t-lg overflow-hidden ${!e?.length&&"rounded-b-lg"}`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:e?.length?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:e,alt:"Uploaded",className:"w-full h-full object-cover"}),n&&b.jsx("div",{className:"absolute inset-0 bg-gray-800/80 flex items-center justify-center",children:b.jsx("button",{onClick:y,className:"text-white text-2xl hover:text-red-500",children:b.jsx(bE,{className:"w-11 h-11 text-red-500 dark:text-red-600",title:"Delete Image"})})})]}):b.jsxs("div",{className:`border-2 ${l?"border-blue-500 bg-leaf-green-50":"border-dashed border-gray-300"} rounded-t-lg p-6 flex flex-col items-center justify-center ${e?"max-h-64":"rounded-b-lg mb-4"}`,onDragOver:v,onDragLeave:N,onDrop:C,children:[b.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:"Drag & drop a photo here, or click to upload."}),b.jsx(He,{onClick:x,disabled:a,children:a?"Uploading...":"Upload File"}),b.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:_,className:"hidden"}),b.jsx("div",{className:"mt-4 w-full",children:b.jsx("input",{type:"text",placeholder:"Or paste an image URL",value:e,onChange:I=>t(I.target.value),className:"border border-gray-300 rounded-lg p-2 w-full"})})]})})},py=({title:e,description:t,onFormChange:n})=>b.jsxs("form",{className:"w-full",children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"text",name:"title",id:"title",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:r=>n("title",r.target.value),required:!0}),b.jsx("label",{htmlFor:"title",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Title"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("textarea",{name:"description",id:"description",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:t,onChange:r=>n("description",r.target.value),required:!0}),b.jsx("label",{htmlFor:"description",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Description"})]})]}),Ri=({inputId:e="",options:t=[],selectedOptions:n=[],placeholder:r="",setSelectedOptions:a,onSearch:u})=>{const[l,c]=T.useState(!1),[f,h]=T.useState(!1),[g,y]=T.useState([]),[_,x]=T.useState(""),v=T.useRef(null),N=T.useRef(null),C=T.useRef(null);T.useEffect(()=>{y(n.map(O=>O?.id||""))},[n]),T.useEffect(()=>{const O=setTimeout(()=>{u(_)},400);return()=>clearTimeout(O)},[_,u]),T.useEffect(()=>{const O=q=>{v.current&&!v.current.contains(q.target)&&c(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),T.useEffect(()=>{l&&N.current&&N.current.focus()},[l]),T.useEffect(()=>{if(l&&v.current){const O=v.current.getBoundingClientRect(),q=window.innerHeight-O.bottom;h(q<200)}},[l]);const I=O=>{if(O.id){const q=g.includes(O.id)?n.filter(J=>J.id!==O.id):[...n,O];a(q)}},M=O=>{const q=n.filter(J=>J.id!==O.id);a(q)},U=O=>{O.key==="Backspace"&&_===""&&n.length>0&&M(n[n.length-1]),O.key==="ArrowDown"&&(c(!0),C.current?.focus())};return b.jsxs("div",{className:"relative w-full",ref:v,children:[b.jsx("label",{id:"multi-select-label",className:"sr-only",children:"Select options"}),b.jsxs("div",{className:`border border-gray-300 p-2 cursor-text flex flex-wrap items-center gap-2 ${l?`rounded-${f?"b":"t"}-lg`:"rounded-lg"}`,onClick:()=>c(!0),"aria-haspopup":"listbox","aria-expanded":l,role:"combobox","aria-controls":"multi-select-listbox",children:[n.map(O=>b.jsx(fu,{title:O.title,onClick:q=>{q.stopPropagation(),M(O)}},O.id)),b.jsx("input",{type:"text",id:e,ref:N,placeholder:n.length===0?r:"",className:"flex-1 p-1 border-none outline-hidden bg-transparent text-gray-900 dark:text-gray-100",value:_,onChange:O=>x(O.target.value),onKeyDown:U,"aria-labelledby":"multi-select-label"})]}),l&&b.jsxs("div",{ref:C,role:"listbox",tabIndex:0,"aria-labelledby":"multi-select-label",className:`absolute w-full z-10 border border-gray-300 bg-white dark:bg-gray-800 shadow-md max-h-40 overflow-y-auto focus:outline-hidden ${f?"bottom-full pb-2 rounded-t-lg":"top-full pt-2 rounded-b-lg"}`,children:[t.length>0?t.map(O=>b.jsx(He,{btnType:"dropdown",className:O.id&&g.includes(O.id)?"bg-leaf-green-100 dark:text-leaf-green-600":"",onClick:q=>{q.stopPropagation(),I(O)},role:"option","aria-selected":O.id&&g.includes(O.id)?!0:void 0,children:O.title},O.id)):b.jsx("div",{className:"p-2 text-gray-500 dark:text-gray-400",role:"status",children:"No results found"}),t.length>=25&&b.jsx("div",{className:"px-4 py-2 border-t border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-900",children:b.jsx("small",{className:"text-gray-500 dark:text-gray-400",children:"Search results are limited to 25 results."})})]})]})},k6=async(e,t,n="",r)=>await Te.request("fetchRecipeList",async a=>{let u=a.from(Ne.RECIPE_SEARCH).select("*",{count:"exact"});r?u=u.or(`is_public.eq.true,user_permissions.cs.["${r}"],user_id.eq.${r}`):u=u.eq("is_public",!0),n&&(u=u.or(`title.ilike.%${n}%,description.ilike.%${n}%,ingredients_text.ilike.%${n}%`));const{data:l,count:c,error:f}=await u.range(e,e+t-1);if(f)throw new Error("Failed to fetch recipes.");return{data:l,count:c}}),R6=async(e,t,n="",r)=>await Te.request("fetchRecipeListWithTags",async a=>{let u=a.from(Ne.RECIPE_SEARCH).select("*",{count:"exact"});r?u=u.or(`is_public.eq.true,user_permissions.cs.[${r}],user_id.eq.${r}`):u=u.eq("is_public",!0),n&&(u=u.or(`title.ilike.%${n}%,description.ilike.%${n}%,ingredients_text.ilike.%${n}%,tags_text.ilike.%${n}%`));const{data:l,count:c,error:f}=await u.range(e,e+t-1);if(f)throw new Error("Failed to fetch recipes.");return{data:l,count:c}}),I6=async(e,t)=>await Te.request(`fetchRecipeDetails-${e}`,async n=>{let r=n.from(Ne.RECIPES).select(`
      id, title, description, img_url, user_id, is_public, servings, prep_time, cook_time, original_recipe_url,
      ingredients!left(id, sort_number, value),
      steps!left(id, sort_number, value),
      recipe_to_users!left(permission),
      collection_to_recipes!left(collections!inner(id, title)),
      recipe_to_tags!left(tags!inner(id, title))
    `).eq("id",e);t?r=r.or(`is_public.eq.true,user_id.eq.${t}`):r=r.eq("is_public",!0);const{data:a,error:u}=await r.maybeSingle();if(u)throw new Error("Failed to fetch recipe details.");if(!a)throw new Error("No data returned for the given recipe.");return a}),O6=async(e,t,n)=>await Te.request(`upsertRecipe-${e||"new"}`,async r=>{if(e){const{error:a}=await r.from(Ne.RECIPES).update(t).eq("id",e);if(a)throw new Error(`Failed to update recipe: ${a.message}`)}else{const{data:a,error:u}=await r.from(Ne.RECIPES).insert([{...t,user_id:n}]).select().single();if(u)throw new Error(`Failed to insert new recipe: ${u.message}`);e=a.id}return{success:!0,recipeId:e}}),L6=async e=>await Te.request("deleteIngredients",async t=>{const{error:n}=await t.from(Ne.INGREDIENTS).delete().in("id",e);if(n)throw new Error(`Failed to delete ingredients: ${n.message}`)}),D6=async e=>await Te.request("upsertIngredients",async t=>{const{error:n}=await t.from(Ne.INGREDIENTS).upsert(e,{onConflict:"id"});if(n)throw new Error(`Failed to upsert ingredients: ${n.message}`)}),P6=async e=>await Te.request("deleteSteps",async t=>{const{error:n}=await t.from(Ne.STEPS).delete().in("id",e);if(n)throw new Error(`Failed to delete steps: ${n.message}`)}),M6=async e=>await Te.request("upsertSteps",async t=>{const{error:n}=await t.from(Ne.STEPS).upsert(e,{onConflict:"id"});if(n)throw new Error(`Failed to delete steps: ${n.message}`)}),F6=async e=>await Te.request(`deleteRecipe-${e}`,async t=>{const{error:n}=await t.from(Ne.RECIPES).delete().eq("id",e);if(n)throw new Error("Failed to delete recipe.")}),B6=async(e,t)=>{const n=t.map(r=>({recipe_id:e,collection_id:r}));return await Te.request(`addOneToManyCollections-${e}`,async r=>{const{error:a}=await r.from(Ne.COLLECTION_TO_RECIPES).insert(n);if(a)throw new Error("Failed to delete collection.")})},U6=async(e,t)=>{const n=t.map(r=>({recipe_id:r.id,collection_id:e}));return await Te.request(`addManyToOneCollection-${e}`,async r=>{const{error:a}=await r.from(Ne.COLLECTION_TO_RECIPES).insert(n);if(a)throw new Error("Failed to delete collection.")})},j6=async(e,t)=>await Te.request("removeManyFromManyCollections",async n=>{const{error:r}=await n.from(Ne.COLLECTION_TO_RECIPES).delete().in("collection_id",e).in("recipe_id",t);if(r)throw new Error("Failed to remove recipes from collection(s).")}),H6=async e=>await Te.request(`fetchSharedUsers-${e}`,async t=>{const{data:n,error:r}=await t.from(Ne.RECIPE_TO_USERS).select("id, user_id, permission, users(email)").eq("recipe_id",e);return r?(console.error("Error fetching shared users:",r),[]):n||[]}),$6=async e=>await Te.request(`fetchRecipeVisibility-${e}`,async t=>{const{data:n,error:r}=await t.from(Ne.RECIPES).select("is_public").eq("id",e).single();return r?(console.error("Error fetching recipe visibility:",r),!1):n.is_public}),z6=async(e,t)=>await Te.request(`togglePublicShare-${e}`,async n=>{const{error:r}=await n.from(Ne.RECIPES).update({is_public:!t}).eq("id",e);if(r)throw new Error("Failed to update public status.");return!t}),q6=async(e,t,n)=>await Te.request(`shareRecipe-${e}-${t}`,async r=>{const{error:a}=await r.from(Ne.RECIPE_TO_USERS).insert([{recipe_id:e,user_id:t,permission:n}]);if(a)throw new Error("Failed to share recipe.")}),W6=async e=>await Te.request(`revokeUserAccess-${e}`,async t=>{const{error:n}=await t.from(Ne.RECIPE_TO_USERS).delete().eq("id",e);if(n)throw new Error("Failed to revoke access.")}),Ke={getList:k6,getListWithTags:R6,getDetail:I6,upsert:O6,upsertIngredients:D6,deleteIngredients:L6,upsertSteps:M6,deleteSteps:P6,deleteById:F6,addOneToManyCollections:B6,addManyToOneCollection:U6,removeManyFromManyCollections:j6,getSharedUsers:H6,getIsPublic:$6,setIsPublic:z6,shareWithUser:q6,revokeAccess:W6},Y6=()=>{const e=zt(),t=Kn(),{id:n}=Bl(),{user:r}=ds(),a=!!n,[u,l]=T.useState(!1),[c,f]=T.useState(""),[h,g]=T.useState([]),[y,_]=T.useState(""),[x,v]=T.useState([]),[N,C]=T.useState(null),[I,M]=T.useState({title:"",description:"",img_url:"",recipes:[],tags:[]});T.useEffect(()=>{if(a){const J=t.state?.collection;J&&(M({title:J.title||"",description:J.description||"",img_url:J.img_url||"",recipes:J.recipes||[],tags:J.tags||[]}),C(J))}},[a,t.state?.collection]);const U=T.useCallback(async()=>{try{const J=await Ke.getList(0,25,c);J?.data&&g(J.data)}catch(J){console.error("Error fetching recipes:",J)}},[c]),O=T.useCallback(async()=>{try{const J=await Rn.getList(0,25,y);J?.data&&v(J.data)}catch(J){console.error("Error fetching tags:",J)}},[y]);return T.useEffect(()=>{U()},[U]),T.useEffect(()=>{O()},[O]),{formData:I,originalData:N,onFormChange:(J,re)=>{M(ue=>({...ue,[J]:re}))},isEditing:a,loading:u,setLoading:l,navigate:e,recipeList:h,tagList:x,setRecipeSearch:f,setTagSearch:_,userId:r?.id,collectionId:n}},Xf=(e,t)=>{if(e===t)return null;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return t;if(Array.isArray(e)&&Array.isArray(t)){const a=t.reduce((u,l,c)=>{const f=e[c];return typeof l=="object"&&l!==null?Xf(f,l)!==null&&u.push(l):l!==f&&u.push(l),u},[]);return e.length>t.length?t:a.length>0?a:null}const n={};return new Set([...Object.keys(e),...Object.keys(t)]).forEach(a=>{const u=Xf(e[a],t[a]);u!==null&&(n[a]=u)}),Object.keys(n).length>0?n:null},V6=(e,t)=>Xf(e,t)||{},G6=e=>Object.keys(e).reduce((t,n)=>{const r=e[n];return(typeof r=="string"||typeof r=="number"||typeof r=="boolean")&&(t[n]=r),t},{}),Q6=e=>e?.filter(t=>t.isActive).map(t=>t.id)||[],vi={getChangedFields:V6,extractSimpleValues:G6,getStepIngredientsToDelete:Q6},K6=(e,t,n,r,a)=>{const u=un(),l=zt();return{handleSave:async f=>{f.preventDefault();try{if(!a){u.error("User is not authenticated.");return}let h=r||"";if(t&&h&&n){const g=vi.getChangedFields(n,e);if(!g||Object.keys(g).length===0){u.info("No changes detected.");return}const y=vi.extractSimpleValues(g);await En.upsert(h,y),u.success("Collection updated successfully!"),await X6(h,n.tags||[],e.tags||[]),await J6(h,n.recipes||[],e.recipes||[])}else{const g=vi.extractSimpleValues(e),y=await En.upsert("",g,a);if(!y?.collectionId)throw new Error("Failed to create collection.");h=y.collectionId,e.tags&&e.tags.length>0&&await Rn.addToCollection(h,e.tags),e.recipes&&e.recipes.length>0&&await Ke.addManyToOneCollection(h,e.recipes),u.success("Collection added successfully!")}l(`/collections/${h}`)}catch(h){console.error(`Error ${t?"updating":"adding"} collection:`,h.message),u.error(`Failed to ${t?"update":"add"} collection. Please try again.`)}}}},X6=async(e,t,n)=>{const r=n.filter(u=>!t.some(l=>l.id===u.id)),a=t.filter(u=>!n.some(l=>l.id===u.id));r.length>0&&await Rn.addToCollection(e,r),a.length>0&&await Rn.removeFromCollection(e,a)},J6=async(e,t,n)=>{const r=n.filter(u=>!t.some(l=>l.id===u.id)),a=t.filter(u=>!n.some(l=>l.id===u.id));r.length>0&&await Ke.addManyToOneCollection(e,r),a.length>0&&await Ke.removeManyFromManyCollections([e],a)},m1=()=>{const{formData:e,originalData:t,onFormChange:n,isEditing:r,loading:a,navigate:u,recipeList:l,tagList:c,setRecipeSearch:f,setTagSearch:h,userId:g,collectionId:y}=Y6(),{handleSave:_}=K6(e,r,t,y,g);return b.jsxs("div",{className:"max-w-2xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-end items-center mb-4 gap-4",children:[b.jsx(He,{btnType:"dismissable",onClick:()=>u(-1),children:"Cancel"}),b.jsx(He,{onClick:_,isLoading:a,children:r?"Save":"Add"})]}),b.jsx(hy,{imgUrl:e.img_url,onImgUrlChange:x=>n("img_url",x)}),b.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md",children:[b.jsx(py,{title:e.title,description:e.description,onFormChange:n}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Recipes",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Recipes"}),b.jsx(Ri,{placeholder:"Search for recipes...",inputId:"Recipes",options:l,selectedOptions:e.recipes,setSelectedOptions:x=>n("recipes",x),onSearch:f})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Tags",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Tags"}),b.jsx(Ri,{placeholder:"Search for tags...",inputId:"Tags",options:c,selectedOptions:e.tags,setSelectedOptions:x=>n("tags",x),onSearch:h})]})]})]})},Z6=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(!1),a=un(),u=async l=>{if(l.preventDefault(),!e){a.error("Please enter your email.");return}try{r(!0),await cs.resetPassword(e,`${window.location.origin}/elysia/reset-password`),a.success("Password reset link sent to your email!")}catch(c){a.error(c.message)}finally{r(!1)}};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[b.jsx("div",{className:"flex flex-row justify-center m-2",children:b.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-center text-leaf-green-600 dark:text-white",children:"Reset Password"}),b.jsxs("form",{onSubmit:u,children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:l=>t(l.target.value),required:!0}),b.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx(He,{type:"submit",isLoading:n,className:"w-full",children:n?"Sending...":"Send Reset Link"}),b.jsx(sn,{to:"/sign-in",children:b.jsx(He,{btnType:"secondary",className:"w-full",children:"Back to Sign In"})})]})]})]})})},my=({value:e,index:t})=>b.jsx("li",{className:"text-leaf-green-800 dark:text-gray-200 p-2",children:e},t),eO=({ingredients:e})=>b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Ingredients"}),b.jsx("ul",{className:"list-disc pl-6 mb-6",children:e?.map((t,n)=>b.jsx(my,{value:t.value,index:n},n))})]}),tO=({steps:e})=>b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mt-8 mb-2",children:"Steps"}),e?.length>0&&b.jsx("ol",{className:"list-decimal pl-6 mb-6 text-leaf-green-800 dark:text-gray-300",children:e.map((t,n)=>b.jsx(my,{value:t.value,index:n},n))})]}),nO=864e5,rO=6e4,sO=36e5,g1=Symbol.for("constructDateFrom");function Ii(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&g1 in e?e[g1](t):e instanceof Date?new e.constructor(t):new Date(t)}function In(e,t){return Ii(e,e)}function iO(e,t,n){const r=In(e);return isNaN(t)?Ii(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function aO(e,t,n){const r=In(e);if(isNaN(t))return Ii(e,NaN);if(!t)return r;const a=r.getDate(),u=Ii(e,r.getTime());u.setMonth(r.getMonth()+t+1,0);const l=u.getDate();return a>=l?u:(r.setFullYear(u.getFullYear(),u.getMonth(),a),r)}function Ya(e,t,n){const{years:r=0,months:a=0,weeks:u=0,days:l=0,hours:c=0,minutes:f=0,seconds:h=0}=t,g=In(e),y=a||r?aO(g,a+r*12):g,_=l||u?iO(y,l+u*7):y,x=f+c*60,N=(h+x*60)*1e3;return Ii(e,+_+N)}let uO={};function oO(){return uO}function E1(e){const t=In(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ps(e,...t){const n=Ii.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function b1(e,t){const n=In(e);return n.setHours(0,0,0,0),n}function lO(e,t,n){const[r,a]=ps(n?.in,e,t),u=b1(r),l=b1(a),c=+u-E1(u),f=+l-E1(l);return Math.round((c-f)/nO)}function au(e,t){const n=+In(e)-+In(t);return n<0?-1:n>0?1:n}function cO(e,t,n){const[r,a]=ps(n?.in,e,t),u=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return u*12+l}function dO(e,t,n){const[r,a]=ps(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function fO(e,t,n){const[r,a]=ps(n?.in,e,t),u=y1(r,a),l=Math.abs(lO(r,a));r.setDate(r.getDate()-u*l);const c=+(y1(r,a)===-u),f=u*(l-c);return f===0?0:f}function y1(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Qh(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function hO(e,t,n){const[r,a]=ps(n?.in,e,t),u=(+r-+a)/sO;return Qh(n?.roundingMethod)(u)}function gy(e,t){return+In(e)-+In(t)}function pO(e,t,n){const r=gy(e,t)/rO;return Qh(n?.roundingMethod)(r)}function mO(e,t){const n=In(e);return n.setHours(23,59,59,999),n}function gO(e,t){const n=In(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function EO(e,t){const n=In(e);return+mO(n)==+gO(n)}function bO(e,t,n){const[r,a,u]=ps(n?.in,e,e,t),l=au(a,u),c=Math.abs(cO(a,u));if(c<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*c);let f=au(a,u)===-l;EO(r)&&c===1&&au(r,u)===1&&(f=!1);const h=l*(c-+f);return h===0?0:h}function yO(e,t,n){const r=gy(e,t)/1e3;return Qh(n?.roundingMethod)(r)}function TO(e,t,n){const[r,a]=ps(n?.in,e,t),u=au(r,a),l=Math.abs(dO(r,a));r.setFullYear(1584),a.setFullYear(1584);const c=au(r,a)===-u,f=u*(l-+c);return f===0?0:f}function _O(e,t){const[n,r]=ps(e,t.start,t.end);return{start:n,end:r}}const wO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xO=(e,t,n)=>{let r;const a=wO[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const vO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AO={date:gf({formats:vO,defaultWidth:"full"}),time:gf({formats:SO,defaultWidth:"full"}),dateTime:gf({formats:CO,defaultWidth:"full"})},NO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kO=(e,t,n,r)=>NO[e];function Va(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n?.width?String(n.width):l;a=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n?.width?String(n.width):e.defaultWidth;a=e.values[c]||e.values[l]}const u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}const RO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},FO={ordinalNumber:MO,era:Va({values:RO,defaultWidth:"wide"}),quarter:Va({values:IO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Va({values:OO,defaultWidth:"wide"}),day:Va({values:LO,defaultWidth:"wide"}),dayPeriod:Va({values:DO,defaultWidth:"wide",formattingValues:PO,defaultFormattingWidth:"wide"})};function Ga(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],u=t.match(a);if(!u)return null;const l=u[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(c)?UO(c,y=>y.test(l)):BO(c,y=>y.test(l));let h;h=e.valueCallback?e.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const g=t.slice(l.length);return{value:h,rest:g}}}function BO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function UO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function jO(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],u=t.match(e.parsePattern);if(!u)return null;let l=e.valueCallback?e.valueCallback(u[0]):u[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(a.length);return{value:l,rest:c}}}const HO=/^(\d+)(th|st|nd|rd)?/i,$O=/\d+/i,zO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qO={any:[/^b/i,/^(a|c)/i]},WO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YO={any:[/1/i,/2/i,/3/i,/4/i]},VO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZO={ordinalNumber:jO({matchPattern:HO,parsePattern:$O,valueCallback:e=>parseInt(e,10)}),era:Ga({matchPatterns:zO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any"}),quarter:Ga({matchPatterns:WO,defaultMatchWidth:"wide",parsePatterns:YO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ga({matchPatterns:VO,defaultMatchWidth:"wide",parsePatterns:GO,defaultParseWidth:"any"}),day:Ga({matchPatterns:QO,defaultMatchWidth:"wide",parsePatterns:KO,defaultParseWidth:"any"}),dayPeriod:Ga({matchPatterns:XO,defaultMatchWidth:"any",parsePatterns:JO,defaultParseWidth:"any"})},e4={code:"en-US",formatDistance:xO,formatLong:AO,formatRelative:kO,localize:FO,match:ZO,options:{weekStartsOn:0,firstWeekContainsDate:1}},t4=["years","months","weeks","days","hours","minutes","seconds"];function n4(e,t){const n=oO(),r=t?.locale??n.locale??e4,a=t?.format??t4,u=t?.zero??!1,l=t?.delimiter??" ";return r.formatDistance?a.reduce((f,h)=>{const g=`x${h.replace(/(^.)/,_=>_.toUpperCase())}`,y=e[h];return y!==void 0&&(u||e[h])?f.concat(r.formatDistance(g,y)):f},[]).join(l):""}function r4(e,t){const{start:n,end:r}=_O(t?.in,e),a={},u=TO(r,n);u&&(a.years=u);const l=Ya(n,{years:a.years}),c=bO(r,l);c&&(a.months=c);const f=Ya(l,{months:a.months}),h=fO(r,f);h&&(a.days=h);const g=Ya(f,{days:a.days}),y=hO(r,g);y&&(a.hours=y);const _=Ya(g,{hours:a.hours}),x=pO(r,_);x&&(a.minutes=x);const v=Ya(_,{minutes:a.minutes}),N=yO(r,v);return N&&(a.seconds=N),a}const T1=e=>{const t=r4({start:0,end:(e||0)*60*1e3});return n4(t,{format:["hours","minutes"]})},s4=({activeTab:e,onTabChange:t})=>b.jsx("div",{className:"block md:hidden mb-4",children:b.jsxs("div",{className:"border-b border-gray-300 dark:border-gray-700 flex",children:[b.jsx("button",{className:`flex-1 p-2 text-lg font-semibold ${e==="ingredients"?"border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100":"text-gray-500"}`,onClick:()=>t("ingredients"),children:"Ingredients"}),b.jsx("button",{className:`flex-1 p-2 text-lg font-semibold ${e==="directions"?"border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100":"text-gray-500"}`,onClick:()=>t("directions"),children:"Directions"})]})});function i4({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const a4=T.forwardRef(i4),u4=({index:e,ingredient:t,isChecked:n,onCheck:r})=>b.jsxs("div",{className:"flex items-start gap-3",onClick:()=>r(e),children:[b.jsx("input",{type:"checkbox",checked:n,onChange:()=>r(e),className:"peer hidden",id:`checkbox-${e}`}),b.jsx("label",{htmlFor:`checkbox-${e}`,className:`w-6 h-6 flex items-center justify-center border-2 border-gray-400 rounded-md cursor-pointer transition-all 
            peer-checked:bg-leaf-green-500 peer-checked:border-leaf-green-500 
            dark:border-gray-600 dark:peer-checked:bg-leaf-green-400 dark:peer-checked:border-leaf-green-400`,children:b.jsx(a4,{className:`w-4 h-4 text-white peer-checked:block ${!n&&"hidden"}`})}),b.jsx("span",{className:`text-lg leading-6 flex-1 transition-all ${n?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-gray-300"}`,children:t.value})]}),Ey=({ingredients:e,checkedItems:t,onCheck:n})=>b.jsx("div",{className:"flex flex-col space-y-4",children:e.map((r,a)=>b.jsx(u4,{ingredient:r,index:a,onCheck:n,isChecked:!!t[a]||!1},a))}),by=({steps:e})=>b.jsx("ol",{className:"list-decimal space-y-4 ml-5 text-gray-800 dark:text-gray-300",children:e.map((t,n)=>b.jsx("li",{className:"text-lg p-2 leading-relaxed",children:t.value},n))}),o4=({recipe:e,checkedItems:t,onCheck:n})=>b.jsxs("div",{className:"hidden md:flex md:flex-row gap-6 w-full",children:[b.jsxs("div",{className:"w-1/3 h-full overflow-y-auto px-4 xs:py-4 border-r border-gray-300 dark:border-leaf-green-100",children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Ingredients"}),b.jsx(Ey,{ingredients:e.ingredients,checkedItems:t,onCheck:n})]}),b.jsxs("div",{className:"w-2/3 h-full overflow-y-auto px-4 xs:py-4",children:[b.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Directions"}),b.jsx(by,{steps:e.steps})]})]}),l4=({activeTab:e,recipe:t,checkedItems:n,onCheck:r})=>b.jsx("div",{className:"block md:hidden h-full w-full overflow-y-auto px-4 sm:pt-4",children:e==="ingredients"?b.jsx(Ey,{ingredients:t.ingredients,checkedItems:n,onCheck:r}):b.jsx(by,{steps:t.steps})}),c4=({recipe:e})=>{const[t,n]=T.useState({}),[r,a]=T.useState("ingredients"),u=l=>{n(c=>({...c,[l]:!c[l]}))};return b.jsxs("div",{className:"w-full h-full p-4 pt-[1.5rem]",children:[b.jsx(s4,{activeTab:r,onTabChange:a}),b.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[b.jsx(l4,{activeTab:r,recipe:e,checkedItems:t,onCheck:u}),b.jsx(o4,{recipe:e,checkedItems:t,onCheck:u})]})]})},Ef=({label:e,value:t})=>b.jsxs(b.Fragment,{children:[b.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:e}),b.jsx("div",{className:"text-leaf-green-700 dark:text-white",children:b.jsx("strong",{children:t})})]}),d4=({recipe:e})=>{const{openModal:t}=hr(),n=()=>{t(b.jsx(c4,{recipe:e}),Bs.Large)};return b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs(He,{className:"w-full bg-white",btnType:"secondary",onClick:n,children:["Get Cookin",b.jsx(xv,{className:"h-5 w-5"})]}),b.jsxs("div",{className:"py-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[b.jsx("div",{className:"mb-2",children:b.jsx(Ef,{label:"servings",value:e.servings})}),b.jsx("div",{className:"mb-2",children:b.jsx(Ef,{label:"prep time",value:T1(e.prep_time)})}),b.jsx("div",{className:"mb-3",children:b.jsx(Ef,{label:"total time",value:T1(e.total_time)})})]}),e.collections&&e.collections.length>0&&b.jsxs("div",{className:"pt-2 pb-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[b.jsx("div",{className:"mb-1",children:b.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:"collections"})}),b.jsx("div",{className:"flex flex-wrap gap-2",children:e.collections.map(r=>b.jsx(fu,{title:r.title,isReadOnly:!0},r.id))})]}),e.tags&&e.tags.length>0&&b.jsxs("div",{className:"pt-2 pb-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[b.jsx("div",{className:"mb-1",children:b.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:"tags"})}),b.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(r=>b.jsx(fu,{title:r.title,isReadOnly:!0},r.id))})]})]})},f4=({recipe:e})=>{const t=zt(),n=un(),{openModal:r,closeModal:a}=hr();let u=e.is_public;const[l,c]=T.useState([]),f=()=>{t(`/recipes/${e.id}/edit`,{state:{recipe:e}})},h=()=>r(b.jsx(ly,{label:"recipe",onCancelDelete:a,onDelete:N})),g=async()=>{u=!u;try{await Ke.setIsPublic(e.id,u),n.success(`Recipe is now ${u?"public":"private"}!`)}catch(I){n.error(I.message)}},y=async(I,M)=>{if(!I)return n.error("Please enter a valid email.");try{const U=await cs.findByEmail(I);if(!U)throw Error("user not found");await Ke.shareWithUser(e.id,U?.id,M),n.success(`Recipe shared with ${U.display_name} as ${M}.`);const O=await Ke.getSharedUsers(e.id);c(O)}catch(U){n.error(U.message)}},_=async I=>{try{await Ke.revokeAccess(I),n.success("Access revoked.");const M=await Ke.getSharedUsers(e.id);c(M)}catch(M){n.error(M.message)}},x=()=>{const I=`${window.location.origin}/recipes/${e.id}`;navigator.clipboard.writeText(I),n.success("Public link copied!")},v=()=>{r(b.jsx(oy,{typeOfShare:"Recipe",sharedUsers:l,isPublic:u,onTogglePublicShare:g,shareWithUser:y,onRevokeAccess:_,onCopyLink:x,onClose:a}))},N=async()=>{try{await Ke.deleteById(e.id),n.success("Recipe deleted successfully!"),a(),t("/")}catch{n.error("Failed to delete recipe. Please try again.")}},C=[{label:"Edit",onClick:f},{label:"Delete",onClick:h},{label:"Share",onClick:v}];return b.jsx(Hl,{options:C,icon:b.jsx(EE,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})},h4=e=>({id:e?.id||"",title:e?.title||"",description:e?.description||"",img_url:e?.img_url||"",original_recipe_url:e?.original_recipe_url||"",prep_time:e?.prep_time||0,cook_time:e?.cook_time||0,servings:e?.servings||1,is_public:e?.is_public||!1,total_time:e?.prep_time+e?.cook_time||0,steps:(e?.steps||[]).sort((n,r)=>n.sort_number-r.sort_number).map(n=>({...n,isActive:!0})),ingredients:(e?.ingredients||[]).sort((n,r)=>n.sort_number-r.sort_number).map(n=>({...n,isActive:!0})),collections:(e?.collection_to_recipes||[]).flatMap(n=>n.collections),tags:(e?.recipe_to_tags||[]).flatMap(n=>n.tags)}),p4=(e,t)=>{const[n,r]=T.useState(null),[a,u]=T.useState(!0),l=async()=>{u(!0);try{const c=await Ke.getDetail(e,t);r(h4(c))}catch(c){console.error("Failed to fetch recipe details",c)}finally{u(!1)}};return T.useEffect(()=>{e&&l()},[e,t]),{recipe:n,loading:a,fetchRecipe:l}},m4=({recipeId:e,collectionAdded:t})=>{const{closeModal:n}=hr(),r=un(),[a,u]=T.useState([]),[l,c]=T.useState([]),[f,h]=T.useState(""),g=_=>{h(_)};T.useEffect(()=>{(async()=>{try{const x=await En.getList(0,25,f);x&&x.data&&u(x.data)}catch(x){console.error("Error fetching tags:",x)}})()},[f]);const y=async()=>{const _=l.map(x=>x.id);if(e&&_.length>0)try{await Ke.addOneToManyCollections(e,_),t(),r.success("Recipe has been added to selected collection(s)!"),n()}catch(x){console.error("Error fetching tags:",x)}};return b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Save Recipe"}),b.jsx(Ri,{inputId:"collections",options:a,selectedOptions:l,placeholder:"Select collections",setSelectedOptions:_=>c(_),onSearch:g}),b.jsxs("div",{className:"flex justify-end mt-4",children:[b.jsx(He,{btnType:"secondary",onClick:n,children:"Cancel"}),b.jsx(He,{btnType:"primary",onClick:y,className:"ml-2",children:"Save"})]})]})},g4=({recipeId:e,tagAdded:t})=>{const{closeModal:n}=hr(),r=un(),[a,u]=T.useState([]),[l,c]=T.useState([]),[f,h]=T.useState(""),g=_=>{h(_)};T.useEffect(()=>{(async()=>{try{const x=await Rn.getList(0,25,f);x&&x.data&&u(x.data)}catch(x){console.error("Error fetching tags:",x)}})()},[f]);const y=async()=>{if(e)try{await Rn.addToRecipe(e,l),t(),r.success("Tags have been added to recipe!"),n()}catch(_){console.error("Error associating tags:",_)}};return b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Save Recipe"}),b.jsx(Ri,{inputId:"tags",options:a,selectedOptions:l,placeholder:"Select tags",setSelectedOptions:_=>c(_),onSearch:g}),b.jsxs("div",{className:"flex justify-end mt-4",children:[b.jsx(He,{btnType:"secondary",onClick:n,children:"Cancel"}),b.jsx(He,{btnType:"primary",onClick:y,className:"ml-2",children:"Save"})]})]})},E4=()=>{const{id:e}=Bl(),{user:t}=ds(),{openModal:n}=hr(),{recipe:r,loading:a,fetchRecipe:u}=p4(e,t?.id);if(a)return b.jsx(qs,{className:"mt-40"});if(!r)return b.jsx(Du,{message:"Recipe not found."});const l=[{label:"Add Tags",onClick:()=>n(b.jsx(g4,{recipeId:r.id,tagAdded:u}))},{label:"Add to Collection",onClick:()=>n(b.jsx(m4,{recipeId:r.id,collectionAdded:u}))}];return b.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[b.jsx(b4,{user:t,options:l,recipe:r}),b.jsx(y4,{recipe:r})]})},b4=({user:e,options:t,recipe:n})=>b.jsxs("div",{className:"w-full flex justify-between items-center mb-4",children:[b.jsx(sn,{to:"/",children:b.jsxs("div",{className:"flex items-center font-medium text-leaf-green-600 dark:text-leaf-green-100",children:[b.jsx(gE,{className:"size-6"}),b.jsx("p",{children:"Recipes"})]})}),e?.id&&b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Hl,{options:t,icon:b.jsx(bh,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})}),b.jsx(f4,{recipe:n})]})]}),y4=({recipe:e})=>b.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-6",children:[b.jsxs("div",{className:"w-full md:w-3/4",children:[e.img_url&&b.jsx("img",{src:e.img_url,alt:e.title,className:"w-full h-64 object-cover rounded-t-lg"}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 p-6 ${!e.img_url&&"rounded-lg"}`,children:[b.jsx(Lu,{title:e.title,description:e.description}),b.jsx(eO,{ingredients:e.ingredients}),b.jsx(tO,{steps:e.steps}),e.original_recipe_url&&b.jsx(T4,{url:e.original_recipe_url})]})]}),b.jsx("div",{className:"w-full md:w-1/4",children:b.jsx(d4,{recipe:e})})]}),T4=({url:e})=>b.jsx("div",{className:"mx-2",children:b.jsxs("small",{children:["source:"," ",b.jsx("a",{className:"pl-1 italic",href:e,children:e})]})});function _4(){const[e,t]=T.useState([]),[n,r]=T.useState(""),[a,u]=T.useState(0),[l,c]=T.useState(!1),[f,h]=T.useState(!0),{user:g}=ds(),y=async()=>{u(0),t([]),await x(0,n)},_=async()=>{!l&&f&&await x(a,n)},x=async(v,N)=>{c(!0);try{const C=await Ke.getList(v,10,N,g?.id);if(!C)throw new Error("Something went wrong.");t(I=>v===0?C.data:[...I,...C.data]),u(v+C.data.length),h(C.data.length>0)}catch(C){console.error("Error fetching recipes:",C)}finally{c(!1)}};return{recipes:e,searchTerm:n,setSearchTerm:r,loading:l,hasMore:f,resetAndLoadRecipes:y,loadMoreRecipes:_}}const w4=({options:e=[],selectedOptions:t=[],placeholder:n="Filter recipes...",setSelectedOptions:r,onSearch:a})=>{const[u,l]=T.useState(!1),[c,f]=T.useState(""),[h,g]=T.useState(!1),y=T.useRef(null),_=T.useRef(null);T.useEffect(()=>{const C=setTimeout(()=>{a(c)},500);return()=>clearTimeout(C)},[c,a]),T.useEffect(()=>{const C=I=>{y.current&&!y.current.contains(I.target)&&l(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),T.useEffect(()=>{u&&_.current&&_.current.focus()},[u]),T.useEffect(()=>{if(u&&y.current){const C=y.current.getBoundingClientRect(),I=window.innerHeight-C.bottom;g(I<250)}},[u]);const x=C=>{const I=t.find(M=>M.id===C.id);r(I?t.filter(M=>M.id!==C.id):[...t,C])},v=C=>{r(t.filter(I=>I.id!==C.id))},N=()=>{f(""),r([])};return b.jsxs("div",{className:"relative w-full pb-4",ref:y,children:[b.jsxs("div",{className:`border border-gray-300 p-2 cursor-text flex flex-wrap items-center gap-2 ${u?`rounded-${h?"b":"t"}-lg`:"rounded-lg"}`,onClick:()=>e.length>0&&l(!0),children:[b.jsx(kv,{className:"w-5 h-5"}),t.map(C=>b.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded flex items-center",children:[C.title,b.jsx("button",{className:"ml-1 text-gray-600 hover:text-gray-800",onClick:I=>{I.stopPropagation(),v(C)},children:""})]},C.id)),b.jsx("input",{type:"text",ref:_,placeholder:t.length===0?n:"",className:"flex-1 p-1 border-none outline-none bg-transparent text-gray-900",value:c,onChange:C=>f(C.target.value)}),(c?.length>0||t?.length>0)&&b.jsx(Eh,{className:"w-6 h-6 cursor-pointer",title:"Clear Search Bar",onClick:N})]}),u&&e.length>0&&b.jsx("div",{className:`absolute w-full max-w-[320px] border border-gray-300 bg-white shadow-md max-h-60 overflow-y-auto z-50 ${h?"bottom-full pb-2 rounded-t-lg":"top-full pt-2 rounded-b-lg"}`,children:e.map(C=>b.jsx("div",{className:`p-2 flex justify-between items-center cursor-pointer hover:bg-gray-100 ${t.some(I=>I.id===C.id)?"bg-blue-50":""}`,onClick:()=>x(C),children:b.jsx("span",{children:C.title})},C.id))})]})};function x4(){const{recipes:e,loading:t,hasMore:n,searchTerm:r,setSearchTerm:a,resetAndLoadRecipes:u,loadMoreRecipes:l}=_4(),[c,f]=T.useState([]),{openModal:h,closeModal:g}=hr(),y=T.useRef(null),_=()=>{h(b.jsx(Vh,{onClose:g}))},x=T.useCallback(()=>{!t&&n&&l()},[n,t,l]);return T.useEffect(()=>{u()},[r]),T.useEffect(()=>{const v=new IntersectionObserver(([N])=>N.isIntersecting&&x(),{rootMargin:"100px",threshold:.1});return y.current&&v.observe(y.current),()=>v.disconnect()},[x]),b.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col justify-center items-center text-center transition-all duration-300",children:[b.jsx(Lu,{classes:"mb-4",title:"Recipes",actionName:"+ New Recipe",onAction:_}),b.jsx(w4,{options:[],selectedOptions:c,setSelectedOptions:f,onSearch:a}),e.length===0&&!t?b.jsx(Du,{message:"No recipes found. Add some delicious ones to get started!"}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:e.map(v=>b.jsx(sn,{to:`/recipes/${v.id}`,children:b.jsx(Gh,{...v})},v.id))}),t&&b.jsx(qs,{className:"mt-6"}),!n&&!t&&b.jsx("div",{className:"text-gray-500 mt-6 animate-fade-in",children:"Youve reached the end! No more recipes to load."}),n&&b.jsx("div",{ref:y,className:"h-1"})]})}function v4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const ic=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Hi(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Kh(e){return"nodeType"in e}function on(e){var t,n;return e?Hi(e)?e:Kh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Xh(e){const{Document:t}=on(e);return e instanceof t}function Pu(e){return Hi(e)?!1:e instanceof on(e).HTMLElement}function yy(e){return e instanceof on(e).SVGElement}function $i(e){return e?Hi(e)?e.document:Kh(e)?Xh(e)?e:Pu(e)||yy(e)?e.ownerDocument:document:document:document}const fr=ic?T.useLayoutEffect:T.useEffect;function Jh(e){const t=T.useRef(e);return fr(()=>{t.current=e}),T.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function S4(){const e=T.useRef(null),t=T.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=T.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Tu(e,t){t===void 0&&(t=[e]);const n=T.useRef(e);return fr(()=>{n.current!==e&&(n.current=e)},t),n}function Mu(e,t){const n=T.useRef();return T.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Ol(e){const t=Jh(e),n=T.useRef(null),r=T.useCallback(a=>{a!==n.current&&t?.(a,n.current),n.current=a},[]);return[n,r]}function Jf(e){const t=T.useRef();return T.useEffect(()=>{t.current=e},[e]),t.current}let bf={};function Fu(e,t){return T.useMemo(()=>{if(t)return t;const n=bf[e]==null?0:bf[e]+1;return bf[e]=n,e+"-"+n},[e,t])}function Ty(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((u,l)=>{const c=Object.entries(l);for(const[f,h]of c){const g=u[f];g!=null&&(u[f]=g+e*h)}return u},{...t})}}const Si=Ty(1),Ll=Ty(-1);function C4(e){return"clientX"in e&&"clientY"in e}function Zh(e){if(!e)return!1;const{KeyboardEvent:t}=on(e.target);return t&&e instanceof t}function A4(e){if(!e)return!1;const{TouchEvent:t}=on(e.target);return t&&e instanceof t}function Zf(e){if(A4(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return C4(e)?{x:e.clientX,y:e.clientY}:null}const _u=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[_u.Translate.toString(e),_u.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),_1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function N4(e){return e.matches(_1)?e:e.querySelector(_1)}const k4={display:"none"};function R4(e){let{id:t,value:n}=e;return nn.createElement("div",{id:t,style:k4},n)}function I4(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return nn.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function O4(){const[e,t]=T.useState("");return{announce:T.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const _y=T.createContext(null);function L4(e){const t=T.useContext(_y);T.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function D4(){const[e]=T.useState(()=>new Set),t=T.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[T.useCallback(r=>{let{type:a,event:u}=r;e.forEach(l=>{var c;return(c=l[a])==null?void 0:c.call(l,u)})},[e]),t]}const P4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},M4={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function F4(e){let{announcements:t=M4,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=P4}=e;const{announce:u,announcement:l}=O4(),c=Fu("DndLiveRegion"),[f,h]=T.useState(!1);if(T.useEffect(()=>{h(!0)},[]),L4(T.useMemo(()=>({onDragStart(y){let{active:_}=y;u(t.onDragStart({active:_}))},onDragMove(y){let{active:_,over:x}=y;t.onDragMove&&u(t.onDragMove({active:_,over:x}))},onDragOver(y){let{active:_,over:x}=y;u(t.onDragOver({active:_,over:x}))},onDragEnd(y){let{active:_,over:x}=y;u(t.onDragEnd({active:_,over:x}))},onDragCancel(y){let{active:_,over:x}=y;u(t.onDragCancel({active:_,over:x}))}}),[u,t])),!f)return null;const g=nn.createElement(nn.Fragment,null,nn.createElement(R4,{id:r,value:a.draggable}),nn.createElement(I4,{id:c,announcement:l}));return n?Qa.createPortal(g,n):g}var pt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(pt||(pt={}));function Dl(){}const Vn=Object.freeze({x:0,y:0});function B4(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function U4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function j4(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function H4(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function w1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const $4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=w1(t,t.left,t.top),u=[];for(const l of r){const{id:c}=l,f=n.get(c);if(f){const h=B4(w1(f),a);u.push({id:c,data:{droppableContainer:l,value:h}})}}return u.sort(U4)};function z4(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),u=Math.min(t.top+t.height,e.top+e.height),l=a-r,c=u-n;if(r<a&&n<u){const f=t.width*t.height,h=e.width*e.height,g=l*c,y=g/(f+h-g);return Number(y.toFixed(4))}return 0}const q4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const u of r){const{id:l}=u,c=n.get(l);if(c){const f=z4(c,t);f>0&&a.push({id:l,data:{droppableContainer:u,value:f}})}}return a.sort(j4)};function W4(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function wy(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Vn}function Y4(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return a.reduce((l,c)=>({...l,top:l.top+e*c.y,bottom:l.bottom+e*c.y,left:l.left+e*c.x,right:l.right+e*c.x}),{...n})}}const V4=Y4(1);function G4(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Q4(e,t,n){const r=G4(t);if(!r)return e;const{scaleX:a,scaleY:u,x:l,y:c}=r,f=e.left-l-(1-a)*parseFloat(n),h=e.top-c-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?e.width/a:e.width,y=u?e.height/u:e.height;return{width:g,height:y,top:h,right:f+g,bottom:h+y,left:f}}const K4={ignoreTransform:!1};function zi(e,t){t===void 0&&(t=K4);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:g}=on(e).getComputedStyle(e);h&&(n=Q4(n,h,g))}const{top:r,left:a,width:u,height:l,bottom:c,right:f}=n;return{top:r,left:a,width:u,height:l,bottom:c,right:f}}function x1(e){return zi(e,{ignoreTransform:!0})}function X4(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function J4(e,t){return t===void 0&&(t=on(e).getComputedStyle(e)),t.position==="fixed"}function Z4(e,t){t===void 0&&(t=on(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const u=t[a];return typeof u=="string"?n.test(u):!1})}function e0(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(Xh(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Pu(a)||yy(a)||n.includes(a))return n;const u=on(e).getComputedStyle(a);return a!==e&&Z4(a,u)&&n.push(a),J4(a,u)?n:r(a.parentNode)}return e?r(e):n}function xy(e){const[t]=e0(e,1);return t??null}function yf(e){return!ic||!e?null:Hi(e)?e:Kh(e)?Xh(e)||e===$i(e).scrollingElement?window:Pu(e)?e:null:null}function vy(e){return Hi(e)?e.scrollX:e.scrollLeft}function Sy(e){return Hi(e)?e.scrollY:e.scrollTop}function eh(e){return{x:vy(e),y:Sy(e)}}var _t;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(_t||(_t={}));function Cy(e){return!ic||!e?!1:e===document.scrollingElement}function Ay(e){const t={x:0,y:0},n=Cy(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,u=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,c=e.scrollLeft>=r.x;return{isTop:a,isLeft:u,isBottom:l,isRight:c,maxScroll:r,minScroll:t}}const eL={x:.2,y:.2};function tL(e,t,n,r,a){let{top:u,left:l,right:c,bottom:f}=n;r===void 0&&(r=10),a===void 0&&(a=eL);const{isTop:h,isBottom:g,isLeft:y,isRight:_}=Ay(e),x={x:0,y:0},v={x:0,y:0},N={height:t.height*a.y,width:t.width*a.x};return!h&&u<=t.top+N.height?(x.y=_t.Backward,v.y=r*Math.abs((t.top+N.height-u)/N.height)):!g&&f>=t.bottom-N.height&&(x.y=_t.Forward,v.y=r*Math.abs((t.bottom-N.height-f)/N.height)),!_&&c>=t.right-N.width?(x.x=_t.Forward,v.x=r*Math.abs((t.right-N.width-c)/N.width)):!y&&l<=t.left+N.width&&(x.x=_t.Backward,v.x=r*Math.abs((t.left+N.width-l)/N.width)),{direction:x,speed:v}}function nL(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:l}=window;return{top:0,left:0,right:u,bottom:l,width:u,height:l}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Ny(e){return e.reduce((t,n)=>Si(t,eh(n)),Vn)}function rL(e){return e.reduce((t,n)=>t+vy(n),0)}function sL(e){return e.reduce((t,n)=>t+Sy(n),0)}function iL(e,t){if(t===void 0&&(t=zi),!e)return;const{top:n,left:r,bottom:a,right:u}=t(e);xy(e)&&(a<=0||u<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const aL=[["x",["left","right"],rL],["y",["top","bottom"],sL]];class t0{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=e0(n),a=Ny(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,l,c]of aL)for(const f of l)Object.defineProperty(this,f,{get:()=>{const h=c(r),g=a[u]-h;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class uu{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function uL(e){const{EventTarget:t}=on(e);return e instanceof t?e:$i(e)}function Tf(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Nn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Nn||(Nn={}));function v1(e){e.preventDefault()}function oL(e){e.stopPropagation()}var Be;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Be||(Be={}));const ky={start:[Be.Space,Be.Enter],cancel:[Be.Esc],end:[Be.Space,Be.Enter,Be.Tab]},lL=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Be.Right:return{...n,x:n.x+25};case Be.Left:return{...n,x:n.x-25};case Be.Down:return{...n,y:n.y+25};case Be.Up:return{...n,y:n.y-25}}};class Ry{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new uu($i(n)),this.windowListeners=new uu(on(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Nn.Resize,this.handleCancel),this.windowListeners.add(Nn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Nn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&iL(r),n(Vn)}handleKeyDown(t){if(Zh(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:u=ky,coordinateGetter:l=lL,scrollBehavior:c="smooth"}=a,{code:f}=t;if(u.end.includes(f)){this.handleEnd(t);return}if(u.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:h}=r.current,g=h?{x:h.left,y:h.top}:Vn;this.referenceCoordinates||(this.referenceCoordinates=g);const y=l(t,{active:n,context:r.current,currentCoordinates:g});if(y){const _=Ll(y,g),x={x:0,y:0},{scrollableAncestors:v}=r.current;for(const N of v){const C=t.code,{isTop:I,isRight:M,isLeft:U,isBottom:O,maxScroll:q,minScroll:J}=Ay(N),re=nL(N),ue={x:Math.min(C===Be.Right?re.right-re.width/2:re.right,Math.max(C===Be.Right?re.left:re.left+re.width/2,y.x)),y:Math.min(C===Be.Down?re.bottom-re.height/2:re.bottom,Math.max(C===Be.Down?re.top:re.top+re.height/2,y.y))},Ee=C===Be.Right&&!M||C===Be.Left&&!U,ke=C===Be.Down&&!O||C===Be.Up&&!I;if(Ee&&ue.x!==y.x){const Ie=N.scrollLeft+_.x,rt=C===Be.Right&&Ie<=q.x||C===Be.Left&&Ie>=J.x;if(rt&&!_.y){N.scrollTo({left:Ie,behavior:c});return}rt?x.x=N.scrollLeft-Ie:x.x=C===Be.Right?N.scrollLeft-q.x:N.scrollLeft-J.x,x.x&&N.scrollBy({left:-x.x,behavior:c});break}else if(ke&&ue.y!==y.y){const Ie=N.scrollTop+_.y,rt=C===Be.Down&&Ie<=q.y||C===Be.Up&&Ie>=J.y;if(rt&&!_.x){N.scrollTo({top:Ie,behavior:c});return}rt?x.y=N.scrollTop-Ie:x.y=C===Be.Down?N.scrollTop-q.y:N.scrollTop-J.y,x.y&&N.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(t,Si(Ll(y,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ry.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=ky,onActivation:a}=t,{active:u}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const c=u.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),a?.({event:e.nativeEvent}),!0)}return!1}}];function S1(e){return!!(e&&"distance"in e)}function C1(e){return!!(e&&"delay"in e)}class n0{constructor(t,n,r){var a;r===void 0&&(r=uL(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:u}=t,{target:l}=u;this.props=t,this.events=n,this.document=$i(l),this.documentListeners=new uu(this.document),this.listeners=new uu(r),this.windowListeners=new uu(on(l)),this.initialCoordinates=(a=Zf(u))!=null?a:Vn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Nn.Resize,this.handleCancel),this.windowListeners.add(Nn.DragStart,v1),this.windowListeners.add(Nn.VisibilityChange,this.handleCancel),this.windowListeners.add(Nn.ContextMenu,v1),this.documentListeners.add(Nn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(C1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(S1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Nn.Click,oL,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Nn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:u}=this,{onMove:l,options:{activationConstraint:c}}=u;if(!a)return;const f=(n=Zf(t))!=null?n:Vn,h=Ll(a,f);if(!r&&c){if(S1(c)){if(c.tolerance!=null&&Tf(h,c.tolerance))return this.handleCancel();if(Tf(h,c.distance))return this.handleStart()}if(C1(c)&&Tf(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}t.cancelable&&t.preventDefault(),l(f)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Be.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const cL={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Iy extends n0{constructor(t){const{event:n}=t,r=$i(n.target);super(t,cL,r)}}Iy.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const dL={move:{name:"mousemove"},end:{name:"mouseup"}};var th;(function(e){e[e.RightClick=2]="RightClick"})(th||(th={}));class fL extends n0{constructor(t){super(t,dL,$i(t.event.target))}}fL.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===th.RightClick?!1:(r?.({event:n}),!0)}}];const _f={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class hL extends n0{constructor(t){super(t,_f)}static setup(){return window.addEventListener(_f.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(_f.move.name,t)};function t(){}}}hL.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var ou;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ou||(ou={}));var Pl;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Pl||(Pl={}));function pL(e){let{acceleration:t,activator:n=ou.Pointer,canScroll:r,draggingRect:a,enabled:u,interval:l=5,order:c=Pl.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:g,delta:y,threshold:_}=e;const x=gL({delta:y,disabled:!u}),[v,N]=S4(),C=T.useRef({x:0,y:0}),I=T.useRef({x:0,y:0}),M=T.useMemo(()=>{switch(n){case ou.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case ou.DraggableRect:return a}},[n,a,f]),U=T.useRef(null),O=T.useCallback(()=>{const J=U.current;if(!J)return;const re=C.current.x*I.current.x,ue=C.current.y*I.current.y;J.scrollBy(re,ue)},[]),q=T.useMemo(()=>c===Pl.TreeOrder?[...h].reverse():h,[c,h]);T.useEffect(()=>{if(!u||!h.length||!M){N();return}for(const J of q){if(r?.(J)===!1)continue;const re=h.indexOf(J),ue=g[re];if(!ue)continue;const{direction:Ee,speed:ke}=tL(J,ue,M,t,_);for(const Ie of["x","y"])x[Ie][Ee[Ie]]||(ke[Ie]=0,Ee[Ie]=0);if(ke.x>0||ke.y>0){N(),U.current=J,v(O,l),C.current=ke,I.current=Ee;return}}C.current={x:0,y:0},I.current={x:0,y:0},N()},[t,O,r,N,u,l,JSON.stringify(M),JSON.stringify(x),v,h,q,g,JSON.stringify(_)])}const mL={x:{[_t.Backward]:!1,[_t.Forward]:!1},y:{[_t.Backward]:!1,[_t.Forward]:!1}};function gL(e){let{delta:t,disabled:n}=e;const r=Jf(t);return Mu(a=>{if(n||!r||!a)return mL;const u={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[_t.Backward]:a.x[_t.Backward]||u.x===-1,[_t.Forward]:a.x[_t.Forward]||u.x===1},y:{[_t.Backward]:a.y[_t.Backward]||u.y===-1,[_t.Forward]:a.y[_t.Forward]||u.y===1}}},[n,t,r])}function EL(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Mu(a=>{var u;return t==null?null:(u=r??a)!=null?u:null},[r,t])}function bL(e,t){return T.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,u=a.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...u]},[]),[e,t])}var wu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(wu||(wu={}));var nh;(function(e){e.Optimized="optimized"})(nh||(nh={}));const A1=new Map;function yL(e,t){let{dragging:n,dependencies:r,config:a}=t;const[u,l]=T.useState(null),{frequency:c,measure:f,strategy:h}=a,g=T.useRef(e),y=C(),_=Tu(y),x=T.useCallback(function(I){I===void 0&&(I=[]),!_.current&&l(M=>M===null?I:M.concat(I.filter(U=>!M.includes(U))))},[_]),v=T.useRef(null),N=Mu(I=>{if(y&&!n)return A1;if(!I||I===A1||g.current!==e||u!=null){const M=new Map;for(let U of e){if(!U)continue;if(u&&u.length>0&&!u.includes(U.id)&&U.rect.current){M.set(U.id,U.rect.current);continue}const O=U.node.current,q=O?new t0(f(O),O):null;U.rect.current=q,q&&M.set(U.id,q)}return M}return I},[e,u,n,y,f]);return T.useEffect(()=>{g.current=e},[e]),T.useEffect(()=>{y||x()},[n,y]),T.useEffect(()=>{u&&u.length>0&&l(null)},[JSON.stringify(u)]),T.useEffect(()=>{y||typeof c!="number"||v.current!==null||(v.current=setTimeout(()=>{x(),v.current=null},c))},[c,y,x,...r]),{droppableRects:N,measureDroppableContainers:x,measuringScheduled:u!=null};function C(){switch(h){case wu.Always:return!1;case wu.BeforeDragging:return n;default:return!n}}}function Oy(e,t){return Mu(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function TL(e,t){return Oy(e,t)}function _L(e){let{callback:t,disabled:n}=e;const r=Jh(t),a=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(r)},[r,n]);return T.useEffect(()=>()=>a?.disconnect(),[a]),a}function ac(e){let{callback:t,disabled:n}=e;const r=Jh(t),a=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(r)},[n]);return T.useEffect(()=>()=>a?.disconnect(),[a]),a}function wL(e){return new t0(zi(e),e)}function N1(e,t,n){t===void 0&&(t=wL);const[r,a]=T.useState(null);function u(){a(f=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=f??n)!=null?h:null}const g=t(e);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const l=_L({callback(f){if(e)for(const h of f){const{type:g,target:y}=h;if(g==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),c=ac({callback:u});return fr(()=>{u(),e?(c?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[e]),r}function xL(e){const t=Oy(e);return wy(e,t)}const k1=[];function vL(e){const t=T.useRef(e),n=Mu(r=>e?r&&r!==k1&&e&&t.current&&e.parentNode===t.current.parentNode?r:e0(e):k1,[e]);return T.useEffect(()=>{t.current=e},[e]),n}function SL(e){const[t,n]=T.useState(null),r=T.useRef(e),a=T.useCallback(u=>{const l=yf(u.target);l&&n(c=>c?(c.set(l,eh(l)),new Map(c)):null)},[]);return T.useEffect(()=>{const u=r.current;if(e!==u){l(u);const c=e.map(f=>{const h=yf(f);return h?(h.addEventListener("scroll",a,{passive:!0}),[h,eh(h)]):null}).filter(f=>f!=null);n(c.length?new Map(c):null),r.current=e}return()=>{l(e),l(u)};function l(c){c.forEach(f=>{const h=yf(f);h?.removeEventListener("scroll",a)})}},[a,e]),T.useMemo(()=>e.length?t?Array.from(t.values()).reduce((u,l)=>Si(u,l),Vn):Ny(e):Vn,[e,t])}function R1(e,t){t===void 0&&(t=[]);const n=T.useRef(null);return T.useEffect(()=>{n.current=null},t),T.useEffect(()=>{const r=e!==Vn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Ll(e,n.current):Vn}function CL(e){T.useEffect(()=>{if(!ic)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function AL(e,t){return T.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:u}=r;return n[a]=l=>{u(l,t)},n},{}),[e,t])}function Ly(e){return T.useMemo(()=>e?X4(e):null,[e])}const I1=[];function NL(e,t){t===void 0&&(t=zi);const[n]=e,r=Ly(n?on(n):null),[a,u]=T.useState(I1);function l(){u(()=>e.length?e.map(f=>Cy(f)?r:new t0(t(f),f)):I1)}const c=ac({callback:l});return fr(()=>{c?.disconnect(),l(),e.forEach(f=>c?.observe(f))},[e]),a}function kL(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Pu(t)?t:e}function RL(e){let{measure:t}=e;const[n,r]=T.useState(null),a=T.useCallback(h=>{for(const{target:g}of h)if(Pu(g)){r(y=>{const _=t(g);return y?{...y,width:_.width,height:_.height}:_});break}},[t]),u=ac({callback:a}),l=T.useCallback(h=>{const g=kL(h);u?.disconnect(),g&&u?.observe(g),r(g?t(g):null)},[t,u]),[c,f]=Ol(l);return T.useMemo(()=>({nodeRef:c,rect:n,setRef:f}),[n,c,f])}const IL=[{sensor:Iy,options:{}},{sensor:Ry,options:{}}],OL={current:{}},gl={draggable:{measure:x1},droppable:{measure:x1,strategy:wu.WhileDragging,frequency:nh.Optimized},dragOverlay:{measure:zi}};class lu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const LL={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new lu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Dl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:gl,measureDroppableContainers:Dl,windowRect:null,measuringScheduled:!1},DL={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Dl,draggableNodes:new Map,over:null,measureDroppableContainers:Dl},uc=T.createContext(DL),Dy=T.createContext(LL);function PL(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new lu}}}function ML(e,t){switch(t.type){case pt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case pt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case pt.DragEnd:case pt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case pt.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new lu(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case pt.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,u=e.droppable.containers.get(n);if(!u||r!==u.key)return e;const l=new lu(e.droppable.containers);return l.set(n,{...u,disabled:a}),{...e,droppable:{...e.droppable,containers:l}}}case pt.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const u=new lu(e.droppable.containers);return u.delete(n),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function FL(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=T.useContext(uc),u=Jf(r),l=Jf(n?.id);return T.useEffect(()=>{if(!t&&!r&&u&&l!=null){if(!Zh(u)||document.activeElement===u.target)return;const c=a.get(l);if(!c)return;const{activatorNode:f,node:h}=c;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[f.current,h.current]){if(!g)continue;const y=N4(g);if(y){y.focus();break}}})}},[r,t,a,l,u]),null}function BL(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,u)=>u({transform:a,...r}),n):n}function UL(e){return T.useMemo(()=>({draggable:{...gl.draggable,...e?.draggable},droppable:{...gl.droppable,...e?.droppable},dragOverlay:{...gl.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function jL(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const u=T.useRef(!1),{x:l,y:c}=typeof a=="boolean"?{x:a,y:a}:a;fr(()=>{if(!l&&!c||!t){u.current=!1;return}if(u.current||!r)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),y=wy(g,r);if(l||(y.x=0),c||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const _=xy(h);_&&_.scrollBy({top:y.y,left:y.x})}},[t,l,c,r,n])}const Py=T.createContext({...Vn,scaleX:1,scaleY:1});var is;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(is||(is={}));const HL=T.memo(function(t){var n,r,a,u;let{id:l,accessibility:c,autoScroll:f=!0,children:h,sensors:g=IL,collisionDetection:y=q4,measuring:_,modifiers:x,...v}=t;const N=T.useReducer(ML,void 0,PL),[C,I]=N,[M,U]=D4(),[O,q]=T.useState(is.Uninitialized),J=O===is.Initialized,{draggable:{active:re,nodes:ue,translate:Ee},droppable:{containers:ke}}=C,Ie=re!=null?ue.get(re):null,rt=T.useRef({initial:null,translated:null}),We=T.useMemo(()=>{var Je;return re!=null?{id:re,data:(Je=Ie?.data)!=null?Je:OL,rect:rt}:null},[re,Ie]),st=T.useRef(null),[Nt,dt]=T.useState(null),[Re,ee]=T.useState(null),le=Tu(v,Object.values(v)),te=Fu("DndDescribedBy",l),P=T.useMemo(()=>ke.getEnabled(),[ke]),W=UL(_),{droppableRects:pe,measureDroppableContainers:be,measuringScheduled:ve}=yL(P,{dragging:J,dependencies:[Ee.x,Ee.y],config:W.droppable}),ye=EL(ue,re),Fe=T.useMemo(()=>Re?Zf(Re):null,[Re]),Se=Dr(),Le=TL(ye,W.draggable.measure);jL({activeNode:re!=null?ue.get(re):null,config:Se.layoutShiftCompensation,initialRect:Le,measure:W.draggable.measure});const _e=N1(ye,W.draggable.measure,Le),Zn=N1(ye?ye.parentElement:null),ln=T.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:pe,draggableNodes:ue,draggingNode:null,draggingNodeRect:null,droppableContainers:ke,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),On=ke.getNodeFor((n=ln.current.over)==null?void 0:n.id),cn=RL({measure:W.dragOverlay.measure}),pr=(r=cn.nodeRef.current)!=null?r:ye,mr=J?(a=cn.rect)!=null?a:_e:null,Vs=!!(cn.nodeRef.current&&cn.rect),qi=xL(Vs?null:_e),ms=Ly(pr?on(pr):null),qt=vL(J?On??ye:null),Ln=NL(qt),Ir=BL(x,{transform:{x:Ee.x-qi.x,y:Ee.y-qi.y,scaleX:1,scaleY:1},activatorEvent:Re,active:We,activeNodeRect:_e,containerNodeRect:Zn,draggingNodeRect:mr,over:ln.current.over,overlayNodeRect:cn.rect,scrollableAncestors:qt,scrollableAncestorRects:Ln,windowRect:ms}),Wi=Fe?Si(Fe,Ee):null,Yi=SL(qt),Bu=R1(Yi),Uu=R1(Yi,[_e]),er=Si(Ir,Bu),Dn=mr?V4(mr,Ir):null,Or=We&&Dn?y({active:We,collisionRect:Dn,droppableRects:pe,droppableContainers:P,pointerCoordinates:Wi}):null,Lr=H4(Or,"id"),[Wt,ju]=T.useState(null),Hu=Vs?Ir:Si(Ir,Uu),$u=W4(Hu,(u=Wt?.rect)!=null?u:null,_e),Vi=T.useRef(null),Gs=T.useCallback((Je,kt)=>{let{sensor:Rt,options:Pn}=kt;if(st.current==null)return;const Ut=ue.get(st.current);if(!Ut)return;const It=Je.nativeEvent,Yt=new Rt({active:st.current,activeNode:Ut,event:It,options:Pn,context:ln,onAbort(Ze){if(!ue.get(Ze))return;const{onDragAbort:Ot}=le.current,Mn={id:Ze};Ot?.(Mn),M({type:"onDragAbort",event:Mn})},onPending(Ze,Tn,Ot,Mn){if(!ue.get(Ze))return;const{onDragPending:tr}=le.current,dn={id:Ze,constraint:Tn,initialCoordinates:Ot,offset:Mn};tr?.(dn),M({type:"onDragPending",event:dn})},onStart(Ze){const Tn=st.current;if(Tn==null)return;const Ot=ue.get(Tn);if(!Ot)return;const{onDragStart:Mn}=le.current,Fn={activatorEvent:It,active:{id:Tn,data:Ot.data,rect:rt}};Qa.unstable_batchedUpdates(()=>{Mn?.(Fn),q(is.Initializing),I({type:pt.DragStart,initialCoordinates:Ze,active:Tn}),M({type:"onDragStart",event:Fn}),dt(Vi.current),ee(It)})},onMove(Ze){I({type:pt.DragMove,coordinates:Ze})},onEnd:gr(pt.DragEnd),onCancel:gr(pt.DragCancel)});Vi.current=Yt;function gr(Ze){return async function(){const{active:Ot,collisions:Mn,over:Fn,scrollAdjustedTranslate:tr}=ln.current;let dn=null;if(Ot&&tr){const{cancelDrop:Er}=le.current;dn={activatorEvent:It,active:Ot,collisions:Mn,delta:tr,over:Fn},Ze===pt.DragEnd&&typeof Er=="function"&&await Promise.resolve(Er(dn))&&(Ze=pt.DragCancel)}st.current=null,Qa.unstable_batchedUpdates(()=>{I({type:Ze}),q(is.Uninitialized),ju(null),dt(null),ee(null),Vi.current=null;const Er=Ze===pt.DragEnd?"onDragEnd":"onDragCancel";if(dn){const Xi=le.current[Er];Xi?.(dn),M({type:Er,event:dn})}})}}},[ue]),Gi=T.useCallback((Je,kt)=>(Rt,Pn)=>{const Ut=Rt.nativeEvent,It=ue.get(Pn);if(st.current!==null||!It||Ut.dndKit||Ut.defaultPrevented)return;const Yt={active:It};Je(Rt,kt.options,Yt)===!0&&(Ut.dndKit={capturedBy:kt.sensor},st.current=Pn,Gs(Rt,kt))},[ue,Gs]),Qs=bL(g,Gi);CL(g),fr(()=>{_e&&O===is.Initializing&&q(is.Initialized)},[_e,O]),T.useEffect(()=>{const{onDragMove:Je}=le.current,{active:kt,activatorEvent:Rt,collisions:Pn,over:Ut}=ln.current;if(!kt||!Rt)return;const It={active:kt,activatorEvent:Rt,collisions:Pn,delta:{x:er.x,y:er.y},over:Ut};Qa.unstable_batchedUpdates(()=>{Je?.(It),M({type:"onDragMove",event:It})})},[er.x,er.y]),T.useEffect(()=>{const{active:Je,activatorEvent:kt,collisions:Rt,droppableContainers:Pn,scrollAdjustedTranslate:Ut}=ln.current;if(!Je||st.current==null||!kt||!Ut)return;const{onDragOver:It}=le.current,Yt=Pn.get(Lr),gr=Yt&&Yt.rect.current?{id:Yt.id,rect:Yt.rect.current,data:Yt.data,disabled:Yt.disabled}:null,Ze={active:Je,activatorEvent:kt,collisions:Rt,delta:{x:Ut.x,y:Ut.y},over:gr};Qa.unstable_batchedUpdates(()=>{ju(gr),It?.(Ze),M({type:"onDragOver",event:Ze})})},[Lr]),fr(()=>{ln.current={activatorEvent:Re,active:We,activeNode:ye,collisionRect:Dn,collisions:Or,droppableRects:pe,draggableNodes:ue,draggingNode:pr,draggingNodeRect:mr,droppableContainers:ke,over:Wt,scrollableAncestors:qt,scrollAdjustedTranslate:er},rt.current={initial:mr,translated:Dn}},[We,ye,Or,Dn,ue,pr,mr,pe,ke,Wt,qt,er]),pL({...Se,delta:Ee,draggingRect:Dn,pointerCoordinates:Wi,scrollableAncestors:qt,scrollableAncestorRects:Ln});const Qi=T.useMemo(()=>({active:We,activeNode:ye,activeNodeRect:_e,activatorEvent:Re,collisions:Or,containerNodeRect:Zn,dragOverlay:cn,draggableNodes:ue,droppableContainers:ke,droppableRects:pe,over:Wt,measureDroppableContainers:be,scrollableAncestors:qt,scrollableAncestorRects:Ln,measuringConfiguration:W,measuringScheduled:ve,windowRect:ms}),[We,ye,_e,Re,Or,Zn,cn,ue,ke,pe,Wt,be,qt,Ln,W,ve,ms]),Ki=T.useMemo(()=>({activatorEvent:Re,activators:Qs,active:We,activeNodeRect:_e,ariaDescribedById:{draggable:te},dispatch:I,draggableNodes:ue,over:Wt,measureDroppableContainers:be}),[Re,Qs,We,_e,I,te,ue,Wt,be]);return nn.createElement(_y.Provider,{value:U},nn.createElement(uc.Provider,{value:Ki},nn.createElement(Dy.Provider,{value:Qi},nn.createElement(Py.Provider,{value:$u},h)),nn.createElement(FL,{disabled:c?.restoreFocus===!1})),nn.createElement(F4,{...c,hiddenTextDescribedById:te}));function Dr(){const Je=Nt?.autoScrollEnabled===!1,kt=typeof f=="object"?f.enabled===!1:f===!1,Rt=J&&!Je&&!kt;return typeof f=="object"?{...f,enabled:Rt}:{enabled:Rt}}}),$L=T.createContext(null),O1="button",zL="Draggable";function qL(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const u=Fu(zL),{activators:l,activatorEvent:c,active:f,activeNodeRect:h,ariaDescribedById:g,draggableNodes:y,over:_}=T.useContext(uc),{role:x=O1,roleDescription:v="draggable",tabIndex:N=0}=a??{},C=f?.id===t,I=T.useContext(C?Py:$L),[M,U]=Ol(),[O,q]=Ol(),J=AL(l,t),re=Tu(n);fr(()=>(y.set(t,{id:t,key:u,node:M,activatorNode:O,data:re}),()=>{const Ee=y.get(t);Ee&&Ee.key===u&&y.delete(t)}),[y,t]);const ue=T.useMemo(()=>({role:x,tabIndex:N,"aria-disabled":r,"aria-pressed":C&&x===O1?!0:void 0,"aria-roledescription":v,"aria-describedby":g.draggable}),[r,x,N,C,v,g.draggable]);return{active:f,activatorEvent:c,activeNodeRect:h,attributes:ue,isDragging:C,listeners:r?void 0:J,node:M,over:_,setNodeRef:U,setActivatorNodeRef:q,transform:I}}function WL(){return T.useContext(Dy)}const YL="Droppable",VL={timeout:25};function GL(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const u=Fu(YL),{active:l,dispatch:c,over:f,measureDroppableContainers:h}=T.useContext(uc),g=T.useRef({disabled:n}),y=T.useRef(!1),_=T.useRef(null),x=T.useRef(null),{disabled:v,updateMeasurementsFor:N,timeout:C}={...VL,...a},I=Tu(N??r),M=T.useCallback(()=>{if(!y.current){y.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{h(Array.isArray(I.current)?I.current:[I.current]),x.current=null},C)},[C]),U=ac({callback:M,disabled:v||!l}),O=T.useCallback((ue,Ee)=>{U&&(Ee&&(U.unobserve(Ee),y.current=!1),ue&&U.observe(ue))},[U]),[q,J]=Ol(O),re=Tu(t);return T.useEffect(()=>{!U||!q.current||(U.disconnect(),y.current=!1,U.observe(q.current))},[q,U]),T.useEffect(()=>(c({type:pt.RegisterDroppable,element:{id:r,key:u,disabled:n,node:q,rect:_,data:re}}),()=>c({type:pt.UnregisterDroppable,key:u,id:r})),[r]),T.useEffect(()=>{n!==g.current.disabled&&(c({type:pt.SetDroppableDisabled,id:r,key:u,disabled:n}),g.current.disabled=n)},[r,u,n,c]),{active:l,rect:_,isOver:f?.id===r,node:q,over:f,setNodeRef:J}}function r0(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function QL(e,t){return e.reduce((n,r,a)=>{const u=t.get(r);return u&&(n[a]=u),n},Array(e.length))}function ul(e){return e!==null&&e>=0}function KL(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function XL(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const My=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const u=r0(t,r,n),l=t[a],c=u[a];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},ol={scaleX:1,scaleY:1},JL=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:u,overIndex:l}=e;const c=(t=u[n])!=null?t:r;if(!c)return null;if(a===n){const h=u[l];return h?{x:0,y:n<l?h.top+h.height-(c.top+c.height):h.top-c.top,...ol}:null}const f=ZL(u,a,n);return a>n&&a<=l?{x:0,y:-c.height-f,...ol}:a<n&&a>=l?{x:0,y:c.height+f,...ol}:{x:0,y:0,...ol}};function ZL(e,t,n){const r=e[t],a=e[t-1],u=e[t+1];return r?n<t?a?r.top-(a.top+a.height):u?u.top-(r.top+r.height):0:u?u.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const Fy="Sortable",By=nn.createContext({activeIndex:-1,containerId:Fy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:My,disabled:{draggable:!1,droppable:!1}});function e5(e){let{children:t,id:n,items:r,strategy:a=My,disabled:u=!1}=e;const{active:l,dragOverlay:c,droppableRects:f,over:h,measureDroppableContainers:g}=WL(),y=Fu(Fy,n),_=c.rect!==null,x=T.useMemo(()=>r.map(J=>typeof J=="object"&&"id"in J?J.id:J),[r]),v=l!=null,N=l?x.indexOf(l.id):-1,C=h?x.indexOf(h.id):-1,I=T.useRef(x),M=!KL(x,I.current),U=C!==-1&&N===-1||M,O=XL(u);fr(()=>{M&&v&&g(x)},[M,x,v,g]),T.useEffect(()=>{I.current=x},[x]);const q=T.useMemo(()=>({activeIndex:N,containerId:y,disabled:O,disableTransforms:U,items:x,overIndex:C,useDragOverlay:_,sortedRects:QL(x,f),strategy:a}),[N,y,O.draggable,O.droppable,U,x,C,f,_,a]);return nn.createElement(By.Provider,{value:q},t)}const t5=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return r0(n,r,a).indexOf(t)},n5=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:u,newIndex:l,previousItems:c,previousContainerId:f,transition:h}=e;return!h||!r||c!==u&&a===l?!1:n?!0:l!==a&&t===f},r5={duration:200,easing:"ease"},Uy="transform",s5=_u.Transition.toString({property:Uy,duration:0,easing:"linear"}),i5={roleDescription:"sortable"};function a5(e){let{disabled:t,index:n,node:r,rect:a}=e;const[u,l]=T.useState(null),c=T.useRef(n);return fr(()=>{if(!t&&n!==c.current&&r.current){const f=a.current;if(f){const h=zi(r.current,{ignoreTransform:!0}),g={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(g.x||g.y)&&l(g)}}n!==c.current&&(c.current=n)},[t,n,r,a]),T.useEffect(()=>{u&&l(null)},[u]),u}function u5(e){let{animateLayoutChanges:t=n5,attributes:n,disabled:r,data:a,getNewIndex:u=t5,id:l,strategy:c,resizeObserverConfig:f,transition:h=r5}=e;const{items:g,containerId:y,activeIndex:_,disabled:x,disableTransforms:v,sortedRects:N,overIndex:C,useDragOverlay:I,strategy:M}=T.useContext(By),U=o5(r,x),O=g.indexOf(l),q=T.useMemo(()=>({sortable:{containerId:y,index:O,items:g},...a}),[y,a,O,g]),J=T.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:re,node:ue,isOver:Ee,setNodeRef:ke}=GL({id:l,data:q,disabled:U.droppable,resizeObserverConfig:{updateMeasurementsFor:J,...f}}),{active:Ie,activatorEvent:rt,activeNodeRect:We,attributes:st,setNodeRef:Nt,listeners:dt,isDragging:Re,over:ee,setActivatorNodeRef:le,transform:te}=qL({id:l,data:q,attributes:{...i5,...n},disabled:U.draggable}),P=v4(ke,Nt),W=!!Ie,pe=W&&!v&&ul(_)&&ul(C),be=!I&&Re,ve=be&&pe?te:null,Fe=pe?ve??(c??M)({rects:N,activeNodeRect:We,activeIndex:_,overIndex:C,index:O}):null,Se=ul(_)&&ul(C)?u({id:l,items:g,activeIndex:_,overIndex:C}):O,Le=Ie?.id,_e=T.useRef({activeId:Le,items:g,newIndex:Se,containerId:y}),Zn=g!==_e.current.items,ln=t({active:Ie,containerId:y,isDragging:Re,isSorting:W,id:l,index:O,items:g,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:h,wasDragging:_e.current.activeId!=null}),On=a5({disabled:!ln,index:O,node:ue,rect:re});return T.useEffect(()=>{W&&_e.current.newIndex!==Se&&(_e.current.newIndex=Se),y!==_e.current.containerId&&(_e.current.containerId=y),g!==_e.current.items&&(_e.current.items=g)},[W,Se,y,g]),T.useEffect(()=>{if(Le===_e.current.activeId)return;if(Le!=null&&_e.current.activeId==null){_e.current.activeId=Le;return}const pr=setTimeout(()=>{_e.current.activeId=Le},50);return()=>clearTimeout(pr)},[Le]),{active:Ie,activeIndex:_,attributes:st,data:q,rect:re,index:O,newIndex:Se,items:g,isOver:Ee,isSorting:W,isDragging:Re,listeners:dt,node:ue,overIndex:C,over:ee,setNodeRef:P,setActivatorNodeRef:le,setDroppableNodeRef:ke,setDraggableNodeRef:Nt,transform:On??Fe,transition:cn()};function cn(){if(On||Zn&&_e.current.newIndex===O)return s5;if(!(be&&!Zh(rt)||!h)&&(W||ln))return _u.Transition.toString({...h,property:Uy})}}function o5(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}Be.Down,Be.Right,Be.Up,Be.Left;const l5=({placeholder:e,onChange:t,value:n})=>{const r=T.useRef(null);return T.useEffect(()=>{r.current&&(r.current.style.height="auto",r.current.style.height=`${r.current.scrollHeight}px`)},[n]),b.jsx("textarea",{className:"border rounded-xs px-2 py-1 w-full mr-3 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 resize-none overflow-hidden",ref:r,onChange:t,placeholder:e,value:n})},c5=({id:e,formValue:t,onEditFormValue:n,onDeleteClick:r})=>{const{attributes:a,listeners:u,setNodeRef:l,transform:c,transition:f}=u5({id:e}),h={transform:c?_u.Transform.toString(c):void 0,transition:f||"all 0.2s ease"},g=y=>{n({...t,value:y.target.value})};return b.jsxs("li",{ref:l,style:h,className:"text-gray-700 dark:text-gray-300 flex items-center justify-between mb-2",children:[b.jsx(l5,{onChange:g,value:t.value,placeholder:" "}),b.jsx(Ps,{icon:b.jsx(Sv,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"}),title:"Drag Step",attributes:a,listeners:u}),b.jsx(TE,{onClick:()=>r(t.id)})]})},L1=({originalFormState:e,setOriginalFormState:t,sectionName:n})=>{const[r,a]=T.useState(e);T.useEffect(()=>{a([...e])},[e]),T.useEffect(()=>{const h=setTimeout(()=>{t(r)},400);return()=>clearTimeout(h)},[r,t]);const u=h=>{const g=r.map(y=>y.id===h.id?h:y);a(g)},l=()=>{a(h=>[...h,{id:Kf(),value:"",isActive:!0,sort_number:0}])},c=h=>{const g=r.map(y=>y.id===h?{...y,isActive:!1}:y);a(g)},f=h=>{const{active:g,over:y}=h;if(!y||g.id===y.id)return;const _=r.findIndex(v=>v.id===g.id),x=r.findIndex(v=>v.id===y.id);a(r0(r,_,x))};return b.jsxs("div",{className:"mb-4",children:[b.jsxs("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:[n,"s"]}),!(r?.length>0)&&b.jsx(Du,{message:`No ${n}s added yet. Add some to get started!`}),b.jsx(HL,{collisionDetection:$4,onDragEnd:f,children:b.jsx(e5,{items:r.filter(h=>h.isActive).map(h=>h.id),strategy:JL,children:r.length>0&&b.jsx("ol",{className:"list-decimal mb-6 text-gray-700 dark:text-gray-300",children:r.filter(h=>h.isActive).map(h=>b.jsx(c5,{id:h.id,formValue:h,onEditFormValue:u,onDeleteClick:c},h.id))})})}),b.jsxs(He,{type:"button",onClick:l,children:["Add ",n]})]})},d5=({formData:e,onFormChange:t})=>b.jsxs("form",{className:"w-full",children:[b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"servings",id:"servings",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.servings,onChange:n=>t("servings",Number(n.target.value))}),b.jsx("label",{htmlFor:"servings",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Servings"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"prep_time",id:"prep_time",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.prep_time,onChange:n=>t("prep_time",Number(n.target.value))}),b.jsx("label",{htmlFor:"prep_time",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Prep Time (minutes)"})]}),b.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[b.jsx("input",{type:"number",name:"cook_time",id:"cook_time",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.cook_time,onChange:n=>t("cook_time",Number(n.target.value))}),b.jsx("label",{htmlFor:"cook_time",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Cook Time (minutes)"})]})]}),f5=()=>{const e=Kn(),{id:t}=Bl(),n=!!t,[r,a]=T.useState(""),[u,l]=T.useState([]),[c,f]=T.useState(""),[h,g]=T.useState([]),[y,_]=T.useState(!1),[x,v]=T.useState({title:"",description:"",img_url:"",prep_time:0,cook_time:0,servings:1,original_recipe_url:"",ingredients:[],steps:[],collections:[],tags:[]}),[N,C]=T.useState({title:"",description:"",img_url:"",prep_time:0,cook_time:0,servings:1,original_recipe_url:"",ingredients:[],steps:[],collections:[],tags:[]});T.useEffect(()=>{const O=e.state?.recipe;if(O){const q={title:O.title||"",description:O.description||"",img_url:O.img_url||"",prep_time:O.prep_time||0,cook_time:O.cook_time||0,servings:O.servings||1,original_recipe_url:O.original_recipe_url||"",ingredients:O.ingredients||[],steps:O.steps||[],tags:O.tags?[...O.tags]:[],collections:O.collections?[...O.collections]:[]};v(q),C(q)}},[e.state?.recipe]);const I=(O,q)=>{v(J=>({...J,[O]:q}))},M=T.useCallback(async()=>{try{const O=await Rn.getList(0,25,c);O?.data&&g(O.data)}catch(O){console.error("Error fetching tags:",O)}},[c]),U=T.useCallback(async()=>{try{const O=await En.getList(0,25,r);O?.data&&l(O.data)}catch(O){console.error("Error fetching recipes:",O)}},[r]);return T.useEffect(()=>{U()},[r]),T.useEffect(()=>{M()},[M]),{formData:x,originalData:N,onFormChange:I,isEditing:n,id:t,loading:y,setLoading:_,collectionList:u,tagList:h,setCollectionSearch:a,setTagSearch:f}},Ml=(e,t)=>t?.filter(n=>n.isActive).map((n,r)=>({id:n.id,recipe_id:e,sort_number:r+1,value:n.value}))||[],h5=(e,t,n,r)=>{const a=un(),{user:u}=ds(),l=zt();return{handleSave:async f=>{f.preventDefault();try{if(n&&r){const h=vi.getChangedFields(t,e);if(!h){a.success("No changes detected.");return}const g=vi.extractSimpleValues(h);Object.keys(g).length>0&&await Ke.upsert(r,g),await p5(r,h.ingredients||[]),await m5(r,h.steps||[]),await g5(r,h.tags||[],t?.tags||[]),console.log(h.tags),await E5(r,h.collections||[],t?.collections||[]),a.success("Recipe updated successfully!"),l(`/recipes/${r}`)}else{const h=vi.extractSimpleValues(e),g=await Ke.upsert(void 0,h,u?.id),y=g?.recipeId||"",_=Ml(y,e.ingredients);_.length>0&&await Ke.upsertIngredients(_);const x=Ml(y,e.steps);x.length>0&&await Ke.upsertSteps(x),e.tags&&e.tags.length>0&&await Rn.addToRecipe(y,e.tags),e.collections&&e.collections.length>0&&await Ke.addOneToManyCollections(y,e.collections.map(v=>v.id)),a.success("Recipe added successfully!"),l(`/recipes/${g?.recipeId}`)}}catch(h){a.error(h.message)}}}},p5=async(e,t)=>{const n=Ml(e,t),r=t.filter(a=>a.isActive).map(a=>a.id);n.length>0&&await Ke.upsertIngredients(n),r.length>0&&await Ke.deleteIngredients(r)},m5=async(e,t)=>{const n=Ml(e,t),r=t.filter(a=>a.isActive).map(a=>a.id);n.length>0&&await Ke.upsertSteps(n),r.length>0&&await Ke.deleteSteps(r)},g5=async(e,t,n)=>{const r=t.filter(u=>!n.some(l=>l.id===u.id)),a=n.filter(u=>!t.some(l=>l.id===u.id));console.log(r,a,n),r.length>0&&await Rn.addToRecipe(e,r),a.length>0&&await Rn.removeFromRecipe(e,a)},E5=async(e,t,n)=>{const r=t.filter(u=>!n.some(l=>l.id===u.id)),a=n.filter(u=>!t.some(l=>l.id===u.id));r.length>0&&await Ke.addOneToManyCollections(e,r),a.length>0&&await Ke.removeManyFromManyCollections([e],a)},D1=()=>{const e=zt(),{formData:t,originalData:n,onFormChange:r,isEditing:a,id:u,loading:l,collectionList:c,tagList:f,setCollectionSearch:h,setTagSearch:g}=f5(),{handleSave:y}=h5(t,n,a,u);return b.jsxs("div",{className:"max-w-2xl mx-auto mt-4",children:[b.jsxs("div",{className:"w-full flex justify-end items-center mb-4 gap-4",children:[b.jsx(He,{btnType:"dismissable",onClick:()=>e(-1),children:"Cancel"}),b.jsx(He,{onClick:y,isLoading:l,children:a?"Save":"Add"})]}),b.jsx(hy,{imgUrl:t.img_url,onImgUrlChange:_=>r("img_url",_)}),b.jsxs("div",{className:`bg-white dark:bg-gray-900 p-6 rounded-b-lg shadow-md ${!t.img_url?.length&&"rounded-t-lg"}`,children:[b.jsx(py,{title:t.title,description:t.description,onFormChange:r}),b.jsx(d5,{formData:t,onFormChange:r}),b.jsx(L1,{originalFormState:t.ingredients,setOriginalFormState:_=>r("ingredients",_),sectionName:"Ingredient"}),b.jsx(L1,{originalFormState:t.steps,setOriginalFormState:_=>r("steps",_),sectionName:"Step"}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Tags",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Tags"}),b.jsx(Ri,{placeholder:"Search for tags...",inputId:"Tags",options:f,selectedOptions:t.tags||[],setSelectedOptions:_=>r("tags",_),onSearch:g})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{htmlFor:"Collections",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Collections"}),b.jsx(Ri,{placeholder:"Search for collections...",inputId:"Collections",options:c,selectedOptions:t.collections||[],setSelectedOptions:_=>r("collections",_),onSearch:h})]})]})]})},b5=()=>b.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 pb-6",children:b.jsx(Z2,{basename:"/elysia",children:b.jsxs(JI,{children:[b.jsx(a6,{}),b.jsx("div",{className:"container mx-auto px-4",children:b.jsxs(k2,{children:[b.jsx($t,{path:"/sign-in",element:b.jsx(nl,{children:b.jsx(d6,{})})}),b.jsx($t,{path:"/register",element:b.jsx(f6,{})}),b.jsx($t,{path:"/forgot-password",element:b.jsx(Z6,{})}),b.jsx($t,{path:"/reset-password",element:b.jsx(c6,{})}),b.jsx($t,{path:"/",element:b.jsx(x4,{})}),b.jsx($t,{path:"/about",element:b.jsx(l6,{})}),b.jsx($t,{path:"/tags",element:b.jsx(o6,{})}),b.jsx($t,{path:"/add-new",element:b.jsx(nl,{children:b.jsx(D1,{})})}),b.jsx($t,{path:"/recipes/:id",element:b.jsx(E4,{})}),b.jsx($t,{path:"/recipes/:id/edit",element:b.jsx(nl,{children:b.jsx(D1,{})})}),b.jsx($t,{path:"/collections",element:b.jsx(S6,{})}),b.jsx($t,{path:"/collections/add-new",element:b.jsx(nl,{children:b.jsx(m1,{})})}),b.jsx($t,{path:"/collections/:id",element:b.jsx(x6,{})}),b.jsx($t,{path:"/collections/:id/edit",element:b.jsx(m1,{})})]})})]})})});U_.createRoot(document.getElementById("root")).render(b.jsx(T.StrictMode,{children:b.jsx(mv,{children:b.jsx(Uv,{children:b.jsx(KI,{children:b.jsx(b5,{})})})})}));export{rh as g};
//# sourceMappingURL=index-DIrLp7oT.js.map
