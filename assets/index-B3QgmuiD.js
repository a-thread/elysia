(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var y9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var y1={exports:{}},nf={},v1={exports:{}},Zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5;function h_(){if(p5)return Zt;p5=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function E(ne){return ne===null||typeof ne!="object"?null:(ne=b&&ne[b]||ne["@@iterator"],typeof ne=="function"?ne:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function k(ne,I,V){this.props=ne,this.context=I,this.refs=A,this.updater=V||y}k.prototype.isReactComponent={},k.prototype.setState=function(ne,I){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,I,"setState")},k.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function C(){}C.prototype=k.prototype;function P(ne,I,V){this.props=ne,this.context=I,this.refs=A,this.updater=V||y}var $=P.prototype=new C;$.constructor=P,S($,k.prototype),$.isPureReactComponent=!0;var H=Array.isArray,Y=Object.prototype.hasOwnProperty,he={current:null},le={key:!0,ref:!0,__self:!0,__source:!0};function X(ne,I,V){var Q,se={},ue=null,_e=null;if(I!=null)for(Q in I.ref!==void 0&&(_e=I.ref),I.key!==void 0&&(ue=""+I.key),I)Y.call(I,Q)&&!le.hasOwnProperty(Q)&&(se[Q]=I[Q]);var xe=arguments.length-2;if(xe===1)se.children=V;else if(1<xe){for(var Te=Array(xe),Ue=0;Ue<xe;Ue++)Te[Ue]=arguments[Ue+2];se.children=Te}if(ne&&ne.defaultProps)for(Q in xe=ne.defaultProps,xe)se[Q]===void 0&&(se[Q]=xe[Q]);return{$$typeof:e,type:ne,key:ue,ref:_e,props:se,_owner:he.current}}function be(ne,I){return{$$typeof:e,type:ne.type,key:I,ref:ne.ref,props:ne.props,_owner:ne._owner}}function Ie(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===e}function U(ne){var I={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(V){return I[V]})}var q=/\/+/g;function te(ne,I){return typeof ne=="object"&&ne!==null&&ne.key!=null?U(""+ne.key):I.toString(36)}function ee(ne,I,V,Q,se){var ue=typeof ne;(ue==="undefined"||ue==="boolean")&&(ne=null);var _e=!1;if(ne===null)_e=!0;else switch(ue){case"string":case"number":_e=!0;break;case"object":switch(ne.$$typeof){case e:case t:_e=!0}}if(_e)return _e=ne,se=se(_e),ne=Q===""?"."+te(_e,0):Q,H(se)?(V="",ne!=null&&(V=ne.replace(q,"$&/")+"/"),ee(se,I,V,"",function(Ue){return Ue})):se!=null&&(Ie(se)&&(se=be(se,V+(!se.key||_e&&_e.key===se.key?"":(""+se.key).replace(q,"$&/")+"/")+ne)),I.push(se)),1;if(_e=0,Q=Q===""?".":Q+":",H(ne))for(var xe=0;xe<ne.length;xe++){ue=ne[xe];var Te=Q+te(ue,xe);_e+=ee(ue,I,V,Te,se)}else if(Te=E(ne),typeof Te=="function")for(ne=Te.call(ne),xe=0;!(ue=ne.next()).done;)ue=ue.value,Te=Q+te(ue,xe++),_e+=ee(ue,I,V,Te,se);else if(ue==="object")throw I=String(ne),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return _e}function Oe(ne,I,V){if(ne==null)return ne;var Q=[],se=0;return ee(ne,Q,"","",function(ue){return I.call(V,ue,se++)}),Q}function Ae(ne){if(ne._status===-1){var I=ne._result;I=I(),I.then(function(V){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=V)},function(V){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=V)}),ne._status===-1&&(ne._status=0,ne._result=I)}if(ne._status===1)return ne._result.default;throw ne._result}var Se={current:null},ae={transition:null},ve={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ae,ReactCurrentOwner:he};function ye(){throw Error("act(...) is not supported in production builds of React.")}return Zt.Children={map:Oe,forEach:function(ne,I,V){Oe(ne,function(){I.apply(this,arguments)},V)},count:function(ne){var I=0;return Oe(ne,function(){I++}),I},toArray:function(ne){return Oe(ne,function(I){return I})||[]},only:function(ne){if(!Ie(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},Zt.Component=k,Zt.Fragment=n,Zt.Profiler=i,Zt.PureComponent=P,Zt.StrictMode=r,Zt.Suspense=c,Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Zt.act=ye,Zt.cloneElement=function(ne,I,V){if(ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ne+".");var Q=S({},ne.props),se=ne.key,ue=ne.ref,_e=ne._owner;if(I!=null){if(I.ref!==void 0&&(ue=I.ref,_e=he.current),I.key!==void 0&&(se=""+I.key),ne.type&&ne.type.defaultProps)var xe=ne.type.defaultProps;for(Te in I)Y.call(I,Te)&&!le.hasOwnProperty(Te)&&(Q[Te]=I[Te]===void 0&&xe!==void 0?xe[Te]:I[Te])}var Te=arguments.length-2;if(Te===1)Q.children=V;else if(1<Te){xe=Array(Te);for(var Ue=0;Ue<Te;Ue++)xe[Ue]=arguments[Ue+2];Q.children=xe}return{$$typeof:e,type:ne.type,key:se,ref:ue,props:Q,_owner:_e}},Zt.createContext=function(ne){return ne={$$typeof:u,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ne.Provider={$$typeof:s,_context:ne},ne.Consumer=ne},Zt.createElement=X,Zt.createFactory=function(ne){var I=X.bind(null,ne);return I.type=ne,I},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(ne){return{$$typeof:l,render:ne}},Zt.isValidElement=Ie,Zt.lazy=function(ne){return{$$typeof:p,_payload:{_status:-1,_result:ne},_init:Ae}},Zt.memo=function(ne,I){return{$$typeof:h,type:ne,compare:I===void 0?null:I}},Zt.startTransition=function(ne){var I=ae.transition;ae.transition={};try{ne()}finally{ae.transition=I}},Zt.unstable_act=ye,Zt.useCallback=function(ne,I){return Se.current.useCallback(ne,I)},Zt.useContext=function(ne){return Se.current.useContext(ne)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(ne){return Se.current.useDeferredValue(ne)},Zt.useEffect=function(ne,I){return Se.current.useEffect(ne,I)},Zt.useId=function(){return Se.current.useId()},Zt.useImperativeHandle=function(ne,I,V){return Se.current.useImperativeHandle(ne,I,V)},Zt.useInsertionEffect=function(ne,I){return Se.current.useInsertionEffect(ne,I)},Zt.useLayoutEffect=function(ne,I){return Se.current.useLayoutEffect(ne,I)},Zt.useMemo=function(ne,I){return Se.current.useMemo(ne,I)},Zt.useReducer=function(ne,I,V){return Se.current.useReducer(ne,I,V)},Zt.useRef=function(ne){return Se.current.useRef(ne)},Zt.useState=function(ne){return Se.current.useState(ne)},Zt.useSyncExternalStore=function(ne,I,V){return Se.current.useSyncExternalStore(ne,I,V)},Zt.useTransition=function(){return Se.current.useTransition()},Zt.version="18.3.1",Zt}var m5;function ig(){return m5||(m5=1,v1.exports=h_()),v1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g5;function p_(){if(g5)return nf;g5=1;var e=ig(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(l,c,h){var p,b={},E=null,y=null;h!==void 0&&(E=""+h),c.key!==void 0&&(E=""+c.key),c.ref!==void 0&&(y=c.ref);for(p in c)r.call(c,p)&&!s.hasOwnProperty(p)&&(b[p]=c[p]);if(l&&l.defaultProps)for(p in c=l.defaultProps,c)b[p]===void 0&&(b[p]=c[p]);return{$$typeof:t,type:l,key:E,ref:y,props:b,_owner:i.current}}return nf.Fragment=n,nf.jsx=u,nf.jsxs=u,nf}var b5;function m_(){return b5||(b5=1,y1.exports=p_()),y1.exports}var L=m_(),M=ig();const an=rg(M);var t0={},w1={exports:{}},us={},E1={exports:{}},_1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5;function g_(){return y5||(y5=1,function(e){function t(ae,ve){var ye=ae.length;ae.push(ve);e:for(;0<ye;){var ne=ye-1>>>1,I=ae[ne];if(0<i(I,ve))ae[ne]=ve,ae[ye]=I,ye=ne;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ve=ae[0],ye=ae.pop();if(ye!==ve){ae[0]=ye;e:for(var ne=0,I=ae.length,V=I>>>1;ne<V;){var Q=2*(ne+1)-1,se=ae[Q],ue=Q+1,_e=ae[ue];if(0>i(se,ye))ue<I&&0>i(_e,se)?(ae[ne]=_e,ae[ue]=ye,ne=ue):(ae[ne]=se,ae[Q]=ye,ne=Q);else if(ue<I&&0>i(_e,ye))ae[ne]=_e,ae[ue]=ye,ne=ue;else break e}}return ve}function i(ae,ve){var ye=ae.sortIndex-ve.sortIndex;return ye!==0?ye:ae.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}var c=[],h=[],p=1,b=null,E=3,y=!1,S=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ae){for(var ve=n(h);ve!==null;){if(ve.callback===null)r(h);else if(ve.startTime<=ae)r(h),ve.sortIndex=ve.expirationTime,t(c,ve);else break;ve=n(h)}}function H(ae){if(A=!1,$(ae),!S)if(n(c)!==null)S=!0,Ae(Y);else{var ve=n(h);ve!==null&&Se(H,ve.startTime-ae)}}function Y(ae,ve){S=!1,A&&(A=!1,C(X),X=-1),y=!0;var ye=E;try{for($(ve),b=n(c);b!==null&&(!(b.expirationTime>ve)||ae&&!U());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,E=b.priorityLevel;var I=ne(b.expirationTime<=ve);ve=e.unstable_now(),typeof I=="function"?b.callback=I:b===n(c)&&r(c),$(ve)}else r(c);b=n(c)}if(b!==null)var V=!0;else{var Q=n(h);Q!==null&&Se(H,Q.startTime-ve),V=!1}return V}finally{b=null,E=ye,y=!1}}var he=!1,le=null,X=-1,be=5,Ie=-1;function U(){return!(e.unstable_now()-Ie<be)}function q(){if(le!==null){var ae=e.unstable_now();Ie=ae;var ve=!0;try{ve=le(!0,ae)}finally{ve?te():(he=!1,le=null)}}else he=!1}var te;if(typeof P=="function")te=function(){P(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Oe=ee.port2;ee.port1.onmessage=q,te=function(){Oe.postMessage(null)}}else te=function(){k(q,0)};function Ae(ae){le=ae,he||(he=!0,te())}function Se(ae,ve){X=k(function(){ae(e.unstable_now())},ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,Ae(Y))},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(ae){switch(E){case 1:case 2:case 3:var ve=3;break;default:ve=E}var ye=E;E=ve;try{return ae()}finally{E=ye}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ae,ve){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ye=E;E=ae;try{return ve()}finally{E=ye}},e.unstable_scheduleCallback=function(ae,ve,ye){var ne=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ne+ye:ne):ye=ne,ae){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ye+I,ae={id:p++,callback:ve,priorityLevel:ae,startTime:ye,expirationTime:I,sortIndex:-1},ye>ne?(ae.sortIndex=ye,t(h,ae),n(c)===null&&ae===n(h)&&(A?(C(X),X=-1):A=!0,Se(H,ye-ne))):(ae.sortIndex=I,t(c,ae),S||y||(S=!0,Ae(Y))),ae},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(ae){var ve=E;return function(){var ye=E;E=ve;try{return ae.apply(this,arguments)}finally{E=ye}}}}(_1)),_1}var v5;function b_(){return v5||(v5=1,E1.exports=g_()),E1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5;function y_(){if(w5)return us;w5=1;var e=ig(),t=b_();function n(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,o){u(a,o),u(a+"Capture",o)}function u(a,o){for(i[a]=o,a=0;a<o.length;a++)r.add(o[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},b={};function E(a){return c.call(b,a)?!0:c.call(p,a)?!1:h.test(a)?b[a]=!0:(p[a]=!0,!1)}function y(a,o,d,m){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,o,d,m){if(o===null||typeof o>"u"||y(a,o,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(a,o,d,m,_,T,F){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=a,this.type=o,this.sanitizeURL=T,this.removeEmptyString=F}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){k[a]=new A(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];k[o]=new A(o,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){k[a]=new A(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){k[a]=new A(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){k[a]=new A(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){k[a]=new A(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){k[a]=new A(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){k[a]=new A(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){k[a]=new A(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(C,P);k[o]=new A(o,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(C,P);k[o]=new A(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(C,P);k[o]=new A(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){k[a]=new A(a,1,!1,a.toLowerCase(),null,!1,!1)}),k.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){k[a]=new A(a,1,!1,a.toLowerCase(),null,!0,!0)});function $(a,o,d,m){var _=k.hasOwnProperty(o)?k[o]:null;(_!==null?_.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,d,_,m)&&(d=null),m||_===null?E(o)&&(d===null?a.removeAttribute(o):a.setAttribute(o,""+d)):_.mustUseProperty?a[_.propertyName]=d===null?_.type===3?!1:"":d:(o=_.attributeName,m=_.attributeNamespace,d===null?a.removeAttribute(o):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,m?a.setAttributeNS(m,o,d):a.setAttribute(o,d))))}var H=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),he=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Ie=Symbol.for("react.provider"),U=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ve(a){return a===null||typeof a!="object"?null:(a=ae&&a[ae]||a["@@iterator"],typeof a=="function"?a:null)}var ye=Object.assign,ne;function I(a){if(ne===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ne=o&&o[1]||""}return`
`+ne+a}var V=!1;function Q(a,o){if(!a||V)return"";V=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Me){var m=Me}Reflect.construct(a,[],o)}else{try{o.call()}catch(Me){m=Me}a.call(o.prototype)}else{try{throw Error()}catch(Me){m=Me}a()}}catch(Me){if(Me&&m&&typeof Me.stack=="string"){for(var _=Me.stack.split(`
`),T=m.stack.split(`
`),F=_.length-1,ie=T.length-1;1<=F&&0<=ie&&_[F]!==T[ie];)ie--;for(;1<=F&&0<=ie;F--,ie--)if(_[F]!==T[ie]){if(F!==1||ie!==1)do if(F--,ie--,0>ie||_[F]!==T[ie]){var fe=`
`+_[F].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=F&&0<=ie);break}}}finally{V=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?I(a):""}function se(a){switch(a.tag){case 5:return I(a.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return a=Q(a.type,!1),a;case 11:return a=Q(a.type.render,!1),a;case 1:return a=Q(a.type,!0),a;default:return""}}function ue(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case le:return"Fragment";case he:return"Portal";case be:return"Profiler";case X:return"StrictMode";case te:return"Suspense";case ee:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case U:return(a.displayName||"Context")+".Consumer";case Ie:return(a._context.displayName||"Context")+".Provider";case q:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Oe:return o=a.displayName||null,o!==null?o:ue(a.type)||"Memo";case Ae:o=a._payload,a=a._init;try{return ue(a(o))}catch{}}return null}function _e(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(o);case 8:return o===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function xe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Te(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ue(a){var o=Te(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),m=""+a[o];if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,T=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return _.call(this)},set:function(F){m=""+F,T.call(this,F)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(F){m=""+F},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Xe(a){a._valueTracker||(a._valueTracker=Ue(a))}function ut(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),m="";return a&&(m=Te(a)?a.checked?"true":"false":a.value),a=m,a!==d?(o.setValue(a),!0):!1}function lt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Et(a,o){var d=o.checked;return ye({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function je(a,o){var d=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;d=xe(o.value!=null?o.value:d),a._wrapperState={initialChecked:m,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function re(a,o){o=o.checked,o!=null&&$(a,"checked",o,!1)}function It(a,o){re(a,o);var d=xe(o.value),m=o.type;if(d!=null)m==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?Ze(a,o.type,d):o.hasOwnProperty("defaultValue")&&Ze(a,o.type,xe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function vt(a,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,d||o===a.value||(a.value=o),a.defaultValue=o}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Ze(a,o,d){(o!=="number"||lt(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var ot=Array.isArray;function ft(a,o,d,m){if(a=a.options,o){o={};for(var _=0;_<d.length;_++)o["$"+d[_]]=!0;for(d=0;d<a.length;d++)_=o.hasOwnProperty("$"+a[d].value),a[d].selected!==_&&(a[d].selected=_),_&&m&&(a[d].defaultSelected=!0)}else{for(d=""+xe(d),o=null,_=0;_<a.length;_++){if(a[_].value===d){a[_].selected=!0,m&&(a[_].defaultSelected=!0);return}o!==null||a[_].disabled||(o=a[_])}o!==null&&(o.selected=!0)}}function K(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ye({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function pe(a,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(n(92));if(ot(d)){if(1<d.length)throw Error(n(93));d=d[0]}o=d}o==null&&(o=""),d=o}a._wrapperState={initialValue:xe(d)}}function ke(a,o){var d=xe(o.value),m=xe(o.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),o.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),m!=null&&(a.defaultValue=""+m)}function Ke(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function Ye(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qe(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?Ye(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var et,ct=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,m,_){MSApp.execUnsafeLocalFunction(function(){return a(o,d,m,_)})}:a}(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(et=et||document.createElement("div"),et.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=et.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function wt(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var Je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ir=["Webkit","ms","Moz","O"];Object.keys(Je).forEach(function(a){ir.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),Je[o]=Je[a]})});function Kt(a,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||Je.hasOwnProperty(a)&&Je[a]?(""+o).trim():o+"px"}function Ar(a,o){a=a.style;for(var d in o)if(o.hasOwnProperty(d)){var m=d.indexOf("--")===0,_=Kt(d,o[d],m);d==="float"&&(d="cssFloat"),m?a.setProperty(d,_):a[d]=_}}var sn=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function un(a,o){if(o){if(sn[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Hr(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xt=null;function bs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var On=null,Nr=null,fn=null;function Jt(a){if(a=$u(a)){if(typeof On!="function")throw Error(n(280));var o=a.stateNode;o&&(o=Wl(o),On(a.stateNode,a.type,o))}}function At(a){Nr?fn?fn.push(a):fn=[a]:Nr=a}function Yt(){if(Nr){var a=Nr,o=fn;if(fn=Nr=null,Jt(a),o)for(a=0;a<o.length;a++)Jt(o[a])}}function sr(a,o){return a(o)}function ln(){}var qn=!1;function Cr(a,o,d){if(qn)return a(o,d);qn=!0;try{return sr(a,o,d)}finally{qn=!1,(Nr!==null||fn!==null)&&(ln(),Yt())}}function gt(a,o){var d=a.stateNode;if(d===null)return null;var m=Wl(d);if(m===null)return null;d=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var Xn=!1;if(l)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{Xn=!1}function Bn(a,o,d,m,_,T,F,ie,fe){var Me=Array.prototype.slice.call(arguments,3);try{o.apply(d,Me)}catch(rt){this.onError(rt)}}var En=!1,_n=null,Mn=!1,pi=null,Ri={onError:function(a){En=!0,_n=a}};function ys(a,o,d,m,_,T,F,ie,fe){En=!1,_n=null,Bn.apply(Ri,arguments)}function vs(a,o,d,m,_,T,F,ie,fe){if(ys.apply(this,arguments),En){if(En){var Me=_n;En=!1,_n=null}else throw Error(n(198));Mn||(Mn=!0,pi=Me)}}function Or(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function ws(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function Di(a){if(Or(a)!==a)throw Error(n(188))}function js(a){var o=a.alternate;if(!o){if(o=Or(a),o===null)throw Error(n(188));return o!==a?null:a}for(var d=a,m=o;;){var _=d.return;if(_===null)break;var T=_.alternate;if(T===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===d)return Di(_),a;if(T===m)return Di(_),o;T=T.sibling}throw Error(n(188))}if(d.return!==m.return)d=_,m=T;else{for(var F=!1,ie=_.child;ie;){if(ie===d){F=!0,d=_,m=T;break}if(ie===m){F=!0,m=_,d=T;break}ie=ie.sibling}if(!F){for(ie=T.child;ie;){if(ie===d){F=!0,d=T,m=_;break}if(ie===m){F=!0,m=T,d=_;break}ie=ie.sibling}if(!F)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:o}function $a(a){return a=js(a),a!==null?No(a):null}function No(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=No(a);if(o!==null)return o;a=a.sibling}return null}var Co=t.unstable_scheduleCallback,Lo=t.unstable_cancelCallback,pu=t.unstable_shouldYield,Tc=t.unstable_requestPaint,zn=t.unstable_now,Dd=t.unstable_getCurrentPriorityLevel,Va=t.unstable_ImmediatePriority,Sl=t.unstable_UserBlockingPriority,mu=t.unstable_NormalPriority,Al=t.unstable_LowPriority,Sc=t.unstable_IdlePriority,ko=null,Ki=null;function gu(a){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(ko,a,void 0,(a.current.flags&128)===128)}catch{}}var Mi=Math.clz32?Math.clz32:Nc,ar=Math.log,Ac=Math.LN2;function Nc(a){return a>>>=0,a===0?32:31-(ar(a)/Ac|0)|0}var Io=64,Wa=4194304;function Po(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function mi(a,o){var d=a.pendingLanes;if(d===0)return 0;var m=0,_=a.suspendedLanes,T=a.pingedLanes,F=d&268435455;if(F!==0){var ie=F&~_;ie!==0?m=Po(ie):(T&=F,T!==0&&(m=Po(T)))}else F=d&~_,F!==0?m=Po(F):T!==0&&(m=Po(T));if(m===0)return 0;if(o!==0&&o!==m&&!(o&_)&&(_=m&-m,T=o&-o,_>=T||_===16&&(T&4194240)!==0))return o;if(m&4&&(m|=d&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=m;0<o;)d=31-Mi(o),_=1<<d,m|=a[d],o&=~_;return m}function bu(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(a,o){for(var d=a.suspendedLanes,m=a.pingedLanes,_=a.expirationTimes,T=a.pendingLanes;0<T;){var F=31-Mi(T),ie=1<<F,fe=_[F];fe===-1?(!(ie&d)||ie&m)&&(_[F]=bu(ie,o)):fe<=o&&(a.expiredLanes|=ie),T&=~ie}}function Oo(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Nl(){var a=Io;return Io<<=1,!(Io&4194240)&&(Io=64),a}function Cl(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function Ya(a,o,d){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-Mi(o),a[o]=d}function Md(a,o){var d=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<d;){var _=31-Mi(d),T=1<<_;o[_]=0,m[_]=-1,a[_]=-1,d&=~T}}function yu(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var m=31-Mi(d),_=1<<m;_&o|a[m]&o&&(a[m]|=o),d&=~_}}var hn=0;function vu(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Cc,Ll,Lc,Bs,Ro,Ga=!1,Do=[],$n=null,Us=null,Es=null,Dt=new Map,Mo=new Map,Hs=[],qs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kl(a,o){switch(a){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Dt.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(o.pointerId)}}function Ka(a,o,d,m,_,T){return a===null||a.nativeEvent!==T?(a={blockedOn:o,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[_]},o!==null&&(o=$u(o),o!==null&&Ll(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),a)}function wu(a,o,d,m,_){switch(o){case"focusin":return $n=Ka($n,a,o,d,m,_),!0;case"dragenter":return Us=Ka(Us,a,o,d,m,_),!0;case"mouseover":return Es=Ka(Es,a,o,d,m,_),!0;case"pointerover":var T=_.pointerId;return Dt.set(T,Ka(Dt.get(T)||null,a,o,d,m,_)),!0;case"gotpointercapture":return T=_.pointerId,Mo.set(T,Ka(Mo.get(T)||null,a,o,d,m,_)),!0}return!1}function Eu(a){var o=ao(a.target);if(o!==null){var d=Or(o);if(d!==null){if(o=d.tag,o===13){if(o=ws(d),o!==null){a.blockedOn=o,Ro(a.priority,function(){Lc(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _u(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=Tu(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Xt=m,d.target.dispatchEvent(m),Xt=null}else return o=$u(d),o!==null&&Ll(o),a.blockedOn=d,!1;o.shift()}return!0}function kc(a,o,d){_u(a)&&d.delete(o)}function Fd(){Ga=!1,$n!==null&&_u($n)&&($n=null),Us!==null&&_u(Us)&&(Us=null),Es!==null&&_u(Es)&&(Es=null),Dt.forEach(kc),Mo.forEach(kc)}function ua(a,o){a.blockedOn===o&&(a.blockedOn=null,Ga||(Ga=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Fd)))}function _s(a){function o(_){return ua(_,a)}if(0<Do.length){ua(Do[0],a);for(var d=1;d<Do.length;d++){var m=Do[d];m.blockedOn===a&&(m.blockedOn=null)}}for($n!==null&&ua($n,a),Us!==null&&ua(Us,a),Es!==null&&ua(Es,a),Dt.forEach(o),Mo.forEach(o),d=0;d<Hs.length;d++)m=Hs[d],m.blockedOn===a&&(m.blockedOn=null);for(;0<Hs.length&&(d=Hs[0],d.blockedOn===null);)Eu(d),d.blockedOn===null&&Hs.shift()}var Fi=H.ReactCurrentBatchConfig,xu=!0;function Fo(a,o,d,m){var _=hn,T=Fi.transition;Fi.transition=null;try{hn=1,Qa(a,o,d,m)}finally{hn=_,Fi.transition=T}}function Il(a,o,d,m){var _=hn,T=Fi.transition;Fi.transition=null;try{hn=4,Qa(a,o,d,m)}finally{hn=_,Fi.transition=T}}function Qa(a,o,d,m){if(xu){var _=Tu(a,o,d,m);if(_===null)zl(a,o,m,jo,d),kl(a,m);else if(wu(_,a,o,d,m))m.stopPropagation();else if(kl(a,m),o&4&&-1<qs.indexOf(a)){for(;_!==null;){var T=$u(_);if(T!==null&&Cc(T),T=Tu(a,o,d,m),T===null&&zl(a,o,m,jo,d),T===_)break;_=T}_!==null&&m.stopPropagation()}else zl(a,o,m,null,d)}}var jo=null;function Tu(a,o,d,m){if(jo=null,a=bs(m),a=ao(a),a!==null)if(o=Or(a),o===null)a=null;else if(d=o.tag,d===13){if(a=ws(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return jo=a,null}function Pl(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dd()){case Va:return 1;case Sl:return 4;case mu:case Al:return 16;case Sc:return 536870912;default:return 16}default:return 16}}var xs=null,Qi=null,Xi=null;function Ic(){if(Xi)return Xi;var a,o=Qi,d=o.length,m,_="value"in xs?xs.value:xs.textContent,T=_.length;for(a=0;a<d&&o[a]===_[a];a++);var F=d-a;for(m=1;m<=F&&o[d-m]===_[T-m];m++);return Xi=_.slice(a,1<m?1-m:void 0)}function Ts(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function bi(){return!0}function Su(){return!1}function gr(a){function o(d,m,_,T,F){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=T,this.target=F,this.currentTarget=null;for(var ie in a)a.hasOwnProperty(ie)&&(d=a[ie],this[ie]=d?d(T):T[ie]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?bi:Su,this.isPropagationStopped=Su,this}return ye(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),o}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=gr(Xa),Bo=ye({},Xa,{view:0,detail:0}),Ol=gr(Bo),Uo,Au,zs,Za=ye({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mt,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==zs&&(zs&&a.type==="mousemove"?(Uo=a.screenX-zs.screenX,Au=a.screenY-zs.screenY):Au=Uo=0,zs=a),Uo)},movementY:function(a){return"movementY"in a?a.movementY:Au}}),Nu=gr(Za),Pc=ye({},Za,{dataTransfer:0}),jd=gr(Pc),Cu=ye({},Bo,{relatedTarget:0}),la=gr(Cu),Rl=ye({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),eo=gr(Rl),Dl=ye({},Xa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),v=gr(Dl),R=ye({},Xa,{data:0}),Z=gr(R),ce={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ze={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tt(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=ze[a])?!!o[a]:!1}function mt(){return tt}var Lt=ye({},Bo,{key:function(a){if(a.key){var o=ce[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ts(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ne[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mt,charCode:function(a){return a.type==="keypress"?Ts(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ts(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),zt=gr(Lt),qt=ye({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tn=gr(qt),Vn=ye({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mt}),Jn=gr(Vn),cr=ye({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),qr=gr(cr),Lr=ye({},Za,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ss=gr(Lr),ji=[9,13,27,32],Ji=l&&"CompositionEvent"in window,to=null;l&&"documentMode"in document&&(to=document.documentMode);var Ml=l&&"TextEvent"in window&&!to,Lu=l&&(!Ji||to&&8<to&&11>=to),Ho=" ",ku=!1;function Iu(a,o){switch(a){case"keyup":return ji.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qo(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Zn=!1;function Pu(a,o){switch(a){case"compositionend":return qo(o);case"keypress":return o.which!==32?null:(ku=!0,Ho);case"textInput":return a=o.data,a===Ho&&ku?null:a;default:return null}}function Ou(a,o){if(Zn)return a==="compositionend"||!Ji&&Iu(a,o)?(a=Ic(),Xi=Qi=xs=null,Zn=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Lu&&o.locale!=="ko"?null:o.data;default:return null}}var Ru={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Du(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Ru[a.type]:o==="textarea"}function ni(a,o,d,m){At(m),o=Mc(o,"onChange"),0<o.length&&(d=new Ja("onChange","change",null,d,m),a.push({event:d,listeners:o}))}var zo=null,ca=null;function Oc(a){Hl(a,0)}function ri(a){var o=Jo(a);if(ut(o))return a}function Mu(a,o){if(a==="change")return o}var Fl=!1;if(l){var Fu;if(l){var $s="oninput"in document;if(!$s){var no=document.createElement("div");no.setAttribute("oninput","return;"),$s=typeof no.oninput=="function"}Fu=$s}else Fu=!1;Fl=Fu&&(!document.documentMode||9<document.documentMode)}function ii(){zo&&(zo.detachEvent("onpropertychange",zr),ca=zo=null)}function zr(a){if(a.propertyName==="value"&&ri(ca)){var o=[];ni(o,ca,a,bs(a)),Cr(Oc,o)}}function ro(a,o,d){a==="focusin"?(ii(),zo=o,ca=d,zo.attachEvent("onpropertychange",zr)):a==="focusout"&&ii()}function da(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ri(ca)}function fa(a,o){if(a==="click")return ri(o)}function ju(a,o){if(a==="input"||a==="change")return ri(o)}function ha(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var pn=typeof Object.is=="function"?Object.is:ha;function pa(a,o){if(pn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),m=Object.keys(o);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!c.call(o,_)||!pn(a[_],o[_]))return!1}return!0}function $r(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Bi(a,o){var d=$r(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=o&&m>=o)return{node:d,offset:o-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=$r(d)}}function $o(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?$o(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function jl(){for(var a=window,o=lt();o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=lt(a.document)}return o}function Vo(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function Wo(a){var o=jl(),d=a.focusedElem,m=a.selectionRange;if(o!==d&&d&&d.ownerDocument&&$o(d.ownerDocument.documentElement,d)){if(m!==null&&Vo(d)){if(o=m.start,a=m.end,a===void 0&&(a=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(a,d.value.length);else if(a=(o=d.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var _=d.textContent.length,T=Math.min(m.start,_);m=m.end===void 0?T:Math.min(m.end,_),!a.extend&&T>m&&(_=m,m=T,T=_),_=Bi(d,T);var F=Bi(d,m);_&&F&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==F.node||a.focusOffset!==F.offset)&&(o=o.createRange(),o.setStart(_.node,_.offset),a.removeAllRanges(),T>m?(a.addRange(o),a.extend(F.node,F.offset)):(o.setEnd(F.node,F.offset),a.addRange(o)))}}for(o=[],a=d;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)a=o[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Yo=l&&"documentMode"in document&&11>=document.documentMode,Ui=null,ma=null,Vs=null,ga=!1;function ba(a,o,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ga||Ui==null||Ui!==lt(m)||(m=Ui,"selectionStart"in m&&Vo(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Vs&&pa(Vs,m)||(Vs=m,m=Mc(ma,"onSelect"),0<m.length&&(o=new Ja("onSelect","select",null,o,d),a.push({event:o,listeners:m}),o.target=Ui)))}function io(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var Rr={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},yi={},kn={};l&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function xn(a){if(yi[a])return yi[a];if(!Rr[a])return a;var o=Rr[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in kn)return yi[a]=o[d];return a}var er=xn("animationend"),dr=xn("animationiteration"),Ws=xn("animationstart"),Bu=xn("transitionend"),Go=new Map,Bl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(a,o){Go.set(a,o),s(o,[a])}for(var Uu=0;Uu<Bl.length;Uu++){var si=Bl[Uu],Zi=si.toLowerCase(),Rc=si[0].toUpperCase()+si.slice(1);Ys(Zi,"on"+Rc)}Ys(er,"onAnimationEnd"),Ys(dr,"onAnimationIteration"),Ys(Ws,"onAnimationStart"),Ys("dblclick","onDoubleClick"),Ys("focusin","onFocus"),Ys("focusout","onBlur"),Ys(Bu,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eh=new Set("cancel close invalid load scroll toggle".split(" ").concat(so));function Ul(a,o,d){var m=a.type||"unknown-event";a.currentTarget=d,vs(m,o,void 0,a),a.currentTarget=null}function Hl(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],_=m.event;m=m.listeners;e:{var T=void 0;if(o)for(var F=m.length-1;0<=F;F--){var ie=m[F],fe=ie.instance,Me=ie.currentTarget;if(ie=ie.listener,fe!==T&&_.isPropagationStopped())break e;Ul(_,ie,Me),T=fe}else for(F=0;F<m.length;F++){if(ie=m[F],fe=ie.instance,Me=ie.currentTarget,ie=ie.listener,fe!==T&&_.isPropagationStopped())break e;Ul(_,ie,Me),T=fe}}}if(Mn)throw a=pi,Mn=!1,pi=null,a}function In(a,o){var d=o[wi];d===void 0&&(d=o[wi]=new Set);var m=a+"__bubble";d.has(m)||(ql(o,a,2,!1),d.add(m))}function Dc(a,o,d){var m=0;o&&(m|=4),ql(d,a,m,o)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Ko(a){if(!a[Hu]){a[Hu]=!0,r.forEach(function(d){d!=="selectionchange"&&(Eh.has(d)||Dc(d,!1,a),Dc(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Hu]||(o[Hu]=!0,Dc("selectionchange",!1,o))}}function ql(a,o,d,m){switch(Pl(o)){case 1:var _=Fo;break;case 4:_=Il;break;default:_=Qa}d=_.bind(null,o,d,a),_=void 0,!Xn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),m?_!==void 0?a.addEventListener(o,d,{capture:!0,passive:_}):a.addEventListener(o,d,!0):_!==void 0?a.addEventListener(o,d,{passive:_}):a.addEventListener(o,d,!1)}function zl(a,o,d,m,_){var T=m;if(!(o&1)&&!(o&2)&&m!==null)e:for(;;){if(m===null)return;var F=m.tag;if(F===3||F===4){var ie=m.stateNode.containerInfo;if(ie===_||ie.nodeType===8&&ie.parentNode===_)break;if(F===4)for(F=m.return;F!==null;){var fe=F.tag;if((fe===3||fe===4)&&(fe=F.stateNode.containerInfo,fe===_||fe.nodeType===8&&fe.parentNode===_))return;F=F.return}for(;ie!==null;){if(F=ao(ie),F===null)return;if(fe=F.tag,fe===5||fe===6){m=T=F;continue e}ie=ie.parentNode}}m=m.return}Cr(function(){var Me=T,rt=bs(d),st=[];e:{var nt=Go.get(a);if(nt!==void 0){var yt=Ja,xt=a;switch(a){case"keypress":if(Ts(d)===0)break e;case"keydown":case"keyup":yt=zt;break;case"focusin":xt="focus",yt=la;break;case"focusout":xt="blur",yt=la;break;case"beforeblur":case"afterblur":yt=la;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=Nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=Jn;break;case er:case dr:case Ws:yt=eo;break;case Bu:yt=qr;break;case"scroll":yt=Ol;break;case"wheel":yt=Ss;break;case"copy":case"cut":case"paste":yt=v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=tn}var St=(o&4)!==0,wr=!St&&a==="scroll",Re=St?nt!==null?nt+"Capture":null:nt;St=[];for(var we=Me,De;we!==null;){De=we;var dt=De.stateNode;if(De.tag===5&&dt!==null&&(De=dt,Re!==null&&(dt=gt(we,Re),dt!=null&&St.push($l(we,dt,De)))),wr)break;we=we.return}0<St.length&&(nt=new yt(nt,xt,null,d,rt),st.push({event:nt,listeners:St}))}}if(!(o&7)){e:{if(nt=a==="mouseover"||a==="pointerover",yt=a==="mouseout"||a==="pointerout",nt&&d!==Xt&&(xt=d.relatedTarget||d.fromElement)&&(ao(xt)||xt[Vr]))break e;if((yt||nt)&&(nt=rt.window===rt?rt:(nt=rt.ownerDocument)?nt.defaultView||nt.parentWindow:window,yt?(xt=d.relatedTarget||d.toElement,yt=Me,xt=xt?ao(xt):null,xt!==null&&(wr=Or(xt),xt!==wr||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(yt=null,xt=Me),yt!==xt)){if(St=Nu,dt="onMouseLeave",Re="onMouseEnter",we="mouse",(a==="pointerout"||a==="pointerover")&&(St=tn,dt="onPointerLeave",Re="onPointerEnter",we="pointer"),wr=yt==null?nt:Jo(yt),De=xt==null?nt:Jo(xt),nt=new St(dt,we+"leave",yt,d,rt),nt.target=wr,nt.relatedTarget=De,dt=null,ao(rt)===Me&&(St=new St(Re,we+"enter",xt,d,rt),St.target=De,St.relatedTarget=wr,dt=St),wr=dt,yt&&xt)t:{for(St=yt,Re=xt,we=0,De=St;De;De=Qo(De))we++;for(De=0,dt=Re;dt;dt=Qo(dt))De++;for(;0<we-De;)St=Qo(St),we--;for(;0<De-we;)Re=Qo(Re),De--;for(;we--;){if(St===Re||Re!==null&&St===Re.alternate)break t;St=Qo(St),Re=Qo(Re)}St=null}else St=null;yt!==null&&_h(st,nt,yt,St,!1),xt!==null&&wr!==null&&_h(st,wr,xt,St,!0)}}e:{if(nt=Me?Jo(Me):window,yt=nt.nodeName&&nt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&nt.type==="file")var Ct=Mu;else if(Du(nt))if(Fl)Ct=ju;else{Ct=da;var Pt=ro}else(yt=nt.nodeName)&&yt.toLowerCase()==="input"&&(nt.type==="checkbox"||nt.type==="radio")&&(Ct=fa);if(Ct&&(Ct=Ct(a,Me))){ni(st,Ct,d,rt);break e}Pt&&Pt(a,nt,Me),a==="focusout"&&(Pt=nt._wrapperState)&&Pt.controlled&&nt.type==="number"&&Ze(nt,"number",nt.value)}switch(Pt=Me?Jo(Me):window,a){case"focusin":(Du(Pt)||Pt.contentEditable==="true")&&(Ui=Pt,ma=Me,Vs=null);break;case"focusout":Vs=ma=Ui=null;break;case"mousedown":ga=!0;break;case"contextmenu":case"mouseup":case"dragend":ga=!1,ba(st,d,rt);break;case"selectionchange":if(Yo)break;case"keydown":case"keyup":ba(st,d,rt)}var Ot;if(Ji)e:{switch(a){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else Zn?Iu(a,d)&&(Ut="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ut="onCompositionStart");Ut&&(Lu&&d.locale!=="ko"&&(Zn||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Zn&&(Ot=Ic()):(xs=rt,Qi="value"in xs?xs.value:xs.textContent,Zn=!0)),Pt=Mc(Me,Ut),0<Pt.length&&(Ut=new Z(Ut,a,null,d,rt),st.push({event:Ut,listeners:Pt}),Ot?Ut.data=Ot:(Ot=qo(d),Ot!==null&&(Ut.data=Ot)))),(Ot=Ml?Pu(a,d):Ou(a,d))&&(Me=Mc(Me,"onBeforeInput"),0<Me.length&&(rt=new Z("onBeforeInput","beforeinput",null,d,rt),st.push({event:rt,listeners:Me}),rt.data=Ot))}Hl(st,o)})}function $l(a,o,d){return{instance:a,listener:o,currentTarget:d}}function Mc(a,o){for(var d=o+"Capture",m=[];a!==null;){var _=a,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=gt(a,d),T!=null&&m.unshift($l(a,T,_)),T=gt(a,o),T!=null&&m.push($l(a,T,_))),a=a.return}return m}function Qo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function _h(a,o,d,m,_){for(var T=o._reactName,F=[];d!==null&&d!==m;){var ie=d,fe=ie.alternate,Me=ie.stateNode;if(fe!==null&&fe===m)break;ie.tag===5&&Me!==null&&(ie=Me,_?(fe=gt(d,T),fe!=null&&F.unshift($l(d,fe,ie))):_||(fe=gt(d,T),fe!=null&&F.push($l(d,fe,ie)))),d=d.return}F.length!==0&&a.push({event:o,listeners:F})}var Pp=/\r\n?/g,Op=/\u0000|\uFFFD/g;function xh(a){return(typeof a=="string"?a:""+a).replace(Pp,`
`).replace(Op,"")}function Fc(a,o,d){if(o=xh(o),xh(a)!==o&&d)throw Error(n(425))}function qu(){}var Vl=null,Xo=null;function Bd(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ud=typeof setTimeout=="function"?setTimeout:void 0,Th=typeof clearTimeout=="function"?clearTimeout:void 0,Sh=typeof Promise=="function"?Promise:void 0,Rp=typeof queueMicrotask=="function"?queueMicrotask:typeof Sh<"u"?function(a){return Sh.resolve(null).then(a).catch(Dp)}:Ud;function Dp(a){setTimeout(function(){throw a})}function Hd(a,o){var d=o,m=0;do{var _=d.nextSibling;if(a.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(m===0){a.removeChild(_),_s(o);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=_}while(d);_s(o)}function ai(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function es(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return a;o--}else d==="/$"&&o++}a=a.previousSibling}return null}var vi=Math.random().toString(36).slice(2),Gs="__reactFiber$"+vi,zu="__reactProps$"+vi,Vr="__reactContainer$"+vi,wi="__reactEvents$"+vi,Mp="__reactListeners$"+vi,Fp="__reactHandles$"+vi;function ao(a){var o=a[Gs];if(o)return o;for(var d=a.parentNode;d;){if(o=d[Vr]||d[Gs]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=es(a);a!==null;){if(d=a[Gs])return d;a=es(a)}return o}a=d,d=a.parentNode}return null}function $u(a){return a=a[Gs]||a[Vr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Jo(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Wl(a){return a[zu]||null}var qd=[],ya=-1;function As(a){return{current:a}}function Tn(a){0>ya||(a.current=qd[ya],qd[ya]=null,ya--)}function Cn(a,o){ya++,qd[ya]=a.current,a.current=o}var oo={},Dr=As(oo),Ei=As(!1),Zo=oo;function Vu(a,o){var d=a.type.contextTypes;if(!d)return oo;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in d)_[T]=o[T];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=_),_}function _i(a){return a=a.childContextTypes,a!=null}function jc(){Tn(Ei),Tn(Dr)}function Ah(a,o,d){if(Dr.current!==oo)throw Error(n(168));Cn(Dr,o),Cn(Ei,d)}function zd(a,o,d){var m=a.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var _ in m)if(!(_ in o))throw Error(n(108,_e(a)||"Unknown",_));return ye({},d,m)}function eu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||oo,Zo=Dr.current,Cn(Dr,a),Cn(Ei,Ei.current),!0}function Nh(a,o,d){var m=a.stateNode;if(!m)throw Error(n(169));d?(a=zd(a,o,Zo),m.__reactInternalMemoizedMergedChildContext=a,Tn(Ei),Tn(Dr),Cn(Dr,a)):Tn(Ei),Cn(Ei,d)}var va=null,Yl=!1,f=!1;function g(a){va===null?va=[a]:va.push(a)}function x(a){Yl=!0,g(a)}function N(){if(!f&&va!==null){f=!0;var a=0,o=hn;try{var d=va;for(hn=1;a<d.length;a++){var m=d[a];do m=m(!0);while(m!==null)}va=null,Yl=!1}catch(_){throw va!==null&&(va=va.slice(a+1)),Co(Va,N),_}finally{hn=o,f=!1}}return null}var O=[],D=0,j=null,B=0,z=[],W=0,de=null,Ce=1,Le="";function Ee(a,o){O[D++]=B,O[D++]=j,j=a,B=o}function Ge(a,o,d){z[W++]=Ce,z[W++]=Le,z[W++]=de,de=a;var m=Ce;a=Le;var _=32-Mi(m)-1;m&=~(1<<_),d+=1;var T=32-Mi(o)+_;if(30<T){var F=_-_%5;T=(m&(1<<F)-1).toString(32),m>>=F,_-=F,Ce=1<<32-Mi(o)+_|d<<_|m,Le=T+a}else Ce=1<<T|d<<_|m,Le=a}function Fe(a){a.return!==null&&(Ee(a,1),Ge(a,1,0))}function me(a){for(;a===j;)j=O[--D],O[D]=null,B=O[--D],O[D]=null;for(;a===de;)de=z[--W],z[W]=null,Le=z[--W],z[W]=null,Ce=z[--W],z[W]=null}var ge=null,Ve=null,$e=!1,We=null;function bt(a,o){var d=ea(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=a,o=a.deletions,o===null?(a.deletions=[d],a.flags|=16):o.push(d)}function ht(a,o){switch(a.tag){case 5:var d=a.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,ge=a,Ve=ai(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,ge=a,Ve=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=de!==null?{id:Ce,overflow:Le}:null,a.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=ea(18,null,null,0),d.stateNode=o,d.return=a,a.child=d,ge=a,Ve=null,!0):!1;default:return!1}}function kt(a){return(a.mode&1)!==0&&(a.flags&128)===0}function pt(a){if($e){var o=Ve;if(o){var d=o;if(!ht(a,o)){if(kt(a))throw Error(n(418));o=ai(d.nextSibling);var m=ge;o&&ht(a,o)?bt(m,d):(a.flags=a.flags&-4097|2,$e=!1,ge=a)}}else{if(kt(a))throw Error(n(418));a.flags=a.flags&-4097|2,$e=!1,ge=a}}}function cn(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ge=a}function dn(a){if(a!==ge)return!1;if(!$e)return cn(a),$e=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!Bd(a.type,a.memoizedProps)),o&&(o=Ve)){if(kt(a))throw nn(),Error(n(418));for(;o;)bt(a,o),o=ai(o.nextSibling)}if(cn(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(o===0){Ve=ai(a.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}a=a.nextSibling}Ve=null}}else Ve=ge?ai(a.stateNode.nextSibling):null;return!0}function nn(){for(var a=Ve;a;)a=ai(a.nextSibling)}function Vt(){Ve=ge=null,$e=!1}function Sn(a){We===null?We=[a]:We.push(a)}var Ln=H.ReactCurrentBatchConfig;function Bt(a,o,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,a));var _=m,T=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===T?o.ref:(o=function(F){var ie=_.refs;F===null?delete ie[T]:ie[T]=F},o._stringRef=T,o)}if(typeof a!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,a))}return a}function Wn(a,o){throw a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function oi(a){var o=a._init;return o(a._payload)}function or(a){function o(Re,we){if(a){var De=Re.deletions;De===null?(Re.deletions=[we],Re.flags|=16):De.push(we)}}function d(Re,we){if(!a)return null;for(;we!==null;)o(Re,we),we=we.sibling;return null}function m(Re,we){for(Re=new Map;we!==null;)we.key!==null?Re.set(we.key,we):Re.set(we.index,we),we=we.sibling;return Re}function _(Re,we){return Re=rl(Re,we),Re.index=0,Re.sibling=null,Re}function T(Re,we,De){return Re.index=De,a?(De=Re.alternate,De!==null?(De=De.index,De<we?(Re.flags|=2,we):De):(Re.flags|=2,we)):(Re.flags|=1048576,we)}function F(Re){return a&&Re.alternate===null&&(Re.flags|=2),Re}function ie(Re,we,De,dt){return we===null||we.tag!==6?(we=f1(De,Re.mode,dt),we.return=Re,we):(we=_(we,De),we.return=Re,we)}function fe(Re,we,De,dt){var Ct=De.type;return Ct===le?rt(Re,we,De.props.children,dt,De.key):we!==null&&(we.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Ae&&oi(Ct)===we.type)?(dt=_(we,De.props),dt.ref=Bt(Re,we,De),dt.return=Re,dt):(dt=Yh(De.type,De.key,De.props,null,Re.mode,dt),dt.ref=Bt(Re,we,De),dt.return=Re,dt)}function Me(Re,we,De,dt){return we===null||we.tag!==4||we.stateNode.containerInfo!==De.containerInfo||we.stateNode.implementation!==De.implementation?(we=h1(De,Re.mode,dt),we.return=Re,we):(we=_(we,De.children||[]),we.return=Re,we)}function rt(Re,we,De,dt,Ct){return we===null||we.tag!==7?(we=tc(De,Re.mode,dt,Ct),we.return=Re,we):(we=_(we,De),we.return=Re,we)}function st(Re,we,De){if(typeof we=="string"&&we!==""||typeof we=="number")return we=f1(""+we,Re.mode,De),we.return=Re,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case Y:return De=Yh(we.type,we.key,we.props,null,Re.mode,De),De.ref=Bt(Re,null,we),De.return=Re,De;case he:return we=h1(we,Re.mode,De),we.return=Re,we;case Ae:var dt=we._init;return st(Re,dt(we._payload),De)}if(ot(we)||ve(we))return we=tc(we,Re.mode,De,null),we.return=Re,we;Wn(Re,we)}return null}function nt(Re,we,De,dt){var Ct=we!==null?we.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Ct!==null?null:ie(Re,we,""+De,dt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case Y:return De.key===Ct?fe(Re,we,De,dt):null;case he:return De.key===Ct?Me(Re,we,De,dt):null;case Ae:return Ct=De._init,nt(Re,we,Ct(De._payload),dt)}if(ot(De)||ve(De))return Ct!==null?null:rt(Re,we,De,dt,null);Wn(Re,De)}return null}function yt(Re,we,De,dt,Ct){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return Re=Re.get(De)||null,ie(we,Re,""+dt,Ct);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case Y:return Re=Re.get(dt.key===null?De:dt.key)||null,fe(we,Re,dt,Ct);case he:return Re=Re.get(dt.key===null?De:dt.key)||null,Me(we,Re,dt,Ct);case Ae:var Pt=dt._init;return yt(Re,we,De,Pt(dt._payload),Ct)}if(ot(dt)||ve(dt))return Re=Re.get(De)||null,rt(we,Re,dt,Ct,null);Wn(we,dt)}return null}function xt(Re,we,De,dt){for(var Ct=null,Pt=null,Ot=we,Ut=we=0,Kr=null;Ot!==null&&Ut<De.length;Ut++){Ot.index>Ut?(Kr=Ot,Ot=null):Kr=Ot.sibling;var vn=nt(Re,Ot,De[Ut],dt);if(vn===null){Ot===null&&(Ot=Kr);break}a&&Ot&&vn.alternate===null&&o(Re,Ot),we=T(vn,we,Ut),Pt===null?Ct=vn:Pt.sibling=vn,Pt=vn,Ot=Kr}if(Ut===De.length)return d(Re,Ot),$e&&Ee(Re,Ut),Ct;if(Ot===null){for(;Ut<De.length;Ut++)Ot=st(Re,De[Ut],dt),Ot!==null&&(we=T(Ot,we,Ut),Pt===null?Ct=Ot:Pt.sibling=Ot,Pt=Ot);return $e&&Ee(Re,Ut),Ct}for(Ot=m(Re,Ot);Ut<De.length;Ut++)Kr=yt(Ot,Re,Ut,De[Ut],dt),Kr!==null&&(a&&Kr.alternate!==null&&Ot.delete(Kr.key===null?Ut:Kr.key),we=T(Kr,we,Ut),Pt===null?Ct=Kr:Pt.sibling=Kr,Pt=Kr);return a&&Ot.forEach(function(il){return o(Re,il)}),$e&&Ee(Re,Ut),Ct}function St(Re,we,De,dt){var Ct=ve(De);if(typeof Ct!="function")throw Error(n(150));if(De=Ct.call(De),De==null)throw Error(n(151));for(var Pt=Ct=null,Ot=we,Ut=we=0,Kr=null,vn=De.next();Ot!==null&&!vn.done;Ut++,vn=De.next()){Ot.index>Ut?(Kr=Ot,Ot=null):Kr=Ot.sibling;var il=nt(Re,Ot,vn.value,dt);if(il===null){Ot===null&&(Ot=Kr);break}a&&Ot&&il.alternate===null&&o(Re,Ot),we=T(il,we,Ut),Pt===null?Ct=il:Pt.sibling=il,Pt=il,Ot=Kr}if(vn.done)return d(Re,Ot),$e&&Ee(Re,Ut),Ct;if(Ot===null){for(;!vn.done;Ut++,vn=De.next())vn=st(Re,vn.value,dt),vn!==null&&(we=T(vn,we,Ut),Pt===null?Ct=vn:Pt.sibling=vn,Pt=vn);return $e&&Ee(Re,Ut),Ct}for(Ot=m(Re,Ot);!vn.done;Ut++,vn=De.next())vn=yt(Ot,Re,Ut,vn.value,dt),vn!==null&&(a&&vn.alternate!==null&&Ot.delete(vn.key===null?Ut:vn.key),we=T(vn,we,Ut),Pt===null?Ct=vn:Pt.sibling=vn,Pt=vn);return a&&Ot.forEach(function(d_){return o(Re,d_)}),$e&&Ee(Re,Ut),Ct}function wr(Re,we,De,dt){if(typeof De=="object"&&De!==null&&De.type===le&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case Y:e:{for(var Ct=De.key,Pt=we;Pt!==null;){if(Pt.key===Ct){if(Ct=De.type,Ct===le){if(Pt.tag===7){d(Re,Pt.sibling),we=_(Pt,De.props.children),we.return=Re,Re=we;break e}}else if(Pt.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Ae&&oi(Ct)===Pt.type){d(Re,Pt.sibling),we=_(Pt,De.props),we.ref=Bt(Re,Pt,De),we.return=Re,Re=we;break e}d(Re,Pt);break}else o(Re,Pt);Pt=Pt.sibling}De.type===le?(we=tc(De.props.children,Re.mode,dt,De.key),we.return=Re,Re=we):(dt=Yh(De.type,De.key,De.props,null,Re.mode,dt),dt.ref=Bt(Re,we,De),dt.return=Re,Re=dt)}return F(Re);case he:e:{for(Pt=De.key;we!==null;){if(we.key===Pt)if(we.tag===4&&we.stateNode.containerInfo===De.containerInfo&&we.stateNode.implementation===De.implementation){d(Re,we.sibling),we=_(we,De.children||[]),we.return=Re,Re=we;break e}else{d(Re,we);break}else o(Re,we);we=we.sibling}we=h1(De,Re.mode,dt),we.return=Re,Re=we}return F(Re);case Ae:return Pt=De._init,wr(Re,we,Pt(De._payload),dt)}if(ot(De))return xt(Re,we,De,dt);if(ve(De))return St(Re,we,De,dt);Wn(Re,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,we!==null&&we.tag===6?(d(Re,we.sibling),we=_(we,De),we.return=Re,Re=we):(d(Re,we),we=f1(De,Re.mode,dt),we.return=Re,Re=we),F(Re)):d(Re,we)}return wr}var br=or(!0),bn=or(!1),Wr=As(null),Yr=null,Yn=null,yr=null;function Mr(){yr=Yn=Yr=null}function xi(a){var o=Wr.current;Tn(Wr),a._currentValue=o}function ts(a,o,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===d)break;a=a.return}}function Gn(a,o){Yr=a,yr=Yn=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&o&&(ss=!0),a.firstContext=null)}function fr(a){var o=a._currentValue;if(yr!==a)if(a={context:a,memoizedValue:o,next:null},Yn===null){if(Yr===null)throw Error(n(308));Yn=a,Yr.dependencies={lanes:0,firstContext:a}}else Yn=Yn.next=a;return o}var Hi=null;function uo(a){Hi===null?Hi=[a]:Hi.push(a)}function wa(a,o,d,m){var _=o.interleaved;return _===null?(d.next=d,uo(o)):(d.next=_.next,_.next=d),o.interleaved=d,yn(a,m)}function yn(a,o){a.lanes|=o;var d=a.alternate;for(d!==null&&(d.lanes|=o),d=a,a=a.return;a!==null;)a.childLanes|=o,d=a.alternate,d!==null&&(d.childLanes|=o),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Ks=!1;function Bc(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $d(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ns(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function rs(a,o,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,mn&2){var _=m.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),m.pending=o,yn(a,d)}return _=m.interleaved,_===null?(o.next=o,uo(m)):(o.next=_.next,_.next=o),m.interleaved=o,yn(a,d)}function tu(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var m=o.lanes;m&=a.pendingLanes,d|=m,o.lanes=d,yu(a,d)}}function is(a,o){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var F={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?_=T=F:T=T.next=F,d=d.next}while(d!==null);T===null?_=T=o:T=T.next=o}else _=T=o;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:m.shared,effects:m.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}function Ea(a,o,d,m){var _=a.updateQueue;Ks=!1;var T=_.firstBaseUpdate,F=_.lastBaseUpdate,ie=_.shared.pending;if(ie!==null){_.shared.pending=null;var fe=ie,Me=fe.next;fe.next=null,F===null?T=Me:F.next=Me,F=fe;var rt=a.alternate;rt!==null&&(rt=rt.updateQueue,ie=rt.lastBaseUpdate,ie!==F&&(ie===null?rt.firstBaseUpdate=Me:ie.next=Me,rt.lastBaseUpdate=fe))}if(T!==null){var st=_.baseState;F=0,rt=Me=fe=null,ie=T;do{var nt=ie.lane,yt=ie.eventTime;if((m&nt)===nt){rt!==null&&(rt=rt.next={eventTime:yt,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var xt=a,St=ie;switch(nt=o,yt=d,St.tag){case 1:if(xt=St.payload,typeof xt=="function"){st=xt.call(yt,st,nt);break e}st=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=St.payload,nt=typeof xt=="function"?xt.call(yt,st,nt):xt,nt==null)break e;st=ye({},st,nt);break e;case 2:Ks=!0}}ie.callback!==null&&ie.lane!==0&&(a.flags|=64,nt=_.effects,nt===null?_.effects=[ie]:nt.push(ie))}else yt={eventTime:yt,lane:nt,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},rt===null?(Me=rt=yt,fe=st):rt=rt.next=yt,F|=nt;if(ie=ie.next,ie===null){if(ie=_.shared.pending,ie===null)break;nt=ie,ie=nt.next,nt.next=null,_.lastBaseUpdate=nt,_.shared.pending=null}}while(!0);if(rt===null&&(fe=st),_.baseState=fe,_.firstBaseUpdate=Me,_.lastBaseUpdate=rt,o=_.shared.interleaved,o!==null){_=o;do F|=_.lane,_=_.next;while(_!==o)}else T===null&&(_.shared.lanes=0);Xl|=F,a.lanes=F,a.memoizedState=st}}function nu(a,o,d){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var m=a[o],_=m.callback;if(_!==null){if(m.callback=null,m=d,typeof _!="function")throw Error(n(191,_));_.call(m)}}}var Wu={},qi=As(Wu),Yu=As(Wu),lo=As(Wu);function _a(a){if(a===Wu)throw Error(n(174));return a}function Gu(a,o){switch(Cn(lo,o),Cn(Yu,a),Cn(qi,Wu),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:qe(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=qe(o,a)}Tn(qi),Cn(qi,o)}function Qs(){Tn(qi),Tn(Yu),Tn(lo)}function Ch(a){_a(lo.current);var o=_a(qi.current),d=qe(o,a.type);o!==d&&(Cn(Yu,a),Cn(qi,d))}function Vd(a){Yu.current===a&&(Tn(qi),Tn(Yu))}var Fn=As(0);function Ns(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Wd=[];function Yd(){for(var a=0;a<Wd.length;a++)Wd[a]._workInProgressVersionPrimary=null;Wd.length=0}var Uc=H.ReactCurrentDispatcher,Hc=H.ReactCurrentBatchConfig,Xs=0,Un=null,hr=null,ur=null,Ku=!1,xa=!1,Qu=0,jp=0;function vr(){throw Error(n(321))}function qc(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!pn(a[d],o[d]))return!1;return!0}function Gl(a,o,d,m,_,T){if(Xs=T,Un=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Uc.current=a===null||a.memoizedState===null?jE:BE,a=d(m,_),xa){T=0;do{if(xa=!1,Qu=0,25<=T)throw Error(n(301));T+=1,ur=hr=null,o.updateQueue=null,Uc.current=UE,a=d(m,_)}while(xa)}if(Uc.current=Oh,o=hr!==null&&hr.next!==null,Xs=0,ur=hr=Un=null,Ku=!1,o)throw Error(n(300));return a}function Js(){var a=Qu!==0;return Qu=0,a}function Cs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Un.memoizedState=ur=a:ur=ur.next=a,ur}function zi(){if(hr===null){var a=Un.alternate;a=a!==null?a.memoizedState:null}else a=hr.next;var o=ur===null?Un.memoizedState:ur.next;if(o!==null)ur=o,hr=a;else{if(a===null)throw Error(n(310));hr=a,a={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},ur===null?Un.memoizedState=ur=a:ur=ur.next=a}return ur}function Kl(a,o){return typeof o=="function"?o(a):o}function zc(a){var o=zi(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var m=hr,_=m.baseQueue,T=d.pending;if(T!==null){if(_!==null){var F=_.next;_.next=T.next,T.next=F}m.baseQueue=_=T,d.pending=null}if(_!==null){T=_.next,m=m.baseState;var ie=F=null,fe=null,Me=T;do{var rt=Me.lane;if((Xs&rt)===rt)fe!==null&&(fe=fe.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),m=Me.hasEagerState?Me.eagerState:a(m,Me.action);else{var st={lane:rt,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};fe===null?(ie=fe=st,F=m):fe=fe.next=st,Un.lanes|=rt,Xl|=rt}Me=Me.next}while(Me!==null&&Me!==T);fe===null?F=m:fe.next=ie,pn(m,o.memoizedState)||(ss=!0),o.memoizedState=m,o.baseState=F,o.baseQueue=fe,d.lastRenderedState=m}if(a=d.interleaved,a!==null){_=a;do T=_.lane,Un.lanes|=T,Xl|=T,_=_.next;while(_!==a)}else _===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function co(a){var o=zi(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var m=d.dispatch,_=d.pending,T=o.memoizedState;if(_!==null){d.pending=null;var F=_=_.next;do T=a(T,F.action),F=F.next;while(F!==_);pn(T,o.memoizedState)||(ss=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),d.lastRenderedState=T}return[T,m]}function Lh(){}function Gd(a,o){var d=Un,m=zi(),_=o(),T=!pn(m.memoizedState,_);if(T&&(m.memoizedState=_,ss=!0),m=m.queue,Wc(Ih.bind(null,d,m,a),[a]),m.getSnapshot!==o||T||ur!==null&&ur.memoizedState.tag&1){if(d.flags|=2048,$i(9,Kd.bind(null,d,m,_,o),void 0,null),Gr===null)throw Error(n(349));Xs&30||kh(d,o,_)}return _}function kh(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=Un.updateQueue,o===null?(o={lastEffect:null,stores:null},Un.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function Kd(a,o,d,m){o.value=d,o.getSnapshot=m,Xu(o)&&$c(a)}function Ih(a,o,d){return d(function(){Xu(o)&&$c(a)})}function Xu(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!pn(a,d)}catch{return!0}}function $c(a){var o=yn(a,1);o!==null&&Ca(o,a,1,-1)}function Ql(a){var o=Cs();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:a},o.queue=a,a=a.dispatch=FE.bind(null,Un,a),[o.memoizedState,a]}function $i(a,o,d,m){return a={tag:a,create:o,destroy:d,deps:m,next:null},o=Un.updateQueue,o===null?(o={lastEffect:null,stores:null},Un.updateQueue=o,o.lastEffect=a.next=a):(d=o.lastEffect,d===null?o.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,o.lastEffect=a)),a}function Ta(){return zi().memoizedState}function Ls(a,o,d,m){var _=Cs();Un.flags|=a,_.memoizedState=$i(1|o,d,void 0,m===void 0?null:m)}function ru(a,o,d,m){var _=zi();m=m===void 0?null:m;var T=void 0;if(hr!==null){var F=hr.memoizedState;if(T=F.destroy,m!==null&&qc(m,F.deps)){_.memoizedState=$i(o,d,T,m);return}}Un.flags|=a,_.memoizedState=$i(1|o,d,T,m)}function Vc(a,o){return Ls(8390656,8,a,o)}function Wc(a,o){return ru(2048,8,a,o)}function Ph(a,o){return ru(4,2,a,o)}function Yc(a,o){return ru(4,4,a,o)}function Gc(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function f2(a,o,d){return d=d!=null?d.concat([a]):null,ru(4,4,Gc.bind(null,o,a),d)}function Bp(){}function h2(a,o){var d=zi();o=o===void 0?null:o;var m=d.memoizedState;return m!==null&&o!==null&&qc(o,m[1])?m[0]:(d.memoizedState=[a,o],a)}function p2(a,o){var d=zi();o=o===void 0?null:o;var m=d.memoizedState;return m!==null&&o!==null&&qc(o,m[1])?m[0]:(a=a(),d.memoizedState=[a,o],a)}function m2(a,o,d){return Xs&21?(pn(d,o)||(d=Nl(),Un.lanes|=d,Xl|=d,a.baseState=!0),o):(a.baseState&&(a.baseState=!1,ss=!0),a.memoizedState=d)}function DE(a,o){var d=hn;hn=d!==0&&4>d?d:4,a(!0);var m=Hc.transition;Hc.transition={};try{a(!1),o()}finally{hn=d,Hc.transition=m}}function g2(){return zi().memoizedState}function ME(a,o,d){var m=tl(a);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},b2(a))y2(o,d);else if(d=wa(a,o,d,m),d!==null){var _=Wi();Ca(d,a,m,_),v2(d,o,m)}}function FE(a,o,d){var m=tl(a),_={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(b2(a))y2(o,_);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var F=o.lastRenderedState,ie=T(F,d);if(_.hasEagerState=!0,_.eagerState=ie,pn(ie,F)){var fe=o.interleaved;fe===null?(_.next=_,uo(o)):(_.next=fe.next,fe.next=_),o.interleaved=_;return}}catch{}finally{}d=wa(a,o,_,m),d!==null&&(_=Wi(),Ca(d,a,m,_),v2(d,o,m))}}function b2(a){var o=a.alternate;return a===Un||o!==null&&o===Un}function y2(a,o){xa=Ku=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function v2(a,o,d){if(d&4194240){var m=o.lanes;m&=a.pendingLanes,d|=m,o.lanes=d,yu(a,d)}}var Oh={readContext:fr,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},jE={readContext:fr,useCallback:function(a,o){return Cs().memoizedState=[a,o===void 0?null:o],a},useContext:fr,useEffect:Vc,useImperativeHandle:function(a,o,d){return d=d!=null?d.concat([a]):null,Ls(4194308,4,Gc.bind(null,o,a),d)},useLayoutEffect:function(a,o){return Ls(4194308,4,a,o)},useInsertionEffect:function(a,o){return Ls(4,2,a,o)},useMemo:function(a,o){var d=Cs();return o=o===void 0?null:o,a=a(),d.memoizedState=[a,o],a},useReducer:function(a,o,d){var m=Cs();return o=d!==void 0?d(o):o,m.memoizedState=m.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},m.queue=a,a=a.dispatch=ME.bind(null,Un,a),[m.memoizedState,a]},useRef:function(a){var o=Cs();return a={current:a},o.memoizedState=a},useState:Ql,useDebugValue:Bp,useDeferredValue:function(a){return Cs().memoizedState=a},useTransition:function(){var a=Ql(!1),o=a[0];return a=DE.bind(null,a[1]),Cs().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,d){var m=Un,_=Cs();if($e){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),Gr===null)throw Error(n(349));Xs&30||kh(m,o,d)}_.memoizedState=d;var T={value:d,getSnapshot:o};return _.queue=T,Vc(Ih.bind(null,m,T,a),[a]),m.flags|=2048,$i(9,Kd.bind(null,m,T,d,o),void 0,null),d},useId:function(){var a=Cs(),o=Gr.identifierPrefix;if($e){var d=Le,m=Ce;d=(m&~(1<<32-Mi(m)-1)).toString(32)+d,o=":"+o+"R"+d,d=Qu++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=jp++,o=":"+o+"r"+d.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},BE={readContext:fr,useCallback:h2,useContext:fr,useEffect:Wc,useImperativeHandle:f2,useInsertionEffect:Ph,useLayoutEffect:Yc,useMemo:p2,useReducer:zc,useRef:Ta,useState:function(){return zc(Kl)},useDebugValue:Bp,useDeferredValue:function(a){var o=zi();return m2(o,hr.memoizedState,a)},useTransition:function(){var a=zc(Kl)[0],o=zi().memoizedState;return[a,o]},useMutableSource:Lh,useSyncExternalStore:Gd,useId:g2,unstable_isNewReconciler:!1},UE={readContext:fr,useCallback:h2,useContext:fr,useEffect:Wc,useImperativeHandle:f2,useInsertionEffect:Ph,useLayoutEffect:Yc,useMemo:p2,useReducer:co,useRef:Ta,useState:function(){return co(Kl)},useDebugValue:Bp,useDeferredValue:function(a){var o=zi();return hr===null?o.memoizedState=a:m2(o,hr.memoizedState,a)},useTransition:function(){var a=co(Kl)[0],o=zi().memoizedState;return[a,o]},useMutableSource:Lh,useSyncExternalStore:Gd,useId:g2,unstable_isNewReconciler:!1};function Sa(a,o){if(a&&a.defaultProps){o=ye({},o),a=a.defaultProps;for(var d in a)o[d]===void 0&&(o[d]=a[d]);return o}return o}function Up(a,o,d,m){o=a.memoizedState,d=d(m,o),d=d==null?o:ye({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Rh={isMounted:function(a){return(a=a._reactInternals)?Or(a)===a:!1},enqueueSetState:function(a,o,d){a=a._reactInternals;var m=Wi(),_=tl(a),T=ns(m,_);T.payload=o,d!=null&&(T.callback=d),o=rs(a,T,_),o!==null&&(Ca(o,a,_,m),tu(o,a,_))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var m=Wi(),_=tl(a),T=ns(m,_);T.tag=1,T.payload=o,d!=null&&(T.callback=d),o=rs(a,T,_),o!==null&&(Ca(o,a,_,m),tu(o,a,_))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=Wi(),m=tl(a),_=ns(d,m);_.tag=2,o!=null&&(_.callback=o),o=rs(a,_,m),o!==null&&(Ca(o,a,m,d),tu(o,a,m))}};function w2(a,o,d,m,_,T,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,T,F):o.prototype&&o.prototype.isPureReactComponent?!pa(d,m)||!pa(_,T):!0}function E2(a,o,d){var m=!1,_=oo,T=o.contextType;return typeof T=="object"&&T!==null?T=fr(T):(_=_i(o)?Zo:Dr.current,m=o.contextTypes,T=(m=m!=null)?Vu(a,_):oo),o=new o(d,T),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Rh,a.stateNode=o,o._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=T),o}function _2(a,o,d,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,m),o.state!==a&&Rh.enqueueReplaceState(o,o.state,null)}function Hp(a,o,d,m){var _=a.stateNode;_.props=d,_.state=a.memoizedState,_.refs={},Bc(a);var T=o.contextType;typeof T=="object"&&T!==null?_.context=fr(T):(T=_i(o)?Zo:Dr.current,_.context=Vu(a,T)),_.state=a.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Up(a,o,T,d),_.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(o=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),o!==_.state&&Rh.enqueueReplaceState(_,_.state,null),Ea(a,d,_,m),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function Kc(a,o){try{var d="",m=o;do d+=se(m),m=m.return;while(m);var _=d}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:o,stack:_,digest:null}}function qp(a,o,d){return{value:a,source:null,stack:d??null,digest:o??null}}function zp(a,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var HE=typeof WeakMap=="function"?WeakMap:Map;function x2(a,o,d){d=ns(-1,d),d.tag=3,d.payload={element:null};var m=o.value;return d.callback=function(){Hh||(Hh=!0,i1=m),zp(a,o)},d}function T2(a,o,d){d=ns(-1,d),d.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var _=o.value;d.payload=function(){return m(_)},d.callback=function(){zp(a,o)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){zp(a,o),typeof m!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this));var F=o.stack;this.componentDidCatch(o.value,{componentStack:F!==null?F:""})}),d}function S2(a,o,d){var m=a.pingCache;if(m===null){m=a.pingCache=new HE;var _=new Set;m.set(o,_)}else _=m.get(o),_===void 0&&(_=new Set,m.set(o,_));_.has(d)||(_.add(d),a=t_.bind(null,a,o,d),o.then(a,a))}function A2(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function N2(a,o,d,m,_){return a.mode&1?(a.flags|=65536,a.lanes=_,a):(a===o?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=ns(-1,1),o.tag=2,rs(d,o,1))),d.lanes|=1),a)}var qE=H.ReactCurrentOwner,ss=!1;function Vi(a,o,d,m){o.child=a===null?bn(o,null,d,m):br(o,a.child,d,m)}function C2(a,o,d,m,_){d=d.render;var T=o.ref;return Gn(o,_),m=Gl(a,o,d,m,T,_),d=Js(),a!==null&&!ss?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~_,iu(a,o,_)):($e&&d&&Fe(o),o.flags|=1,Vi(a,o,m,_),o.child)}function L2(a,o,d,m,_){if(a===null){var T=d.type;return typeof T=="function"&&!d1(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=T,k2(a,o,T,m,_)):(a=Yh(d.type,null,m,o,o.mode,_),a.ref=o.ref,a.return=o,o.child=a)}if(T=a.child,!(a.lanes&_)){var F=T.memoizedProps;if(d=d.compare,d=d!==null?d:pa,d(F,m)&&a.ref===o.ref)return iu(a,o,_)}return o.flags|=1,a=rl(T,m),a.ref=o.ref,a.return=o,o.child=a}function k2(a,o,d,m,_){if(a!==null){var T=a.memoizedProps;if(pa(T,m)&&a.ref===o.ref)if(ss=!1,o.pendingProps=m=T,(a.lanes&_)!==0)a.flags&131072&&(ss=!0);else return o.lanes=a.lanes,iu(a,o,_)}return $p(a,o,d,m,_)}function I2(a,o,d){var m=o.pendingProps,_=m.children,T=a!==null?a.memoizedState:null;if(m.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Xc,ks),ks|=d;else{if(!(d&1073741824))return a=T!==null?T.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,Cn(Xc,ks),ks|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=T!==null?T.baseLanes:d,Cn(Xc,ks),ks|=m}else T!==null?(m=T.baseLanes|d,o.memoizedState=null):m=d,Cn(Xc,ks),ks|=m;return Vi(a,o,_,d),o.child}function P2(a,o){var d=o.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function $p(a,o,d,m,_){var T=_i(d)?Zo:Dr.current;return T=Vu(o,T),Gn(o,_),d=Gl(a,o,d,m,T,_),m=Js(),a!==null&&!ss?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~_,iu(a,o,_)):($e&&m&&Fe(o),o.flags|=1,Vi(a,o,d,_),o.child)}function O2(a,o,d,m,_){if(_i(d)){var T=!0;eu(o)}else T=!1;if(Gn(o,_),o.stateNode===null)Mh(a,o),E2(o,d,m),Hp(o,d,m,_),m=!0;else if(a===null){var F=o.stateNode,ie=o.memoizedProps;F.props=ie;var fe=F.context,Me=d.contextType;typeof Me=="object"&&Me!==null?Me=fr(Me):(Me=_i(d)?Zo:Dr.current,Me=Vu(o,Me));var rt=d.getDerivedStateFromProps,st=typeof rt=="function"||typeof F.getSnapshotBeforeUpdate=="function";st||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie!==m||fe!==Me)&&_2(o,F,m,Me),Ks=!1;var nt=o.memoizedState;F.state=nt,Ea(o,m,F,_),fe=o.memoizedState,ie!==m||nt!==fe||Ei.current||Ks?(typeof rt=="function"&&(Up(o,d,rt,m),fe=o.memoizedState),(ie=Ks||w2(o,d,ie,m,nt,fe,Me))?(st||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(o.flags|=4194308)):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=fe),F.props=m,F.state=fe,F.context=Me,m=ie):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{F=o.stateNode,$d(a,o),ie=o.memoizedProps,Me=o.type===o.elementType?ie:Sa(o.type,ie),F.props=Me,st=o.pendingProps,nt=F.context,fe=d.contextType,typeof fe=="object"&&fe!==null?fe=fr(fe):(fe=_i(d)?Zo:Dr.current,fe=Vu(o,fe));var yt=d.getDerivedStateFromProps;(rt=typeof yt=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie!==st||nt!==fe)&&_2(o,F,m,fe),Ks=!1,nt=o.memoizedState,F.state=nt,Ea(o,m,F,_);var xt=o.memoizedState;ie!==st||nt!==xt||Ei.current||Ks?(typeof yt=="function"&&(Up(o,d,yt,m),xt=o.memoizedState),(Me=Ks||w2(o,d,Me,m,nt,xt,fe)||!1)?(rt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(m,xt,fe),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(m,xt,fe)),typeof F.componentDidUpdate=="function"&&(o.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof F.componentDidUpdate!="function"||ie===a.memoizedProps&&nt===a.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ie===a.memoizedProps&&nt===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=xt),F.props=m,F.state=xt,F.context=fe,m=Me):(typeof F.componentDidUpdate!="function"||ie===a.memoizedProps&&nt===a.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ie===a.memoizedProps&&nt===a.memoizedState||(o.flags|=1024),m=!1)}return Vp(a,o,d,m,T,_)}function Vp(a,o,d,m,_,T){P2(a,o);var F=(o.flags&128)!==0;if(!m&&!F)return _&&Nh(o,d,!1),iu(a,o,T);m=o.stateNode,qE.current=o;var ie=F&&typeof d.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,a!==null&&F?(o.child=br(o,a.child,null,T),o.child=br(o,null,ie,T)):Vi(a,o,ie,T),o.memoizedState=m.state,_&&Nh(o,d,!0),o.child}function R2(a){var o=a.stateNode;o.pendingContext?Ah(a,o.pendingContext,o.pendingContext!==o.context):o.context&&Ah(a,o.context,!1),Gu(a,o.containerInfo)}function D2(a,o,d,m,_){return Vt(),Sn(_),o.flags|=256,Vi(a,o,d,m),o.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function Yp(a){return{baseLanes:a,cachePool:null,transitions:null}}function M2(a,o,d){var m=o.pendingProps,_=Fn.current,T=!1,F=(o.flags&128)!==0,ie;if((ie=F)||(ie=a!==null&&a.memoizedState===null?!1:(_&2)!==0),ie?(T=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),Cn(Fn,_&1),a===null)return pt(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(o.mode&1?a.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(F=m.children,a=m.fallback,T?(m=o.mode,T=o.child,F={mode:"hidden",children:F},!(m&1)&&T!==null?(T.childLanes=0,T.pendingProps=F):T=Gh(F,m,0,null),a=tc(a,m,d,null),T.return=o,a.return=o,T.sibling=a,o.child=T,o.child.memoizedState=Yp(d),o.memoizedState=Wp,a):Gp(o,F));if(_=a.memoizedState,_!==null&&(ie=_.dehydrated,ie!==null))return zE(a,o,F,m,ie,_,d);if(T){T=m.fallback,F=o.mode,_=a.child,ie=_.sibling;var fe={mode:"hidden",children:m.children};return!(F&1)&&o.child!==_?(m=o.child,m.childLanes=0,m.pendingProps=fe,o.deletions=null):(m=rl(_,fe),m.subtreeFlags=_.subtreeFlags&14680064),ie!==null?T=rl(ie,T):(T=tc(T,F,d,null),T.flags|=2),T.return=o,m.return=o,m.sibling=T,o.child=m,m=T,T=o.child,F=a.child.memoizedState,F=F===null?Yp(d):{baseLanes:F.baseLanes|d,cachePool:null,transitions:F.transitions},T.memoizedState=F,T.childLanes=a.childLanes&~d,o.memoizedState=Wp,m}return T=a.child,a=T.sibling,m=rl(T,{mode:"visible",children:m.children}),!(o.mode&1)&&(m.lanes=d),m.return=o,m.sibling=null,a!==null&&(d=o.deletions,d===null?(o.deletions=[a],o.flags|=16):d.push(a)),o.child=m,o.memoizedState=null,m}function Gp(a,o){return o=Gh({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function Dh(a,o,d,m){return m!==null&&Sn(m),br(o,a.child,null,d),a=Gp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function zE(a,o,d,m,_,T,F){if(d)return o.flags&256?(o.flags&=-257,m=qp(Error(n(422))),Dh(a,o,F,m)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(T=m.fallback,_=o.mode,m=Gh({mode:"visible",children:m.children},_,0,null),T=tc(T,_,F,null),T.flags|=2,m.return=o,T.return=o,m.sibling=T,o.child=m,o.mode&1&&br(o,a.child,null,F),o.child.memoizedState=Yp(F),o.memoizedState=Wp,T);if(!(o.mode&1))return Dh(a,o,F,null);if(_.data==="$!"){if(m=_.nextSibling&&_.nextSibling.dataset,m)var ie=m.dgst;return m=ie,T=Error(n(419)),m=qp(T,m,void 0),Dh(a,o,F,m)}if(ie=(F&a.childLanes)!==0,ss||ie){if(m=Gr,m!==null){switch(F&-F){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(m.suspendedLanes|F)?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,yn(a,_),Ca(m,a,_,-1))}return c1(),m=qp(Error(n(421))),Dh(a,o,F,m)}return _.data==="$?"?(o.flags|=128,o.child=a.child,o=n_.bind(null,a),_._reactRetry=o,null):(a=T.treeContext,Ve=ai(_.nextSibling),ge=o,$e=!0,We=null,a!==null&&(z[W++]=Ce,z[W++]=Le,z[W++]=de,Ce=a.id,Le=a.overflow,de=o),o=Gp(o,m.children),o.flags|=4096,o)}function F2(a,o,d){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),ts(a.return,o,d)}function Kp(a,o,d,m,_){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=d,T.tailMode=_)}function j2(a,o,d){var m=o.pendingProps,_=m.revealOrder,T=m.tail;if(Vi(a,o,m.children,d),m=Fn.current,m&2)m=m&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&F2(a,d,o);else if(a.tag===19)F2(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(Cn(Fn,m),!(o.mode&1))o.memoizedState=null;else switch(_){case"forwards":for(d=o.child,_=null;d!==null;)a=d.alternate,a!==null&&Ns(a)===null&&(_=d),d=d.sibling;d=_,d===null?(_=o.child,o.child=null):(_=d.sibling,d.sibling=null),Kp(o,!1,_,d,T);break;case"backwards":for(d=null,_=o.child,o.child=null;_!==null;){if(a=_.alternate,a!==null&&Ns(a)===null){o.child=_;break}a=_.sibling,_.sibling=d,d=_,_=a}Kp(o,!0,d,null,T);break;case"together":Kp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mh(a,o){!(o.mode&1)&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function iu(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),Xl|=o.lanes,!(d&o.childLanes))return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,d=rl(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=rl(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function $E(a,o,d){switch(o.tag){case 3:R2(o),Vt();break;case 5:Ch(o);break;case 1:_i(o.type)&&eu(o);break;case 4:Gu(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,_=o.memoizedProps.value;Cn(Wr,m._currentValue),m._currentValue=_;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(Cn(Fn,Fn.current&1),o.flags|=128,null):d&o.child.childLanes?M2(a,o,d):(Cn(Fn,Fn.current&1),a=iu(a,o,d),a!==null?a.sibling:null);Cn(Fn,Fn.current&1);break;case 19:if(m=(d&o.childLanes)!==0,a.flags&128){if(m)return j2(a,o,d);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Cn(Fn,Fn.current),m)break;return null;case 22:case 23:return o.lanes=0,I2(a,o,d)}return iu(a,o,d)}var B2,Qp,U2,H2;B2=function(a,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Qp=function(){},U2=function(a,o,d,m){var _=a.memoizedProps;if(_!==m){a=o.stateNode,_a(qi.current);var T=null;switch(d){case"input":_=Et(a,_),m=Et(a,m),T=[];break;case"select":_=ye({},_,{value:void 0}),m=ye({},m,{value:void 0}),T=[];break;case"textarea":_=K(a,_),m=K(a,m),T=[];break;default:typeof _.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=qu)}un(d,m);var F;d=null;for(Me in _)if(!m.hasOwnProperty(Me)&&_.hasOwnProperty(Me)&&_[Me]!=null)if(Me==="style"){var ie=_[Me];for(F in ie)ie.hasOwnProperty(F)&&(d||(d={}),d[F]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(i.hasOwnProperty(Me)?T||(T=[]):(T=T||[]).push(Me,null));for(Me in m){var fe=m[Me];if(ie=_?.[Me],m.hasOwnProperty(Me)&&fe!==ie&&(fe!=null||ie!=null))if(Me==="style")if(ie){for(F in ie)!ie.hasOwnProperty(F)||fe&&fe.hasOwnProperty(F)||(d||(d={}),d[F]="");for(F in fe)fe.hasOwnProperty(F)&&ie[F]!==fe[F]&&(d||(d={}),d[F]=fe[F])}else d||(T||(T=[]),T.push(Me,d)),d=fe;else Me==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ie=ie?ie.__html:void 0,fe!=null&&ie!==fe&&(T=T||[]).push(Me,fe)):Me==="children"?typeof fe!="string"&&typeof fe!="number"||(T=T||[]).push(Me,""+fe):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(i.hasOwnProperty(Me)?(fe!=null&&Me==="onScroll"&&In("scroll",a),T||ie===fe||(T=[])):(T=T||[]).push(Me,fe))}d&&(T=T||[]).push("style",d);var Me=T;(o.updateQueue=Me)&&(o.flags|=4)}},H2=function(a,o,d,m){d!==m&&(o.flags|=4)};function Qd(a,o){if(!$e)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Ti(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(o)for(var _=a.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&14680064,m|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=m,a.childLanes=d,o}function VE(a,o,d){var m=o.pendingProps;switch(me(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(o),null;case 1:return _i(o.type)&&jc(),Ti(o),null;case 3:return m=o.stateNode,Qs(),Tn(Ei),Tn(Dr),Yd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(dn(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,We!==null&&(o1(We),We=null))),Qp(a,o),Ti(o),null;case 5:Vd(o);var _=_a(lo.current);if(d=o.type,a!==null&&o.stateNode!=null)U2(a,o,d,m,_),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Ti(o),null}if(a=_a(qi.current),dn(o)){m=o.stateNode,d=o.type;var T=o.memoizedProps;switch(m[Gs]=o,m[zu]=T,a=(o.mode&1)!==0,d){case"dialog":In("cancel",m),In("close",m);break;case"iframe":case"object":case"embed":In("load",m);break;case"video":case"audio":for(_=0;_<so.length;_++)In(so[_],m);break;case"source":In("error",m);break;case"img":case"image":case"link":In("error",m),In("load",m);break;case"details":In("toggle",m);break;case"input":je(m,T),In("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!T.multiple},In("invalid",m);break;case"textarea":pe(m,T),In("invalid",m)}un(d,T),_=null;for(var F in T)if(T.hasOwnProperty(F)){var ie=T[F];F==="children"?typeof ie=="string"?m.textContent!==ie&&(T.suppressHydrationWarning!==!0&&Fc(m.textContent,ie,a),_=["children",ie]):typeof ie=="number"&&m.textContent!==""+ie&&(T.suppressHydrationWarning!==!0&&Fc(m.textContent,ie,a),_=["children",""+ie]):i.hasOwnProperty(F)&&ie!=null&&F==="onScroll"&&In("scroll",m)}switch(d){case"input":Xe(m),vt(m,T,!0);break;case"textarea":Xe(m),Ke(m);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(m.onclick=qu)}m=_,o.updateQueue=m,m!==null&&(o.flags|=4)}else{F=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ye(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=F.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=F.createElement(d,{is:m.is}):(a=F.createElement(d),d==="select"&&(F=a,m.multiple?F.multiple=!0:m.size&&(F.size=m.size))):a=F.createElementNS(a,d),a[Gs]=o,a[zu]=m,B2(a,o,!1,!1),o.stateNode=a;e:{switch(F=Hr(d,m),d){case"dialog":In("cancel",a),In("close",a),_=m;break;case"iframe":case"object":case"embed":In("load",a),_=m;break;case"video":case"audio":for(_=0;_<so.length;_++)In(so[_],a);_=m;break;case"source":In("error",a),_=m;break;case"img":case"image":case"link":In("error",a),In("load",a),_=m;break;case"details":In("toggle",a),_=m;break;case"input":je(a,m),_=Et(a,m),In("invalid",a);break;case"option":_=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},_=ye({},m,{value:void 0}),In("invalid",a);break;case"textarea":pe(a,m),_=K(a,m),In("invalid",a);break;default:_=m}un(d,_),ie=_;for(T in ie)if(ie.hasOwnProperty(T)){var fe=ie[T];T==="style"?Ar(a,fe):T==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&ct(a,fe)):T==="children"?typeof fe=="string"?(d!=="textarea"||fe!=="")&&wt(a,fe):typeof fe=="number"&&wt(a,""+fe):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?fe!=null&&T==="onScroll"&&In("scroll",a):fe!=null&&$(a,T,fe,F))}switch(d){case"input":Xe(a),vt(a,m,!1);break;case"textarea":Xe(a),Ke(a);break;case"option":m.value!=null&&a.setAttribute("value",""+xe(m.value));break;case"select":a.multiple=!!m.multiple,T=m.value,T!=null?ft(a,!!m.multiple,T,!1):m.defaultValue!=null&&ft(a,!!m.multiple,m.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=qu)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ti(o),null;case 6:if(a&&o.stateNode!=null)H2(a,o,a.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(d=_a(lo.current),_a(qi.current),dn(o)){if(m=o.stateNode,d=o.memoizedProps,m[Gs]=o,(T=m.nodeValue!==d)&&(a=ge,a!==null))switch(a.tag){case 3:Fc(m.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Fc(m.nodeValue,d,(a.mode&1)!==0)}T&&(o.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Gs]=o,o.stateNode=m}return Ti(o),null;case 13:if(Tn(Fn),m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if($e&&Ve!==null&&o.mode&1&&!(o.flags&128))nn(),Vt(),o.flags|=98560,T=!1;else if(T=dn(o),m!==null&&m.dehydrated!==null){if(a===null){if(!T)throw Error(n(318));if(T=o.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Gs]=o}else Vt(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ti(o),T=!1}else We!==null&&(o1(We),We=null),T=!0;if(!T)return o.flags&65536?o:null}return o.flags&128?(o.lanes=d,o):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(o.child.flags|=8192,o.mode&1&&(a===null||Fn.current&1?Fr===0&&(Fr=3):c1())),o.updateQueue!==null&&(o.flags|=4),Ti(o),null);case 4:return Qs(),Qp(a,o),a===null&&Ko(o.stateNode.containerInfo),Ti(o),null;case 10:return xi(o.type._context),Ti(o),null;case 17:return _i(o.type)&&jc(),Ti(o),null;case 19:if(Tn(Fn),T=o.memoizedState,T===null)return Ti(o),null;if(m=(o.flags&128)!==0,F=T.rendering,F===null)if(m)Qd(T,!1);else{if(Fr!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(F=Ns(a),F!==null){for(o.flags|=128,Qd(T,!1),m=F.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=d,d=o.child;d!==null;)T=d,a=m,T.flags&=14680066,F=T.alternate,F===null?(T.childLanes=0,T.lanes=a,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=F.childLanes,T.lanes=F.lanes,T.child=F.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=F.memoizedProps,T.memoizedState=F.memoizedState,T.updateQueue=F.updateQueue,T.type=F.type,a=F.dependencies,T.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return Cn(Fn,Fn.current&1|2),o.child}a=a.sibling}T.tail!==null&&zn()>Jc&&(o.flags|=128,m=!0,Qd(T,!1),o.lanes=4194304)}else{if(!m)if(a=Ns(F),a!==null){if(o.flags|=128,m=!0,d=a.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),Qd(T,!0),T.tail===null&&T.tailMode==="hidden"&&!F.alternate&&!$e)return Ti(o),null}else 2*zn()-T.renderingStartTime>Jc&&d!==1073741824&&(o.flags|=128,m=!0,Qd(T,!1),o.lanes=4194304);T.isBackwards?(F.sibling=o.child,o.child=F):(d=T.last,d!==null?d.sibling=F:o.child=F,T.last=F)}return T.tail!==null?(o=T.tail,T.rendering=o,T.tail=o.sibling,T.renderingStartTime=zn(),o.sibling=null,d=Fn.current,Cn(Fn,m?d&1|2:d&1),o):(Ti(o),null);case 22:case 23:return l1(),m=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(o.flags|=8192),m&&o.mode&1?ks&1073741824&&(Ti(o),o.subtreeFlags&6&&(o.flags|=8192)):Ti(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function WE(a,o){switch(me(o),o.tag){case 1:return _i(o.type)&&jc(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Qs(),Tn(Ei),Tn(Dr),Yd(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 5:return Vd(o),null;case 13:if(Tn(Fn),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Vt()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Tn(Fn),null;case 4:return Qs(),null;case 10:return xi(o.type._context),null;case 22:case 23:return l1(),null;case 24:return null;default:return null}}var Fh=!1,Si=!1,YE=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Qc(a,o){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){pr(a,o,m)}else d.current=null}function Xp(a,o,d){try{d()}catch(m){pr(a,o,m)}}var q2=!1;function GE(a,o){if(Vl=xu,a=jl(),Vo(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var F=0,ie=-1,fe=-1,Me=0,rt=0,st=a,nt=null;t:for(;;){for(var yt;st!==d||_!==0&&st.nodeType!==3||(ie=F+_),st!==T||m!==0&&st.nodeType!==3||(fe=F+m),st.nodeType===3&&(F+=st.nodeValue.length),(yt=st.firstChild)!==null;)nt=st,st=yt;for(;;){if(st===a)break t;if(nt===d&&++Me===_&&(ie=F),nt===T&&++rt===m&&(fe=F),(yt=st.nextSibling)!==null)break;st=nt,nt=st.parentNode}st=yt}d=ie===-1||fe===-1?null:{start:ie,end:fe}}else d=null}d=d||{start:0,end:0}}else d=null;for(Xo={focusedElem:a,selectionRange:d},xu=!1,_t=o;_t!==null;)if(o=_t,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,_t=a;else for(;_t!==null;){o=_t;try{var xt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var St=xt.memoizedProps,wr=xt.memoizedState,Re=o.stateNode,we=Re.getSnapshotBeforeUpdate(o.elementType===o.type?St:Sa(o.type,St),wr);Re.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var De=o.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(dt){pr(o,o.return,dt)}if(a=o.sibling,a!==null){a.return=o.return,_t=a;break}_t=o.return}return xt=q2,q2=!1,xt}function Xd(a,o,d){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var _=m=m.next;do{if((_.tag&a)===a){var T=_.destroy;_.destroy=void 0,T!==void 0&&Xp(o,d,T)}_=_.next}while(_!==m)}}function jh(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&a)===a){var m=d.create;d.destroy=m()}d=d.next}while(d!==o)}}function Jp(a){var o=a.ref;if(o!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof o=="function"?o(a):o.current=a}}function z2(a){var o=a.alternate;o!==null&&(a.alternate=null,z2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[Gs],delete o[zu],delete o[wi],delete o[Mp],delete o[Fp])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function $2(a){return a.tag===5||a.tag===3||a.tag===4}function V2(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Zp(a,o,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(a,o):d.insertBefore(a,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(a,d)):(o=d,o.appendChild(a)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=qu));else if(m!==4&&(a=a.child,a!==null))for(Zp(a,o,d),a=a.sibling;a!==null;)Zp(a,o,d),a=a.sibling}function e1(a,o,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(e1(a,o,d),a=a.sibling;a!==null;)e1(a,o,d),a=a.sibling}var ui=null,Aa=!1;function Ju(a,o,d){for(d=d.child;d!==null;)W2(a,o,d),d=d.sibling}function W2(a,o,d){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(ko,d)}catch{}switch(d.tag){case 5:Si||Qc(d,o);case 6:var m=ui,_=Aa;ui=null,Ju(a,o,d),ui=m,Aa=_,ui!==null&&(Aa?(a=ui,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):ui.removeChild(d.stateNode));break;case 18:ui!==null&&(Aa?(a=ui,d=d.stateNode,a.nodeType===8?Hd(a.parentNode,d):a.nodeType===1&&Hd(a,d),_s(a)):Hd(ui,d.stateNode));break;case 4:m=ui,_=Aa,ui=d.stateNode.containerInfo,Aa=!0,Ju(a,o,d),ui=m,Aa=_;break;case 0:case 11:case 14:case 15:if(!Si&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){_=m=m.next;do{var T=_,F=T.destroy;T=T.tag,F!==void 0&&(T&2||T&4)&&Xp(d,o,F),_=_.next}while(_!==m)}Ju(a,o,d);break;case 1:if(!Si&&(Qc(d,o),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(ie){pr(d,o,ie)}Ju(a,o,d);break;case 21:Ju(a,o,d);break;case 22:d.mode&1?(Si=(m=Si)||d.memoizedState!==null,Ju(a,o,d),Si=m):Ju(a,o,d);break;default:Ju(a,o,d)}}function Y2(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new YE),o.forEach(function(m){var _=r_.bind(null,a,m);d.has(m)||(d.add(m),m.then(_,_))})}}function Na(a,o){var d=o.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m];try{var T=a,F=o,ie=F;e:for(;ie!==null;){switch(ie.tag){case 5:ui=ie.stateNode,Aa=!1;break e;case 3:ui=ie.stateNode.containerInfo,Aa=!0;break e;case 4:ui=ie.stateNode.containerInfo,Aa=!0;break e}ie=ie.return}if(ui===null)throw Error(n(160));W2(T,F,_),ui=null,Aa=!1;var fe=_.alternate;fe!==null&&(fe.return=null),_.return=null}catch(Me){pr(_,o,Me)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)G2(o,a),o=o.sibling}function G2(a,o){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Na(o,a),fo(a),m&4){try{Xd(3,a,a.return),jh(3,a)}catch(St){pr(a,a.return,St)}try{Xd(5,a,a.return)}catch(St){pr(a,a.return,St)}}break;case 1:Na(o,a),fo(a),m&512&&d!==null&&Qc(d,d.return);break;case 5:if(Na(o,a),fo(a),m&512&&d!==null&&Qc(d,d.return),a.flags&32){var _=a.stateNode;try{wt(_,"")}catch(St){pr(a,a.return,St)}}if(m&4&&(_=a.stateNode,_!=null)){var T=a.memoizedProps,F=d!==null?d.memoizedProps:T,ie=a.type,fe=a.updateQueue;if(a.updateQueue=null,fe!==null)try{ie==="input"&&T.type==="radio"&&T.name!=null&&re(_,T),Hr(ie,F);var Me=Hr(ie,T);for(F=0;F<fe.length;F+=2){var rt=fe[F],st=fe[F+1];rt==="style"?Ar(_,st):rt==="dangerouslySetInnerHTML"?ct(_,st):rt==="children"?wt(_,st):$(_,rt,st,Me)}switch(ie){case"input":It(_,T);break;case"textarea":ke(_,T);break;case"select":var nt=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var yt=T.value;yt!=null?ft(_,!!T.multiple,yt,!1):nt!==!!T.multiple&&(T.defaultValue!=null?ft(_,!!T.multiple,T.defaultValue,!0):ft(_,!!T.multiple,T.multiple?[]:"",!1))}_[zu]=T}catch(St){pr(a,a.return,St)}}break;case 6:if(Na(o,a),fo(a),m&4){if(a.stateNode===null)throw Error(n(162));_=a.stateNode,T=a.memoizedProps;try{_.nodeValue=T}catch(St){pr(a,a.return,St)}}break;case 3:if(Na(o,a),fo(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{_s(o.containerInfo)}catch(St){pr(a,a.return,St)}break;case 4:Na(o,a),fo(a);break;case 13:Na(o,a),fo(a),_=a.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(r1=zn())),m&4&&Y2(a);break;case 22:if(rt=d!==null&&d.memoizedState!==null,a.mode&1?(Si=(Me=Si)||rt,Na(o,a),Si=Me):Na(o,a),fo(a),m&8192){if(Me=a.memoizedState!==null,(a.stateNode.isHidden=Me)&&!rt&&a.mode&1)for(_t=a,rt=a.child;rt!==null;){for(st=_t=rt;_t!==null;){switch(nt=_t,yt=nt.child,nt.tag){case 0:case 11:case 14:case 15:Xd(4,nt,nt.return);break;case 1:Qc(nt,nt.return);var xt=nt.stateNode;if(typeof xt.componentWillUnmount=="function"){m=nt,d=nt.return;try{o=m,xt.props=o.memoizedProps,xt.state=o.memoizedState,xt.componentWillUnmount()}catch(St){pr(m,d,St)}}break;case 5:Qc(nt,nt.return);break;case 22:if(nt.memoizedState!==null){X2(st);continue}}yt!==null?(yt.return=nt,_t=yt):X2(st)}rt=rt.sibling}e:for(rt=null,st=a;;){if(st.tag===5){if(rt===null){rt=st;try{_=st.stateNode,Me?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(ie=st.stateNode,fe=st.memoizedProps.style,F=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ie.style.display=Kt("display",F))}catch(St){pr(a,a.return,St)}}}else if(st.tag===6){if(rt===null)try{st.stateNode.nodeValue=Me?"":st.memoizedProps}catch(St){pr(a,a.return,St)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===a)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===a)break e;for(;st.sibling===null;){if(st.return===null||st.return===a)break e;rt===st&&(rt=null),st=st.return}rt===st&&(rt=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:Na(o,a),fo(a),m&4&&Y2(a);break;case 21:break;default:Na(o,a),fo(a)}}function fo(a){var o=a.flags;if(o&2){try{e:{for(var d=a.return;d!==null;){if($2(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var _=m.stateNode;m.flags&32&&(wt(_,""),m.flags&=-33);var T=V2(a);e1(a,T,_);break;case 3:case 4:var F=m.stateNode.containerInfo,ie=V2(a);Zp(a,ie,F);break;default:throw Error(n(161))}}catch(fe){pr(a,a.return,fe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function KE(a,o,d){_t=a,K2(a)}function K2(a,o,d){for(var m=(a.mode&1)!==0;_t!==null;){var _=_t,T=_.child;if(_.tag===22&&m){var F=_.memoizedState!==null||Fh;if(!F){var ie=_.alternate,fe=ie!==null&&ie.memoizedState!==null||Si;ie=Fh;var Me=Si;if(Fh=F,(Si=fe)&&!Me)for(_t=_;_t!==null;)F=_t,fe=F.child,F.tag===22&&F.memoizedState!==null?J2(_):fe!==null?(fe.return=F,_t=fe):J2(_);for(;T!==null;)_t=T,K2(T),T=T.sibling;_t=_,Fh=ie,Si=Me}Q2(a)}else _.subtreeFlags&8772&&T!==null?(T.return=_,_t=T):Q2(a)}}function Q2(a){for(;_t!==null;){var o=_t;if(o.flags&8772){var d=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Si||jh(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!Si)if(d===null)m.componentDidMount();else{var _=o.elementType===o.type?d.memoizedProps:Sa(o.type,d.memoizedProps);m.componentDidUpdate(_,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var T=o.updateQueue;T!==null&&nu(o,T,m);break;case 3:var F=o.updateQueue;if(F!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}nu(o,F,d)}break;case 5:var ie=o.stateNode;if(d===null&&o.flags&4){d=ie;var fe=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&d.focus();break;case"img":fe.src&&(d.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Me=o.alternate;if(Me!==null){var rt=Me.memoizedState;if(rt!==null){var st=rt.dehydrated;st!==null&&_s(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Si||o.flags&512&&Jp(o)}catch(nt){pr(o,o.return,nt)}}if(o===a){_t=null;break}if(d=o.sibling,d!==null){d.return=o.return,_t=d;break}_t=o.return}}function X2(a){for(;_t!==null;){var o=_t;if(o===a){_t=null;break}var d=o.sibling;if(d!==null){d.return=o.return,_t=d;break}_t=o.return}}function J2(a){for(;_t!==null;){var o=_t;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{jh(4,o)}catch(fe){pr(o,d,fe)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var _=o.return;try{m.componentDidMount()}catch(fe){pr(o,_,fe)}}var T=o.return;try{Jp(o)}catch(fe){pr(o,T,fe)}break;case 5:var F=o.return;try{Jp(o)}catch(fe){pr(o,F,fe)}}}catch(fe){pr(o,o.return,fe)}if(o===a){_t=null;break}var ie=o.sibling;if(ie!==null){ie.return=o.return,_t=ie;break}_t=o.return}}var QE=Math.ceil,Bh=H.ReactCurrentDispatcher,t1=H.ReactCurrentOwner,Zs=H.ReactCurrentBatchConfig,mn=0,Gr=null,kr=null,li=0,ks=0,Xc=As(0),Fr=0,Jd=null,Xl=0,Uh=0,n1=0,Zd=null,as=null,r1=0,Jc=1/0,su=null,Hh=!1,i1=null,Zu=null,qh=!1,el=null,zh=0,ef=0,s1=null,$h=-1,Vh=0;function Wi(){return mn&6?zn():$h!==-1?$h:$h=zn()}function tl(a){return a.mode&1?mn&2&&li!==0?li&-li:Ln.transition!==null?(Vh===0&&(Vh=Nl()),Vh):(a=hn,a!==0||(a=window.event,a=a===void 0?16:Pl(a.type)),a):1}function Ca(a,o,d,m){if(50<ef)throw ef=0,s1=null,Error(n(185));Ya(a,d,m),(!(mn&2)||a!==Gr)&&(a===Gr&&(!(mn&2)&&(Uh|=d),Fr===4&&nl(a,li)),os(a,m),d===1&&mn===0&&!(o.mode&1)&&(Jc=zn()+500,Yl&&N()))}function os(a,o){var d=a.callbackNode;gi(a,o);var m=mi(a,a===Gr?li:0);if(m===0)d!==null&&Lo(d),a.callbackNode=null,a.callbackPriority=0;else if(o=m&-m,a.callbackPriority!==o){if(d!=null&&Lo(d),o===1)a.tag===0?x(e5.bind(null,a)):g(e5.bind(null,a)),Rp(function(){!(mn&6)&&N()}),d=null;else{switch(vu(m)){case 1:d=Va;break;case 4:d=Sl;break;case 16:d=mu;break;case 536870912:d=Sc;break;default:d=mu}d=u5(d,Z2.bind(null,a))}a.callbackPriority=o,a.callbackNode=d}}function Z2(a,o){if($h=-1,Vh=0,mn&6)throw Error(n(327));var d=a.callbackNode;if(Zc()&&a.callbackNode!==d)return null;var m=mi(a,a===Gr?li:0);if(m===0)return null;if(m&30||m&a.expiredLanes||o)o=Wh(a,m);else{o=m;var _=mn;mn|=2;var T=n5();(Gr!==a||li!==o)&&(su=null,Jc=zn()+500,Zl(a,o));do try{ZE();break}catch(ie){t5(a,ie)}while(!0);Mr(),Bh.current=T,mn=_,kr!==null?o=0:(Gr=null,li=0,o=Fr)}if(o!==0){if(o===2&&(_=Oo(a),_!==0&&(m=_,o=a1(a,_))),o===1)throw d=Jd,Zl(a,0),nl(a,m),os(a,zn()),d;if(o===6)nl(a,m);else{if(_=a.current.alternate,!(m&30)&&!XE(_)&&(o=Wh(a,m),o===2&&(T=Oo(a),T!==0&&(m=T,o=a1(a,T))),o===1))throw d=Jd,Zl(a,0),nl(a,m),os(a,zn()),d;switch(a.finishedWork=_,a.finishedLanes=m,o){case 0:case 1:throw Error(n(345));case 2:ec(a,as,su);break;case 3:if(nl(a,m),(m&130023424)===m&&(o=r1+500-zn(),10<o)){if(mi(a,0)!==0)break;if(_=a.suspendedLanes,(_&m)!==m){Wi(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=Ud(ec.bind(null,a,as,su),o);break}ec(a,as,su);break;case 4:if(nl(a,m),(m&4194240)===m)break;for(o=a.eventTimes,_=-1;0<m;){var F=31-Mi(m);T=1<<F,F=o[F],F>_&&(_=F),m&=~T}if(m=_,m=zn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*QE(m/1960))-m,10<m){a.timeoutHandle=Ud(ec.bind(null,a,as,su),m);break}ec(a,as,su);break;case 5:ec(a,as,su);break;default:throw Error(n(329))}}}return os(a,zn()),a.callbackNode===d?Z2.bind(null,a):null}function a1(a,o){var d=Zd;return a.current.memoizedState.isDehydrated&&(Zl(a,o).flags|=256),a=Wh(a,o),a!==2&&(o=as,as=d,o!==null&&o1(o)),a}function o1(a){as===null?as=a:as.push.apply(as,a)}function XE(a){for(var o=a;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var _=d[m],T=_.getSnapshot;_=_.value;try{if(!pn(T(),_))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function nl(a,o){for(o&=~n1,o&=~Uh,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var d=31-Mi(o),m=1<<d;a[d]=-1,o&=~m}}function e5(a){if(mn&6)throw Error(n(327));Zc();var o=mi(a,0);if(!(o&1))return os(a,zn()),null;var d=Wh(a,o);if(a.tag!==0&&d===2){var m=Oo(a);m!==0&&(o=m,d=a1(a,m))}if(d===1)throw d=Jd,Zl(a,0),nl(a,o),os(a,zn()),d;if(d===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,ec(a,as,su),os(a,zn()),null}function u1(a,o){var d=mn;mn|=1;try{return a(o)}finally{mn=d,mn===0&&(Jc=zn()+500,Yl&&N())}}function Jl(a){el!==null&&el.tag===0&&!(mn&6)&&Zc();var o=mn;mn|=1;var d=Zs.transition,m=hn;try{if(Zs.transition=null,hn=1,a)return a()}finally{hn=m,Zs.transition=d,mn=o,!(mn&6)&&N()}}function l1(){ks=Xc.current,Tn(Xc)}function Zl(a,o){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,Th(d)),kr!==null)for(d=kr.return;d!==null;){var m=d;switch(me(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&jc();break;case 3:Qs(),Tn(Ei),Tn(Dr),Yd();break;case 5:Vd(m);break;case 4:Qs();break;case 13:Tn(Fn);break;case 19:Tn(Fn);break;case 10:xi(m.type._context);break;case 22:case 23:l1()}d=d.return}if(Gr=a,kr=a=rl(a.current,null),li=ks=o,Fr=0,Jd=null,n1=Uh=Xl=0,as=Zd=null,Hi!==null){for(o=0;o<Hi.length;o++)if(d=Hi[o],m=d.interleaved,m!==null){d.interleaved=null;var _=m.next,T=d.pending;if(T!==null){var F=T.next;T.next=_,m.next=F}d.pending=m}Hi=null}return a}function t5(a,o){do{var d=kr;try{if(Mr(),Uc.current=Oh,Ku){for(var m=Un.memoizedState;m!==null;){var _=m.queue;_!==null&&(_.pending=null),m=m.next}Ku=!1}if(Xs=0,ur=hr=Un=null,xa=!1,Qu=0,t1.current=null,d===null||d.return===null){Fr=1,Jd=o,kr=null;break}e:{var T=a,F=d.return,ie=d,fe=o;if(o=li,ie.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Me=fe,rt=ie,st=rt.tag;if(!(rt.mode&1)&&(st===0||st===11||st===15)){var nt=rt.alternate;nt?(rt.updateQueue=nt.updateQueue,rt.memoizedState=nt.memoizedState,rt.lanes=nt.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var yt=A2(F);if(yt!==null){yt.flags&=-257,N2(yt,F,ie,T,o),yt.mode&1&&S2(T,Me,o),o=yt,fe=Me;var xt=o.updateQueue;if(xt===null){var St=new Set;St.add(fe),o.updateQueue=St}else xt.add(fe);break e}else{if(!(o&1)){S2(T,Me,o),c1();break e}fe=Error(n(426))}}else if($e&&ie.mode&1){var wr=A2(F);if(wr!==null){!(wr.flags&65536)&&(wr.flags|=256),N2(wr,F,ie,T,o),Sn(Kc(fe,ie));break e}}T=fe=Kc(fe,ie),Fr!==4&&(Fr=2),Zd===null?Zd=[T]:Zd.push(T),T=F;do{switch(T.tag){case 3:T.flags|=65536,o&=-o,T.lanes|=o;var Re=x2(T,fe,o);is(T,Re);break e;case 1:ie=fe;var we=T.type,De=T.stateNode;if(!(T.flags&128)&&(typeof we.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Zu===null||!Zu.has(De)))){T.flags|=65536,o&=-o,T.lanes|=o;var dt=T2(T,ie,o);is(T,dt);break e}}T=T.return}while(T!==null)}i5(d)}catch(Ct){o=Ct,kr===d&&d!==null&&(kr=d=d.return);continue}break}while(!0)}function n5(){var a=Bh.current;return Bh.current=Oh,a===null?Oh:a}function c1(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),Gr===null||!(Xl&268435455)&&!(Uh&268435455)||nl(Gr,li)}function Wh(a,o){var d=mn;mn|=2;var m=n5();(Gr!==a||li!==o)&&(su=null,Zl(a,o));do try{JE();break}catch(_){t5(a,_)}while(!0);if(Mr(),mn=d,Bh.current=m,kr!==null)throw Error(n(261));return Gr=null,li=0,Fr}function JE(){for(;kr!==null;)r5(kr)}function ZE(){for(;kr!==null&&!pu();)r5(kr)}function r5(a){var o=o5(a.alternate,a,ks);a.memoizedProps=a.pendingProps,o===null?i5(a):kr=o,t1.current=null}function i5(a){var o=a;do{var d=o.alternate;if(a=o.return,o.flags&32768){if(d=WE(d,o),d!==null){d.flags&=32767,kr=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Fr=6,kr=null;return}}else if(d=VE(d,o,ks),d!==null){kr=d;return}if(o=o.sibling,o!==null){kr=o;return}kr=o=a}while(o!==null);Fr===0&&(Fr=5)}function ec(a,o,d){var m=hn,_=Zs.transition;try{Zs.transition=null,hn=1,e_(a,o,d,m)}finally{Zs.transition=_,hn=m}return null}function e_(a,o,d,m){do Zc();while(el!==null);if(mn&6)throw Error(n(327));d=a.finishedWork;var _=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var T=d.lanes|d.childLanes;if(Md(a,T),a===Gr&&(kr=Gr=null,li=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||qh||(qh=!0,u5(mu,function(){return Zc(),null})),T=(d.flags&15990)!==0,d.subtreeFlags&15990||T){T=Zs.transition,Zs.transition=null;var F=hn;hn=1;var ie=mn;mn|=4,t1.current=null,GE(a,d),G2(d,a),Wo(Xo),xu=!!Vl,Xo=Vl=null,a.current=d,KE(d),Tc(),mn=ie,hn=F,Zs.transition=T}else a.current=d;if(qh&&(qh=!1,el=a,zh=_),T=a.pendingLanes,T===0&&(Zu=null),gu(d.stateNode),os(a,zn()),o!==null)for(m=a.onRecoverableError,d=0;d<o.length;d++)_=o[d],m(_.value,{componentStack:_.stack,digest:_.digest});if(Hh)throw Hh=!1,a=i1,i1=null,a;return zh&1&&a.tag!==0&&Zc(),T=a.pendingLanes,T&1?a===s1?ef++:(ef=0,s1=a):ef=0,N(),null}function Zc(){if(el!==null){var a=vu(zh),o=Zs.transition,d=hn;try{if(Zs.transition=null,hn=16>a?16:a,el===null)var m=!1;else{if(a=el,el=null,zh=0,mn&6)throw Error(n(331));var _=mn;for(mn|=4,_t=a.current;_t!==null;){var T=_t,F=T.child;if(_t.flags&16){var ie=T.deletions;if(ie!==null){for(var fe=0;fe<ie.length;fe++){var Me=ie[fe];for(_t=Me;_t!==null;){var rt=_t;switch(rt.tag){case 0:case 11:case 15:Xd(8,rt,T)}var st=rt.child;if(st!==null)st.return=rt,_t=st;else for(;_t!==null;){rt=_t;var nt=rt.sibling,yt=rt.return;if(z2(rt),rt===Me){_t=null;break}if(nt!==null){nt.return=yt,_t=nt;break}_t=yt}}}var xt=T.alternate;if(xt!==null){var St=xt.child;if(St!==null){xt.child=null;do{var wr=St.sibling;St.sibling=null,St=wr}while(St!==null)}}_t=T}}if(T.subtreeFlags&2064&&F!==null)F.return=T,_t=F;else e:for(;_t!==null;){if(T=_t,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Xd(9,T,T.return)}var Re=T.sibling;if(Re!==null){Re.return=T.return,_t=Re;break e}_t=T.return}}var we=a.current;for(_t=we;_t!==null;){F=_t;var De=F.child;if(F.subtreeFlags&2064&&De!==null)De.return=F,_t=De;else e:for(F=we;_t!==null;){if(ie=_t,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:jh(9,ie)}}catch(Ct){pr(ie,ie.return,Ct)}if(ie===F){_t=null;break e}var dt=ie.sibling;if(dt!==null){dt.return=ie.return,_t=dt;break e}_t=ie.return}}if(mn=_,N(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(ko,a)}catch{}m=!0}return m}finally{hn=d,Zs.transition=o}}return!1}function s5(a,o,d){o=Kc(d,o),o=x2(a,o,1),a=rs(a,o,1),o=Wi(),a!==null&&(Ya(a,1,o),os(a,o))}function pr(a,o,d){if(a.tag===3)s5(a,a,d);else for(;o!==null;){if(o.tag===3){s5(o,a,d);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Zu===null||!Zu.has(m))){a=Kc(d,a),a=T2(o,a,1),o=rs(o,a,1),a=Wi(),o!==null&&(Ya(o,1,a),os(o,a));break}}o=o.return}}function t_(a,o,d){var m=a.pingCache;m!==null&&m.delete(o),o=Wi(),a.pingedLanes|=a.suspendedLanes&d,Gr===a&&(li&d)===d&&(Fr===4||Fr===3&&(li&130023424)===li&&500>zn()-r1?Zl(a,0):n1|=d),os(a,o)}function a5(a,o){o===0&&(a.mode&1?(o=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):o=1);var d=Wi();a=yn(a,o),a!==null&&(Ya(a,o,d),os(a,d))}function n_(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),a5(a,d)}function r_(a,o){var d=0;switch(a.tag){case 13:var m=a.stateNode,_=a.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(o),a5(a,d)}var o5;o5=function(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps||Ei.current)ss=!0;else{if(!(a.lanes&d)&&!(o.flags&128))return ss=!1,$E(a,o,d);ss=!!(a.flags&131072)}else ss=!1,$e&&o.flags&1048576&&Ge(o,B,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Mh(a,o),a=o.pendingProps;var _=Vu(o,Dr.current);Gn(o,d),_=Gl(null,o,m,a,_,d);var T=Js();return o.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,_i(m)?(T=!0,eu(o)):T=!1,o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Bc(o),_.updater=Rh,o.stateNode=_,_._reactInternals=o,Hp(o,m,a,d),o=Vp(null,o,m,!0,T,d)):(o.tag=0,$e&&T&&Fe(o),Vi(null,o,_,d),o=o.child),o;case 16:m=o.elementType;e:{switch(Mh(a,o),a=o.pendingProps,_=m._init,m=_(m._payload),o.type=m,_=o.tag=s_(m),a=Sa(m,a),_){case 0:o=$p(null,o,m,a,d);break e;case 1:o=O2(null,o,m,a,d);break e;case 11:o=C2(null,o,m,a,d);break e;case 14:o=L2(null,o,m,Sa(m.type,a),d);break e}throw Error(n(306,m,""))}return o;case 0:return m=o.type,_=o.pendingProps,_=o.elementType===m?_:Sa(m,_),$p(a,o,m,_,d);case 1:return m=o.type,_=o.pendingProps,_=o.elementType===m?_:Sa(m,_),O2(a,o,m,_,d);case 3:e:{if(R2(o),a===null)throw Error(n(387));m=o.pendingProps,T=o.memoizedState,_=T.element,$d(a,o),Ea(o,m,null,d);var F=o.memoizedState;if(m=F.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},o.updateQueue.baseState=T,o.memoizedState=T,o.flags&256){_=Kc(Error(n(423)),o),o=D2(a,o,m,d,_);break e}else if(m!==_){_=Kc(Error(n(424)),o),o=D2(a,o,m,d,_);break e}else for(Ve=ai(o.stateNode.containerInfo.firstChild),ge=o,$e=!0,We=null,d=bn(o,null,m,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Vt(),m===_){o=iu(a,o,d);break e}Vi(a,o,m,d)}o=o.child}return o;case 5:return Ch(o),a===null&&pt(o),m=o.type,_=o.pendingProps,T=a!==null?a.memoizedProps:null,F=_.children,Bd(m,_)?F=null:T!==null&&Bd(m,T)&&(o.flags|=32),P2(a,o),Vi(a,o,F,d),o.child;case 6:return a===null&&pt(o),null;case 13:return M2(a,o,d);case 4:return Gu(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=br(o,null,m,d):Vi(a,o,m,d),o.child;case 11:return m=o.type,_=o.pendingProps,_=o.elementType===m?_:Sa(m,_),C2(a,o,m,_,d);case 7:return Vi(a,o,o.pendingProps,d),o.child;case 8:return Vi(a,o,o.pendingProps.children,d),o.child;case 12:return Vi(a,o,o.pendingProps.children,d),o.child;case 10:e:{if(m=o.type._context,_=o.pendingProps,T=o.memoizedProps,F=_.value,Cn(Wr,m._currentValue),m._currentValue=F,T!==null)if(pn(T.value,F)){if(T.children===_.children&&!Ei.current){o=iu(a,o,d);break e}}else for(T=o.child,T!==null&&(T.return=o);T!==null;){var ie=T.dependencies;if(ie!==null){F=T.child;for(var fe=ie.firstContext;fe!==null;){if(fe.context===m){if(T.tag===1){fe=ns(-1,d&-d),fe.tag=2;var Me=T.updateQueue;if(Me!==null){Me=Me.shared;var rt=Me.pending;rt===null?fe.next=fe:(fe.next=rt.next,rt.next=fe),Me.pending=fe}}T.lanes|=d,fe=T.alternate,fe!==null&&(fe.lanes|=d),ts(T.return,d,o),ie.lanes|=d;break}fe=fe.next}}else if(T.tag===10)F=T.type===o.type?null:T.child;else if(T.tag===18){if(F=T.return,F===null)throw Error(n(341));F.lanes|=d,ie=F.alternate,ie!==null&&(ie.lanes|=d),ts(F,d,o),F=T.sibling}else F=T.child;if(F!==null)F.return=T;else for(F=T;F!==null;){if(F===o){F=null;break}if(T=F.sibling,T!==null){T.return=F.return,F=T;break}F=F.return}T=F}Vi(a,o,_.children,d),o=o.child}return o;case 9:return _=o.type,m=o.pendingProps.children,Gn(o,d),_=fr(_),m=m(_),o.flags|=1,Vi(a,o,m,d),o.child;case 14:return m=o.type,_=Sa(m,o.pendingProps),_=Sa(m.type,_),L2(a,o,m,_,d);case 15:return k2(a,o,o.type,o.pendingProps,d);case 17:return m=o.type,_=o.pendingProps,_=o.elementType===m?_:Sa(m,_),Mh(a,o),o.tag=1,_i(m)?(a=!0,eu(o)):a=!1,Gn(o,d),E2(o,m,_),Hp(o,m,_,d),Vp(null,o,m,!0,a,d);case 19:return j2(a,o,d);case 22:return I2(a,o,d)}throw Error(n(156,o.tag))};function u5(a,o){return Co(a,o)}function i_(a,o,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(a,o,d,m){return new i_(a,o,d,m)}function d1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function s_(a){if(typeof a=="function")return d1(a)?1:0;if(a!=null){if(a=a.$$typeof,a===q)return 11;if(a===Oe)return 14}return 2}function rl(a,o){var d=a.alternate;return d===null?(d=ea(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function Yh(a,o,d,m,_,T){var F=2;if(m=a,typeof a=="function")d1(a)&&(F=1);else if(typeof a=="string")F=5;else e:switch(a){case le:return tc(d.children,_,T,o);case X:F=8,_|=8;break;case be:return a=ea(12,d,o,_|2),a.elementType=be,a.lanes=T,a;case te:return a=ea(13,d,o,_),a.elementType=te,a.lanes=T,a;case ee:return a=ea(19,d,o,_),a.elementType=ee,a.lanes=T,a;case Se:return Gh(d,_,T,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ie:F=10;break e;case U:F=9;break e;case q:F=11;break e;case Oe:F=14;break e;case Ae:F=16,m=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return o=ea(F,d,o,_),o.elementType=a,o.type=m,o.lanes=T,o}function tc(a,o,d,m){return a=ea(7,a,m,o),a.lanes=d,a}function Gh(a,o,d,m){return a=ea(22,a,m,o),a.elementType=Se,a.lanes=d,a.stateNode={isHidden:!1},a}function f1(a,o,d){return a=ea(6,a,null,o),a.lanes=d,a}function h1(a,o,d){return o=ea(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function a_(a,o,d,m,_){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=m,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function p1(a,o,d,m,_,T,F,ie,fe){return a=new a_(a,o,d,ie,fe),o===1?(o=1,T===!0&&(o|=8)):o=0,T=ea(3,null,null,o),a.current=T,T.stateNode=a,T.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bc(T),a}function o_(a,o,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:m==null?null:""+m,children:a,containerInfo:o,implementation:d}}function l5(a){if(!a)return oo;a=a._reactInternals;e:{if(Or(a)!==a||a.tag!==1)throw Error(n(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(_i(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(a.tag===1){var d=a.type;if(_i(d))return zd(a,d,o)}return o}function c5(a,o,d,m,_,T,F,ie,fe){return a=p1(d,m,!0,a,_,T,F,ie,fe),a.context=l5(null),d=a.current,m=Wi(),_=tl(d),T=ns(m,_),T.callback=o??null,rs(d,T,_),a.current.lanes=_,Ya(a,_,m),os(a,m),a}function Kh(a,o,d,m){var _=o.current,T=Wi(),F=tl(_);return d=l5(d),o.context===null?o.context=d:o.pendingContext=d,o=ns(T,F),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=rs(_,o,F),a!==null&&(Ca(a,_,F,T),tu(a,_,F)),F}function Qh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function d5(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function m1(a,o){d5(a,o),(a=a.alternate)&&d5(a,o)}var f5=typeof reportError=="function"?reportError:function(a){console.error(a)};function g1(a){this._internalRoot=a}Xh.prototype.render=g1.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));Kh(a,o,null,null)},Xh.prototype.unmount=g1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Jl(function(){Kh(null,a,null,null)}),o[Vr]=null}};function Xh(a){this._internalRoot=a}Xh.prototype.unstable_scheduleHydration=function(a){if(a){var o=Bs();a={blockedOn:null,target:a,priority:o};for(var d=0;d<Hs.length&&o!==0&&o<Hs[d].priority;d++);Hs.splice(d,0,a),d===0&&Eu(a)}};function b1(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Jh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function h5(){}function u_(a,o,d,m,_){if(_){if(typeof m=="function"){var T=m;m=function(){var Me=Qh(F);T.call(Me)}}var F=c5(o,m,a,0,null,!1,!1,"",h5);return a._reactRootContainer=F,a[Vr]=F.current,Ko(a.nodeType===8?a.parentNode:a),Jl(),F}for(;_=a.lastChild;)a.removeChild(_);if(typeof m=="function"){var ie=m;m=function(){var Me=Qh(fe);ie.call(Me)}}var fe=p1(a,0,!1,null,null,!1,!1,"",h5);return a._reactRootContainer=fe,a[Vr]=fe.current,Ko(a.nodeType===8?a.parentNode:a),Jl(function(){Kh(o,fe,d,m)}),fe}function Zh(a,o,d,m,_){var T=d._reactRootContainer;if(T){var F=T;if(typeof _=="function"){var ie=_;_=function(){var fe=Qh(F);ie.call(fe)}}Kh(o,F,a,_)}else F=u_(d,o,a,_,m);return Qh(F)}Cc=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var d=Po(o.pendingLanes);d!==0&&(yu(o,d|1),os(o,zn()),!(mn&6)&&(Jc=zn()+500,N()))}break;case 13:Jl(function(){var m=yn(a,1);if(m!==null){var _=Wi();Ca(m,a,1,_)}}),m1(a,1)}},Ll=function(a){if(a.tag===13){var o=yn(a,134217728);if(o!==null){var d=Wi();Ca(o,a,134217728,d)}m1(a,134217728)}},Lc=function(a){if(a.tag===13){var o=tl(a),d=yn(a,o);if(d!==null){var m=Wi();Ca(d,a,o,m)}m1(a,o)}},Bs=function(){return hn},Ro=function(a,o){var d=hn;try{return hn=a,o()}finally{hn=d}},On=function(a,o,d){switch(o){case"input":if(It(a,d),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var m=d[o];if(m!==a&&m.form===a.form){var _=Wl(m);if(!_)throw Error(n(90));ut(m),It(m,_)}}}break;case"textarea":ke(a,d);break;case"select":o=d.value,o!=null&&ft(a,!!d.multiple,o,!1)}},sr=u1,ln=Jl;var l_={usingClientEntryPoint:!1,Events:[$u,Jo,Wl,At,Yt,u1]},tf={findFiberByHostInstance:ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c_={bundleType:tf.bundleType,version:tf.version,rendererPackageName:tf.rendererPackageName,rendererConfig:tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=$a(a),a===null?null:a.stateNode},findFiberByHostInstance:tf.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e0.isDisabled&&e0.supportsFiber)try{ko=e0.inject(c_),Ki=e0}catch{}}return us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_,us.createPortal=function(a,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b1(o))throw Error(n(200));return o_(a,o,null,d)},us.createRoot=function(a,o){if(!b1(a))throw Error(n(299));var d=!1,m="",_=f5;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=p1(a,1,!1,null,null,d,!1,m,_),a[Vr]=o.current,Ko(a.nodeType===8?a.parentNode:a),new g1(o)},us.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=$a(o),a=a===null?null:a.stateNode,a},us.flushSync=function(a){return Jl(a)},us.hydrate=function(a,o,d){if(!Jh(o))throw Error(n(200));return Zh(null,a,o,!0,d)},us.hydrateRoot=function(a,o,d){if(!b1(a))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,_=!1,T="",F=f5;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(F=d.onRecoverableError)),o=c5(o,null,a,1,d??null,_,!1,T,F),a[Vr]=o.current,Ko(a),m)for(a=0;a<m.length;a++)d=m[a],_=d._getVersion,_=_(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,_]:o.mutableSourceEagerHydrationData.push(d,_);return new Xh(o)},us.render=function(a,o,d){if(!Jh(o))throw Error(n(200));return Zh(null,a,o,!1,d)},us.unmountComponentAtNode=function(a){if(!Jh(a))throw Error(n(40));return a._reactRootContainer?(Jl(function(){Zh(null,null,a,!1,function(){a._reactRootContainer=null,a[Vr]=null})}),!0):!1},us.unstable_batchedUpdates=u1,us.unstable_renderSubtreeIntoContainer=function(a,o,d,m){if(!Jh(d))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Zh(a,o,d,!1,m)},us.version="18.3.1-next-f1338f8080-20240426",us}var E5;function Xy(){if(E5)return w1.exports;E5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),w1.exports=y_(),w1.exports}var _5;function v_(){if(_5)return t0;_5=1;var e=Xy();return t0.createRoot=e.createRoot,t0.hydrateRoot=e.hydrateRoot,t0}var w_=v_(),rf={},x5;function E_(){if(x5)return rf;x5=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.parse=u,rf.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,y){const S=new s,A=E.length;if(A<2)return S;const k=y?.decode||p;let C=0;do{const P=E.indexOf("=",C);if(P===-1)break;const $=E.indexOf(";",C),H=$===-1?A:$;if(P>H){C=E.lastIndexOf(";",P-1)+1;continue}const Y=l(E,C,P),he=c(E,P,Y),le=E.slice(Y,he);if(S[le]===void 0){let X=l(E,P+1,H),be=c(E,H,X);const Ie=k(E.slice(X,be));S[le]=Ie}C=H+1}while(C<A);return S}function l(E,y,S){do{const A=E.charCodeAt(y);if(A!==32&&A!==9)return y}while(++y<S);return S}function c(E,y,S){for(;y>S;){const A=E.charCodeAt(--y);if(A!==32&&A!==9)return y+1}return S}function h(E,y,S){const A=S?.encode||encodeURIComponent;if(!e.test(E))throw new TypeError(`argument name is invalid: ${E}`);const k=A(y);if(!t.test(k))throw new TypeError(`argument val is invalid: ${y}`);let C=E+"="+k;if(!S)return C;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);C+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);C+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);C+="; Path="+S.path}if(S.expires){if(!b(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);C+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(C+="; HttpOnly"),S.secure&&(C+="; Secure"),S.partitioned&&(C+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return C}function p(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return i.call(E)==="[object Date]"}return rf}E_();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T5="popstate";function __(e={}){function t(i,s){let{pathname:u="/",search:l="",hash:c=""}=vc(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),cm("",{pathname:u,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let u=i.document.querySelector("base"),l="";if(u&&u.getAttribute("href")){let c=i.location.href,h=c.indexOf("#");l=h===-1?c:c.slice(0,h)}return l+"#"+(typeof s=="string"?s:$f(s))}function r(i,s){sa(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return T_(t,n,r,e)}function nr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function x_(){return Math.random().toString(36).substring(2,10)}function S5(e,t){return{usr:e.state,key:e.key,idx:t}}function cm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vc(t):t,state:n,key:t&&t.key||r||x_()}}function $f({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function T_(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,u=i.history,l="POP",c=null,h=p();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function p(){return(u.state||{idx:null}).idx}function b(){l="POP";let k=p(),C=k==null?null:k-h;h=k,c&&c({action:l,location:A.location,delta:C})}function E(k,C){l="PUSH";let P=cm(A.location,k,C);n(P,k),h=p()+1;let $=S5(P,h),H=A.createHref(P);try{u.pushState($,"",H)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(H)}s&&c&&c({action:l,location:A.location,delta:1})}function y(k,C){l="REPLACE";let P=cm(A.location,k,C);n(P,k),h=p();let $=S5(P,h),H=A.createHref(P);u.replaceState($,"",H),s&&c&&c({action:l,location:A.location,delta:0})}function S(k){let C=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof k=="string"?k:$f(k);return P=P.replace(/ $/,"%20"),nr(C,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,C)}let A={get action(){return l},get location(){return e(i,u)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(T5,b),c=k,()=>{i.removeEventListener(T5,b),c=null}},createHref(k){return t(i,k)},createURL:S,encodeLocation(k){let C=S(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:E,replace:y,go(k){return u.go(k)}};return A}function Jy(e,t,n="/"){return S_(e,t,n,!1)}function S_(e,t,n,r){let i=typeof t=="string"?vc(t):t,s=yl(i.pathname||"/",n);if(s==null)return null;let u=Zy(e);A_(u);let l=null;for(let c=0;l==null&&c<u.length;++c){let h=F_(s);l=D_(u[c],h,r)}return l}function Zy(e,t=[],n=[],r=""){let i=(s,u,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};c.relativePath.startsWith("/")&&(nr(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=du([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(nr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Zy(s.children,t,p,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:O_(h,s.index),routesMeta:p})};return e.forEach((s,u)=>{if(s.path===""||!s.path?.includes("?"))i(s,u);else for(let l of e3(s.path))i(s,u,l)}),t}function e3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let u=e3(r.join("/")),l=[];return l.push(...u.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...u),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function A_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:R_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var N_=/^:[\w-]+$/,C_=3,L_=2,k_=1,I_=10,P_=-2,A5=e=>e==="*";function O_(e,t){let n=e.split("/"),r=n.length;return n.some(A5)&&(r+=P_),t&&(r+=L_),n.filter(i=>!A5(i)).reduce((i,s)=>i+(N_.test(s)?C_:s===""?k_:I_),r)}function R_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function D_(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",u=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",b=I0({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),E=c.route;if(!b&&h&&n&&!r[r.length-1].route.index&&(b=I0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!b)return null;Object.assign(i,b.params),u.push({params:i,pathname:du([s,b.pathname]),pathnameBase:H_(du([s,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(s=du([s,b.pathnameBase]))}return u}function I0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=M_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],u=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:b},E)=>{if(p==="*"){let S=l[E]||"";u=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=l[E];return b&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:u,pattern:e}}function M_(e,t=!1,n=!0){sa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function F_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function j_(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?vc(e):e;return{pathname:n?n.startsWith("/")?n:B_(n,t):t,search:q_(r),hash:z_(i)}}function B_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function x1(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sg(e){let t=U_(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ag(e,t,n,r=!1){let i;typeof e=="string"?i=vc(e):(i={...e},nr(!i.pathname||!i.pathname.includes("?"),x1("?","pathname","search",i)),nr(!i.pathname||!i.pathname.includes("#"),x1("#","pathname","hash",i)),nr(!i.search||!i.search.includes("#"),x1("#","search","hash",i)));let s=e===""||i.pathname==="",u=s?"/":i.pathname,l;if(u==null)l=n;else{let b=t.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),b-=1;i.pathname=E.join("/")}l=b>=0?t[b]:"/"}let c=j_(i,l),h=u&&u!=="/"&&u.endsWith("/"),p=(s||u===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var du=e=>e.join("/").replace(/\/\/+/g,"/"),H_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,z_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var t3=["POST","PUT","PATCH","DELETE"];new Set(t3);var V_=["GET",...t3];new Set(V_);var xd=M.createContext(null);xd.displayName="DataRouter";var rp=M.createContext(null);rp.displayName="DataRouterState";var n3=M.createContext({isTransitioning:!1});n3.displayName="ViewTransition";var W_=M.createContext(new Map);W_.displayName="Fetchers";var Y_=M.createContext(null);Y_.displayName="Await";var Fa=M.createContext(null);Fa.displayName="Navigation";var ih=M.createContext(null);ih.displayName="Location";var ja=M.createContext({outlet:null,matches:[],isDataRoute:!1});ja.displayName="Route";var og=M.createContext(null);og.displayName="RouteError";function G_(e,{relative:t}={}){nr(Td(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Fa),{hash:i,pathname:s,search:u}=sh(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:du([n,s])),r.createHref({pathname:l,search:u,hash:i})}function Td(){return M.useContext(ih)!=null}function oa(){return nr(Td(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(ih).location}var r3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i3(e){M.useContext(Fa).static||M.useLayoutEffect(e)}function ti(){let{isDataRoute:e}=M.useContext(ja);return e?o4():K_()}function K_(){nr(Td(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(xd),{basename:t,navigator:n}=M.useContext(Fa),{matches:r}=M.useContext(ja),{pathname:i}=oa(),s=JSON.stringify(sg(r)),u=M.useRef(!1);return i3(()=>{u.current=!0}),M.useCallback((c,h={})=>{if(sa(u.current,r3),!u.current)return;if(typeof c=="number"){n.go(c);return}let p=ag(c,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:du([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,s,i,e])}M.createContext(null);function ip(){let{matches:e}=M.useContext(ja),t=e[e.length-1];return t?t.params:{}}function sh(e,{relative:t}={}){let{matches:n}=M.useContext(ja),{pathname:r}=oa(),i=JSON.stringify(sg(n));return M.useMemo(()=>ag(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Q_(e,t){return s3(e,t)}function s3(e,t,n,r){nr(Td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=M.useContext(Fa),{matches:s}=M.useContext(ja),u=s[s.length-1],l=u?u.params:{},c=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let C=p&&p.path||"";a3(c,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=oa(),E;if(t){let C=typeof t=="string"?vc(t):t;nr(h==="/"||C.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),E=C}else E=b;let y=E.pathname||"/",S=y;if(h!=="/"){let C=h.replace(/^\//,"").split("/");S="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let A=Jy(e,{pathname:S});sa(p||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),sa(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=t4(A&&A.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:du([h,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:du([h,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return t&&k?M.createElement(ih.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},k):k}function X_(){let e=a4(),t=$_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:i},n):null,u)}var J_=M.createElement(X_,null),Z_=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(ja.Provider,{value:this.props.routeContext},M.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e4({routeContext:e,match:t,children:n}){let r=M.useContext(xd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(ja.Provider,{value:e},n)}function t4(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let c=i.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);nr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let u=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:p,errors:b}=n,E=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||E){u=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,h,p)=>{let b,E=!1,y=null,S=null;n&&(b=s&&h.route.id?s[h.route.id]:void 0,y=h.route.errorElement||J_,u&&(l<0&&p===0?(a3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):l===p&&(E=!0,S=h.route.hydrateFallbackElement||null)));let A=t.concat(i.slice(0,p+1)),k=()=>{let C;return b?C=y:E?C=S:h.route.Component?C=M.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=c,M.createElement(e4,{match:h,routeContext:{outlet:c,matches:A,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?M.createElement(Z_,{location:n.location,revalidation:n.revalidation,component:y,error:b,children:k(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):k()},null)}function ug(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n4(e){let t=M.useContext(xd);return nr(t,ug(e)),t}function r4(e){let t=M.useContext(rp);return nr(t,ug(e)),t}function i4(e){let t=M.useContext(ja);return nr(t,ug(e)),t}function lg(e){let t=i4(e),n=t.matches[t.matches.length-1];return nr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function s4(){return lg("useRouteId")}function a4(){let e=M.useContext(og),t=r4("useRouteError"),n=lg("useRouteError");return e!==void 0?e:t.errors?.[n]}function o4(){let{router:e}=n4("useNavigate"),t=lg("useNavigate"),n=M.useRef(!1);return i3(()=>{n.current=!0}),M.useCallback(async(i,s={})=>{sa(n.current,r3),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var N5={};function a3(e,t,n){!t&&!N5[e]&&(N5[e]=!0,sa(!1,n))}M.memo(u4);function u4({routes:e,future:t,state:n}){return s3(e,void 0,n,t)}function C5({to:e,replace:t,state:n,relative:r}){nr(Td(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=M.useContext(Fa);sa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=M.useContext(ja),{pathname:u}=oa(),l=ti(),c=ag(e,sg(s),u,r==="path"),h=JSON.stringify(c);return M.useEffect(()=>{l(JSON.parse(h),{replace:t,state:n,relative:r})},[l,h,r,t,n]),null}function ds(e){nr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l4({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){nr(!Td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),l=M.useMemo(()=>({basename:u,navigator:i,static:s,future:{}}),[u,i,s]);typeof n=="string"&&(n=vc(n));let{pathname:c="/",search:h="",hash:p="",state:b=null,key:E="default"}=n,y=M.useMemo(()=>{let S=yl(c,u);return S==null?null:{location:{pathname:S,search:h,hash:p,state:b,key:E},navigationType:r}},[u,c,h,p,b,E,r]);return sa(y!=null,`<Router basename="${u}"> is not able to match the URL "${c}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:M.createElement(Fa.Provider,{value:l},M.createElement(ih.Provider,{children:t,value:y}))}function c4({children:e,location:t}){return Q_(dm(e),t)}function dm(e,t=[]){let n=[];return M.Children.forEach(e,(r,i)=>{if(!M.isValidElement(r))return;let s=[...t,i];if(r.type===M.Fragment){n.push.apply(n,dm(r.props.children,s));return}nr(r.type===ds,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=dm(r.props.children,s)),n.push(u)}),n}var y0="get",v0="application/x-www-form-urlencoded";function sp(e){return e!=null&&typeof e.tagName=="string"}function d4(e){return sp(e)&&e.tagName.toLowerCase()==="button"}function f4(e){return sp(e)&&e.tagName.toLowerCase()==="form"}function h4(e){return sp(e)&&e.tagName.toLowerCase()==="input"}function p4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m4(e,t){return e.button===0&&(!t||t==="_self")&&!p4(e)}var n0=null;function g4(){if(n0===null)try{new FormData(document.createElement("form"),0),n0=!1}catch{n0=!0}return n0}var b4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function T1(e){return e!=null&&!b4.has(e)?(sa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${v0}"`),null):e}function y4(e,t){let n,r,i,s,u;if(f4(e)){let l=e.getAttribute("action");r=l?yl(l,t):null,n=e.getAttribute("method")||y0,i=T1(e.getAttribute("enctype"))||v0,s=new FormData(e)}else if(d4(e)||h4(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?yl(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||y0,i=T1(e.getAttribute("formenctype"))||T1(l.getAttribute("enctype"))||v0,s=new FormData(l,e),!g4()){let{name:h,type:p,value:b}=e;if(p==="image"){let E=h?`${h}.`:"";s.append(`${E}x`,"0"),s.append(`${E}y`,"0")}else h&&s.append(h,b)}}else{if(sp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=y0,r=null,i=v0,u=e}return s&&i==="text/plain"&&(u=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:u}}function cg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function v4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function E4(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let u=await v4(s,n);return u.links?u.links():[]}return[]}));return S4(r.flat(1).filter(w4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function L5(e,t,n,r,i,s){let u=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,l=(c,h)=>n[h].pathname!==c.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==c.params["*"];return s==="assets"?t.filter((c,h)=>u(c,h)||l(c,h)):s==="data"?t.filter((c,h)=>{let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(u(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let b=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function _4(e,t){return x4(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function x4(e){return[...new Set(e)]}function T4(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function S4(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(T4(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function A4(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function N4(){let e=M.useContext(xd);return cg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function C4(){let e=M.useContext(rp);return cg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dg=M.createContext(void 0);dg.displayName="FrameworkContext";function o3(){let e=M.useContext(dg);return cg(e,"You must render this element inside a <HydratedRouter> element"),e}function L4(e,t){let n=M.useContext(dg),[r,i]=M.useState(!1),[s,u]=M.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:b}=t,E=M.useRef(null);M.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let A=C=>{C.forEach(P=>{u(P.isIntersecting)})},k=new IntersectionObserver(A,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[e]),M.useEffect(()=>{if(r){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[r]);let y=()=>{i(!0)},S=()=>{i(!1),u(!1)};return n?e!=="intent"?[s,E,{}]:[s,E,{onFocus:sf(l,y),onBlur:sf(c,S),onMouseEnter:sf(h,y),onMouseLeave:sf(p,S),onTouchStart:sf(b,y)}]:[!1,E,{}]}function sf(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function k4({page:e,...t}){let{router:n}=N4(),r=M.useMemo(()=>Jy(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?M.createElement(P4,{page:e,matches:r,...t}):null}function I4(e){let{manifest:t,routeModules:n}=o3(),[r,i]=M.useState([]);return M.useEffect(()=>{let s=!1;return E4(e,t,n).then(u=>{s||i(u)}),()=>{s=!0}},[e,t,n]),r}function P4({page:e,matches:t,...n}){let r=oa(),{manifest:i,routeModules:s}=o3(),{loaderData:u,matches:l}=C4(),c=M.useMemo(()=>L5(e,t,l,i,r,"data"),[e,t,l,i,r]),h=M.useMemo(()=>L5(e,t,l,i,r,"assets"),[e,t,l,i,r]),p=M.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,S=!1;if(t.forEach(k=>{let C=i.routes[k.route.id];!C||!C.hasLoader||(!c.some(P=>P.route.id===k.route.id)&&k.route.id in u&&s[k.route.id]?.shouldRevalidate||C.hasClientLoader?S=!0:y.add(k.route.id))}),y.size===0)return[];let A=A4(e);return S&&y.size>0&&A.searchParams.set("_routes",t.filter(k=>y.has(k.route.id)).map(k=>k.route.id).join(",")),[A.pathname+A.search]},[u,r,i,c,t,e,s]),b=M.useMemo(()=>_4(h,i),[h,i]),E=I4(h);return M.createElement(M.Fragment,null,p.map(y=>M.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),b.map(y=>M.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),E.map(({key:y,link:S})=>M.createElement("link",{key:y,...S})))}function O4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var u3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u3&&(window.__reactRouterVersion="7.1.3")}catch{}function R4({basename:e,children:t,window:n}){let r=M.useRef();r.current==null&&(r.current=__({window:n,v5Compat:!0}));let i=r.current,[s,u]=M.useState({action:i.action,location:i.location}),l=M.useCallback(c=>{M.startTransition(()=>u(c))},[u]);return M.useLayoutEffect(()=>i.listen(l),[i,l]),M.createElement(l4,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var l3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Da=M.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:u,state:l,target:c,to:h,preventScrollReset:p,viewTransition:b,...E},y){let{basename:S}=M.useContext(Fa),A=typeof h=="string"&&l3.test(h),k,C=!1;if(typeof h=="string"&&A&&(k=h,u3))try{let be=new URL(window.location.href),Ie=h.startsWith("//")?new URL(be.protocol+h):new URL(h),U=yl(Ie.pathname,S);Ie.origin===be.origin&&U!=null?h=U+Ie.search+Ie.hash:C=!0}catch{sa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=G_(h,{relative:i}),[$,H,Y]=L4(r,E),he=j4(h,{replace:u,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:b});function le(be){t&&t(be),be.defaultPrevented||he(be)}let X=M.createElement("a",{...E,...Y,href:k||P,onClick:C||s?t:le,ref:O4(y,H),target:c,"data-discover":!A&&n==="render"?"true":void 0});return $&&!A?M.createElement(M.Fragment,null,X,M.createElement(k4,{page:P})):X});Da.displayName="Link";var D4=M.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:u,viewTransition:l,children:c,...h},p){let b=sh(u,{relative:h.relative}),E=oa(),y=M.useContext(rp),{navigator:S,basename:A}=M.useContext(Fa),k=y!=null&&z4(b)&&l===!0,C=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,P=E.pathname,$=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(P=P.toLowerCase(),$=$?$.toLowerCase():null,C=C.toLowerCase()),$&&A&&($=yl($,A)||$);const H=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Y=P===C||!i&&P.startsWith(C)&&P.charAt(H)==="/",he=$!=null&&($===C||!i&&$.startsWith(C)&&$.charAt(C.length)==="/"),le={isActive:Y,isPending:he,isTransitioning:k},X=Y?t:void 0,be;typeof r=="function"?be=r(le):be=[r,Y?"active":null,he?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof s=="function"?s(le):s;return M.createElement(Da,{...h,"aria-current":X,className:be,ref:p,style:Ie,to:u,viewTransition:l},typeof c=="function"?c(le):c)});D4.displayName="NavLink";var M4=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:u=y0,action:l,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:b,...E},y)=>{let S=H4(),A=q4(l,{relative:h}),k=u.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&l3.test(l),P=$=>{if(c&&c($),$.defaultPrevented)return;$.preventDefault();let H=$.nativeEvent.submitter,Y=H?.getAttribute("formmethod")||u;S(H||$.currentTarget,{fetcherKey:t,method:Y,navigate:n,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:b})};return M.createElement("form",{ref:y,method:k,action:A,onSubmit:r?c:P,...E,"data-discover":!C&&e==="render"?"true":void 0})});M4.displayName="Form";function F4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c3(e){let t=M.useContext(xd);return nr(t,F4(e)),t}function j4(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:u}={}){let l=ti(),c=oa(),h=sh(e,{relative:s});return M.useCallback(p=>{if(m4(p,t)){p.preventDefault();let b=n!==void 0?n:$f(c)===$f(h);l(e,{replace:b,state:r,preventScrollReset:i,relative:s,viewTransition:u})}},[c,l,h,n,r,t,e,i,s,u])}var B4=0,U4=()=>`__${String(++B4)}__`;function H4(){let{router:e}=c3("useSubmit"),{basename:t}=M.useContext(Fa),n=s4();return M.useCallback(async(r,i={})=>{let{action:s,method:u,encType:l,formData:c,body:h}=y4(r,t);if(i.navigate===!1){let p=i.fetcherKey||U4();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||u,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||u,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function q4(e,{relative:t}={}){let{basename:n}=M.useContext(Fa),r=M.useContext(ja);nr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...sh(e||".",{relative:t})},u=oa();if(e==null){s.search=u.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(p=>p==="")){l.delete("index"),c.filter(b=>b).forEach(b=>l.append("index",b));let p=l.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:du([n,s.pathname])),$f(s)}function z4(e,t={}){let n=M.useContext(n3);nr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=c3("useViewTransitionState"),i=sh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=yl(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=yl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return I0(i.pathname,u)!=null||I0(i.pathname,s)!=null}new TextEncoder;var Sf=Xy();const $4="modulepreload",V4=function(e){return"/elysia/"+e},k5={},hu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),l=u?.nonce||u?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=V4(c),c in k5)return;k5[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":$4,h||(b.as="script"),b.crossOrigin="",b.href=c,l&&b.setAttribute("nonce",l),document.head.appendChild(b),h)return new Promise((E,y)=>{b.addEventListener("load",E),b.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(u){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=u,window.dispatchEvent(l),!l.defaultPrevented)throw u}return i.then(u=>{for(const l of u||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},W4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hu(async()=>{const{default:r}=await Promise.resolve().then(()=>Sd);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class fg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Y4 extends fg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class G4 extends fg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class K4 extends fg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fm||(fm={}));var Q4=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{h(r.next(p))}catch(b){u(b)}}function c(p){try{h(r.throw(p))}catch(b){u(b)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};class X4{constructor(t,{headers:n={},customFetch:r,region:i=fm.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=W4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Q4(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:u}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let h;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=u):typeof u=="string"?(l["Content-Type"]="text/plain",h=u):typeof FormData<"u"&&u instanceof FormData?h=u:(l["Content-Type"]="application/json",h=JSON.stringify(u)));const p=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h}).catch(S=>{throw new Y4(S)}),b=p.headers.get("x-relay-error");if(b&&b==="true")throw new G4(p);if(!p.ok)throw new K4(p);let E=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return E==="application/json"?y=yield p.json():E==="application/octet-stream"?y=yield p.blob():E==="text/event-stream"?y=p:E==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var ci={},af={},of={},uf={},lf={},cf={},J4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yd=J4();const Z4=yd.fetch,d3=yd.fetch.bind(yd),f3=yd.Headers,e6=yd.Request,t6=yd.Response,Sd=Object.freeze(Object.defineProperty({__proto__:null,Headers:f3,Request:e6,Response:t6,default:d3,fetch:Z4},Symbol.toStringTag,{value:"Module"})),n6=f_(Sd);var r0={},I5;function h3(){if(I5)return r0;I5=1,Object.defineProperty(r0,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return r0.default=e,r0}var P5;function p3(){if(P5)return cf;P5=1;var e=cf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cf,"__esModule",{value:!0});const t=e(n6),n=e(h3());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,u){return this.headers=Object.assign({},this.headers),this.headers[s]=u,this}then(s,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,b,E;let y=null,S=null,A=null,k=h.status,C=h.statusText;if(h.ok){if(this.method!=="HEAD"){const Y=await h.text();Y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=Y:S=JSON.parse(Y))}const $=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),H=(b=h.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");$&&H&&H.length>1&&(A=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(y={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,A=null,k=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const $=await h.text();try{y=JSON.parse($),Array.isArray(y)&&h.status===404&&(S=[],y=null,k=200,C="OK")}catch{h.status===404&&$===""?(k=204,C="No Content"):y={message:$}}if(y&&this.isMaybeSingle&&(!((E=y?.details)===null||E===void 0)&&E.includes("0 rows"))&&(y=null,k=200,C="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:S,count:A,status:k,statusText:C}});return this.shouldThrowOnError||(c=c.catch(h=>{var p,b,E;return{error:{message:`${(p=h?.name)!==null&&p!==void 0?p:"FetchError"}: ${h?.message}`,details:`${(b=h?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(E=h?.code)!==null&&E!==void 0?E:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,u)}returns(){return this}overrideTypes(){return this}}return cf.default=r,cf}var O5;function m3(){if(O5)return lf;O5=1;var e=lf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lf,"__esModule",{value:!0});const t=e(p3());class n extends t.default{select(i){let s=!1;const u=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:u,foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${i}.${s?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:u=s}={}){const l=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:u,referencedTable:l=u}={}){const c=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(h,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:u=!1,buffers:l=!1,wal:c=!1,format:h="text"}={}){var p;const b=[i?"analyze":null,s?"verbose":null,u?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),E=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${E}"; options=${b};`,h==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return lf.default=n,lf}var R5;function hg(){if(R5)return uf;R5=1;var e=uf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(uf,"__esModule",{value:!0});const t=e(m3());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const u=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:u,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${c}fts${h}.${s}`),this}match(i){return Object.entries(i).forEach(([s,u])=>{this.url.searchParams.append(s,`eq.${u}`)}),this}not(i,s,u){return this.url.searchParams.append(i,`not.${s}.${u}`),this}or(i,{foreignTable:s,referencedTable:u=s}={}){const l=u?`${u}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,u){return this.url.searchParams.append(i,`${s}.${u}`),this}}return uf.default=n,uf}var D5;function g3(){if(D5)return of;D5=1;var e=of.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(of,"__esModule",{value:!0});const t=e(hg());class n{constructor(i,{headers:s={},schema:u,fetch:l}){this.url=i,this.headers=s,this.schema=u,this.fetch=l}select(i,{head:s=!1,count:u}={}){const l=s?"HEAD":"GET";let c=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),u&&(this.headers.Prefer=`count=${u}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:u=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),u||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const h=i.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(h.length>0){const p=[...new Set(h)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:u=!1,count:l,defaultToNull:c=!0}={}){const h="POST",p=[`resolution=${u?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&p.push(this.headers.Prefer),l&&p.push(`count=${l}`),c||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(i)){const b=i.reduce((E,y)=>E.concat(Object.keys(y)),[]);if(b.length>0){const E=[...new Set(b)].map(y=>`"${y}"`);this.url.searchParams.set("columns",E.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const u="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",u=[];return i&&u.push(`count=${i}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return of.default=n,of}var df={},ff={},M5;function r6(){return M5||(M5=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.version=void 0,ff.version="0.0.0-automated"),ff}var F5;function i6(){if(F5)return df;F5=1,Object.defineProperty(df,"__esModule",{value:!0}),df.DEFAULT_HEADERS=void 0;const e=r6();return df.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},df}var j5;function s6(){if(j5)return af;j5=1;var e=af.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(af,"__esModule",{value:!0});const t=e(g3()),n=e(hg()),r=i6();class i{constructor(u,{headers:l={},schema:c,fetch:h}={}){this.url=u,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=h}from(u){const l=new URL(`${this.url}/${u}`);return new t.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,l={},{head:c=!1,get:h=!1,count:p}={}){let b;const E=new URL(`${this.url}/rpc/${u}`);let y;c||h?(b=c?"HEAD":"GET",Object.entries(l).filter(([A,k])=>k!==void 0).map(([A,k])=>[A,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([A,k])=>{E.searchParams.append(A,k)})):(b="POST",y=l);const S=Object.assign({},this.headers);return p&&(S.Prefer=`count=${p}`),new n.default({method:b,url:E,headers:S,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return af.default=i,af}var B5;function a6(){if(B5)return ci;B5=1;var e=ci.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ci,"__esModule",{value:!0}),ci.PostgrestError=ci.PostgrestBuilder=ci.PostgrestTransformBuilder=ci.PostgrestFilterBuilder=ci.PostgrestQueryBuilder=ci.PostgrestClient=void 0;const t=e(s6());ci.PostgrestClient=t.default;const n=e(g3());ci.PostgrestQueryBuilder=n.default;const r=e(hg());ci.PostgrestFilterBuilder=r.default;const i=e(m3());ci.PostgrestTransformBuilder=i.default;const s=e(p3());ci.PostgrestBuilder=s.default;const u=e(h3());return ci.PostgrestError=u.default,ci.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:u.default},ci}var o6=a6();const u6=rg(o6),{PostgrestClient:l6,PostgrestQueryBuilder:v9,PostgrestFilterBuilder:w9,PostgrestTransformBuilder:E9,PostgrestBuilder:_9,PostgrestError:x9}=u6,c6="2.11.2",d6={"X-Client-Info":`realtime-js/${c6}`},f6="1.0.0",b3=1e4,h6=1e3;var dd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dd||(dd={}));var Ps;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ps||(Ps={}));var Pa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pa||(Pa={}));var hm;(function(e){e.websocket="websocket"})(hm||(hm={}));var ac;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ac||(ac={}));class p6{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let u=this.HEADER_LENGTH+2;const l=r.decode(t.slice(u,u+i));u=u+i;const c=r.decode(t.slice(u,u+s));u=u+s;const h=JSON.parse(r.decode(t.slice(u,t.byteLength)));return{ref:null,topic:l,event:c,payload:h}}}class y3{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Hn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Hn||(Hn={}));const U5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,u)=>(s[u]=m6(u,e,t,i),s),{})},m6=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i?.type,u=n[e];return s&&!r.includes(s)?v3(s,u):pm(u)},v3=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return v6(t,n)}switch(e){case Hn.bool:return g6(t);case Hn.float4:case Hn.float8:case Hn.int2:case Hn.int4:case Hn.int8:case Hn.numeric:case Hn.oid:return b6(t);case Hn.json:case Hn.jsonb:return y6(t);case Hn.timestamp:return w6(t);case Hn.abstime:case Hn.date:case Hn.daterange:case Hn.int4range:case Hn.int8range:case Hn.money:case Hn.reltime:case Hn.text:case Hn.time:case Hn.timestamptz:case Hn.timetz:case Hn.tsrange:case Hn.tstzrange:return pm(t);default:return pm(t)}},pm=e=>e,g6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},b6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},y6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},v6=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const u=e.slice(1,n);try{s=JSON.parse("["+u+"]")}catch{s=u?u.split(","):[]}return s.map(l=>v3(t,l))}return e},w6=e=>typeof e=="string"?e.replace(" ","T"):e,w3=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class S1{constructor(t,n,r={},i=b3){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var H5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(H5||(H5={}));class Cf{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:u,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cf.syncState(this.state,i,s,u),this.pendingDiffs.forEach(c=>{this.state=Cf.syncDiff(this.state,c,s,u)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:u,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Cf.syncDiff(this.state,i,s,u),l())}),this.onJoin((i,s,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:u})}),this.onLeave((i,s,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),u=this.transformState(n),l={},c={};return this.map(s,(h,p)=>{u[h]||(c[h]=p)}),this.map(u,(h,p)=>{const b=s[h];if(b){const E=p.map(k=>k.presence_ref),y=b.map(k=>k.presence_ref),S=p.filter(k=>y.indexOf(k.presence_ref)<0),A=b.filter(k=>E.indexOf(k.presence_ref)<0);S.length>0&&(l[h]=S),A.length>0&&(c[h]=A)}else l[h]=p}),this.syncDiff(s,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var h;const p=(h=t[l])!==null&&h!==void 0?h:[];if(t[l]=this.cloneDeep(c),p.length>0){const b=t[l].map(y=>y.presence_ref),E=p.filter(y=>b.indexOf(y.presence_ref)<0);t[l].unshift(...E)}r(l,p,c)}),this.map(u,(l,c)=>{let h=t[l];if(!h)return;const p=c.map(b=>b.presence_ref);h=h.filter(b=>p.indexOf(b.presence_ref)<0),t[l]=h,i(l,h,c),h.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var q5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(q5||(q5={}));var z5;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(z5||(z5={}));var lu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lu||(lu={}));class pg{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ps.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new S1(this,Pa.join,this.params,this.timeout),this.rejoinTimer=new y3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ps.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ps.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ps.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ps.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pa.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Cf(this),this.broadcastEndpointURL=w3(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:u,private:l}}=this.params;this._onError(p=>t?.(lu.CHANNEL_ERROR,p)),this._onClose(()=>t?.(lu.CLOSED));const c={},h={broadcast:s,presence:u,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){t?.(lu.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,y=(b=E?.length)!==null&&b!==void 0?b:0,S=[];for(let A=0;A<y;A++){const k=E[A],{filter:{event:C,schema:P,table:$,filter:H}}=k,Y=p&&p[A];if(Y&&Y.event===C&&Y.schema===P&&Y.table===$&&Y.filter===H)S.push(Object.assign(Object.assign({},k),{id:Y.id}));else{this.unsubscribe(),t?.(lu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(lu.SUBSCRIBED);return}}).receive("error",p=>{t?.(lu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(lu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:u}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var u,l,c;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(u=this.params)===null||u===void 0?void 0:u.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ps.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pa.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new S1(this,Pa.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),u}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new S1(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const u=t.toLocaleLowerCase(),{close:l,error:c,leave:h,join:p}=Pa;if(r&&[l,c,h,p].indexOf(u)>=0&&r!==this._joinRef())return;let E=this._onMessage(u,n,r);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var S,A,k;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(A=y.filter)===null||A===void 0?void 0:A.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(y=>y.callback(E,r)):(s=this.bindings[u])===null||s===void 0||s.filter(y=>{var S,A,k,C,P,$;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in y){const H=y.id,Y=(S=y.filter)===null||S===void 0?void 0:S.event;return H&&((A=n.ids)===null||A===void 0?void 0:A.includes(H))&&(Y==="*"||Y?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const H=(P=(C=y?.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return H==="*"||H===(($=n?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===u}).map(y=>{if(typeof E=="object"&&"ids"in E){const S=E.data,{schema:A,table:k,commit_timestamp:C,type:P,errors:$}=S;E=Object.assign(Object.assign({},{schema:A,table:k,commit_timestamp:C,eventType:P,new:{},old:{},errors:$}),this._getPayloadRecords(S))}y.callback(E,r)})}_isClosed(){return this.state===Ps.closed}_isJoined(){return this.state===Ps.joined}_isJoining(){return this.state===Ps.joining}_isLeaving(){return this.state===Ps.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&pg.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pa.close,{},t)}_onError(t){this._on(Pa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ps.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=U5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=U5(t.columns,t.old_record)),n}}const E6=()=>{},_6=typeof WebSocket<"u",x6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class T6{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=d6,this.params={},this.timeout=b3,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=E6,this.conn=null,this.sendBuffer=[],this.serializer=new p6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let u;return s?u=s:typeof fetch>"u"?u=(...l)=>hu(async()=>{const{default:c}=await Promise.resolve().then(()=>Sd);return{default:c}},void 0).then(({default:c})=>c(...l)):u=fetch,(...l)=>u(...l)},this.endPoint=`${t}/${hm.websocket}`,this.httpEndpoint=w3(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,u)=>u(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new y3(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(_6){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new S6(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),hu(async()=>{const{default:t}=await import("./browser-BOBS66wh.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:f6}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case dd.connecting:return ac.Connecting;case dd.open:return ac.Open;case dd.closing:return ac.Closing;default:return ac.Closed}}isConnected(){return this.connectionState()===ac.Open}channel(t,n={config:{}}){const r=new pg(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t,u=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Pa.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(h6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:u}=n;u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${u&&"("+u+")"||""}`,s),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,u)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([x6],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class S6{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=dd.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class mg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class A6 extends mg{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mm extends mg{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var N6=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{h(r.next(p))}catch(b){u(b)}}function c(p){try{h(r.throw(p))}catch(b){u(b)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};const E3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hu(async()=>{const{default:r}=await Promise.resolve().then(()=>Sd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},C6=()=>N6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hu(()=>Promise.resolve().then(()=>Sd),void 0)).Response:Response}),gm=e=>{if(Array.isArray(e))return e.map(n=>gm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=gm(r)}),t};var wc=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{h(r.next(p))}catch(b){u(b)}}function c(p){try{h(r.throw(p))}catch(b){u(b)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};const A1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),L6=(e,t,n)=>wc(void 0,void 0,void 0,function*(){const r=yield C6();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{t(new A6(A1(i),e.status||500))}).catch(i=>{t(new mm(A1(i),i))}):t(new mm(A1(e),e))}),k6=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function ah(e,t,n,r,i,s){return wc(this,void 0,void 0,function*(){return new Promise((u,l)=>{e(n,k6(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>u(c)).catch(c=>L6(c,l,r))})})}function P0(e,t,n,r){return wc(this,void 0,void 0,function*(){return ah(e,"GET",t,n,r)})}function cl(e,t,n,r,i){return wc(this,void 0,void 0,function*(){return ah(e,"POST",t,r,i,n)})}function I6(e,t,n,r,i){return wc(this,void 0,void 0,function*(){return ah(e,"PUT",t,r,i,n)})}function P6(e,t,n,r){return wc(this,void 0,void 0,function*(){return ah(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _3(e,t,n,r,i){return wc(this,void 0,void 0,function*(){return ah(e,"DELETE",t,r,i,n)})}var ls=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{h(r.next(p))}catch(b){u(b)}}function c(p){try{h(r.throw(p))}catch(b){u(b)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};const O6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class R6{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=E3(i)}uploadOrUpdate(t,n,r,i){return ls(this,void 0,void 0,function*(){try{let s;const u=Object.assign(Object.assign({},$5),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const c=u.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",u.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",u.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),b=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:s,headers:l},u?.duplex?{duplex:u.duplex}:{})),E=yield b.json();return b.ok?{data:{path:h,id:E.Id,fullPath:E.Key},error:null}:{data:null,error:E}}catch(s){if(Xr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return ls(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ls(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),u=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${u}`);l.searchParams.set("token",n);try{let c;const h=Object.assign({upsert:$5.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl)):(c=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const b=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:p}),E=yield b.json();return b.ok?{data:{path:s,fullPath:E.Key},error:null}:{data:null,error:E}}catch(c){if(Xr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ls(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield cl(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),u=new URL(this.url+s.url),l=u.searchParams.get("token");if(!l)throw new mg("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:l},error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}update(t,n,r){return ls(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ls(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ls(this,void 0,void 0,function*(){try{return{data:{path:(yield cl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ls(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield cl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${u}`)},{data:s,error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ls(this,void 0,void 0,function*(){try{const i=yield cl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${s}`):null})),error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}download(t,n){return ls(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),u=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield P0(this.fetch,`${this.url}/${i}/${l}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Xr(l))return{data:null,error:l};throw l}})}info(t){return ls(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield P0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gm(r),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}exists(t){return ls(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield P6(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Xr(r)&&r instanceof mm){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${h}`)}}}remove(t){return ls(this,void 0,void 0,function*(){try{return{data:yield _3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}list(t,n,r){return ls(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},O6),n),{prefix:t||""});return{data:yield cl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const D6="2.7.1",M6={"X-Client-Info":`storage-js/${D6}`};var ed=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{h(r.next(p))}catch(b){u(b)}}function c(p){try{h(r.throw(p))}catch(b){u(b)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};class F6{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},M6),n),this.fetch=E3(r)}listBuckets(){return ed(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Xr(t))return{data:null,error:t};throw t}})}getBucket(t){return ed(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ed(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ed(this,void 0,void 0,function*(){try{return{data:yield I6(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ed(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ed(this,void 0,void 0,function*(){try{return{data:yield _3(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}}class j6 extends F6{constructor(t,n={},r){super(t,n,r)}from(t){return new R6(this.url,this.headers,t,this.fetch)}}const B6="2.49.4";let Af="";typeof Deno<"u"?Af="deno":typeof document<"u"?Af="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Af="react-native":Af="node";const U6={"X-Client-Info":`supabase-js-${Af}/${B6}`},H6={headers:U6},q6={schema:"public"},z6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$6={};var V6=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{h(r.next(p))}catch(b){u(b)}}function c(p){try{h(r.throw(p))}catch(b){u(b)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};const W6=e=>{let t;return e?t=e:typeof fetch>"u"?t=d3:t=fetch,(...n)=>t(...n)},Y6=()=>typeof Headers>"u"?f3:Headers,G6=(e,t,n)=>{const r=W6(n),i=Y6();return(s,u)=>V6(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let h=new i(u?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},u),{headers:h}))})};var K6=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{h(r.next(p))}catch(b){u(b)}}function c(p){try{h(r.throw(p))}catch(b){u(b)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};function Q6(e){return e.replace(/\/$/,"")}function X6(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:u,auth:l,realtime:c,global:h}=t,p={db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},h),s),accessToken:()=>K6(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const x3="2.69.1",od=30*1e3,bm=3,N1=bm*od,J6="http://localhost:9999",Z6="supabase.auth.token",ex={"X-Client-Info":`gotrue-js/${x3}`},ym="X-Supabase-Api-Version",T3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nx=6e5;class gg extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Qt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rx extends gg{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ix(e){return Qt(e)&&e.name==="AuthApiError"}class S3 extends gg{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class El extends gg{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ol extends El{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sx(e){return Qt(e)&&e.name==="AuthSessionMissingError"}class C1 extends El{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class i0 extends El{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class s0 extends El{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ax(e){return Qt(e)&&e.name==="AuthImplicitGrantRedirectError"}class V5 extends El{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vm extends El{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function L1(e){return Qt(e)&&e.name==="AuthRetryableFetchError"}class W5 extends El{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Lf extends El{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Y5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),G5=` 	
\r=`.split(""),ox=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<G5.length;t+=1)e[G5[t].charCodeAt(0)]=-2;for(let t=0;t<Y5.length;t+=1)e[Y5[t].charCodeAt(0)]=t;return e})();function A3(e,t,n){const r=ox[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function K5(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=u=>{cx(u,r,n)};for(let u=0;u<e.length;u+=1)A3(e.charCodeAt(u),i,s);return t.join("")}function ux(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lx(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ux(r,t)}}function cx(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function dx(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)A3(e.charCodeAt(i),n,r);return new Uint8Array(t)}function fx(e){const t=[];return lx(e,n=>t.push(n)),new Uint8Array(t)}function hx(e){return Math.round(Date.now()/1e3)+e}function px(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const po=()=>typeof window<"u"&&typeof document<"u",nc={tested:!1,writable:!1},kf=()=>{if(!po())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nc.tested)return nc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nc.tested=!0,nc.writable=!0}catch{nc.tested=!0,nc.writable=!1}return nc.writable};function mx(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const N3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hu(async()=>{const{default:r}=await Promise.resolve().then(()=>Sd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},gx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",C3=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},a0=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},o0=async(e,t)=>{await e.removeItem(t)};class ap{constructor(){this.promise=new ap.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ap.promiseConstructor=Promise;function k1(e){const t=e.split(".");if(t.length!==3)throw new Lf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!tx.test(t[r]))throw new Lf("JWT not in base64url format");return{header:JSON.parse(K5(t[0])),payload:JSON.parse(K5(t[1])),signature:dx(t[2]),raw:{header:t[0],payload:t[1]}}}async function bx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yx(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const u=await e(s);if(!t(s,null,u)){r(u);return}}catch(u){if(!t(s,u)){i(u);return}}})()})}function vx(e){return("0"+e.toString(16)).substr(-2)}function wx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,vx).join("")}async function Ex(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function _x(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Ex(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function td(e,t,n=!1){const r=wx();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await C3(e,`${t}-code-verifier`,i);const s=await _x(r);return[s,r===s?"plain":"s256"]}const xx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tx(e){const t=e.headers.get(ym);if(!t||!t.match(xx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Sx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ax(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Nx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ic=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cx=[502,503,504];async function Q5(e){var t;if(!gx(e))throw new vm(ic(e),0);if(Cx.includes(e.status))throw new vm(ic(e),e.status);let n;try{n=await e.json()}catch(s){throw new S3(ic(s),s)}let r;const i=Tx(e);if(i&&i.getTime()>=T3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new W5(ic(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ol}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,u)=>s&&typeof u=="string",!0))throw new W5(ic(n),e.status,n.weak_password.reasons);throw new rx(ic(n),e.status||500,r)}const Lx=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function rn(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[ym]||(s[ym]=T3["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const u=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(u.redirect_to=r.redirectTo);const l=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",c=await kx(e,t,n+l,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function kx(e,t,n,r,i,s){const u=Lx(t,r,i,s);let l;try{l=await e(n,Object.assign({},u))}catch(c){throw console.error(c),new vm(ic(c),0)}if(l.ok||await Q5(l),r?.noResolveJson)return l;try{return await l.json()}catch(c){await Q5(c)}}function ul(e){var t;let n=null;Rx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=hx(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function X5(e){const t=ul(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ix(e){return{data:e,error:null}}function Px(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,u=Nx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},u);return{data:{properties:l,user:c},error:null}}function Ox(e){return e}function Rx(e){return e.access_token&&e.refresh_token&&e.expires_in}var Dx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Mx{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=N3(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await rn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await rn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hl})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Dx(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await rn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Px,redirectTo:n?.redirectTo})}catch(n){if(Qt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await rn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hl})}catch(n){if(Qt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,u,l,c;try{const h={nextPage:null,lastPage:0,total:0},p=await rn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Ox});if(p.error)throw p.error;const b=await p.json(),E=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(S=>{const A=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);h[`${k}Page`]=A}),h.total=parseInt(E)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(Qt(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await rn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hl})}catch(n){if(Qt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await rn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:hl})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await rn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:hl})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await rn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await rn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}}}const Fx={getItem:e=>kf()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{kf()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{kf()&&globalThis.localStorage.removeItem(e)}};function J5(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function jx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const nd={debug:!!(globalThis&&kf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class L3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Bx extends L3{}async function Ux(e,t,n){nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),nd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Bx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(nd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}jx();const Hx={url:J6,storageKey:Z6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ex,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Z5(e,t,n){return await n()}class Vf{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vf.nextInstanceID,Vf.nextInstanceID+=1,this.instanceID>0&&po()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Hx),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Mx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=N3(i.fetch),this.lock=i.lock||Z5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:po()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Ux:this.lock=Z5,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:kf()?this.storage=Fx:(this.memoryStorage={},this.storage=J5(this.memoryStorage)):(this.memoryStorage={},this.storage=J5(this.memoryStorage)),po()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${x3}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=mx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),po()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ax(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:u,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",l),await this._saveSession(u),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Qt(n)?{error:n}:{error:new S3("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ul}),{data:u,error:l}=s;if(l||!u)return{data:{user:null,session:null},error:l};const c=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(s){if(Qt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:p,password:b,options:E}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await td(this.storage,this.storageKey)),s=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:p,password:b,data:(n=E?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:y,code_challenge_method:S},xform:ul})}else if("phone"in t){const{phone:p,password:b,options:E}=t;s=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(r=E?.data)!==null&&r!==void 0?r:{},channel:(i=E?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:ul})}else throw new i0("You must provide either an email or phone number and a password");const{data:u,error:l}=s;if(l||!u)return{data:{user:null,session:null},error:l};const c=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(s){if(Qt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:u,options:l}=t;n=await rn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:u,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:X5})}else if("phone"in t){const{phone:s,password:u,options:l}=t;n=await rn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:u,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:X5})}else throw new i0("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new C1}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Qt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await a0(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:u}=await rn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ul});if(await o0(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new C1}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:u})}catch(s){if(Qt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:u}=t,l=await rn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ul}),{data:c,error:h}=l;return h?{data:{user:null,session:null},error:h}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new C1}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:h})}catch(n){if(Qt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,u;try{if("email"in t){const{email:l,options:c}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await td(this.storage,this.storageKey));const{error:b}=await rn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c?.data)!==null&&n!==void 0?n:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in t){const{phone:l,options:c}=t,{data:h,error:p}=await rn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(u=c?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:p}}throw new i0("You must provide either an email or phone number.")}catch(l){if(Qt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:l}=await rn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ul});if(l)throw l;if(!u)throw new Error("An error occurred on token verification.");const c=u.session,h=u.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(Qt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,u=null;return this.flowType==="pkce"&&([s,u]=await td(this.storage,this.storageKey)),await rn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:u}),headers:this.headers,xform:Ix})}catch(s){if(Qt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ol;const{error:i}=await rn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Qt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:u}=await rn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:u,error:l}=await rn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:l}}throw new i0("You must provide either an email or phone number and a type")}catch(n){if(Qt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await a0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<N1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,h,p)=>(!u&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,h,p))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await rn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hl}):await this._useSession(async n=>{var r,i,s;const{data:u,error:l}=n;if(l)throw l;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ol}:await rn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:hl})})}catch(n){if(Qt(n))return sx(n)&&(await this._removeSession(),await o0(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ol;const u=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await td(this.storage,this.storageKey));const{data:h,error:p}=await rn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:u.access_token,xform:hl});if(p)throw p;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ol;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:u}=k1(t.access_token);if(u.exp&&(r=u.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Qt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:u,error:l}=n;if(l)throw l;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ol;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Qt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!po())throw new s0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new s0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new V5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new s0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new V5("No code detected.");const{data:P,error:$}=await this._exchangeCodeForSession(t.code);if($)throw $;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:u,expires_in:l,expires_at:c,token_type:h}=t;if(!s||!l||!u||!h)throw new s0("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(l);let E=p+b;c&&(E=parseInt(c));const y=E-p;y*1e3<=od&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${b}s`);const S=E-b;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,E,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,E,p);const{data:A,error:k}=await this._getUser(s);if(k)throw k;const C={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:b,expires_at:E,refresh_token:u,token_type:h,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(r){if(Qt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await a0(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const u=(r=i.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:l}=await this.admin.signOut(u,t);if(l&&!(ix(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await o0(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=px(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await td(this.storage,this.storageKey,!0));try{return await rn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Qt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var u,l,c,h,p;const{data:b,error:E}=s;if(E)throw E;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await rn(this.fetch,"GET",y,{headers:this.headers,jwt:(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return po()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Qt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:u}=n;if(u)throw u;return await rn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await yx(async i=>(i>0&&await bx(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await rn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ul})),(i,s)=>{const u=200*Math.pow(2,i);return s&&L1(s)&&Date.now()+u-r<od})}catch(r){if(this._debug(n,"error",r),Qt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),po()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await a0(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<N1;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${N1}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),L1(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ol;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ap;const{data:s,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!s.session)throw new ol;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Qt(s)){const u={session:null,error:s};return L1(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],u=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(u),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await C3(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await o0(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&po()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),od);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/od);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${od}ms, refresh threshold is ${bm} ticks`),i<=bm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof L3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!po()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,u]=await td(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(l.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await rn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:u}=n;if(u)return{data:null,error:u};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:h}=await rn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:u,error:l}=await rn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:l})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await rn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),s=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=k1(i.access_token);let l=null;u.aal&&(l=u.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const p=u.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r||(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+nx>Date.now()))return r;const{data:i,error:s}=await rn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Lf("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(u=>u.kid===t),!r)throw new Lf("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:y,error:S}=await this.getSession();if(S||!y.session)return{data:null,error:S};r=y.session.access_token}const{header:i,payload:s,signature:u,raw:{header:l,payload:c}}=k1(r);if(Sx(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:u},error:null}}const h=Ax(i.alg),p=await this.fetchJwk(i.kid,n),b=await crypto.subtle.importKey("jwk",p,h,!0,["verify"]);if(!await crypto.subtle.verify(h,b,u,fx(`${l}.${c}`)))throw new Lf("Invalid JWT signature");return{data:{claims:s,header:i,signature:u},error:null}}catch(r){if(Qt(r))return{data:null,error:r};throw r}}}Vf.nextInstanceID=0;const qx=Vf;class zx extends qx{constructor(t){super(t)}}var $x=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{h(r.next(p))}catch(b){u(b)}}function c(p){try{h(r.throw(p))}catch(b){u(b)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})};class Vx{constructor(t,n,r){var i,s,u;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Q6(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:q6,realtime:$6,auth:Object.assign(Object.assign({},z6),{storageKey:c}),global:H6},p=X6(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=p.auth)!==null&&u!==void 0?u:{},this.headers,p.global.fetch),this.fetch=G6(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new l6(`${l}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new X4(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new j6(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return $x(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:u,lock:l,debug:c},h,p){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zx({url:this.authUrl,headers:Object.assign(Object.assign({},b),h),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:u,lock:l,debug:c,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new T6(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wx=(e,t,n)=>new Vx(e,t,n),Yx="https://bbosgvxsamxhzjgzxiuz.supabase.co",Gx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJib3NndnhzYW14aHpqZ3p4aXV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU4NjQyNzEsImV4cCI6MjA1MTQ0MDI3MX0.xA3GJjaAzNVlddpCnHhvKOjDDxNXexY67yCqxi1GtYA",Kx=Wx(Yx,Gx);class Qx{client;abortControllers;constructor(t){this.client=t,this.abortControllers=new Map}request=async(t,n)=>{this.abortControllers.has(t)&&this.abortControllers.get(t)?.abort();const r=new AbortController;this.abortControllers.set(t,r);try{return await n(this.client)}catch(i){if(i.name==="AbortError")return console.log(`Request "${t}" was aborted.`),null;throw i}finally{this.abortControllers.delete(t)}}}const Wt=new Qx(Kx);var on=(e=>(e.COLLECTIONS="collections",e.COLLECTION_TO_RECIPES="collection_to_recipes",e.COLLECTION_TO_TAGS="collection_to_tags",e.COLLECTION_TO_USERS="collection_to_users",e.RECIPES="recipes",e.RECIPE_TO_TAGS="recipe_to_tags",e.RECIPE_TO_USERS="recipe_to_users",e.INGREDIENTS="ingredients",e.STEPS="steps",e.TAGS="tags",e.USERS="users",e))(on||{});const Xx=async e=>await Wt.request(`findByEmail-${e}`,async t=>{const{data:n,error:r}=await t.from(on.USERS).select("id, display_name, profile_image").eq("email",e).single();if(r||!n?.id)throw new Error("User not found.");return{...n,display_name:n.display_name||e}}),Jx=async()=>await Wt.request("getSession",async e=>{const{data:{session:t},error:n}=await e.auth.getSession();if(n)throw new Error(`Failed to sign in: ${n.message}`);return t}),Zx=async(e,t)=>await Wt.request("signIn",async n=>{const{error:r}=await n.auth.signInWithPassword({email:e,password:t});if(r)throw new Error(`Failed to sign in: ${r.message}`)}),eT=async(e,t)=>await Wt.request("signUp",async n=>{const{error:r}=await n.auth.signUp({email:e,password:t});if(r)throw new Error(`Failed to sign up: ${r.message}`)}),tT=async(e,t)=>await Wt.request("resetPassword",async n=>{const{error:r}=await n.auth.resetPasswordForEmail(e,{redirectTo:t});if(r)throw new Error(`Failed to reset password: ${r.message}`)}),nT=async e=>await Wt.request("updatePassword",async t=>{const{error:n}=await t.auth.updateUser({password:e});if(n)throw new Error(`Failed to update password: ${n.message}`)}),rT=async()=>await Wt.request("signOut",async e=>{const{error:t}=await e.auth.signOut();if(t)throw new Error("Failed to sign out.")}),iT=()=>{let e=window.location.origin+"/";return e=e.endsWith("/")?e:`${e}/`,e},sT=async e=>{const t=iT();return console.log(`OAuth redirect URL: ${t}`),await Wt.request(`signInWith${e}`,async n=>{const{data:r,error:i}=await n.auth.signInWithOAuth({provider:e,options:{redirectTo:t}});if(i)throw new Error(`OAuth error (${e}): ${i.message}`);return r})},Eo={signIn:Zx,signInWithProvider:sT,signUp:eT,signOut:rT,resetPassword:tT,updatePassword:nT,getSession:Jx,findByEmail:Xx},k3=M.createContext(void 0),aT=({children:e})=>{const[t,n]=M.useState(null),[r,i]=M.useState(!1),[s,u]=M.useState(!1);return M.useEffect(()=>{(async()=>{const h=await Eo.getSession();n(h?.user||null),u(!0)})();const c=Wt.request("onAuthStateChange",async h=>h.auth.onAuthStateChange((p,b)=>{n(b?.user||null)}));return()=>{c.then(h=>h&&h.data.subscription?.unsubscribe())}},[]),M.useEffect(()=>{i(!!t)},[t]),L.jsx(k3.Provider,{value:{user:t,isAuthenticated:r,authHasBeenChecked:s},children:e})},Ba=()=>{const e=M.useContext(k3);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function hf({children:e}){const{user:t}=Ba(),n=window.location.hash==="#/sign-in";return t?n?L.jsx(C5,{to:"/"}):L.jsx(L.Fragment,{children:e}):n?L.jsx(L.Fragment,{children:e}):L.jsx(C5,{to:"/sign-in"})}var I3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eb=an.createContext&&an.createContext(I3),oT=["attr","size","title"];function uT(e,t){if(e==null)return{};var n=lT(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lT(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(this,arguments)}function tb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tb(Object(n),!0).forEach(function(r){cT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cT(e,t,n){return t=dT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dT(e){var t=fT(e,"string");return typeof t=="symbol"?t:t+""}function fT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P3(e){return e&&e.map((t,n)=>an.createElement(t.tag,R0({key:n},t.attr),P3(t.child)))}function rr(e){return t=>an.createElement(hT,O0({attr:R0({},e.attr)},t),P3(e.child))}function hT(e){var t=n=>{var{attr:r,size:i,title:s}=e,u=uT(e,oT),l=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),an.createElement("svg",O0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:c,style:R0(R0({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&an.createElement("title",null,s),e.children)};return eb!==void 0?an.createElement(eb.Consumer,null,n=>t(n)):t(I3)}function pT(e){return rr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 1 0 0 11Zm-5.657.157a.75.75 0 0 1 0 1.06l-1.768 1.768a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.767-1.768a.75.75 0 0 1 1.061 0ZM3.515 3.515a.75.75 0 0 1 1.06 0l1.768 1.768a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L3.515 4.575a.75.75 0 0 1 0-1.06ZM12 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 12 0ZM4 12a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 12Zm8 8a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 12 20Zm12-8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 24 12Zm-6.343 5.657a.75.75 0 0 1 1.06 0l1.768 1.768a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.768-1.767a.75.75 0 0 1 0-1.061Zm2.828-14.142a.75.75 0 0 1 0 1.06l-1.768 1.768a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l1.767-1.768a.75.75 0 0 1 1.061 0Z"},child:[]}]})(e)}function mT(e){return rr({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function gT(e){return rr({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function bT(e){return rr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function yT(e){return rr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function O3(e){return rr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function vT(e){return rr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function R3(e){return rr({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function D3(e){return rr({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function wT(e){return rr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function ET(e){return rr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(e)}function _T(e){return rr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M408.781 128.007C386.356 127.578 368 146.36 368 168.79V256h-8V79.79c0-22.43-18.356-41.212-40.781-40.783C297.488 39.423 280 57.169 280 79v177h-8V40.79C272 18.36 253.644-.422 231.219.007 209.488.423 192 18.169 192 40v216h-8V80.79c0-22.43-18.356-41.212-40.781-40.783C121.488 40.423 104 58.169 104 80v235.992l-31.648-43.519c-12.993-17.866-38.009-21.817-55.877-8.823-17.865 12.994-21.815 38.01-8.822 55.877l125.601 172.705A48 48 0 0 0 172.073 512h197.59c22.274 0 41.622-15.324 46.724-37.006l26.508-112.66a192.011 192.011 0 0 0 5.104-43.975V168c.001-21.831-17.487-39.577-39.218-39.993z"},child:[]}]})(e)}function xT(e){return rr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function TT(e){return rr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function ST(e){return rr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function AT(e){return rr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function oh(e){return rr({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function NT(e){return rr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function CT(e){return rr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function bg(e){return rr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(e)}function LT(e){return rr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}function kT(e){return rr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function IT(e){return rr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(e)}const M3=M.createContext(void 0),PT=({children:e})=>{const[t,n]=M.useState(()=>typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches),r=()=>{n(i=>!i)};return M.useEffect(()=>{const i=document.documentElement;t?i.classList.add("dark"):i.classList.remove("dark")},[t]),L.jsx(M3.Provider,{value:{isDarkMode:t,toggleDarkMode:r},children:e})},OT=()=>{const e=M.useContext(M3);if(!e)throw new Error("useDarkMode must be used within a DarkModeProvider");return e},Ad=({message:e="",isLarge:t=!0,className:n=""})=>L.jsxs("div",{className:`flex items-center justify-center space-x-2 ${n}`,children:[L.jsxs("svg",{className:`animate-spin text-blue-500 ${t?"h-10 w-10":"h-5 w-5"}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[L.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),L.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l-3 3 3-3z"})]}),L.jsx("span",{children:e})]}),wn=({type:e="button",btnType:t="primary",onClick:n,children:r,isLoading:i=!1,className:s="",disabled:u=!1,...l})=>{const p=`flex gap-2 justify-center items-center font-medium px-4 py-2 text-center transition focus:outline-hidden ${{primary:"text-white bg-leaf-green-700 dark:bg-leaf-green-600 hover:bg-leaf-green-800 dark:hover:bg-leaf-green-800 rounded-lg",secondary:"text-leaf-green-600 dark:text-leaf-green-100 border border-leaf-green-600 dark:border-leaf-green-100 hover:bg-leaf-green-100 dark:hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 rounded-lg",delete:"text-red-500 border border-red-500 hover:text-white hover:bg-red-500 rounded-lg",dismissable:"text-gray-800 border border-gray-300 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",dropdown:"w-full text-leaf-green-600 dark:text-leaf-green-100 px-4 py-2 text-center hover:bg-leaf-green-100 dark:hover:text-leaf-green-600 transition focus:outline-hidden rounded-none"}[t]||""} ${u||i?"opacity-50 cursor-not-allowed pointer-events-none":""} ${s}`;return L.jsxs("button",{type:e,className:p,disabled:u||i,onClick:!u&&!i?n:void 0,...l,children:[i&&L.jsx(Ad,{isLarge:!1}),r]})},dc=({icon:e,onClick:t=()=>{},disabled:n=!1,className:r="",title:i="",attributes:s={},listeners:u={},...l})=>L.jsx("button",{type:"button",onClick:c=>{c.stopPropagation(),t(c)},className:`inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 ${r}`,disabled:n,title:i,...s,...u,...l,children:e}),F3=({onClick:e})=>{const[t,n]=M.useState(!1);return L.jsx(dc,{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),title:"Delete",icon:t?L.jsx(NT,{className:"w-6 h-6 text-red-500"}):L.jsx(IT,{className:"w-6 h-6 text-gray-500"})})},Wf=({isReadOnly:e=!1,displayHover:t=!0,title:n="tag",onClick:r,btnClass:i="",disabled:s=!1,...u})=>L.jsxs("button",{type:"button",className:`flex gap-2 justify-center items-center font-medium px-2 py-1 text-center transition focus:outline-hidden text-leaf-green-600 dark:text-leaf-green-100 border border-leaf-green-600 dark:border-leaf-green-100 rounded-lg ${t?"hover:bg-leaf-green-100 dark:hover:text-leaf-green-600":""} ${i}`,disabled:s,"aria-label":`${!e&&"Remove "}${n}`,onClick:r,...u,children:[L.jsx("small",{children:n}),!e&&L.jsx(oh,{className:"w-3 h-3"})]}),op=({options:e,icon:t})=>{const[n,r]=M.useState(!1),i=M.useRef(null);return M.useEffect(()=>{const s=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]),L.jsxs("div",{className:"relative inline-block",ref:i,children:[L.jsx(dc,{icon:t,onClick:()=>r(!n),title:"More Options"}),n&&L.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:L.jsx("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:e.map((s,u)=>L.jsx("li",{children:L.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{s.onClick(),r(!1)},children:s.label})},u))})})]})};function j3(e,t){return function(){return e.apply(t,arguments)}}const{toString:RT}=Object.prototype,{getPrototypeOf:yg}=Object,up=(e=>t=>{const n=RT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ua=e=>(e=e.toLowerCase(),t=>up(t)===e),lp=e=>t=>typeof t===e,{isArray:Nd}=Array,Yf=lp("undefined");function DT(e){return e!==null&&!Yf(e)&&e.constructor!==null&&!Yf(e.constructor)&&Ms(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const B3=Ua("ArrayBuffer");function MT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&B3(e.buffer),t}const FT=lp("string"),Ms=lp("function"),U3=lp("number"),cp=e=>e!==null&&typeof e=="object",jT=e=>e===!0||e===!1,w0=e=>{if(up(e)!=="object")return!1;const t=yg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BT=Ua("Date"),UT=Ua("File"),HT=Ua("Blob"),qT=Ua("FileList"),zT=e=>cp(e)&&Ms(e.pipe),$T=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ms(e.append)&&((t=up(e))==="formdata"||t==="object"&&Ms(e.toString)&&e.toString()==="[object FormData]"))},VT=Ua("URLSearchParams"),[WT,YT,GT,KT]=["ReadableStream","Request","Response","Headers"].map(Ua),QT=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uh(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Nd(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;let l;for(r=0;r<u;r++)l=s[r],t.call(null,e[l],l,e)}}function H3(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const lc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,q3=e=>!Yf(e)&&e!==lc;function wm(){const{caseless:e}=q3(this)&&this||{},t={},n=(r,i)=>{const s=e&&H3(t,i)||i;w0(t[s])&&w0(r)?t[s]=wm(t[s],r):w0(r)?t[s]=wm({},r):Nd(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&uh(arguments[r],n);return t}const XT=(e,t,n,{allOwnKeys:r}={})=>(uh(t,(i,s)=>{n&&Ms(i)?e[s]=j3(i,n):e[s]=i},{allOwnKeys:r}),e),JT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ZT=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},eS=(e,t,n,r)=>{let i,s,u;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)u=i[s],(!r||r(u,e,t))&&!l[u]&&(t[u]=e[u],l[u]=!0);e=n!==!1&&yg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},tS=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},nS=e=>{if(!e)return null;if(Nd(e))return e;let t=e.length;if(!U3(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},rS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yg(Uint8Array)),iS=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},sS=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},aS=Ua("HTMLFormElement"),oS=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),nb=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),uS=Ua("RegExp"),z3=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};uh(n,(i,s)=>{let u;(u=t(i,s,e))!==!1&&(r[s]=u||i)}),Object.defineProperties(e,r)},lS=e=>{z3(e,(t,n)=>{if(Ms(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ms(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},cS=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Nd(e)?r(e):r(String(e).split(t)),n},dS=()=>{},fS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,I1="abcdefghijklmnopqrstuvwxyz",rb="0123456789",$3={DIGIT:rb,ALPHA:I1,ALPHA_DIGIT:I1+I1.toUpperCase()+rb},hS=(e=16,t=$3.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function pS(e){return!!(e&&Ms(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const mS=e=>{const t=new Array(10),n=(r,i)=>{if(cp(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Nd(r)?[]:{};return uh(r,(u,l)=>{const c=n(u,i+1);!Yf(c)&&(s[l]=c)}),t[i]=void 0,s}}return r};return n(e,0)},gS=Ua("AsyncFunction"),bS=e=>e&&(cp(e)||Ms(e))&&Ms(e.then)&&Ms(e.catch),V3=((e,t)=>e?setImmediate:t?((n,r)=>(lc.addEventListener("message",({source:i,data:s})=>{i===lc&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),lc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ms(lc.postMessage)),yS=typeof queueMicrotask<"u"?queueMicrotask.bind(lc):typeof process<"u"&&process.nextTick||V3,He={isArray:Nd,isArrayBuffer:B3,isBuffer:DT,isFormData:$T,isArrayBufferView:MT,isString:FT,isNumber:U3,isBoolean:jT,isObject:cp,isPlainObject:w0,isReadableStream:WT,isRequest:YT,isResponse:GT,isHeaders:KT,isUndefined:Yf,isDate:BT,isFile:UT,isBlob:HT,isRegExp:uS,isFunction:Ms,isStream:zT,isURLSearchParams:VT,isTypedArray:rS,isFileList:qT,forEach:uh,merge:wm,extend:XT,trim:QT,stripBOM:JT,inherits:ZT,toFlatObject:eS,kindOf:up,kindOfTest:Ua,endsWith:tS,toArray:nS,forEachEntry:iS,matchAll:sS,isHTMLForm:aS,hasOwnProperty:nb,hasOwnProp:nb,reduceDescriptors:z3,freezeMethods:lS,toObjectSet:cS,toCamelCase:oS,noop:dS,toFiniteNumber:fS,findKey:H3,global:lc,isContextDefined:q3,ALPHABET:$3,generateString:hS,isSpecCompliantForm:pS,toJSONObject:mS,isAsyncFn:gS,isThenable:bS,setImmediate:V3,asap:yS};function Gt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}He.inherits(Gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:He.toJSONObject(this.config),code:this.code,status:this.status}}});const W3=Gt.prototype,Y3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Y3[e]={value:e}});Object.defineProperties(Gt,Y3);Object.defineProperty(W3,"isAxiosError",{value:!0});Gt.from=(e,t,n,r,i,s)=>{const u=Object.create(W3);return He.toFlatObject(e,u,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Gt.call(u,e.message,t,n,r,i),u.cause=e,u.name=e.name,s&&Object.assign(u,s),u};const vS=null;function Em(e){return He.isPlainObject(e)||He.isArray(e)}function G3(e){return He.endsWith(e,"[]")?e.slice(0,-2):e}function ib(e,t,n){return e?e.concat(t).map(function(i,s){return i=G3(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function wS(e){return He.isArray(e)&&!e.some(Em)}const ES=He.toFlatObject(He,{},null,function(t){return/^is[A-Z]/.test(t)});function dp(e,t,n){if(!He.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=He.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,k){return!He.isUndefined(k[A])});const r=n.metaTokens,i=n.visitor||p,s=n.dots,u=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&He.isSpecCompliantForm(t);if(!He.isFunction(i))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(He.isDate(S))return S.toISOString();if(!c&&He.isBlob(S))throw new Gt("Blob is not supported. Use a Buffer instead.");return He.isArrayBuffer(S)||He.isTypedArray(S)?c&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,A,k){let C=S;if(S&&!k&&typeof S=="object"){if(He.endsWith(A,"{}"))A=r?A:A.slice(0,-2),S=JSON.stringify(S);else if(He.isArray(S)&&wS(S)||(He.isFileList(S)||He.endsWith(A,"[]"))&&(C=He.toArray(S)))return A=G3(A),C.forEach(function($,H){!(He.isUndefined($)||$===null)&&t.append(u===!0?ib([A],H,s):u===null?A:A+"[]",h($))}),!1}return Em(S)?!0:(t.append(ib(k,A,s),h(S)),!1)}const b=[],E=Object.assign(ES,{defaultVisitor:p,convertValue:h,isVisitable:Em});function y(S,A){if(!He.isUndefined(S)){if(b.indexOf(S)!==-1)throw Error("Circular reference detected in "+A.join("."));b.push(S),He.forEach(S,function(C,P){(!(He.isUndefined(C)||C===null)&&i.call(t,C,He.isString(P)?P.trim():P,A,E))===!0&&y(C,A?A.concat(P):[P])}),b.pop()}}if(!He.isObject(e))throw new TypeError("data must be an object");return y(e),t}function sb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function vg(e,t){this._pairs=[],e&&dp(e,this,t)}const K3=vg.prototype;K3.append=function(t,n){this._pairs.push([t,n])};K3.toString=function(t){const n=t?function(r){return t.call(this,r,sb)}:sb;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _S(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Q3(e,t,n){if(!t)return e;const r=n&&n.encode||_S;He.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=He.isURLSearchParams(t)?t.toString():new vg(t,n).toString(r),s){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class ab{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){He.forEach(this.handlers,function(r){r!==null&&t(r)})}}const X3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xS=typeof URLSearchParams<"u"?URLSearchParams:vg,TS=typeof FormData<"u"?FormData:null,SS=typeof Blob<"u"?Blob:null,AS={isBrowser:!0,classes:{URLSearchParams:xS,FormData:TS,Blob:SS},protocols:["http","https","file","blob","url","data"]},wg=typeof window<"u"&&typeof document<"u",_m=typeof navigator=="object"&&navigator||void 0,NS=wg&&(!_m||["ReactNative","NativeScript","NS"].indexOf(_m.product)<0),CS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LS=wg&&window.location.href||"http://localhost",kS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wg,hasStandardBrowserEnv:NS,hasStandardBrowserWebWorkerEnv:CS,navigator:_m,origin:LS},Symbol.toStringTag,{value:"Module"})),Ii={...kS,...AS};function IS(e,t){return dp(e,new Ii.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Ii.isNode&&He.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function PS(e){return He.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function OS(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function J3(e){function t(n,r,i,s){let u=n[s++];if(u==="__proto__")return!0;const l=Number.isFinite(+u),c=s>=n.length;return u=!u&&He.isArray(i)?i.length:u,c?(He.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!l):((!i[u]||!He.isObject(i[u]))&&(i[u]=[]),t(n,r,i[u],s)&&He.isArray(i[u])&&(i[u]=OS(i[u])),!l)}if(He.isFormData(e)&&He.isFunction(e.entries)){const n={};return He.forEachEntry(e,(r,i)=>{t(PS(r),i,n,0)}),n}return null}function RS(e,t,n){if(He.isString(e))try{return(t||JSON.parse)(e),He.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const lh={transitional:X3,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=He.isObject(t);if(s&&He.isHTMLForm(t)&&(t=new FormData(t)),He.isFormData(t))return i?JSON.stringify(J3(t)):t;if(He.isArrayBuffer(t)||He.isBuffer(t)||He.isStream(t)||He.isFile(t)||He.isBlob(t)||He.isReadableStream(t))return t;if(He.isArrayBufferView(t))return t.buffer;if(He.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return IS(t,this.formSerializer).toString();if((l=He.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return dp(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),RS(t)):t}],transformResponse:[function(t){const n=this.transitional||lh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(He.isResponse(t)||He.isReadableStream(t))return t;if(t&&He.isString(t)&&(r&&!this.responseType||i)){const u=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(u)throw l.name==="SyntaxError"?Gt.from(l,Gt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ii.classes.FormData,Blob:Ii.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};He.forEach(["delete","get","head","post","put","patch"],e=>{lh.headers[e]={}});const DS=He.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MS=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(u){i=u.indexOf(":"),n=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!n||t[n]&&DS[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ob=Symbol("internals");function pf(e){return e&&String(e).trim().toLowerCase()}function E0(e){return e===!1||e==null?e:He.isArray(e)?e.map(E0):String(e)}function FS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const jS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function P1(e,t,n,r,i){if(He.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!He.isString(t)){if(He.isString(r))return t.indexOf(r)!==-1;if(He.isRegExp(r))return r.test(t)}}function BS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function US(e,t){const n=He.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,u){return this[r].call(this,t,i,s,u)},configurable:!0})})}class ps{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(l,c,h){const p=pf(c);if(!p)throw new Error("header name must be a non-empty string");const b=He.findKey(i,p);(!b||i[b]===void 0||h===!0||h===void 0&&i[b]!==!1)&&(i[b||c]=E0(l))}const u=(l,c)=>He.forEach(l,(h,p)=>s(h,p,c));if(He.isPlainObject(t)||t instanceof this.constructor)u(t,n);else if(He.isString(t)&&(t=t.trim())&&!jS(t))u(MS(t),n);else if(He.isHeaders(t))for(const[l,c]of t.entries())s(c,l,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=pf(t),t){const r=He.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return FS(i);if(He.isFunction(n))return n.call(this,i,r);if(He.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=pf(t),t){const r=He.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||P1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(u){if(u=pf(u),u){const l=He.findKey(r,u);l&&(!n||P1(r,r[l],l,n))&&(delete r[l],i=!0)}}return He.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||P1(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return He.forEach(this,(i,s)=>{const u=He.findKey(r,s);if(u){n[u]=E0(i),delete n[s];return}const l=t?BS(s):String(s).trim();l!==s&&delete n[s],n[l]=E0(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return He.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&He.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[ob]=this[ob]={accessors:{}}).accessors,i=this.prototype;function s(u){const l=pf(u);r[l]||(US(i,u),r[l]=!0)}return He.isArray(t)?t.forEach(s):s(t),this}}ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);He.reduceDescriptors(ps.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});He.freezeMethods(ps);function O1(e,t){const n=this||lh,r=t||n,i=ps.from(r.headers);let s=r.data;return He.forEach(e,function(l){s=l.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Z3(e){return!!(e&&e.__CANCEL__)}function Cd(e,t,n){Gt.call(this,e??"canceled",Gt.ERR_CANCELED,t,n),this.name="CanceledError"}He.inherits(Cd,Gt,{__CANCEL__:!0});function ev(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Gt("Request failed with status code "+n.status,[Gt.ERR_BAD_REQUEST,Gt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function HS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qS(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,u;return t=t!==void 0?t:1e3,function(c){const h=Date.now(),p=r[s];u||(u=h),n[i]=c,r[i]=h;let b=s,E=0;for(;b!==i;)E+=n[b++],b=b%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),h-u<t)return;const y=p&&h-p;return y?Math.round(E*1e3/y):void 0}}function zS(e,t){let n=0,r=1e3/t,i,s;const u=(h,p=Date.now())=>{n=p,i=null,s&&(clearTimeout(s),s=null),e.apply(null,h)};return[(...h)=>{const p=Date.now(),b=p-n;b>=r?u(h,p):(i=h,s||(s=setTimeout(()=>{s=null,u(i)},r-b)))},()=>i&&u(i)]}const D0=(e,t,n=3)=>{let r=0;const i=qS(50,250);return zS(s=>{const u=s.loaded,l=s.lengthComputable?s.total:void 0,c=u-r,h=i(c),p=u<=l;r=u;const b={loaded:u,total:l,progress:l?u/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&p?(l-u)/h:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(b)},n)},ub=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},lb=e=>(...t)=>He.asap(()=>e(...t)),$S=Ii.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ii.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ii.origin),Ii.navigator&&/(msie|trident)/i.test(Ii.navigator.userAgent)):()=>!0,VS=Ii.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const u=[e+"="+encodeURIComponent(t)];He.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),He.isString(r)&&u.push("path="+r),He.isString(i)&&u.push("domain="+i),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function WS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function YS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function tv(e,t){return e&&!WS(t)?YS(e,t):t}const cb=e=>e instanceof ps?{...e}:e;function gc(e,t){t=t||{};const n={};function r(h,p,b,E){return He.isPlainObject(h)&&He.isPlainObject(p)?He.merge.call({caseless:E},h,p):He.isPlainObject(p)?He.merge({},p):He.isArray(p)?p.slice():p}function i(h,p,b,E){if(He.isUndefined(p)){if(!He.isUndefined(h))return r(void 0,h,b,E)}else return r(h,p,b,E)}function s(h,p){if(!He.isUndefined(p))return r(void 0,p)}function u(h,p){if(He.isUndefined(p)){if(!He.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function l(h,p,b){if(b in t)return r(h,p);if(b in e)return r(void 0,h)}const c={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:l,headers:(h,p,b)=>i(cb(h),cb(p),b,!0)};return He.forEach(Object.keys(Object.assign({},e,t)),function(p){const b=c[p]||i,E=b(e[p],t[p],p);He.isUndefined(E)&&b!==l||(n[p]=E)}),n}const nv=e=>{const t=gc({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:u,auth:l}=t;t.headers=u=ps.from(u),t.url=Q3(tv(t.baseURL,t.url),e.params,e.paramsSerializer),l&&u.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(He.isFormData(n)){if(Ii.hasStandardBrowserEnv||Ii.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((c=u.getContentType())!==!1){const[h,...p]=c?c.split(";").map(b=>b.trim()).filter(Boolean):[];u.setContentType([h||"multipart/form-data",...p].join("; "))}}if(Ii.hasStandardBrowserEnv&&(r&&He.isFunction(r)&&(r=r(t)),r||r!==!1&&$S(t.url))){const h=i&&s&&VS.read(s);h&&u.set(i,h)}return t},GS=typeof XMLHttpRequest<"u",KS=GS&&function(e){return new Promise(function(n,r){const i=nv(e);let s=i.data;const u=ps.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=i,p,b,E,y,S;function A(){y&&y(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function C(){if(!k)return;const $=ps.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),Y={data:!l||l==="text"||l==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:$,config:e,request:k};ev(function(le){n(le),A()},function(le){r(le),A()},Y),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(r(new Gt("Request aborted",Gt.ECONNABORTED,e,k)),k=null)},k.onerror=function(){r(new Gt("Network Error",Gt.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Y=i.transitional||X3;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Gt(H,Y.clarifyTimeoutError?Gt.ETIMEDOUT:Gt.ECONNABORTED,e,k)),k=null},s===void 0&&u.setContentType(null),"setRequestHeader"in k&&He.forEach(u.toJSON(),function(H,Y){k.setRequestHeader(Y,H)}),He.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),l&&l!=="json"&&(k.responseType=i.responseType),h&&([E,S]=D0(h,!0),k.addEventListener("progress",E)),c&&k.upload&&([b,y]=D0(c),k.upload.addEventListener("progress",b),k.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(p=$=>{k&&(r(!$||$.type?new Cd(null,e,k):$),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const P=HS(i.url);if(P&&Ii.protocols.indexOf(P)===-1){r(new Gt("Unsupported protocol "+P+":",Gt.ERR_BAD_REQUEST,e));return}k.send(s||null)})},QS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(h){if(!i){i=!0,l();const p=h instanceof Error?h:this.reason;r.abort(p instanceof Gt?p:new Cd(p instanceof Error?p.message:p))}};let u=t&&setTimeout(()=>{u=null,s(new Gt(`timeout ${t} of ms exceeded`,Gt.ETIMEDOUT))},t);const l=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),e=null)};e.forEach(h=>h.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>He.asap(l),c}},XS=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},JS=async function*(e,t){for await(const n of ZS(e))yield*XS(n,t)},ZS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},db=(e,t,n,r)=>{const i=JS(e,t);let s=0,u,l=c=>{u||(u=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:p}=await i.next();if(h){l(),c.close();return}let b=p.byteLength;if(n){let E=s+=b;n(E)}c.enqueue(new Uint8Array(p))}catch(h){throw l(h),h}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},fp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",rv=fp&&typeof ReadableStream=="function",eA=fp&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),iv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},tA=rv&&iv(()=>{let e=!1;const t=new Request(Ii.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),fb=64*1024,xm=rv&&iv(()=>He.isReadableStream(new Response("").body)),M0={stream:xm&&(e=>e.body)};fp&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!M0[t]&&(M0[t]=He.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Gt(`Response type '${t}' is not supported`,Gt.ERR_NOT_SUPPORT,r)})})})(new Response);const nA=async e=>{if(e==null)return 0;if(He.isBlob(e))return e.size;if(He.isSpecCompliantForm(e))return(await new Request(Ii.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(He.isArrayBufferView(e)||He.isArrayBuffer(e))return e.byteLength;if(He.isURLSearchParams(e)&&(e=e+""),He.isString(e))return(await eA(e)).byteLength},rA=async(e,t)=>{const n=He.toFiniteNumber(e.getContentLength());return n??nA(t)},iA=fp&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:u,onDownloadProgress:l,onUploadProgress:c,responseType:h,headers:p,withCredentials:b="same-origin",fetchOptions:E}=nv(e);h=h?(h+"").toLowerCase():"text";let y=QS([i,s&&s.toAbortSignal()],u),S;const A=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let k;try{if(c&&tA&&n!=="get"&&n!=="head"&&(k=await rA(p,r))!==0){let Y=new Request(t,{method:"POST",body:r,duplex:"half"}),he;if(He.isFormData(r)&&(he=Y.headers.get("content-type"))&&p.setContentType(he),Y.body){const[le,X]=ub(k,D0(lb(c)));r=db(Y.body,fb,le,X)}}He.isString(b)||(b=b?"include":"omit");const C="credentials"in Request.prototype;S=new Request(t,{...E,signal:y,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:C?b:void 0});let P=await fetch(S);const $=xm&&(h==="stream"||h==="response");if(xm&&(l||$&&A)){const Y={};["status","statusText","headers"].forEach(be=>{Y[be]=P[be]});const he=He.toFiniteNumber(P.headers.get("content-length")),[le,X]=l&&ub(he,D0(lb(l),!0))||[];P=new Response(db(P.body,fb,le,()=>{X&&X(),A&&A()}),Y)}h=h||"text";let H=await M0[He.findKey(M0,h)||"text"](P,e);return!$&&A&&A(),await new Promise((Y,he)=>{ev(Y,he,{data:H,headers:ps.from(P.headers),status:P.status,statusText:P.statusText,config:e,request:S})})}catch(C){throw A&&A(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new Gt("Network Error",Gt.ERR_NETWORK,e,S),{cause:C.cause||C}):Gt.from(C,C&&C.code,e,S)}}),Tm={http:vS,xhr:KS,fetch:iA};He.forEach(Tm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const hb=e=>`- ${e}`,sA=e=>He.isFunction(e)||e===null||e===!1,sv={getAdapter:e=>{e=He.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let u;if(r=n,!sA(n)&&(r=Tm[(u=String(n)).toLowerCase()],r===void 0))throw new Gt(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let u=t?s.length>1?`since :
`+s.map(hb).join(`
`):" "+hb(s[0]):"as no adapter specified";throw new Gt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Tm};function R1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cd(null,e)}function pb(e){return R1(e),e.headers=ps.from(e.headers),e.data=O1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sv.getAdapter(e.adapter||lh.adapter)(e).then(function(r){return R1(e),r.data=O1.call(e,e.transformResponse,r),r.headers=ps.from(r.headers),r},function(r){return Z3(r)||(R1(e),r&&r.response&&(r.response.data=O1.call(e,e.transformResponse,r.response),r.response.headers=ps.from(r.response.headers))),Promise.reject(r)})}const av="1.7.9",hp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hp[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const mb={};hp.transitional=function(t,n,r){function i(s,u){return"[Axios v"+av+"] Transitional option '"+s+"'"+u+(r?". "+r:"")}return(s,u,l)=>{if(t===!1)throw new Gt(i(u," has been removed"+(n?" in "+n:"")),Gt.ERR_DEPRECATED);return n&&!mb[u]&&(mb[u]=!0,console.warn(i(u," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,u,l):!0}};hp.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function aA(e,t,n){if(typeof e!="object")throw new Gt("options must be an object",Gt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],u=t[s];if(u){const l=e[s],c=l===void 0||u(l,s,e);if(c!==!0)throw new Gt("option "+s+" must be "+c,Gt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Gt("Unknown option "+s,Gt.ERR_BAD_OPTION)}}const _0={assertOptions:aA,validators:hp},ho=_0.validators;class fc{constructor(t){this.defaults=t,this.interceptors={request:new ab,response:new ab}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=gc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&_0.assertOptions(r,{silentJSONParsing:ho.transitional(ho.boolean),forcedJSONParsing:ho.transitional(ho.boolean),clarifyTimeoutError:ho.transitional(ho.boolean)},!1),i!=null&&(He.isFunction(i)?n.paramsSerializer={serialize:i}:_0.assertOptions(i,{encode:ho.function,serialize:ho.function},!0)),_0.assertOptions(n,{baseUrl:ho.spelling("baseURL"),withXsrfToken:ho.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=s&&He.merge(s.common,s[n.method]);s&&He.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),n.headers=ps.concat(u,s);const l=[];let c=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(c=c&&A.synchronous,l.unshift(A.fulfilled,A.rejected))});const h=[];this.interceptors.response.forEach(function(A){h.push(A.fulfilled,A.rejected)});let p,b=0,E;if(!c){const S=[pb.bind(this),void 0];for(S.unshift.apply(S,l),S.push.apply(S,h),E=S.length,p=Promise.resolve(n);b<E;)p=p.then(S[b++],S[b++]);return p}E=l.length;let y=n;for(b=0;b<E;){const S=l[b++],A=l[b++];try{y=S(y)}catch(k){A.call(this,k);break}}try{p=pb.call(this,y)}catch(S){return Promise.reject(S)}for(b=0,E=h.length;b<E;)p=p.then(h[b++],h[b++]);return p}getUri(t){t=gc(this.defaults,t);const n=tv(t.baseURL,t.url);return Q3(n,t.params,t.paramsSerializer)}}He.forEach(["delete","get","head","options"],function(t){fc.prototype[t]=function(n,r){return this.request(gc(r||{},{method:t,url:n,data:(r||{}).data}))}});He.forEach(["post","put","patch"],function(t){function n(r){return function(s,u,l){return this.request(gc(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:u}))}}fc.prototype[t]=n(),fc.prototype[t+"Form"]=n(!0)});class Eg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const u=new Promise(l=>{r.subscribe(l),s=l}).then(i);return u.cancel=function(){r.unsubscribe(s)},u},t(function(s,u,l){r.reason||(r.reason=new Cd(s,u,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Eg(function(i){t=i}),cancel:t}}}function oA(e){return function(n){return e.apply(null,n)}}function uA(e){return He.isObject(e)&&e.isAxiosError===!0}const Sm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sm).forEach(([e,t])=>{Sm[t]=e});function ov(e){const t=new fc(e),n=j3(fc.prototype.request,t);return He.extend(n,fc.prototype,t,{allOwnKeys:!0}),He.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return ov(gc(e,i))},n}const Pr=ov(lh);Pr.Axios=fc;Pr.CanceledError=Cd;Pr.CancelToken=Eg;Pr.isCancel=Z3;Pr.VERSION=av;Pr.toFormData=dp;Pr.AxiosError=Gt;Pr.Cancel=Pr.CanceledError;Pr.all=function(t){return Promise.all(t)};Pr.spread=oA;Pr.isAxiosError=uA;Pr.mergeConfig=gc;Pr.AxiosHeaders=ps;Pr.formToJSON=e=>J3(He.isHTMLForm(e)?new FormData(e):e);Pr.getAdapter=sv.getAdapter;Pr.HttpStatusCode=Sm;Pr.default=Pr;var Nn;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(Nn||(Nn={}));function lA(e){return e.type===Nn.Tag||e.type===Nn.Script||e.type===Nn.Style}const cA=Nn.Root,dA=Nn.Text,fA=Nn.Directive,hA=Nn.Comment,pA=Nn.Script,mA=Nn.Style,gA=Nn.Tag,bA=Nn.CDATA,yA=Nn.Doctype;let uv=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return Kf(this,t)}};class _g extends uv{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class Gf extends _g{constructor(){super(...arguments),this.type=Nn.Text}get nodeType(){return 3}}class xg extends _g{constructor(){super(...arguments),this.type=Nn.Comment}get nodeType(){return 8}}class Tg extends _g{constructor(t,n){super(n),this.name=t,this.type=Nn.Directive}get nodeType(){return 1}}class Sg extends uv{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class lv extends Sg{constructor(){super(...arguments),this.type=Nn.CDATA}get nodeType(){return 4}}class bc extends Sg{constructor(){super(...arguments),this.type=Nn.Root}get nodeType(){return 9}}class Ag extends Sg{constructor(t,n,r=[],i=t==="script"?Nn.Script:t==="style"?Nn.Style:Nn.Tag){super(r),this.name=t,this.attribs=n,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,r;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[t]}})}}function Ht(e){return lA(e)}function pp(e){return e.type===Nn.CDATA}function _o(e){return e.type===Nn.Text}function mp(e){return e.type===Nn.Comment}function Am(e){return e.type===Nn.Directive}function _l(e){return e.type===Nn.Root}function Sr(e){return Object.prototype.hasOwnProperty.call(e,"children")}function Kf(e,t=!1){let n;if(_o(e))n=new Gf(e.data);else if(mp(e))n=new xg(e.data);else if(Ht(e)){const r=t?D1(e.children):[],i=new Ag(e.name,{...e.attribs},r);r.forEach(s=>s.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=i}else if(pp(e)){const r=t?D1(e.children):[],i=new lv(r);r.forEach(s=>s.parent=i),n=i}else if(_l(e)){const r=t?D1(e.children):[],i=new bc(r);r.forEach(s=>s.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),n=i}else if(Am(e)){const r=new Tg(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function D1(e){const t=e.map(n=>Kf(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const gb={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class vA{constructor(t,n,r){this.dom=[],this.root=new bc(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=gb),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??gb,this.elementCB=r??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new bc(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const r=this.options.xmlMode?Nn.Tag:void 0,i=new Ag(t,n,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(t){const{lastNode:n}=this;if(n&&n.type===Nn.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new Gf(t);this.addNode(r),this.lastNode=r}}oncomment(t){if(this.lastNode&&this.lastNode.type===Nn.Comment){this.lastNode.data+=t;return}const n=new xg(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new Gf(""),n=new lv([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const r=new Tg(t,n);this.addNode(r)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),r&&(t.prev=r,r.next=t),t.parent=n,this.lastNode=null}}const Ng=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),cv=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var M1;const wA=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Nm=(M1=String.fromCodePoint)!==null&&M1!==void 0?M1:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function EA(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=wA.get(e))!==null&&t!==void 0?t:e}var ei;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(ei||(ei={}));const _A=32;var ml;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ml||(ml={}));function Cm(e){return e>=ei.ZERO&&e<=ei.NINE}function xA(e){return e>=ei.UPPER_A&&e<=ei.UPPER_F||e>=ei.LOWER_A&&e<=ei.LOWER_F}function TA(e){return e>=ei.UPPER_A&&e<=ei.UPPER_Z||e>=ei.LOWER_A&&e<=ei.LOWER_Z||Cm(e)}function SA(e){return e===ei.EQUALS||TA(e)}var Qr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Qr||(Qr={}));var ra;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(ra||(ra={}));class Cg{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Qr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ra.Strict}startEntity(t){this.decodeMode=t,this.state=Qr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Qr.EntityStart:return t.charCodeAt(n)===ei.NUM?(this.state=Qr.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Qr.NamedEntity,this.stateNamedEntity(t,n));case Qr.NumericStart:return this.stateNumericStart(t,n);case Qr.NumericDecimal:return this.stateNumericDecimal(t,n);case Qr.NumericHex:return this.stateNumericHex(t,n);case Qr.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|_A)===ei.LOWER_X?(this.state=Qr.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Qr.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Cm(i)||xA(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Cm(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===ei.SEMI)this.consumed+=1;else if(this.decodeMode===ra.Strict)return 0;return this.emitCodePoint(EA(this.result),this.consumed),this.errors&&(t!==ei.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&ml.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const u=t.charCodeAt(n);if(this.treeIndex=AA(r,i,this.treeIndex+Math.max(1,s),u),this.treeIndex<0)return this.result===0||this.decodeMode===ra.Attribute&&(s===0||SA(u))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&ml.VALUE_LENGTH)>>14,s!==0){if(u===ei.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==ra.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&ml.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~ml.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Qr.NamedEntity:return this.result!==0&&(this.decodeMode!==ra.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Qr.NumericDecimal:return this.emitNumericEntity(0,2);case Qr.NumericHex:return this.emitNumericEntity(0,3);case Qr.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Qr.EntityStart:return 0}}}function dv(e){let t="";const n=new Cg(e,r=>t+=Nm(r));return function(i,s){let u=0,l=0;for(;(l=i.indexOf("&",l))>=0;){t+=i.slice(u,l),n.startEntity(s);const h=n.write(i,l+1);if(h<0){u=l+n.end();break}u=l+h,l=h===0?u+1:u}const c=t+i.slice(u);return t="",c}}function AA(e,t,n,r){const i=(t&ml.BRANCH_LENGTH)>>7,s=t&ml.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const c=r-s;return c<0||c>=i?-1:e[n+c]-1}let u=n,l=u+i-1;for(;u<=l;){const c=u+l>>>1,h=e[c];if(h<r)u=c+1;else if(h>r)l=c-1;else return e[c+i]}return-1}dv(Ng);dv(cv);const bb=/["&'<>$\x80-\uFFFF]/g,NA=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),CA=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function fv(e){let t="",n=0,r;for(;(r=bb.exec(e))!==null;){const i=r.index,s=e.charCodeAt(i),u=NA.get(s);u!==void 0?(t+=e.substring(n,i)+u,n=i+1):(t+=`${e.substring(n,i)}&#x${CA(e,i).toString(16)};`,n=bb.lastIndex+=+((s&64512)===55296))}return t+e.substr(n)}function hv(e,t){return function(r){let i,s=0,u="";for(;i=e.exec(r);)s!==i.index&&(u+=r.substring(s,i.index)),u+=t.get(i[0].charCodeAt(0)),s=i.index+1;return u+r.substring(s)}}const pv=hv(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),mv=hv(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),LA=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),kA=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),IA=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function PA(e){return e.replace(/"/g,"&quot;")}function OA(e,t){var n;if(!e)return;const r=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?PA:t.xmlMode||t.encodeEntities!=="utf8"?fv:pv;return Object.keys(e).map(i=>{var s,u;const l=(s=e[i])!==null&&s!==void 0?s:"";return t.xmlMode==="foreign"&&(i=(u=kA.get(i))!==null&&u!==void 0?u:i),!t.emptyAttrs&&!t.xmlMode&&l===""?i:`${i}="${r(l)}"`}).join(" ")}const yb=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function gp(e,t={}){const n="length"in e?e:[e];let r="";for(let i=0;i<n.length;i++)r+=RA(n[i],t);return r}function RA(e,t){switch(e.type){case cA:return gp(e.children,t);case yA:case fA:return jA(e);case hA:return HA(e);case bA:return UA(e);case pA:case mA:case gA:return FA(e,t);case dA:return BA(e,t)}}const DA=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),MA=new Set(["svg","math"]);function FA(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=LA.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&DA.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&MA.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const i=OA(e.attribs,t);return i&&(r+=` ${i}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&yb.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=gp(e.children,t)),(t.xmlMode||!yb.has(e.name))&&(r+=`</${e.name}>`)),r}function jA(e){return`<${e.data}>`}function BA(e,t){var n;let r=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&IA.has(e.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?fv(r):mv(r)),r}function UA(e){return`<![CDATA[${e.children[0].data}]]>`}function HA(e){return`<!--${e.data}-->`}function gv(e,t){return gp(e,t)}function qA(e,t){return Sr(e)?e.children.map(n=>gv(n,t)).join(""):""}function x0(e){return Array.isArray(e)?e.map(x0).join(""):Ht(e)?e.name==="br"?`
`:x0(e.children):pp(e)?x0(e.children):_o(e)?e.data:""}function vd(e){return Array.isArray(e)?e.map(vd).join(""):Sr(e)&&!mp(e)?vd(e.children):_o(e)?e.data:""}function F0(e){return Array.isArray(e)?e.map(F0).join(""):Sr(e)&&(e.type===Nn.Tag||pp(e))?F0(e.children):_o(e)?e.data:""}function bp(e){return Sr(e)?e.children:[]}function bv(e){return e.parent||null}function yv(e){const t=bv(e);if(t!=null)return bp(t);const n=[e];let{prev:r,next:i}=e;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;i!=null;)n.push(i),{next:i}=i;return n}function zA(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function $A(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function VA(e){return e.name}function Lg(e){let{next:t}=e;for(;t!==null&&!Ht(t);)({next:t}=t);return t}function kg(e){let{prev:t}=e;for(;t!==null&&!Ht(t);)({prev:t}=t);return t}function Ec(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function WA(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const i=t.parent=e.parent;if(i){const s=i.children;s[s.lastIndexOf(e)]=t,e.parent=null}}function YA(e,t){if(Ec(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function GA(e,t){Ec(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function KA(e,t){if(Ec(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function QA(e,t){Ec(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function ch(e,t,n=!0,r=1/0){return Ig(e,Array.isArray(t)?t:[t],n,r)}function Ig(e,t,n,r){const i=[],s=[Array.isArray(t)?t:[t]],u=[0];for(;;){if(u[0]>=s[0].length){if(u.length===1)return i;s.shift(),u.shift();continue}const l=s[0][u[0]++];if(e(l)&&(i.push(l),--r<=0))return i;n&&Sr(l)&&l.children.length>0&&(u.unshift(0),s.unshift(l.children))}}function XA(e,t){return t.find(e)}function Pg(e,t,n=!0){const r=Array.isArray(t)?t:[t];for(let i=0;i<r.length;i++){const s=r[i];if(Ht(s)&&e(s))return s;if(n&&Sr(s)&&s.children.length>0){const u=Pg(e,s.children,!0);if(u)return u}}return null}function vv(e,t){return(Array.isArray(t)?t:[t]).some(n=>Ht(n)&&e(n)||Sr(n)&&vv(e,n.children))}function JA(e,t){const n=[],r=[Array.isArray(t)?t:[t]],i=[0];for(;;){if(i[0]>=r[0].length){if(r.length===1)return n;r.shift(),i.shift();continue}const s=r[0][i[0]++];Ht(s)&&e(s)&&n.push(s),Sr(s)&&s.children.length>0&&(i.unshift(0),r.unshift(s.children))}}const j0={tag_name(e){return typeof e=="function"?t=>Ht(t)&&e(t.name):e==="*"?Ht:t=>Ht(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>_o(t)&&e(t.data):t=>_o(t)&&t.data===e}};function Og(e,t){return typeof t=="function"?n=>Ht(n)&&t(n.attribs[e]):n=>Ht(n)&&n.attribs[e]===t}function ZA(e,t){return n=>e(n)||t(n)}function wv(e){const t=Object.keys(e).map(n=>{const r=e[n];return Object.prototype.hasOwnProperty.call(j0,n)?j0[n](r):Og(n,r)});return t.length===0?null:t.reduce(ZA)}function eN(e,t){const n=wv(e);return n?n(t):!0}function tN(e,t,n,r=1/0){const i=wv(e);return i?ch(i,t,n,r):[]}function nN(e,t,n=!0){return Array.isArray(t)||(t=[t]),Pg(Og("id",e),t,n)}function Ld(e,t,n=!0,r=1/0){return ch(j0.tag_name(e),t,n,r)}function rN(e,t,n=!0,r=1/0){return ch(Og("class",e),t,n,r)}function iN(e,t,n=!0,r=1/0){return ch(j0.tag_type(e),t,n,r)}function sN(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0){e.splice(t,1);continue}for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var ta;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(ta||(ta={}));function Ev(e,t){const n=[],r=[];if(e===t)return 0;let i=Sr(e)?e:e.parent;for(;i;)n.unshift(i),i=i.parent;for(i=Sr(t)?t:t.parent;i;)r.unshift(i),i=i.parent;const s=Math.min(n.length,r.length);let u=0;for(;u<s&&n[u]===r[u];)u++;if(u===0)return ta.DISCONNECTED;const l=n[u-1],c=l.children,h=n[u],p=r[u];return c.indexOf(h)>c.indexOf(p)?l===t?ta.FOLLOWING|ta.CONTAINED_BY:ta.FOLLOWING:l===e?ta.PRECEDING|ta.CONTAINS:ta.PRECEDING}function kd(e){return e=e.filter((t,n,r)=>!r.includes(t,n+1)),e.sort((t,n)=>{const r=Ev(t,n);return r&ta.PRECEDING?-1:r&ta.FOLLOWING?1:0}),e}function aN(e){const t=B0(dN,e);return t?t.name==="feed"?oN(t):uN(t):null}function oN(e){var t;const n=e.children,r={type:"atom",items:Ld("entry",n).map(u=>{var l;const{children:c}=u,h={media:_v(c)};fs(h,"id","id",c),fs(h,"title","title",c);const p=(l=B0("link",c))===null||l===void 0?void 0:l.attribs.href;p&&(h.link=p);const b=gl("summary",c)||gl("content",c);b&&(h.description=b);const E=gl("updated",c);return E&&(h.pubDate=new Date(E)),h})};fs(r,"id","id",n),fs(r,"title","title",n);const i=(t=B0("link",n))===null||t===void 0?void 0:t.attribs.href;i&&(r.link=i),fs(r,"description","subtitle",n);const s=gl("updated",n);return s&&(r.updated=new Date(s)),fs(r,"author","email",n,!0),r}function uN(e){var t,n;const r=(n=(t=B0("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],i={type:e.name.substr(0,3),id:"",items:Ld("item",e.children).map(u=>{const{children:l}=u,c={media:_v(l)};fs(c,"id","guid",l),fs(c,"title","title",l),fs(c,"link","link",l),fs(c,"description","description",l);const h=gl("pubDate",l)||gl("dc:date",l);return h&&(c.pubDate=new Date(h)),c})};fs(i,"title","title",r),fs(i,"link","link",r),fs(i,"description","description",r);const s=gl("lastBuildDate",r);return s&&(i.updated=new Date(s)),fs(i,"author","managingEditor",r,!0),i}const lN=["url","type","lang"],cN=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function _v(e){return Ld("media:content",e).map(t=>{const{attribs:n}=t,r={medium:n.medium,isDefault:!!n.isDefault};for(const i of lN)n[i]&&(r[i]=n[i]);for(const i of cN)n[i]&&(r[i]=parseInt(n[i],10));return n.expression&&(r.expression=n.expression),r})}function B0(e,t){return Ld(e,t,!0,1)[0]}function gl(e,t,n=!1){return vd(Ld(e,t,n,1)).trim()}function fs(e,t,n,r,i=!1){const s=gl(n,r,i);s&&(e[t]=s)}function dN(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}const yp=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return ta},append:GA,appendChild:YA,compareDocumentPosition:Ev,existsOne:vv,filter:ch,find:Ig,findAll:JA,findOne:Pg,findOneChild:XA,getAttributeValue:zA,getChildren:bp,getElementById:nN,getElements:tN,getElementsByClassName:rN,getElementsByTagName:Ld,getElementsByTagType:iN,getFeed:aN,getInnerHTML:qA,getName:VA,getOuterHTML:gv,getParent:bv,getSiblings:yv,getText:x0,hasAttrib:$A,hasChildren:Sr,innerText:F0,isCDATA:pp,isComment:mp,isDocument:_l,isTag:Ht,isText:_o,nextElementSibling:Lg,prepend:QA,prependChild:KA,prevElementSibling:kg,removeElement:Ec,removeSubsets:sN,replaceElement:WA,testElement:eN,textContent:vd,uniqueSort:kd},Symbol.toStringTag,{value:"Module"})),fN={_useHtmlParser2:!1};function Lm(e,t){if(!e)return t??fN;const n={_useHtmlParser2:!!e.xmlMode,...t,...e};return e.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,e.xml!==!0&&Object.assign(n,e.xml)):e.xmlMode&&(n._useHtmlParser2=!0),n}function xv(e,t,n){return e?e(t??e._root.children,null,void 0,n).toString():""}function hN(e,t){return typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function pN(e,t){const n=hN(e)?(t=e,void 0):e,r={...this===null||this===void 0?void 0:this._options,...Lm(t)};return xv(this,n,r)}function mN(e){const t={...this._options,xmlMode:!0};return xv(this,e,t)}function Qf(e){const t=e??(this?this.root():[]);let n="";for(let r=0;r<t.length;r++)n+=vd(t[r]);return n}function gN(e,t,n=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t);const r=this.load(e,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function bN(){return this(this._root)}function Tv(e,t){if(t===e)return!1;let n=t;for(;n&&n!==n.parent;)if(n=n.parent,n===e)return!0;return!1}function yN(e){return this.root().extract(e)}function vN(e,t){if(!vb(e)||!vb(t))return;let n=e.length;const r=+t.length;for(let i=0;i<r;i++)e[n++]=t[i];return e.length=n,e}function vb(e){if(Array.isArray(e))return!0;if(typeof e!="object"||e===null||!("length"in e)||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}const wN=Object.freeze(Object.defineProperty({__proto__:null,contains:Tv,extract:yN,html:pN,merge:vN,parseHTML:gN,root:bN,text:Qf,xml:mN},Symbol.toStringTag,{value:"Module"}));function fu(e){return e.cheerio!=null}function EN(e){return e.replace(/[._-](\w|$)/g,(t,n)=>n.toUpperCase())}function _N(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function lr(e,t){const n=e.length;for(let r=0;r<n;r++)t(e[r],r);return e}var oc;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(oc||(oc={}));function km(e){const t=e.indexOf("<");if(t<0||t>e.length-3)return!1;const n=e.charCodeAt(t+1);return(n>=oc.LowerA&&n<=oc.LowerZ||n>=oc.UpperA&&n<=oc.UpperZ||n===oc.Exclamation)&&e.includes(">",t+2)}const Xf=Object.prototype.hasOwnProperty,Jf=/\s+/,Im="data-",Rg=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,xN=/^{[^]*}$|^\[[^]*]$/;function U0(e,t,n){var r;if(!(!e||!Ht(e))){if((r=e.attribs)!==null&&r!==void 0||(e.attribs={}),!t)return e.attribs;if(Xf.call(e.attribs,t))return!n&&Rg.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return Qf(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function fd(e,t,n){n===null?Av(e,t):e.attribs[t]=`${n}`}function TN(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return lr(this,(n,r)=>{Ht(n)&&fd(n,e,t.call(n,r,n.attribs[e]))})}return lr(this,n=>{if(Ht(n))if(typeof e=="object")for(const r of Object.keys(e)){const i=e[r];fd(n,r,i)}else fd(n,e,t)})}return arguments.length>1?this:U0(this[0],e,this.options.xmlMode)}function wb(e,t,n){return t in e?e[t]:!n&&Rg.test(t)?U0(e,t,!1)!==void 0:U0(e,t,n)}function F1(e,t,n,r){t in e?e[t]=n:fd(e,t,!r&&Rg.test(t)?n?"":null:`${n}`)}function SN(e,t){var n;if(typeof e=="string"&&t===void 0){const r=this[0];if(!r||!Ht(r))return;switch(e){case"style":{const i=this.css(),s=Object.keys(i);for(let u=0;u<s.length;u++)i[u]=s[u];return i.length=s.length,i}case"tagName":case"nodeName":return r.name.toUpperCase();case"href":case"src":{const i=(n=r.attribs)===null||n===void 0?void 0:n[e];return typeof URL<"u"&&(e==="href"&&(r.tagName==="a"||r.tagName==="link")||e==="src"&&(r.tagName==="img"||r.tagName==="iframe"||r.tagName==="audio"||r.tagName==="video"||r.tagName==="source"))&&i!==void 0&&this.options.baseURI?new URL(i,this.options.baseURI).href:i}case"innerText":return F0(r);case"textContent":return vd(r);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return wb(r,e,this.options.xmlMode)}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new TypeError("Bad combination of arguments.");return lr(this,(r,i)=>{Ht(r)&&F1(r,e,t.call(r,i,wb(r,e,this.options.xmlMode)),this.options.xmlMode)})}return lr(this,r=>{if(Ht(r))if(typeof e=="object")for(const i of Object.keys(e)){const s=e[i];F1(r,i,s,this.options.xmlMode)}else F1(r,e,t,this.options.xmlMode)})}}function Eb(e,t,n){var r;(r=e.data)!==null&&r!==void 0||(e.data={}),typeof t=="object"?Object.assign(e.data,t):typeof t=="string"&&n!==void 0&&(e.data[t]=n)}function AN(e){for(const t of Object.keys(e.attribs)){if(!t.startsWith(Im))continue;const n=EN(t.slice(Im.length));Xf.call(e.data,n)||(e.data[n]=Sv(e.attribs[t]))}return e.data}function NN(e,t){const n=Im+_N(t),r=e.data;if(Xf.call(r,t))return r[t];if(Xf.call(e.attribs,n))return r[t]=Sv(e.attribs[n])}function Sv(e){if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;const t=Number(e);if(e===String(t))return t;if(xN.test(e))try{return JSON.parse(e)}catch{}return e}function CN(e,t){var n;const r=this[0];if(!r||!Ht(r))return;const i=r;return(n=i.data)!==null&&n!==void 0||(i.data={}),e==null?AN(i):typeof e=="object"||t!==void 0?(lr(this,s=>{Ht(s)&&(typeof e=="object"?Eb(s,e):Eb(s,e,t))}),this):NN(i,e)}function LN(e){const t=arguments.length===0,n=this[0];if(!n||!Ht(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":{const r=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");const i=typeof e=="object"?e:[e];for(const s of i)this.find(`option[value="${s}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(i=>Qf(i.children)):r.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function Av(e,t){!e.attribs||!Xf.call(e.attribs,t)||delete e.attribs[t]}function H0(e){return e?e.trim().split(Jf):[]}function kN(e){const t=H0(e);for(const n of t)lr(this,r=>{Ht(r)&&Av(r,n)});return this}function IN(e){return this.toArray().some(t=>{const n=Ht(t)&&t.attribs.class;let r=-1;if(n&&e.length>0)for(;(r=n.indexOf(e,r+1))>-1;){const i=r+e.length;if((r===0||Jf.test(n[r-1]))&&(i===n.length||Jf.test(n[i])))return!0}return!1})}function Nv(e){if(typeof e=="function")return lr(this,(r,i)=>{if(Ht(r)){const s=r.attribs.class||"";Nv.call([r],e.call(r,i,s))}});if(!e||typeof e!="string")return this;const t=e.split(Jf),n=this.length;for(let r=0;r<n;r++){const i=this[r];if(!Ht(i))continue;const s=U0(i,"class",!1);if(s){let u=` ${s} `;for(const l of t){const c=`${l} `;u.includes(` ${c}`)||(u+=c)}fd(i,"class",u.trim())}else fd(i,"class",t.join(" ").trim())}return this}function Cv(e){if(typeof e=="function")return lr(this,(i,s)=>{Ht(i)&&Cv.call([i],e.call(i,s,i.attribs.class||""))});const t=H0(e),n=t.length,r=arguments.length===0;return lr(this,i=>{if(Ht(i))if(r)i.attribs.class="";else{const s=H0(i.attribs.class);let u=!1;for(let l=0;l<n;l++){const c=s.indexOf(t[l]);c>=0&&(s.splice(c,1),u=!0,l--)}u&&(i.attribs.class=s.join(" "))}})}function Lv(e,t){if(typeof e=="function")return lr(this,(u,l)=>{Ht(u)&&Lv.call([u],e.call(u,l,u.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;const n=e.split(Jf),r=n.length,i=typeof t=="boolean"?t?1:-1:0,s=this.length;for(let u=0;u<s;u++){const l=this[u];if(!Ht(l))continue;const c=H0(l.attribs.class);for(let h=0;h<r;h++){const p=c.indexOf(n[h]);i>=0&&p<0?c.push(n[h]):i<=0&&p>=0&&c.splice(p,1)}l.attribs.class=c.join(" ")}return this}const PN=Object.freeze(Object.defineProperty({__proto__:null,addClass:Nv,attr:TN,data:CN,hasClass:IN,prop:SN,removeAttr:kN,removeClass:Cv,toggleClass:Lv,val:LN},Symbol.toStringTag,{value:"Module"}));var Rt;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(Rt||(Rt={}));var Ur;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(Ur||(Ur={}));const _b=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,ON=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,RN=new Map([[126,Ur.Element],[94,Ur.Start],[36,Ur.End],[42,Ur.Any],[33,Ur.Not],[124,Ur.Hyphen]]),DN=new Set(["has","not","matches","is","where","host","host-context"]);function If(e){switch(e.type){case Rt.Adjacent:case Rt.Child:case Rt.Descendant:case Rt.Parent:case Rt.Sibling:case Rt.ColumnCombinator:return!0;default:return!1}}const MN=new Set(["contains","icontains"]);function FN(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function mf(e){return e.replace(ON,FN)}function j1(e){return e===39||e===34}function xb(e){return e===32||e===9||e===10||e===12||e===13}function vp(e){const t=[],n=kv(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function kv(e,t,n){let r=[];function i(E){const y=t.slice(n+E).match(_b);if(!y)throw new Error(`Expected name, found ${t.slice(n)}`);const[S]=y;return n+=E+S.length,mf(S)}function s(E){for(n+=E;n<t.length&&xb(t.charCodeAt(n));)n++}function u(){n+=1;const E=n;let y=1;for(;y>0&&n<t.length;n++)t.charCodeAt(n)===40&&!l(n)?y++:t.charCodeAt(n)===41&&!l(n)&&y--;if(y)throw new Error("Parenthesis not matched");return mf(t.slice(E,n-1))}function l(E){let y=0;for(;t.charCodeAt(--E)===92;)y++;return(y&1)===1}function c(){if(r.length>0&&If(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function h(E){if(r.length>0&&r[r.length-1].type===Rt.Descendant){r[r.length-1].type=E;return}c(),r.push({type:E})}function p(E,y){r.push({type:Rt.Attribute,name:E,action:y,value:i(1),namespace:null,ignoreCase:"quirks"})}function b(){if(r.length&&r[r.length-1].type===Rt.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");e.push(r)}if(s(0),t.length===n)return n;e:for(;n<t.length;){const E=t.charCodeAt(n);switch(E){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==Rt.Descendant)&&(c(),r.push({type:Rt.Descendant})),s(1);break}case 62:{h(Rt.Child),s(1);break}case 60:{h(Rt.Parent),s(1);break}case 126:{h(Rt.Sibling),s(1);break}case 43:{h(Rt.Adjacent),s(1);break}case 46:{p("class",Ur.Element);break}case 35:{p("id",Ur.Equals);break}case 91:{s(1);let y,S=null;t.charCodeAt(n)===124?y=i(1):t.startsWith("*|",n)?(S="*",y=i(2)):(y=i(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(S=y,y=i(1))),s(0);let A=Ur.Exists;const k=RN.get(t.charCodeAt(n));if(k){if(A=k,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");s(2)}else t.charCodeAt(n)===61&&(A=Ur.Equals,s(1));let C="",P=null;if(A!=="exists"){if(j1(t.charCodeAt(n))){const Y=t.charCodeAt(n);let he=n+1;for(;he<t.length&&(t.charCodeAt(he)!==Y||l(he));)he+=1;if(t.charCodeAt(he)!==Y)throw new Error("Attribute value didn't end");C=mf(t.slice(n+1,he)),n=he+1}else{const Y=n;for(;n<t.length&&(!xb(t.charCodeAt(n))&&t.charCodeAt(n)!==93||l(n));)n+=1;C=mf(t.slice(Y,n))}s(0);const H=t.charCodeAt(n)|32;H===115?(P=!1,s(1)):H===105&&(P=!0,s(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const $={type:Rt.Attribute,name:y,action:A,value:C,namespace:S,ignoreCase:P};r.push($);break}case 58:{if(t.charCodeAt(n+1)===58){r.push({type:Rt.PseudoElement,name:i(2).toLowerCase(),data:t.charCodeAt(n)===40?u():null});continue}const y=i(1).toLowerCase();let S=null;if(t.charCodeAt(n)===40)if(DN.has(y)){if(j1(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${y} cannot be quoted`);if(S=[],n=kv(S,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${y} (${t})`);n+=1}else{if(S=u(),MN.has(y)){const A=S.charCodeAt(0);A===S.charCodeAt(S.length-1)&&j1(A)&&(S=S.slice(1,-1))}S=mf(S)}r.push({type:Rt.Pseudo,name:y,data:S});break}case 44:{b(),r=[],s(1);break}default:{if(t.startsWith("/*",n)){const A=t.indexOf("*/",n+2);if(A<0)throw new Error("Comment was not terminated");n=A+2,r.length===0&&s(0);break}let y=null,S;if(E===42)n+=1,S="*";else if(E===124){if(S="",t.charCodeAt(n+1)===124){h(Rt.ColumnCombinator),s(2);break}}else if(_b.test(t.slice(n)))S=i(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(y=S,t.charCodeAt(n+1)===42?(S="*",n+=2):S=i(1)),r.push(S==="*"?{type:Rt.Universal,namespace:y}:{type:Rt.Tag,name:S,namespace:y})}}}return b(),n}var B1,Tb;function jN(){return Tb||(Tb=1,B1={trueFunc:function(){return!0},falseFunc:function(){return!1}}),B1}var q0=jN();const en=rg(q0),Iv=new Map([[Rt.Universal,50],[Rt.Tag,30],[Rt.Attribute,1],[Rt.Pseudo,0]]);function Dg(e){return!Iv.has(e.type)}const BN=new Map([[Ur.Exists,10],[Ur.Equals,8],[Ur.Not,7],[Ur.Start,6],[Ur.End,6],[Ur.Any,5]]);function UN(e){const t=e.map(Pv);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let i=n-1;i>=0&&r<t[i];i--){const s=e[i+1];e[i+1]=e[i],e[i]=s,t[i+1]=t[i],t[i]=r}}}function Pv(e){var t,n;let r=(t=Iv.get(e.type))!==null&&t!==void 0?t:-1;return e.type===Rt.Attribute?(r=(n=BN.get(e.action))!==null&&n!==void 0?n:4,e.action===Ur.Equals&&e.name==="id"&&(r=9),e.ignoreCase&&(r>>=1)):e.type===Rt.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map(i=>Math.min(...i.map(Pv)))),r<0&&(r=0)):r=2:r=3),r}const HN=/[-[\]{}()*+?.,\\^$|#\s]/g;function Sb(e){return e.replace(HN,"\\$&")}const qN=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function rc(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&qN.has(e.name)}const zN={equals(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;return rc(t,n)?(s=s.toLowerCase(),u=>{const l=r.getAttributeValue(u,i);return l!=null&&l.length===s.length&&l.toLowerCase()===s&&e(u)}):u=>r.getAttributeValue(u,i)===s&&e(u)},hyphen(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const u=s.length;return rc(t,n)?(s=s.toLowerCase(),function(c){const h=r.getAttributeValue(c,i);return h!=null&&(h.length===u||h.charAt(u)==="-")&&h.substr(0,u).toLowerCase()===s&&e(c)}):function(c){const h=r.getAttributeValue(c,i);return h!=null&&(h.length===u||h.charAt(u)==="-")&&h.substr(0,u)===s&&e(c)}},element(e,t,n){const{adapter:r}=n,{name:i,value:s}=t;if(/\s/.test(s))return en.falseFunc;const u=new RegExp(`(?:^|\\s)${Sb(s)}(?:$|\\s)`,rc(t,n)?"i":"");return function(c){const h=r.getAttributeValue(c,i);return h!=null&&h.length>=s.length&&u.test(h)&&e(c)}},exists(e,{name:t},{adapter:n}){return r=>n.hasAttrib(r,t)&&e(r)},start(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const u=s.length;return u===0?en.falseFunc:rc(t,n)?(s=s.toLowerCase(),l=>{const c=r.getAttributeValue(l,i);return c!=null&&c.length>=u&&c.substr(0,u).toLowerCase()===s&&e(l)}):l=>{var c;return!!(!((c=r.getAttributeValue(l,i))===null||c===void 0)&&c.startsWith(s))&&e(l)}},end(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const u=-s.length;return u===0?en.falseFunc:rc(t,n)?(s=s.toLowerCase(),l=>{var c;return((c=r.getAttributeValue(l,i))===null||c===void 0?void 0:c.substr(u).toLowerCase())===s&&e(l)}):l=>{var c;return!!(!((c=r.getAttributeValue(l,i))===null||c===void 0)&&c.endsWith(s))&&e(l)}},any(e,t,n){const{adapter:r}=n,{name:i,value:s}=t;if(s==="")return en.falseFunc;if(rc(t,n)){const u=new RegExp(Sb(s),"i");return function(c){const h=r.getAttributeValue(c,i);return h!=null&&h.length>=s.length&&u.test(h)&&e(c)}}return u=>{var l;return!!(!((l=r.getAttributeValue(u,i))===null||l===void 0)&&l.includes(s))&&e(u)}},not(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;return s===""?u=>!!r.getAttributeValue(u,i)&&e(u):rc(t,n)?(s=s.toLowerCase(),u=>{const l=r.getAttributeValue(u,i);return(l==null||l.length!==s.length||l.toLowerCase()!==s)&&e(u)}):u=>r.getAttributeValue(u,i)!==s&&e(u)}},$N=new Set([9,10,12,13,32]),Ab=48,VN=57;function WN(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,r=s(),i=u();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=r*(i??1),l(),t<e.length?(r=s(),l(),i=u()):r=i=0),i===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*i];function s(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function u(){const c=t;let h=0;for(;t<e.length&&e.charCodeAt(t)>=Ab&&e.charCodeAt(t)<=VN;)h=h*10+(e.charCodeAt(t)-Ab),t++;return t===c?null:h}function l(){for(;t<e.length&&$N.has(e.charCodeAt(t));)t++}}function YN(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return en.falseFunc;if(t===-1)return s=>s<=n;if(t===0)return s=>s===n;if(t===1)return n<0?en.trueFunc:s=>s>=n;const r=Math.abs(t),i=(n%r+r)%r;return t>1?s=>s>=n&&s%r===i:s=>s<=n&&s%r===i}function u0(e){return YN(WN(e))}function l0(e,t){return n=>{const r=t.getParent(n);return r!=null&&t.isTag(r)&&e(n)}}const Pm={contains(e,t,{adapter:n}){return function(i){return e(i)&&n.getText(i).includes(t)}},icontains(e,t,{adapter:n}){const r=t.toLowerCase();return function(s){return e(s)&&n.getText(s).toLowerCase().includes(r)}},"nth-child"(e,t,{adapter:n,equals:r}){const i=u0(t);return i===en.falseFunc?en.falseFunc:i===en.trueFunc?l0(e,n):function(u){const l=n.getSiblings(u);let c=0;for(let h=0;h<l.length&&!r(u,l[h]);h++)n.isTag(l[h])&&c++;return i(c)&&e(u)}},"nth-last-child"(e,t,{adapter:n,equals:r}){const i=u0(t);return i===en.falseFunc?en.falseFunc:i===en.trueFunc?l0(e,n):function(u){const l=n.getSiblings(u);let c=0;for(let h=l.length-1;h>=0&&!r(u,l[h]);h--)n.isTag(l[h])&&c++;return i(c)&&e(u)}},"nth-of-type"(e,t,{adapter:n,equals:r}){const i=u0(t);return i===en.falseFunc?en.falseFunc:i===en.trueFunc?l0(e,n):function(u){const l=n.getSiblings(u);let c=0;for(let h=0;h<l.length;h++){const p=l[h];if(r(u,p))break;n.isTag(p)&&n.getName(p)===n.getName(u)&&c++}return i(c)&&e(u)}},"nth-last-of-type"(e,t,{adapter:n,equals:r}){const i=u0(t);return i===en.falseFunc?en.falseFunc:i===en.trueFunc?l0(e,n):function(u){const l=n.getSiblings(u);let c=0;for(let h=l.length-1;h>=0;h--){const p=l[h];if(r(u,p))break;n.isTag(p)&&n.getName(p)===n.getName(u)&&c++}return i(c)&&e(u)}},root(e,t,{adapter:n}){return r=>{const i=n.getParent(r);return(i==null||!n.isTag(i))&&e(r)}},scope(e,t,n,r){const{equals:i}=n;return!r||r.length===0?Pm.root(e,t,n):r.length===1?s=>i(r[0],s)&&e(s):s=>r.includes(s)&&e(s)},hover:U1("isHovered"),visited:U1("isVisited"),active:U1("isActive")};function U1(e){return function(n,r,{adapter:i}){const s=i[e];return typeof s!="function"?en.falseFunc:function(l){return s(l)&&n(l)}}}const Nb={empty(e,{adapter:t}){return!t.getChildren(e).some(n=>t.isTag(n)||t.getText(n)!=="")},"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const r=t.getSiblings(e).find(i=>t.isTag(i));return r!=null&&n(e,r)},"last-child"(e,{adapter:t,equals:n}){const r=t.getSiblings(e);for(let i=r.length-1;i>=0;i--){if(n(e,r[i]))return!0;if(t.isTag(r[i]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),i=t.getName(e);for(let s=0;s<r.length;s++){const u=r[s];if(n(e,u))return!0;if(t.isTag(u)&&t.getName(u)===i)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),i=t.getName(e);for(let s=r.length-1;s>=0;s--){const u=r[s];if(n(e,u))return!0;if(t.isTag(u)&&t.getName(u)===i)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const r=t.getName(e);return t.getSiblings(e).every(i=>n(e,i)||!t.isTag(i)||t.getName(i)!==r)},"only-child"(e,{adapter:t,equals:n}){return t.getSiblings(e).every(r=>n(e,r)||!t.isTag(r))}};function Cb(e,t,n,r){if(n===null){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const GN={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},Ov={};function KN(e,t){return e===en.falseFunc?en.falseFunc:n=>t.isTag(n)&&e(n)}function Rv(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function Om(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const H1=(e,t,n,r,i)=>{const s=i(t,Om(n),r);return s===en.trueFunc?e:s===en.falseFunc?en.falseFunc:u=>s(u)&&e(u)},q1={is:H1,matches:H1,where:H1,not(e,t,n,r,i){const s=i(t,Om(n),r);return s===en.falseFunc?e:s===en.trueFunc?en.falseFunc:u=>!s(u)&&e(u)},has(e,t,n,r,i){const{adapter:s}=n,u=Om(n);u.relativeSelector=!0;const l=t.some(p=>p.some(Dg))?[Ov]:void 0,c=i(t,u,l);if(c===en.falseFunc)return en.falseFunc;const h=KN(c,s);if(l&&c!==en.trueFunc){const{shouldTestNextSiblings:p=!1}=c;return b=>{if(!e(b))return!1;l[0]=b;const E=s.getChildren(b),y=p?[...E,...Rv(b,s)]:E;return s.existsOne(h,y)}}return p=>e(p)&&s.existsOne(h,s.getChildren(p))}};function QN(e,t,n,r,i){var s;const{name:u,data:l}=t;if(Array.isArray(l)){if(!(u in q1))throw new Error(`Unknown pseudo-class :${u}(${l})`);return q1[u](e,l,n,r,i)}const c=(s=n.pseudos)===null||s===void 0?void 0:s[u],h=typeof c=="string"?c:GN[u];if(typeof h=="string"){if(l!=null)throw new Error(`Pseudo ${u} doesn't have any arguments`);const p=vp(h);return q1.is(e,p,n,r,i)}if(typeof c=="function")return Cb(c,u,l,1),p=>c(p,l)&&e(p);if(u in Pm)return Pm[u](e,l,n,r);if(u in Nb){const p=Nb[u];return Cb(p,u,l,2),b=>p(b,n,l)&&e(b)}throw new Error(`Unknown pseudo-class :${u}`)}function z1(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function XN(e,t,n,r,i){const{adapter:s,equals:u}=n;switch(t.type){case Rt.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Rt.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Rt.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),zN[t.action](e,t,n)}case Rt.Pseudo:return QN(e,t,n,r,i);case Rt.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:l}=t;return(!n.xmlMode||n.lowerCaseTags)&&(l=l.toLowerCase()),function(h){return s.getName(h)===l&&e(h)}}case Rt.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(h){let p=h;for(;p=z1(p,s);)if(e(p))return!0;return!1};const l=new WeakSet;return function(h){let p=h;for(;p=z1(p,s);)if(!l.has(p)){if(s.isTag(p)&&e(p))return!0;l.add(p)}return!1}}case"_flexibleDescendant":return function(c){let h=c;do if(e(h))return!0;while(h=z1(h,s));return!1};case Rt.Parent:return function(c){return s.getChildren(c).some(h=>s.isTag(h)&&e(h))};case Rt.Child:return function(c){const h=s.getParent(c);return h!=null&&s.isTag(h)&&e(h)};case Rt.Sibling:return function(c){const h=s.getSiblings(c);for(let p=0;p<h.length;p++){const b=h[p];if(u(c,b))break;if(s.isTag(b)&&e(b))return!0}return!1};case Rt.Adjacent:return s.prevElementSibling?function(c){const h=s.prevElementSibling(c);return h!=null&&e(h)}:function(c){const h=s.getSiblings(c);let p;for(let b=0;b<h.length;b++){const E=h[b];if(u(c,E))break;s.isTag(E)&&(p=E)}return!!p&&e(p)};case Rt.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function Dv(e){return e.type===Rt.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(Dv)))}const JN={type:Rt.Descendant},ZN={type:"_flexibleDescendant"},eC={type:Rt.Pseudo,name:"scope",data:null};function tC(e,{adapter:t},n){const r=!!n?.every(i=>{const s=t.isTag(i)&&t.getParent(i);return i===Ov||s&&t.isTag(s)});for(const i of e){if(!(i.length>0&&Dg(i[0])&&i[0].type!==Rt.Descendant))if(r&&!i.some(Dv))i.unshift(JN);else continue;i.unshift(eC)}}function Mv(e,t,n){var r;e.forEach(UN),n=(r=t.context)!==null&&r!==void 0?r:n;const i=Array.isArray(n),s=n&&(Array.isArray(n)?n:[n]);if(t.relativeSelector!==!1)tC(e,t,s);else if(e.some(c=>c.length>0&&Dg(c[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let u=!1;const l=e.map(c=>{if(c.length>=2){const[h,p]=c;h.type!==Rt.Pseudo||h.name!=="scope"||(i&&p.type===Rt.Descendant?c[1]=ZN:(p.type===Rt.Adjacent||p.type===Rt.Sibling)&&(u=!0))}return nC(c,t,s)}).reduce(rC,en.falseFunc);return l.shouldTestNextSiblings=u,l}function nC(e,t,n){var r;return e.reduce((i,s)=>i===en.falseFunc?en.falseFunc:XN(i,s,t,n,Mv),(r=t.rootFunc)!==null&&r!==void 0?r:en.trueFunc)}function rC(e,t){return t===en.falseFunc||e===en.trueFunc?e:e===en.falseFunc||t===en.trueFunc?t:function(r){return e(r)||t(r)}}const Fv=(e,t)=>e===t,iC={adapter:yp,equals:Fv};function sC(e){var t,n,r,i;const s=e??iC;return(t=s.adapter)!==null&&t!==void 0||(s.adapter=yp),(n=s.equals)!==null&&n!==void 0||(s.equals=(i=(r=s.adapter)===null||r===void 0?void 0:r.equals)!==null&&i!==void 0?i:Fv),s}function aC(e){return function(n,r,i){const s=sC(r);return e(n,s,i)}}const Mg=aC(Mv);function jv(e,t,n=!1){return n&&(e=oC(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function oC(e,t){const n=Array.isArray(e)?e.slice(0):[e],r=n.length;for(let i=0;i<r;i++){const s=Rv(n[i],t);n.push(...s)}return n}const uC=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function z0(e){return e.type!=="pseudo"?!1:uC.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(z0)):!1}function lC(e,t,n){const r=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function cC(e){for(;e.parent;)e=e.parent;return e}function Fg(e){const t=[],n=[];for(const r of e)r.some(z0)?t.push(r):n.push(r);return[n,t]}const dC={type:Rt.Universal,namespace:null},fC={type:Rt.Pseudo,name:"scope",data:null};function Bv(e,t,n={}){return Uv([e],t,n)}function Uv(e,t,n={}){if(typeof t=="function")return e.some(t);const[r,i]=Fg(vp(t));return r.length>0&&e.some(Mg(r,n))||i.some(s=>zv(s,e,n).length>0)}function hC(e,t,n,r){const i=typeof n=="string"?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(i)&&Math.abs(i)<t.length?[i<0?t[t.length+i]:t[i]]:[];case"gt":return isFinite(i)?t.slice(i+1):[];case"even":return t.filter((s,u)=>u%2===0);case"odd":return t.filter((s,u)=>u%2===1);case"not":{const s=new Set(qv(n,t,r));return t.filter(u=>!s.has(u))}}}function Hv(e,t,n={}){return qv(vp(e),t,n)}function qv(e,t,n){if(t.length===0)return[];const[r,i]=Fg(e);let s;if(r.length){const u=Dm(t,r,n);if(i.length===0)return u;u.length&&(s=new Set(u))}for(let u=0;u<i.length&&s?.size!==t.length;u++){const l=i[u];if((s?t.filter(p=>Ht(p)&&!s.has(p)):t).length===0)break;const h=zv(l,t,n);if(h.length)if(s)h.forEach(p=>s.add(p));else{if(u===i.length-1)return h;s=new Set(h)}}return typeof s<"u"?s.size===t.length?t:t.filter(u=>s.has(u)):[]}function zv(e,t,n){var r;if(e.some(If)){const i=(r=n.root)!==null&&r!==void 0?r:cC(t[0]),s={...n,context:t,relativeSelector:!1};return e.push(fC),$0(i,e,s,!0,t.length)}return $0(t,e,n,!1,t.length)}function pC(e,t,n={},r=1/0){if(typeof e=="function")return $v(t,e);const[i,s]=Fg(vp(e)),u=s.map(l=>$0(t,l,n,!0,r));return i.length&&u.push(Rm(t,i,n,r)),u.length===0?[]:u.length===1?u[0]:kd(u.reduce((l,c)=>[...l,...c]))}function $0(e,t,n,r,i){const s=t.findIndex(z0),u=t.slice(0,s),l=t[s],c=t.length-1===s?i:1/0,h=lC(l.name,l.data,c);if(h===0)return[];const b=(u.length===0&&!Array.isArray(e)?bp(e).filter(Ht):u.length===0?(Array.isArray(e)?e:[e]).filter(Ht):r||u.some(If)?Rm(e,[u],n,h):Dm(e,[u],n)).slice(0,h);let E=hC(l.name,b,l.data,n);if(E.length===0||t.length===s+1)return E;const y=t.slice(s+1),S=y.some(If);if(S){if(If(y[0])){const{type:A}=y[0];(A===Rt.Sibling||A===Rt.Adjacent)&&(E=jv(E,yp,!0)),y.unshift(dC)}n={...n,relativeSelector:!1,rootFunc:A=>E.includes(A)}}else n.rootFunc&&n.rootFunc!==q0.trueFunc&&(n={...n,rootFunc:q0.trueFunc});return y.some(z0)?$0(E,y,n,!1,i):S?Rm(E,[y],n,i):Dm(E,[y],n)}function Rm(e,t,n,r){const i=Mg(t,n,e);return $v(e,i,r)}function $v(e,t,n=1/0){const r=jv(e,yp,t.shouldTestNextSiblings);return Ig(i=>Ht(i)&&t(i),r,!0,n)}function Dm(e,t,n){const r=(Array.isArray(e)?e:[e]).filter(Ht);if(r.length===0)return r;const i=Mg(t,n);return i===q0.trueFunc?r:r.filter(i)}const mC=/^\s*[+~]/;function gC(e){if(!e)return this._make([]);if(typeof e!="string"){const t=fu(e)?e.toArray():[e],n=this.toArray();return this._make(t.filter(r=>n.some(i=>Tv(i,r))))}return this._findBySelector(e,Number.POSITIVE_INFINITY)}function bC(e,t){var n;const r=this.toArray(),i=mC.test(e)?r:this.children().toArray(),s={context:r,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(pC(e,i,s,t))}function jg(e){return function(t,...n){return function(r){var i;let s=e(t,this);return r&&(s=Hg(s,r,this.options.xmlMode,(i=this._root)===null||i===void 0?void 0:i[0])),this._make(this.length>1&&s.length>1?n.reduce((u,l)=>l(u),s):s)}}}const dh=jg((e,t)=>{let n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i.length>0&&(n=n.concat(i))}return n}),Bg=jg((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i!==null&&n.push(i)}return n});function Ug(e,...t){let n=null;const r=jg((i,s)=>{const u=[];return lr(s,l=>{for(let c;(c=i(l))&&!n?.(c,u.length);l=c)u.push(c)}),u})(e,...t);return function(i,s){n=typeof i=="string"?l=>Bv(l,i,this.options):i?fh(i):null;const u=r.call(this,s);return n=null,u}}function Id(e){return e.length>1?Array.from(new Set(e)):e}const yC=Bg(({parent:e})=>e&&!_l(e)?e:null,Id),vC=dh(e=>{const t=[];for(;e.parent&&!_l(e.parent);)t.push(e.parent),e=e.parent;return t},kd,e=>e.reverse()),wC=Ug(({parent:e})=>e&&!_l(e)?e:null,kd,e=>e.reverse());function EC(e){var t;const n=[];if(!e)return this._make(n);const r={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},i=typeof e=="string"?s=>Bv(s,e,r):fh(e);return lr(this,s=>{for(s&&!_l(s)&&!Ht(s)&&(s=s.parent);s&&Ht(s);){if(i(s,0)){n.includes(s)||n.push(s);break}s=s.parent}}),this._make(n)}const _C=Bg(e=>Lg(e)),xC=dh(e=>{const t=[];for(;e.next;)e=e.next,Ht(e)&&t.push(e);return t},Id),TC=Ug(e=>Lg(e),Id),SC=Bg(e=>kg(e)),AC=dh(e=>{const t=[];for(;e.prev;)e=e.prev,Ht(e)&&t.push(e);return t},Id),NC=Ug(e=>kg(e),Id),CC=dh(e=>yv(e).filter(t=>Ht(t)&&t!==e),kd),LC=dh(e=>bp(e).filter(Ht),Id);function kC(){const e=this.toArray().reduce((t,n)=>Sr(n)?t.concat(n.children):t,[]);return this._make(e)}function IC(e){let t=0;const n=this.length;for(;t<n&&e.call(this[t],t,this[t])!==!1;)++t;return this}function PC(e){let t=[];for(let n=0;n<this.length;n++){const r=this[n],i=e.call(r,n,r);i!=null&&(t=t.concat(i))}return this._make(t)}function fh(e){return typeof e=="function"?(t,n)=>e.call(t,n,t):fu(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function OC(e){var t;return this._make(Hg(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function Hg(e,t,n,r){return typeof t=="string"?Hv(t,e,{xmlMode:n,root:r}):e.filter(fh(t))}function RC(e){const t=this.toArray();return typeof e=="string"?Uv(t.filter(Ht),e,this.options):e?t.some(fh(e)):!1}function DC(e){let t=this.toArray();if(typeof e=="string"){const n=new Set(Hv(e,t,this.options));t=t.filter(r=>!n.has(r))}else{const n=fh(e);t=t.filter((r,i)=>!n(r,i))}return this._make(t)}function MC(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,n)=>this._make(n).find(e).length>0)}function FC(){return this.length>1?this._make(this[0]):this}function jC(){return this.length>0?this._make(this[this.length-1]):this}function BC(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function UC(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function HC(){return Array.prototype.slice.call(this)}function qC(e){let t,n;return e==null?(t=this.parent().children(),n=this[0]):typeof e=="string"?(t=this._make(e),n=this[0]):(t=this,n=fu(e)?e[0]:e),Array.prototype.indexOf.call(t,n)}function zC(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function $C(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function VC(e,t){const n=this._make(e,t),r=kd([...this.get(),...n.get()]);return this._make(r)}function WC(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}const YC=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:bC,add:VC,addBack:WC,children:LC,closest:EC,contents:kC,each:IC,end:$C,eq:BC,filter:OC,filterArray:Hg,find:gC,first:FC,get:UC,has:MC,index:qC,is:RC,last:jC,map:PC,next:_C,nextAll:xC,nextUntil:TC,not:DC,parent:yC,parents:vC,parentsUntil:wC,prev:SC,prevAll:AC,prevUntil:NC,siblings:CC,slice:zC,toArray:HC},Symbol.toStringTag,{value:"Module"}));function GC(e){return function(n,r,i,s){if(typeof Buffer<"u"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return e(n,r,i,s);const u=n;if(!Array.isArray(u)&&_l(u))return u;const l=new bc([]);return yc(u,l),l}}function yc(e,t){const n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(let r=0;r<n.length;r++){const i=n[r];i.parent&&i.parent.children!==n&&Ec(i),t?(i.prev=n[r-1]||null,i.next=n[r+1]||null):i.prev=i.next=null,i.parent=t}return t}function KC(e,t){if(e==null)return[];if(typeof e=="string")return this._parse(e,this.options,!1,null).children.slice(0);if("length"in e){if(e.length===1)return this._makeDomArray(e[0],t);const n=[];for(let r=0;r<e.length;r++){const i=e[r];if(typeof i=="object"){if(i==null)continue;if(!("length"in i)){n.push(t?Kf(i,!0):i);continue}}n.push(...this._makeDomArray(i,t))}return n}return[t?Kf(e,!0):e]}function Vv(e){return function(...t){const n=this.length-1;return lr(this,(r,i)=>{if(!Sr(r))return;const s=typeof t[0]=="function"?t[0].call(r,i,this._render(r.children)):t,u=this._makeDomArray(s,i<n);e(u,r.children,r)})}}function xl(e,t,n,r,i){var s,u;const l=[t,n,...r],c=t===0?null:e[t-1],h=t+n>=e.length?null:e[t+n];for(let p=0;p<r.length;++p){const b=r[p],E=b.parent;if(E){const S=E.children.indexOf(b);S>-1&&(E.children.splice(S,1),i===E&&t>S&&l[0]--)}b.parent=i,b.prev&&(b.prev.next=(s=b.next)!==null&&s!==void 0?s:null),b.next&&(b.next.prev=(u=b.prev)!==null&&u!==void 0?u:null),b.prev=p===0?c:r[p-1],b.next=p===r.length-1?h:r[p+1]}return c&&(c.next=r[0]),h&&(h.prev=r[r.length-1]),e.splice(...l)}function QC(e){return(fu(e)?e:this._make(e)).append(this),this}function XC(e){return(fu(e)?e:this._make(e)).prepend(this),this}const JC=Vv((e,t,n)=>{xl(t,t.length,0,e,n)}),ZC=Vv((e,t,n)=>{xl(t,0,0,e,n)});function Wv(e){return function(t){const n=this.length-1,r=this.parents().last();for(let i=0;i<this.length;i++){const s=this[i],u=typeof t=="function"?t.call(s,i,s):typeof t=="string"&&!km(t)?r.find(t).clone():t,[l]=this._makeDomArray(u,i<n);if(!l||!Sr(l))continue;let c=l,h=0;for(;h<c.children.length;){const p=c.children[h];Ht(p)?(c=p,h=0):h++}e(s,c,[l])}return this}}const e8=Wv((e,t,n)=>{const{parent:r}=e;if(!r)return;const i=r.children,s=i.indexOf(e);yc([e],t),xl(i,s,0,n,r)}),t8=Wv((e,t,n)=>{Sr(e)&&(yc(e.children,t),yc(n,e))});function n8(e){return this.parent(e).not("body").each((t,n)=>{this._make(n).replaceWith(n.children)}),this}function r8(e){const t=this[0];if(t){const n=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t);let r;for(let s=0;s<n.length;s++)n[s].type==="tag"&&(r=n[s]);let i=0;for(;r&&i<r.children.length;){const s=r.children[i];s.type==="tag"?(r=s,i=0):i++}r&&this._make(r).append(this)}return this}function i8(...e){const t=this.length-1;return lr(this,(n,r)=>{if(!Sr(n)||!n.parent)return;const i=n.parent.children,s=i.indexOf(n);if(s<0)return;const u=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,l=this._makeDomArray(u,r<t);xl(i,s+1,0,l,n.parent)})}function s8(e){typeof e=="string"&&(e=this._make(e)),this.remove();const t=[];for(const n of this._makeDomArray(e)){const r=this.clone().toArray(),{parent:i}=n;if(!i)continue;const s=i.children,u=s.indexOf(n);u<0||(xl(s,u+1,0,r,i),t.push(...r))}return this._make(t)}function a8(...e){const t=this.length-1;return lr(this,(n,r)=>{if(!Sr(n)||!n.parent)return;const i=n.parent.children,s=i.indexOf(n);if(s<0)return;const u=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,l=this._makeDomArray(u,r<t);xl(i,s,0,l,n.parent)})}function o8(e){const t=this._make(e);this.remove();const n=[];return lr(t,r=>{const i=this.clone().toArray(),{parent:s}=r;if(!s)return;const u=s.children,l=u.indexOf(r);l<0||(xl(u,l,0,i,s),n.push(...i))}),this._make(n)}function u8(e){const t=e?this.filter(e):this;return lr(t,n=>{Ec(n),n.prev=n.next=n.parent=null}),this}function l8(e){return lr(this,(t,n)=>{const{parent:r}=t;if(!r)return;const i=r.children,s=typeof e=="function"?e.call(t,n,t):e,u=this._makeDomArray(s);yc(u,null);const l=i.indexOf(t);xl(i,l,1,u,r),u.includes(t)||(t.parent=t.prev=t.next=null)})}function c8(){return lr(this,e=>{if(Sr(e)){for(const t of e.children)t.next=t.prev=t.parent=null;e.children.length=0}})}function d8(e){if(e===void 0){const t=this[0];return!t||!Sr(t)?null:this._render(t.children)}return lr(this,t=>{if(!Sr(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=fu(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;yc(n,t)})}function f8(){return this._render(this)}function h8(e){return e===void 0?Qf(this):typeof e=="function"?lr(this,(t,n)=>this._make(t).text(e.call(t,n,Qf([t])))):lr(this,t=>{if(!Sr(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=new Gf(`${e}`);yc(n,t)})}function p8(){const e=Array.prototype.map.call(this.get(),n=>Kf(n,!0)),t=new bc(e);for(const n of e)n.parent=t;return this._make(e)}const m8=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:KC,after:i8,append:JC,appendTo:QC,before:a8,clone:p8,empty:c8,html:d8,insertAfter:s8,insertBefore:o8,prepend:ZC,prependTo:XC,remove:u8,replaceWith:l8,text:h8,toString:f8,unwrap:n8,wrap:e8,wrapAll:r8,wrapInner:t8},Symbol.toStringTag,{value:"Module"}));function g8(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return lr(this,(n,r)=>{Ht(n)&&Yv(n,e,t,r)});if(this.length!==0)return Gv(this[0],e)}function Yv(e,t,n,r){if(typeof t=="string"){const i=Gv(e),s=typeof n=="function"?n.call(e,r,i[t]):n;s===""?delete i[t]:s!=null&&(i[t]=s),e.attribs.style=b8(i)}else if(typeof t=="object"){const i=Object.keys(t);for(let s=0;s<i.length;s++){const u=i[s];Yv(e,u,t[u],s)}}}function Gv(e,t){if(!e||!Ht(e))return;const n=y8(e.attribs.style);if(typeof t=="string")return n[t];if(Array.isArray(t)){const r={};for(const i of t)n[i]!=null&&(r[i]=n[i]);return r}return n}function b8(e){return Object.keys(e).reduce((t,n)=>`${t}${t?" ":""}${n}: ${e[n]};`,"")}function y8(e){if(e=(e||"").trim(),!e)return{};const t={};let n;for(const r of e.split(";")){const i=r.indexOf(":");if(i<1||i===r.length-1){const s=r.trimEnd();s.length>0&&n!==void 0&&(t[n]+=`;${s}`)}else n=r.slice(0,i).trim(),t[n]=r.slice(i+1).trim()}return t}const v8=Object.freeze(Object.defineProperty({__proto__:null,css:g8},Symbol.toStringTag,{value:"Module"})),Lb="input,select,textarea,keygen",w8=/%20/g,kb=/\r?\n/g;function E8(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(w8,"+")}function _8(){return this.map((e,t)=>{const n=this._make(t);return Ht(t)&&t.name==="form"?n.find(Lb).toArray():n.filter(Lb).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var n;const r=this._make(t),i=r.attr("name"),s=(n=r.val())!==null&&n!==void 0?n:"";return Array.isArray(s)?s.map(u=>({name:i,value:u.replace(kb,`\r
`)})):{name:i,value:s.replace(kb,`\r
`)}}).toArray()}const x8=Object.freeze(Object.defineProperty({__proto__:null,serialize:E8,serializeArray:_8},Symbol.toStringTag,{value:"Module"}));function T8(e){var t;return typeof e=="string"?{selector:e,value:"textContent"}:{selector:e.selector,value:(t=e.value)!==null&&t!==void 0?t:"textContent"}}function S8(e){const t={};for(const n in e){const r=e[n],i=Array.isArray(r),{selector:s,value:u}=T8(i?r[0]:r),l=typeof u=="function"?u:typeof u=="string"?c=>this._make(c).prop(u):c=>this._make(c).extract(u);if(i)t[n]=this._findBySelector(s,Number.POSITIVE_INFINITY).map((c,h)=>l(h,n,t)).get();else{const c=this._findBySelector(s,1);t[n]=c.length>0?l(c[0],n,t):void 0}}return t}const A8=Object.freeze(Object.defineProperty({__proto__:null,extract:S8},Symbol.toStringTag,{value:"Module"}));class hh{constructor(t,n,r){if(this.length=0,this.options=r,this._root=n,t){for(let i=0;i<t.length;i++)this[i]=t[i];this.length=t.length}}}hh.prototype.cheerio="[cheerio object]";hh.prototype.splice=Array.prototype.splice;hh.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(hh.prototype,PN,YC,m8,v8,x8,A8);function N8(e,t){return function n(r,i,s=!0){if(r==null)throw new Error("cheerio.load() expects a string");const u=Lm(i),l=e(r,u,s,null);class c extends hh{_make(b,E){const y=h(b,E);return y.prevObject=this,y}_parse(b,E,y,S){return e(b,E,y,S)}_render(b){return t(b,this.options)}}function h(p,b,E=l,y){if(p&&fu(p))return p;const S=Lm(y,u),A=typeof E=="string"?[e(E,S,!1,null)]:"length"in E?E:[E],k=fu(A)?A:new c(A,null,S);if(k._root=k,!p)return new c(void 0,k,S);const C=typeof p=="string"&&km(p)?e(p,S,!1,null).children:C8(p)?[p]:Array.isArray(p)?p:void 0,P=new c(C,k,S);if(C)return P;if(typeof p!="string")throw new TypeError("Unexpected type of selector");let $=p;const H=b?typeof b=="string"?km(b)?new c([e(b,S,!1,null)],k,S):($=`${b} ${$}`,k):fu(b)?b:new c(Array.isArray(b)?b:[b],k,S):k;return H?H.find($):P}return Object.assign(h,wN,{load:n,_root:l,_options:u,fn:c.prototype,prototype:c.prototype}),h}}function C8(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}const L8=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),tr="";var G;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(G||(G={}));const cs={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Kv(e){return e>=55296&&e<=57343}function k8(e){return e>=56320&&e<=57343}function I8(e,t){return(e-55296)*1024+9216+t}function Qv(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Xv(e){return e>=64976&&e<=65007||L8.has(e)}var Be;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Be||(Be={}));const P8=65536;class O8{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=P8,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,u=i+n,l=s+n;return{code:t,startLine:r,endLine:r,startCol:u,endCol:u,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(k8(n))return this.pos++,this._addGap(),I8(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,G.EOF;return this._err(Be.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,G.EOF;const r=this.html.charCodeAt(n);return r===G.CARRIAGE_RETURN?G.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,G.EOF;let t=this.html.charCodeAt(this.pos);return t===G.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,G.LINE_FEED):t===G.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Kv(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===G.LINE_FEED||t===G.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Qv(t)?this._err(Be.controlCharacterInInputStream):Xv(t)&&this._err(Be.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var gn;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(gn||(gn={}));function Jv(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}var Qe;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Qe||(Qe={}));var hc;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(hc||(hc={}));var Rs;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Rs||(Rs={}));var Pe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Pe||(Pe={}));var w;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(w||(w={}));const R8=new Map([[Pe.A,w.A],[Pe.ADDRESS,w.ADDRESS],[Pe.ANNOTATION_XML,w.ANNOTATION_XML],[Pe.APPLET,w.APPLET],[Pe.AREA,w.AREA],[Pe.ARTICLE,w.ARTICLE],[Pe.ASIDE,w.ASIDE],[Pe.B,w.B],[Pe.BASE,w.BASE],[Pe.BASEFONT,w.BASEFONT],[Pe.BGSOUND,w.BGSOUND],[Pe.BIG,w.BIG],[Pe.BLOCKQUOTE,w.BLOCKQUOTE],[Pe.BODY,w.BODY],[Pe.BR,w.BR],[Pe.BUTTON,w.BUTTON],[Pe.CAPTION,w.CAPTION],[Pe.CENTER,w.CENTER],[Pe.CODE,w.CODE],[Pe.COL,w.COL],[Pe.COLGROUP,w.COLGROUP],[Pe.DD,w.DD],[Pe.DESC,w.DESC],[Pe.DETAILS,w.DETAILS],[Pe.DIALOG,w.DIALOG],[Pe.DIR,w.DIR],[Pe.DIV,w.DIV],[Pe.DL,w.DL],[Pe.DT,w.DT],[Pe.EM,w.EM],[Pe.EMBED,w.EMBED],[Pe.FIELDSET,w.FIELDSET],[Pe.FIGCAPTION,w.FIGCAPTION],[Pe.FIGURE,w.FIGURE],[Pe.FONT,w.FONT],[Pe.FOOTER,w.FOOTER],[Pe.FOREIGN_OBJECT,w.FOREIGN_OBJECT],[Pe.FORM,w.FORM],[Pe.FRAME,w.FRAME],[Pe.FRAMESET,w.FRAMESET],[Pe.H1,w.H1],[Pe.H2,w.H2],[Pe.H3,w.H3],[Pe.H4,w.H4],[Pe.H5,w.H5],[Pe.H6,w.H6],[Pe.HEAD,w.HEAD],[Pe.HEADER,w.HEADER],[Pe.HGROUP,w.HGROUP],[Pe.HR,w.HR],[Pe.HTML,w.HTML],[Pe.I,w.I],[Pe.IMG,w.IMG],[Pe.IMAGE,w.IMAGE],[Pe.INPUT,w.INPUT],[Pe.IFRAME,w.IFRAME],[Pe.KEYGEN,w.KEYGEN],[Pe.LABEL,w.LABEL],[Pe.LI,w.LI],[Pe.LINK,w.LINK],[Pe.LISTING,w.LISTING],[Pe.MAIN,w.MAIN],[Pe.MALIGNMARK,w.MALIGNMARK],[Pe.MARQUEE,w.MARQUEE],[Pe.MATH,w.MATH],[Pe.MENU,w.MENU],[Pe.META,w.META],[Pe.MGLYPH,w.MGLYPH],[Pe.MI,w.MI],[Pe.MO,w.MO],[Pe.MN,w.MN],[Pe.MS,w.MS],[Pe.MTEXT,w.MTEXT],[Pe.NAV,w.NAV],[Pe.NOBR,w.NOBR],[Pe.NOFRAMES,w.NOFRAMES],[Pe.NOEMBED,w.NOEMBED],[Pe.NOSCRIPT,w.NOSCRIPT],[Pe.OBJECT,w.OBJECT],[Pe.OL,w.OL],[Pe.OPTGROUP,w.OPTGROUP],[Pe.OPTION,w.OPTION],[Pe.P,w.P],[Pe.PARAM,w.PARAM],[Pe.PLAINTEXT,w.PLAINTEXT],[Pe.PRE,w.PRE],[Pe.RB,w.RB],[Pe.RP,w.RP],[Pe.RT,w.RT],[Pe.RTC,w.RTC],[Pe.RUBY,w.RUBY],[Pe.S,w.S],[Pe.SCRIPT,w.SCRIPT],[Pe.SEARCH,w.SEARCH],[Pe.SECTION,w.SECTION],[Pe.SELECT,w.SELECT],[Pe.SOURCE,w.SOURCE],[Pe.SMALL,w.SMALL],[Pe.SPAN,w.SPAN],[Pe.STRIKE,w.STRIKE],[Pe.STRONG,w.STRONG],[Pe.STYLE,w.STYLE],[Pe.SUB,w.SUB],[Pe.SUMMARY,w.SUMMARY],[Pe.SUP,w.SUP],[Pe.TABLE,w.TABLE],[Pe.TBODY,w.TBODY],[Pe.TEMPLATE,w.TEMPLATE],[Pe.TEXTAREA,w.TEXTAREA],[Pe.TFOOT,w.TFOOT],[Pe.TD,w.TD],[Pe.TH,w.TH],[Pe.THEAD,w.THEAD],[Pe.TITLE,w.TITLE],[Pe.TR,w.TR],[Pe.TRACK,w.TRACK],[Pe.TT,w.TT],[Pe.U,w.U],[Pe.UL,w.UL],[Pe.SVG,w.SVG],[Pe.VAR,w.VAR],[Pe.WBR,w.WBR],[Pe.XMP,w.XMP]]);function wp(e){var t;return(t=R8.get(e))!==null&&t!==void 0?t:w.UNKNOWN}const at=w,D8={[Qe.HTML]:new Set([at.ADDRESS,at.APPLET,at.AREA,at.ARTICLE,at.ASIDE,at.BASE,at.BASEFONT,at.BGSOUND,at.BLOCKQUOTE,at.BODY,at.BR,at.BUTTON,at.CAPTION,at.CENTER,at.COL,at.COLGROUP,at.DD,at.DETAILS,at.DIR,at.DIV,at.DL,at.DT,at.EMBED,at.FIELDSET,at.FIGCAPTION,at.FIGURE,at.FOOTER,at.FORM,at.FRAME,at.FRAMESET,at.H1,at.H2,at.H3,at.H4,at.H5,at.H6,at.HEAD,at.HEADER,at.HGROUP,at.HR,at.HTML,at.IFRAME,at.IMG,at.INPUT,at.LI,at.LINK,at.LISTING,at.MAIN,at.MARQUEE,at.MENU,at.META,at.NAV,at.NOEMBED,at.NOFRAMES,at.NOSCRIPT,at.OBJECT,at.OL,at.P,at.PARAM,at.PLAINTEXT,at.PRE,at.SCRIPT,at.SECTION,at.SELECT,at.SOURCE,at.STYLE,at.SUMMARY,at.TABLE,at.TBODY,at.TD,at.TEMPLATE,at.TEXTAREA,at.TFOOT,at.TH,at.THEAD,at.TITLE,at.TR,at.TRACK,at.UL,at.WBR,at.XMP]),[Qe.MATHML]:new Set([at.MI,at.MO,at.MN,at.MS,at.MTEXT,at.ANNOTATION_XML]),[Qe.SVG]:new Set([at.TITLE,at.FOREIGN_OBJECT,at.DESC]),[Qe.XLINK]:new Set,[Qe.XML]:new Set,[Qe.XMLNS]:new Set},Mm=new Set([at.H1,at.H2,at.H3,at.H4,at.H5,at.H6]),M8=new Set([Pe.STYLE,Pe.SCRIPT,Pe.XMP,Pe.IFRAME,Pe.NOEMBED,Pe.NOFRAMES,Pe.PLAINTEXT]);function F8(e,t){return M8.has(e)||t&&e===Pe.NOSCRIPT}var J;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(J||(J={}));const hs={DATA:J.DATA,RCDATA:J.RCDATA,RAWTEXT:J.RAWTEXT,SCRIPT_DATA:J.SCRIPT_DATA,PLAINTEXT:J.PLAINTEXT,CDATA_SECTION:J.CDATA_SECTION};function j8(e){return e>=G.DIGIT_0&&e<=G.DIGIT_9}function Nf(e){return e>=G.LATIN_CAPITAL_A&&e<=G.LATIN_CAPITAL_Z}function B8(e){return e>=G.LATIN_SMALL_A&&e<=G.LATIN_SMALL_Z}function ll(e){return B8(e)||Nf(e)}function Ib(e){return ll(e)||j8(e)}function c0(e){return e+32}function Zv(e){return e===G.SPACE||e===G.LINE_FEED||e===G.TABULATION||e===G.FORM_FEED}function Pb(e){return Zv(e)||e===G.SOLIDUS||e===G.GREATER_THAN_SIGN}function U8(e){return e===G.NULL?Be.nullCharacterReference:e>1114111?Be.characterReferenceOutsideUnicodeRange:Kv(e)?Be.surrogateCharacterReference:Xv(e)?Be.noncharacterCharacterReference:Qv(e)||e===G.CARRIAGE_RETURN?Be.controlCharacterReference:null}let H8=class{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=J.DATA,this.returnState=J.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new O8(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Cg(Ng,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Be.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(Be.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=U8(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:gn.START_TAG,tagName:"",tagID:w.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:gn.END_TAG,tagName:"",tagID:w.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:gn.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:gn.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Jv(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Be.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=wp(t.tagName),t.type===gn.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Be.endTagWithAttributes),t.selfClosing&&this._err(Be.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case gn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case gn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case gn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:gn.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Zv(t)?gn.WHITESPACE_CHARACTER:t===G.NULL?gn.NULL_CHARACTER:gn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(gn.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=J.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ra.Attribute:ra.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===J.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===J.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===J.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case J.DATA:{this._stateData(t);break}case J.RCDATA:{this._stateRcdata(t);break}case J.RAWTEXT:{this._stateRawtext(t);break}case J.SCRIPT_DATA:{this._stateScriptData(t);break}case J.PLAINTEXT:{this._statePlaintext(t);break}case J.TAG_OPEN:{this._stateTagOpen(t);break}case J.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case J.TAG_NAME:{this._stateTagName(t);break}case J.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case J.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case J.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case J.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case J.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case J.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case J.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case J.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case J.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case J.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case J.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case J.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case J.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case J.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case J.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case J.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case J.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case J.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case J.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case J.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case J.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case J.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case J.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case J.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case J.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case J.BOGUS_COMMENT:{this._stateBogusComment(t);break}case J.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case J.COMMENT_START:{this._stateCommentStart(t);break}case J.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case J.COMMENT:{this._stateComment(t);break}case J.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case J.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case J.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case J.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case J.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case J.COMMENT_END:{this._stateCommentEnd(t);break}case J.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case J.DOCTYPE:{this._stateDoctype(t);break}case J.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case J.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case J.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case J.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case J.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case J.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case J.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case J.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case J.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case J.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case J.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case J.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case J.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case J.CDATA_SECTION:{this._stateCdataSection(t);break}case J.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case J.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case J.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case J.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case G.LESS_THAN_SIGN:{this.state=J.TAG_OPEN;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this._emitCodePoint(t);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case G.AMPERSAND:{this._startCharacterReference();break}case G.LESS_THAN_SIGN:{this.state=J.RCDATA_LESS_THAN_SIGN;break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(tr);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case G.LESS_THAN_SIGN:{this.state=J.RAWTEXT_LESS_THAN_SIGN;break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(tr);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_LESS_THAN_SIGN;break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(tr);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case G.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(tr);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ll(t))this._createStartTagToken(),this.state=J.TAG_NAME,this._stateTagName(t);else switch(t){case G.EXCLAMATION_MARK:{this.state=J.MARKUP_DECLARATION_OPEN;break}case G.SOLIDUS:{this.state=J.END_TAG_OPEN;break}case G.QUESTION_MARK:{this._err(Be.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=J.BOGUS_COMMENT,this._stateBogusComment(t);break}case G.EOF:{this._err(Be.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Be.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=J.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ll(t))this._createEndTagToken(),this.state=J.TAG_NAME,this._stateTagName(t);else switch(t){case G.GREATER_THAN_SIGN:{this._err(Be.missingEndTagName),this.state=J.DATA;break}case G.EOF:{this._err(Be.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Be.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=J.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.BEFORE_ATTRIBUTE_NAME;break}case G.SOLIDUS:{this.state=J.SELF_CLOSING_START_TAG;break}case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentTagToken();break}case G.NULL:{this._err(Be.unexpectedNullCharacter),n.tagName+=tr;break}case G.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Nf(t)?c0(t):t)}}_stateRcdataLessThanSign(t){t===G.SOLIDUS?this.state=J.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=J.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ll(t)?(this.state=J.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=J.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=J.BEFORE_ATTRIBUTE_NAME,!1;case G.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=J.SELF_CLOSING_START_TAG,!1;case G.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=J.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=J.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===G.SOLIDUS?this.state=J.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=J.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ll(t)?(this.state=J.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=J.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=J.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case G.SOLIDUS:{this.state=J.SCRIPT_DATA_END_TAG_OPEN;break}case G.EXCLAMATION_MARK:{this.state=J.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=J.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ll(t)?(this.state=J.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=J.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=J.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===G.HYPHEN_MINUS?(this.state=J.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=J.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===G.HYPHEN_MINUS?(this.state=J.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=J.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case G.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(tr);break}case G.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case G.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_ESCAPED,this._emitChars(tr);break}case G.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case G.HYPHEN_MINUS:{this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.GREATER_THAN_SIGN:{this.state=J.SCRIPT_DATA,this._emitChars(">");break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_ESCAPED,this._emitChars(tr);break}case G.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===G.SOLIDUS?this.state=J.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ll(t)?(this._emitChars("<"),this.state=J.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ll(t)?(this.state=J.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(cs.SCRIPT,!1)&&Pb(this.preprocessor.peek(cs.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<cs.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case G.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(tr);break}case G.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case G.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(tr);break}case G.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case G.HYPHEN_MINUS:{this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.GREATER_THAN_SIGN:{this.state=J.SCRIPT_DATA,this._emitChars(">");break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(tr);break}case G.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===G.SOLIDUS?(this.state=J.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(cs.SCRIPT,!1)&&Pb(this.preprocessor.peek(cs.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<cs.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=J.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.SOLIDUS:case G.GREATER_THAN_SIGN:case G.EOF:{this.state=J.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case G.EQUALS_SIGN:{this._err(Be.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=J.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=J.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:case G.SOLIDUS:case G.GREATER_THAN_SIGN:case G.EOF:{this._leaveAttrName(),this.state=J.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case G.EQUALS_SIGN:{this._leaveAttrName(),this.state=J.BEFORE_ATTRIBUTE_VALUE;break}case G.QUOTATION_MARK:case G.APOSTROPHE:case G.LESS_THAN_SIGN:{this._err(Be.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this.currentAttr.name+=tr;break}default:this.currentAttr.name+=String.fromCodePoint(Nf(t)?c0(t):t)}}_stateAfterAttributeName(t){switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.SOLIDUS:{this.state=J.SELF_CLOSING_START_TAG;break}case G.EQUALS_SIGN:{this.state=J.BEFORE_ATTRIBUTE_VALUE;break}case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=J.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{this.state=J.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this.state=J.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(Be.missingAttributeValue),this.state=J.DATA,this.emitCurrentTagToken();break}default:this.state=J.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case G.QUOTATION_MARK:{this.state=J.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this.currentAttr.value+=tr;break}case G.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case G.APOSTROPHE:{this.state=J.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this.currentAttr.value+=tr;break}case G.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this._leaveAttrValue(),this.state=J.BEFORE_ATTRIBUTE_NAME;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=J.DATA,this.emitCurrentTagToken();break}case G.NULL:{this._err(Be.unexpectedNullCharacter),this.currentAttr.value+=tr;break}case G.QUOTATION_MARK:case G.APOSTROPHE:case G.LESS_THAN_SIGN:case G.EQUALS_SIGN:case G.GRAVE_ACCENT:{this._err(Be.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case G.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this._leaveAttrValue(),this.state=J.BEFORE_ATTRIBUTE_NAME;break}case G.SOLIDUS:{this._leaveAttrValue(),this.state=J.SELF_CLOSING_START_TAG;break}case G.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=J.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this._err(Be.missingWhitespaceBetweenAttributes),this.state=J.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case G.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=J.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this._err(Be.unexpectedSolidusInTag),this.state=J.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentComment(n);break}case G.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case G.NULL:{this._err(Be.unexpectedNullCharacter),n.data+=tr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(cs.DASH_DASH,!0)?(this._createCommentToken(cs.DASH_DASH.length+1),this.state=J.COMMENT_START):this._consumeSequenceIfMatch(cs.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(cs.DOCTYPE.length+1),this.state=J.DOCTYPE):this._consumeSequenceIfMatch(cs.CDATA_START,!0)?this.inForeignNode?this.state=J.CDATA_SECTION:(this._err(Be.cdataInHtmlContent),this._createCommentToken(cs.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=J.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Be.incorrectlyOpenedComment),this._createCommentToken(2),this.state=J.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case G.HYPHEN_MINUS:{this.state=J.COMMENT_START_DASH;break}case G.GREATER_THAN_SIGN:{this._err(Be.abruptClosingOfEmptyComment),this.state=J.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=J.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case G.HYPHEN_MINUS:{this.state=J.COMMENT_END;break}case G.GREATER_THAN_SIGN:{this._err(Be.abruptClosingOfEmptyComment),this.state=J.DATA,this.emitCurrentComment(n);break}case G.EOF:{this._err(Be.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=J.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case G.HYPHEN_MINUS:{this.state=J.COMMENT_END_DASH;break}case G.LESS_THAN_SIGN:{n.data+="<",this.state=J.COMMENT_LESS_THAN_SIGN;break}case G.NULL:{this._err(Be.unexpectedNullCharacter),n.data+=tr;break}case G.EOF:{this._err(Be.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case G.EXCLAMATION_MARK:{n.data+="!",this.state=J.COMMENT_LESS_THAN_SIGN_BANG;break}case G.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=J.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===G.HYPHEN_MINUS?this.state=J.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=J.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===G.HYPHEN_MINUS?this.state=J.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=J.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==G.GREATER_THAN_SIGN&&t!==G.EOF&&this._err(Be.nestedComment),this.state=J.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case G.HYPHEN_MINUS:{this.state=J.COMMENT_END;break}case G.EOF:{this._err(Be.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=J.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentComment(n);break}case G.EXCLAMATION_MARK:{this.state=J.COMMENT_END_BANG;break}case G.HYPHEN_MINUS:{n.data+="-";break}case G.EOF:{this._err(Be.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=J.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case G.HYPHEN_MINUS:{n.data+="--!",this.state=J.COMMENT_END_DASH;break}case G.GREATER_THAN_SIGN:{this._err(Be.incorrectlyClosedComment),this.state=J.DATA,this.emitCurrentComment(n);break}case G.EOF:{this._err(Be.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=J.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.BEFORE_DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this.state=J.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case G.EOF:{this._err(Be.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Be.missingWhitespaceBeforeDoctypeName),this.state=J.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Nf(t))this._createDoctypeToken(String.fromCharCode(c0(t))),this.state=J.DOCTYPE_NAME;else switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.NULL:{this._err(Be.unexpectedNullCharacter),this._createDoctypeToken(tr),this.state=J.DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this._err(Be.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=J.DATA;break}case G.EOF:{this._err(Be.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=J.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.AFTER_DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentDoctype(n);break}case G.NULL:{this._err(Be.unexpectedNullCharacter),n.name+=tr;break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Nf(t)?c0(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(cs.PUBLIC,!1)?this.state=J.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(cs.SYSTEM,!1)?this.state=J.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Be.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.QUOTATION_MARK:{this._err(Be.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(Be.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(Be.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{n.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{n.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(Be.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case G.QUOTATION_MARK:{this.state=J.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.NULL:{this._err(Be.unexpectedNullCharacter),n.publicId+=tr;break}case G.GREATER_THAN_SIGN:{this._err(Be.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=J.DATA;break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case G.APOSTROPHE:{this.state=J.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.NULL:{this._err(Be.unexpectedNullCharacter),n.publicId+=tr;break}case G.GREATER_THAN_SIGN:{this._err(Be.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=J.DATA;break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case G.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentDoctype(n);break}case G.QUOTATION_MARK:{this._err(Be.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(Be.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=J.DATA;break}case G.QUOTATION_MARK:{n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=J.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.QUOTATION_MARK:{this._err(Be.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(Be.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(Be.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(Be.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case G.QUOTATION_MARK:{this.state=J.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.NULL:{this._err(Be.unexpectedNullCharacter),n.systemId+=tr;break}case G.GREATER_THAN_SIGN:{this._err(Be.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=J.DATA;break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case G.APOSTROPHE:{this.state=J.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.NULL:{this._err(Be.unexpectedNullCharacter),n.systemId+=tr;break}case G.GREATER_THAN_SIGN:{this._err(Be.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=J.DATA;break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=J.DATA;break}case G.EOF:{this._err(Be.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Be.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=J.DATA;break}case G.NULL:{this._err(Be.unexpectedNullCharacter);break}case G.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case G.RIGHT_SQUARE_BRACKET:{this.state=J.CDATA_SECTION_BRACKET;break}case G.EOF:{this._err(Be.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===G.RIGHT_SQUARE_BRACKET?this.state=J.CDATA_SECTION_END:(this._emitChars("]"),this.state=J.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case G.GREATER_THAN_SIGN:{this.state=J.DATA;break}case G.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=J.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(G.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Ib(this.preprocessor.peek(1))?J.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Ib(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===G.SEMICOLON&&this._err(Be.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}};const ew=new Set([w.DD,w.DT,w.LI,w.OPTGROUP,w.OPTION,w.P,w.RB,w.RP,w.RT,w.RTC]),Ob=new Set([...ew,w.CAPTION,w.COLGROUP,w.TBODY,w.TD,w.TFOOT,w.TH,w.THEAD,w.TR]),V0=new Set([w.APPLET,w.CAPTION,w.HTML,w.MARQUEE,w.OBJECT,w.TABLE,w.TD,w.TEMPLATE,w.TH]),q8=new Set([...V0,w.OL,w.UL]),z8=new Set([...V0,w.BUTTON]),Rb=new Set([w.ANNOTATION_XML,w.MI,w.MN,w.MO,w.MS,w.MTEXT]),Db=new Set([w.DESC,w.FOREIGN_OBJECT,w.TITLE]),$8=new Set([w.TR,w.TEMPLATE,w.HTML]),V8=new Set([w.TBODY,w.TFOOT,w.THEAD,w.TEMPLATE,w.HTML]),W8=new Set([w.TABLE,w.TEMPLATE,w.HTML]),Y8=new Set([w.TD,w.TH]);class G8{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=w.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===w.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Qe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Qe.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Mm,Qe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Y8,Qe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(W8,Qe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(V8,Qe.HTML)}clearBackToTableRowContext(){this.clearBackTo($8,Qe.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===w.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===w.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Qe.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case Qe.SVG:{if(Db.has(i))return!1;break}case Qe.MATHML:{if(Rb.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,V0)}hasInListItemScope(t){return this.hasInDynamicScope(t,q8)}hasInButtonScope(t){return this.hasInDynamicScope(t,z8)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Qe.HTML:{if(Mm.has(n))return!0;if(V0.has(n))return!1;break}case Qe.SVG:{if(Db.has(n))return!1;break}case Qe.MATHML:{if(Rb.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Qe.HTML)switch(this.tagIDs[n]){case t:return!0;case w.TABLE:case w.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Qe.HTML)switch(this.tagIDs[t]){case w.TBODY:case w.THEAD:case w.TFOOT:return!0;case w.TABLE:case w.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Qe.HTML)switch(this.tagIDs[n]){case t:return!0;case w.OPTION:case w.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;ew.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Ob.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Ob.has(this.currentTagId);)this.pop()}}const $1=3;var bo;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(bo||(bo={}));const Mb={type:bo.Marker};class K8{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),u=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const c=this.entries[l];if(c.type===bo.Marker)break;const{element:h}=c;if(this.treeAdapter.getTagName(h)===s&&this.treeAdapter.getNamespaceURI(h)===u){const p=this.treeAdapter.getAttrList(h);p.length===i&&r.push({idx:l,attrs:p})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<$1)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<$1)return;const i=new Map(n.map(u=>[u.name,u.value]));let s=0;for(let u=0;u<r.length;u++){const l=r[u];l.attrs.every(c=>i.get(c.name)===c.value)&&(s+=1,s>=$1&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(Mb)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:bo.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:bo.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Mb);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===bo.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===bo.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===bo.Element&&n.element===t)}}const cu={createDocument(){return{nodeName:"#document",mode:Rs.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};cu.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(cu.isTextNode(n)){n.value+=t;return}}cu.appendChild(e,cu.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&cu.isTextNode(r)?r.value+=t:cu.insertBefore(e,cu.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},tw="html",Q8="about:legacy-compat",X8="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",nw=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],J8=[...nw,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Z8=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),rw=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],eL=[...rw,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Fb(e,t){return t.some(n=>e.startsWith(n))}function tL(e){return e.name===tw&&e.publicId===null&&(e.systemId===null||e.systemId===Q8)}function nL(e){if(e.name!==tw)return Rs.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===X8)return Rs.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),Z8.has(n))return Rs.QUIRKS;let r=t===null?J8:nw;if(Fb(n,r))return Rs.QUIRKS;if(r=t===null?rw:eL,Fb(n,r))return Rs.LIMITED_QUIRKS}return Rs.NO_QUIRKS}const jb={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},rL="definitionurl",iL="definitionURL",sL=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),aL=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Qe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Qe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Qe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Qe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Qe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Qe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Qe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Qe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Qe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Qe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Qe.XMLNS}]]),oL=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),uL=new Set([w.B,w.BIG,w.BLOCKQUOTE,w.BODY,w.BR,w.CENTER,w.CODE,w.DD,w.DIV,w.DL,w.DT,w.EM,w.EMBED,w.H1,w.H2,w.H3,w.H4,w.H5,w.H6,w.HEAD,w.HR,w.I,w.IMG,w.LI,w.LISTING,w.MENU,w.META,w.NOBR,w.OL,w.P,w.PRE,w.RUBY,w.S,w.SMALL,w.SPAN,w.STRONG,w.STRIKE,w.SUB,w.SUP,w.TABLE,w.TT,w.U,w.UL,w.VAR]);function lL(e){const t=e.tagID;return t===w.FONT&&e.attrs.some(({name:r})=>r===hc.COLOR||r===hc.SIZE||r===hc.FACE)||uL.has(t)}function iw(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===rL){e.attrs[t].name=iL;break}}function sw(e){for(let t=0;t<e.attrs.length;t++){const n=sL.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function qg(e){for(let t=0;t<e.attrs.length;t++){const n=aL.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function cL(e){const t=oL.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=wp(e.tagName))}function dL(e,t){return t===Qe.MATHML&&(e===w.MI||e===w.MO||e===w.MN||e===w.MS||e===w.MTEXT)}function fL(e,t,n){if(t===Qe.MATHML&&e===w.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===hc.ENCODING){const i=n[r].value.toLowerCase();return i===jb.TEXT_HTML||i===jb.APPLICATION_XML}}return t===Qe.SVG&&(e===w.FOREIGN_OBJECT||e===w.DESC||e===w.TITLE)}function hL(e,t,n,r){return(!r||r===Qe.HTML)&&fL(e,t,n)||(!r||r===Qe.MATHML)&&dL(e,t)}const pL="hidden",mL=8,gL=3;var oe;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(oe||(oe={}));const bL={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},aw=new Set([w.TABLE,w.TBODY,w.TFOOT,w.THEAD,w.TR]),Bb={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:cu,onParseError:null};let ow=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=oe.INITIAL,this.originalInsertionMode=oe.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Bb,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new H8(this.options,this),this.activeFormattingElements=new K8(this.treeAdapter),this.fragmentContextID=r?wp(this.treeAdapter.getTagName(r)):w.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new G8(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Bb,...n};t??(t=r.treeAdapter.createElement(Pe.TEMPLATE,Qe.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Qe.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===w.TEMPLATE&&s.tmplInsertionModeStack.unshift(oe.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:bL,u={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(u)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,u;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,u=this.fragmentContextID):{current:s,currentTagId:u}=this.openElements,this._setContextModes(s,u)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Qe.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Qe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=oe.TEXT}switchToPlaintextParsing(){this.insertionMode=oe.TEXT,this.originalInsertionMode=oe.IN_BODY,this.tokenizer.state=hs.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Pe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Qe.HTML))switch(this.fragmentContextID){case w.TITLE:case w.TEXTAREA:{this.tokenizer.state=hs.RCDATA;break}case w.STYLE:case w.XMP:case w.IFRAME:case w.NOEMBED:case w.NOFRAMES:case w.NOSCRIPT:{this.tokenizer.state=hs.RAWTEXT;break}case w.SCRIPT:{this.tokenizer.state=hs.SCRIPT_DATA;break}case w.PLAINTEXT:{this.tokenizer.state=hs.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const u=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));u&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Qe.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Qe.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Pe.HTML,Qe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,w.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,u=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:c,endCol:h,endOffset:p}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:c,endCol:h,endOffset:p})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===gn.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===w.SVG&&this.treeAdapter.getTagName(n)===Pe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Qe.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===w.MGLYPH||t.tagID===w.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Qe.HTML)}_processToken(t){switch(t.type){case gn.CHARACTER:{this.onCharacter(t);break}case gn.NULL_CHARACTER:{this.onNullCharacter(t);break}case gn.COMMENT:{this.onComment(t);break}case gn.DOCTYPE:{this.onDoctype(t);break}case gn.START_TAG:{this._processStartTag(t);break}case gn.END_TAG:{this.onEndTag(t);break}case gn.EOF:{this.onEof(t);break}case gn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return hL(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===bo.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=oe.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(w.P),this.openElements.popUntilTagNamePopped(w.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case w.TR:{this.insertionMode=oe.IN_ROW;return}case w.TBODY:case w.THEAD:case w.TFOOT:{this.insertionMode=oe.IN_TABLE_BODY;return}case w.CAPTION:{this.insertionMode=oe.IN_CAPTION;return}case w.COLGROUP:{this.insertionMode=oe.IN_COLUMN_GROUP;return}case w.TABLE:{this.insertionMode=oe.IN_TABLE;return}case w.BODY:{this.insertionMode=oe.IN_BODY;return}case w.FRAMESET:{this.insertionMode=oe.IN_FRAMESET;return}case w.SELECT:{this._resetInsertionModeForSelect(t);return}case w.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case w.HTML:{this.insertionMode=this.headElement?oe.AFTER_HEAD:oe.BEFORE_HEAD;return}case w.TD:case w.TH:{if(t>0){this.insertionMode=oe.IN_CELL;return}break}case w.HEAD:{if(t>0){this.insertionMode=oe.IN_HEAD;return}break}}this.insertionMode=oe.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===w.TEMPLATE)break;if(r===w.TABLE){this.insertionMode=oe.IN_SELECT_IN_TABLE;return}}this.insertionMode=oe.IN_SELECT}_isElementCausesFosterParenting(t){return aw.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case w.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Qe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case w.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return D8[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Yk(this,t);return}switch(this.insertionMode){case oe.INITIAL:{gf(this,t);break}case oe.BEFORE_HTML:{Pf(this,t);break}case oe.BEFORE_HEAD:{Of(this,t);break}case oe.IN_HEAD:{Rf(this,t);break}case oe.IN_HEAD_NO_SCRIPT:{Df(this,t);break}case oe.AFTER_HEAD:{Mf(this,t);break}case oe.IN_BODY:case oe.IN_CAPTION:case oe.IN_CELL:case oe.IN_TEMPLATE:{lw(this,t);break}case oe.TEXT:case oe.IN_SELECT:case oe.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case oe.IN_TABLE:case oe.IN_TABLE_BODY:case oe.IN_ROW:{V1(this,t);break}case oe.IN_TABLE_TEXT:{mw(this,t);break}case oe.IN_COLUMN_GROUP:{W0(this,t);break}case oe.AFTER_BODY:{Y0(this,t);break}case oe.AFTER_AFTER_BODY:{T0(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Wk(this,t);return}switch(this.insertionMode){case oe.INITIAL:{gf(this,t);break}case oe.BEFORE_HTML:{Pf(this,t);break}case oe.BEFORE_HEAD:{Of(this,t);break}case oe.IN_HEAD:{Rf(this,t);break}case oe.IN_HEAD_NO_SCRIPT:{Df(this,t);break}case oe.AFTER_HEAD:{Mf(this,t);break}case oe.TEXT:{this._insertCharacters(t);break}case oe.IN_TABLE:case oe.IN_TABLE_BODY:case oe.IN_ROW:{V1(this,t);break}case oe.IN_COLUMN_GROUP:{W0(this,t);break}case oe.AFTER_BODY:{Y0(this,t);break}case oe.AFTER_AFTER_BODY:{T0(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Fm(this,t);return}switch(this.insertionMode){case oe.INITIAL:case oe.BEFORE_HTML:case oe.BEFORE_HEAD:case oe.IN_HEAD:case oe.IN_HEAD_NO_SCRIPT:case oe.AFTER_HEAD:case oe.IN_BODY:case oe.IN_TABLE:case oe.IN_CAPTION:case oe.IN_COLUMN_GROUP:case oe.IN_TABLE_BODY:case oe.IN_ROW:case oe.IN_CELL:case oe.IN_SELECT:case oe.IN_SELECT_IN_TABLE:case oe.IN_TEMPLATE:case oe.IN_FRAMESET:case oe.AFTER_FRAMESET:{Fm(this,t);break}case oe.IN_TABLE_TEXT:{bf(this,t);break}case oe.AFTER_BODY:{TL(this,t);break}case oe.AFTER_AFTER_BODY:case oe.AFTER_AFTER_FRAMESET:{SL(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case oe.INITIAL:{AL(this,t);break}case oe.BEFORE_HEAD:case oe.IN_HEAD:case oe.IN_HEAD_NO_SCRIPT:case oe.AFTER_HEAD:{this._err(t,Be.misplacedDoctype);break}case oe.IN_TABLE_TEXT:{bf(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Be.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Gk(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case oe.INITIAL:{gf(this,t);break}case oe.BEFORE_HTML:{NL(this,t);break}case oe.BEFORE_HEAD:{LL(this,t);break}case oe.IN_HEAD:{Ha(this,t);break}case oe.IN_HEAD_NO_SCRIPT:{PL(this,t);break}case oe.AFTER_HEAD:{RL(this,t);break}case oe.IN_BODY:{Oi(this,t);break}case oe.IN_TABLE:{wd(this,t);break}case oe.IN_TABLE_TEXT:{bf(this,t);break}case oe.IN_CAPTION:{kk(this,t);break}case oe.IN_COLUMN_GROUP:{Vg(this,t);break}case oe.IN_TABLE_BODY:{xp(this,t);break}case oe.IN_ROW:{Tp(this,t);break}case oe.IN_CELL:{Ok(this,t);break}case oe.IN_SELECT:{yw(this,t);break}case oe.IN_SELECT_IN_TABLE:{Dk(this,t);break}case oe.IN_TEMPLATE:{Fk(this,t);break}case oe.AFTER_BODY:{Bk(this,t);break}case oe.IN_FRAMESET:{Uk(this,t);break}case oe.AFTER_FRAMESET:{qk(this,t);break}case oe.AFTER_AFTER_BODY:{$k(this,t);break}case oe.AFTER_AFTER_FRAMESET:{Vk(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Kk(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case oe.INITIAL:{gf(this,t);break}case oe.BEFORE_HTML:{CL(this,t);break}case oe.BEFORE_HEAD:{kL(this,t);break}case oe.IN_HEAD:{IL(this,t);break}case oe.IN_HEAD_NO_SCRIPT:{OL(this,t);break}case oe.AFTER_HEAD:{DL(this,t);break}case oe.IN_BODY:{_p(this,t);break}case oe.TEXT:{wk(this,t);break}case oe.IN_TABLE:{Zf(this,t);break}case oe.IN_TABLE_TEXT:{bf(this,t);break}case oe.IN_CAPTION:{Ik(this,t);break}case oe.IN_COLUMN_GROUP:{Pk(this,t);break}case oe.IN_TABLE_BODY:{jm(this,t);break}case oe.IN_ROW:{bw(this,t);break}case oe.IN_CELL:{Rk(this,t);break}case oe.IN_SELECT:{vw(this,t);break}case oe.IN_SELECT_IN_TABLE:{Mk(this,t);break}case oe.IN_TEMPLATE:{jk(this,t);break}case oe.AFTER_BODY:{Ew(this,t);break}case oe.IN_FRAMESET:{Hk(this,t);break}case oe.AFTER_FRAMESET:{zk(this,t);break}case oe.AFTER_AFTER_BODY:{T0(this,t);break}}}onEof(t){switch(this.insertionMode){case oe.INITIAL:{gf(this,t);break}case oe.BEFORE_HTML:{Pf(this,t);break}case oe.BEFORE_HEAD:{Of(this,t);break}case oe.IN_HEAD:{Rf(this,t);break}case oe.IN_HEAD_NO_SCRIPT:{Df(this,t);break}case oe.AFTER_HEAD:{Mf(this,t);break}case oe.IN_BODY:case oe.IN_TABLE:case oe.IN_CAPTION:case oe.IN_COLUMN_GROUP:case oe.IN_TABLE_BODY:case oe.IN_ROW:case oe.IN_CELL:case oe.IN_SELECT:case oe.IN_SELECT_IN_TABLE:{hw(this,t);break}case oe.TEXT:{Ek(this,t);break}case oe.IN_TABLE_TEXT:{bf(this,t);break}case oe.IN_TEMPLATE:{ww(this,t);break}case oe.AFTER_BODY:case oe.IN_FRAMESET:case oe.AFTER_FRAMESET:case oe.AFTER_AFTER_BODY:case oe.AFTER_AFTER_FRAMESET:{$g(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===G.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case oe.IN_HEAD:case oe.IN_HEAD_NO_SCRIPT:case oe.AFTER_HEAD:case oe.TEXT:case oe.IN_COLUMN_GROUP:case oe.IN_SELECT:case oe.IN_SELECT_IN_TABLE:case oe.IN_FRAMESET:case oe.AFTER_FRAMESET:{this._insertCharacters(t);break}case oe.IN_BODY:case oe.IN_CAPTION:case oe.IN_CELL:case oe.IN_TEMPLATE:case oe.AFTER_BODY:case oe.AFTER_AFTER_BODY:case oe.AFTER_AFTER_FRAMESET:{uw(this,t);break}case oe.IN_TABLE:case oe.IN_TABLE_BODY:case oe.IN_ROW:{V1(this,t);break}case oe.IN_TABLE_TEXT:{pw(this,t);break}}}};function yL(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):fw(e,t),n}function vL(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function wL(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,u=i;u!==n;s++,u=i){i=e.openElements.getCommonAncestor(u);const l=e.activeFormattingElements.getElementEntry(u),c=l&&s>=gL;!l||c?(c&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(u)):(u=EL(e,l),r===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(u,r),r=u)}return r}function EL(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function _L(e,t,n){const r=e.treeAdapter.getTagName(t),i=wp(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===w.TEMPLATE&&s===Qe.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function xL(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function zg(e,t){for(let n=0;n<mL;n++){const r=yL(e,t);if(!r)break;const i=vL(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=wL(e,i,r.element),u=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),u&&_L(e,u,s),xL(e,i,r)}}function Fm(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function TL(e,t){e._appendCommentNode(t,e.openElements.items[0])}function SL(e,t){e._appendCommentNode(t,e.document)}function $g(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],u=e.treeAdapter.getNodeSourceCodeLocation(s);u&&!u.endTag&&e._setEndLocation(s,t)}}}}function AL(e,t){e._setDocumentType(t);const n=t.forceQuirks?Rs.QUIRKS:nL(t);tL(t)||e._err(t,Be.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=oe.BEFORE_HTML}function gf(e,t){e._err(t,Be.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Rs.QUIRKS),e.insertionMode=oe.BEFORE_HTML,e._processToken(t)}function NL(e,t){t.tagID===w.HTML?(e._insertElement(t,Qe.HTML),e.insertionMode=oe.BEFORE_HEAD):Pf(e,t)}function CL(e,t){const n=t.tagID;(n===w.HTML||n===w.HEAD||n===w.BODY||n===w.BR)&&Pf(e,t)}function Pf(e,t){e._insertFakeRootElement(),e.insertionMode=oe.BEFORE_HEAD,e._processToken(t)}function LL(e,t){switch(t.tagID){case w.HTML:{Oi(e,t);break}case w.HEAD:{e._insertElement(t,Qe.HTML),e.headElement=e.openElements.current,e.insertionMode=oe.IN_HEAD;break}default:Of(e,t)}}function kL(e,t){const n=t.tagID;n===w.HEAD||n===w.BODY||n===w.HTML||n===w.BR?Of(e,t):e._err(t,Be.endTagWithoutMatchingOpenElement)}function Of(e,t){e._insertFakeElement(Pe.HEAD,w.HEAD),e.headElement=e.openElements.current,e.insertionMode=oe.IN_HEAD,e._processToken(t)}function Ha(e,t){switch(t.tagID){case w.HTML:{Oi(e,t);break}case w.BASE:case w.BASEFONT:case w.BGSOUND:case w.LINK:case w.META:{e._appendElement(t,Qe.HTML),t.ackSelfClosing=!0;break}case w.TITLE:{e._switchToTextParsing(t,hs.RCDATA);break}case w.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,hs.RAWTEXT):(e._insertElement(t,Qe.HTML),e.insertionMode=oe.IN_HEAD_NO_SCRIPT);break}case w.NOFRAMES:case w.STYLE:{e._switchToTextParsing(t,hs.RAWTEXT);break}case w.SCRIPT:{e._switchToTextParsing(t,hs.SCRIPT_DATA);break}case w.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=oe.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(oe.IN_TEMPLATE);break}case w.HEAD:{e._err(t,Be.misplacedStartTagForHeadElement);break}default:Rf(e,t)}}function IL(e,t){switch(t.tagID){case w.HEAD:{e.openElements.pop(),e.insertionMode=oe.AFTER_HEAD;break}case w.BODY:case w.BR:case w.HTML:{Rf(e,t);break}case w.TEMPLATE:{_c(e,t);break}default:e._err(t,Be.endTagWithoutMatchingOpenElement)}}function _c(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==w.TEMPLATE&&e._err(t,Be.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(w.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Be.endTagWithoutMatchingOpenElement)}function Rf(e,t){e.openElements.pop(),e.insertionMode=oe.AFTER_HEAD,e._processToken(t)}function PL(e,t){switch(t.tagID){case w.HTML:{Oi(e,t);break}case w.BASEFONT:case w.BGSOUND:case w.HEAD:case w.LINK:case w.META:case w.NOFRAMES:case w.STYLE:{Ha(e,t);break}case w.NOSCRIPT:{e._err(t,Be.nestedNoscriptInHead);break}default:Df(e,t)}}function OL(e,t){switch(t.tagID){case w.NOSCRIPT:{e.openElements.pop(),e.insertionMode=oe.IN_HEAD;break}case w.BR:{Df(e,t);break}default:e._err(t,Be.endTagWithoutMatchingOpenElement)}}function Df(e,t){const n=t.type===gn.EOF?Be.openElementsLeftAfterEof:Be.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=oe.IN_HEAD,e._processToken(t)}function RL(e,t){switch(t.tagID){case w.HTML:{Oi(e,t);break}case w.BODY:{e._insertElement(t,Qe.HTML),e.framesetOk=!1,e.insertionMode=oe.IN_BODY;break}case w.FRAMESET:{e._insertElement(t,Qe.HTML),e.insertionMode=oe.IN_FRAMESET;break}case w.BASE:case w.BASEFONT:case w.BGSOUND:case w.LINK:case w.META:case w.NOFRAMES:case w.SCRIPT:case w.STYLE:case w.TEMPLATE:case w.TITLE:{e._err(t,Be.abandonedHeadElementChild),e.openElements.push(e.headElement,w.HEAD),Ha(e,t),e.openElements.remove(e.headElement);break}case w.HEAD:{e._err(t,Be.misplacedStartTagForHeadElement);break}default:Mf(e,t)}}function DL(e,t){switch(t.tagID){case w.BODY:case w.HTML:case w.BR:{Mf(e,t);break}case w.TEMPLATE:{_c(e,t);break}default:e._err(t,Be.endTagWithoutMatchingOpenElement)}}function Mf(e,t){e._insertFakeElement(Pe.BODY,w.BODY),e.insertionMode=oe.IN_BODY,Ep(e,t)}function Ep(e,t){switch(t.type){case gn.CHARACTER:{lw(e,t);break}case gn.WHITESPACE_CHARACTER:{uw(e,t);break}case gn.COMMENT:{Fm(e,t);break}case gn.START_TAG:{Oi(e,t);break}case gn.END_TAG:{_p(e,t);break}case gn.EOF:{hw(e,t);break}}}function uw(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function lw(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function ML(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function FL(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function jL(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Qe.HTML),e.insertionMode=oe.IN_FRAMESET)}function BL(e,t){e.openElements.hasInButtonScope(w.P)&&e._closePElement(),e._insertElement(t,Qe.HTML)}function UL(e,t){e.openElements.hasInButtonScope(w.P)&&e._closePElement(),Mm.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Qe.HTML)}function HL(e,t){e.openElements.hasInButtonScope(w.P)&&e._closePElement(),e._insertElement(t,Qe.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function qL(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(w.P)&&e._closePElement(),e._insertElement(t,Qe.HTML),n||(e.formElement=e.openElements.current))}function zL(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===w.LI&&i===w.LI||(n===w.DD||n===w.DT)&&(i===w.DD||i===w.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==w.ADDRESS&&i!==w.DIV&&i!==w.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(w.P)&&e._closePElement(),e._insertElement(t,Qe.HTML)}function $L(e,t){e.openElements.hasInButtonScope(w.P)&&e._closePElement(),e._insertElement(t,Qe.HTML),e.tokenizer.state=hs.PLAINTEXT}function VL(e,t){e.openElements.hasInScope(w.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(w.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Qe.HTML),e.framesetOk=!1}function WL(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Pe.A);n&&(zg(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Qe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function YL(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Qe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function GL(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(w.NOBR)&&(zg(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Qe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function KL(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Qe.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function QL(e,t){e.treeAdapter.getDocumentMode(e.document)!==Rs.QUIRKS&&e.openElements.hasInButtonScope(w.P)&&e._closePElement(),e._insertElement(t,Qe.HTML),e.framesetOk=!1,e.insertionMode=oe.IN_TABLE}function cw(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Qe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function dw(e){const t=Jv(e,hc.TYPE);return t!=null&&t.toLowerCase()===pL}function XL(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Qe.HTML),dw(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function JL(e,t){e._appendElement(t,Qe.HTML),t.ackSelfClosing=!0}function ZL(e,t){e.openElements.hasInButtonScope(w.P)&&e._closePElement(),e._appendElement(t,Qe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function ek(e,t){t.tagName=Pe.IMG,t.tagID=w.IMG,cw(e,t)}function tk(e,t){e._insertElement(t,Qe.HTML),e.skipNextNewLine=!0,e.tokenizer.state=hs.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=oe.TEXT}function nk(e,t){e.openElements.hasInButtonScope(w.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,hs.RAWTEXT)}function rk(e,t){e.framesetOk=!1,e._switchToTextParsing(t,hs.RAWTEXT)}function Ub(e,t){e._switchToTextParsing(t,hs.RAWTEXT)}function ik(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Qe.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===oe.IN_TABLE||e.insertionMode===oe.IN_CAPTION||e.insertionMode===oe.IN_TABLE_BODY||e.insertionMode===oe.IN_ROW||e.insertionMode===oe.IN_CELL?oe.IN_SELECT_IN_TABLE:oe.IN_SELECT}function sk(e,t){e.openElements.currentTagId===w.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Qe.HTML)}function ak(e,t){e.openElements.hasInScope(w.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Qe.HTML)}function ok(e,t){e.openElements.hasInScope(w.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(w.RTC),e._insertElement(t,Qe.HTML)}function uk(e,t){e._reconstructActiveFormattingElements(),iw(t),qg(t),t.selfClosing?e._appendElement(t,Qe.MATHML):e._insertElement(t,Qe.MATHML),t.ackSelfClosing=!0}function lk(e,t){e._reconstructActiveFormattingElements(),sw(t),qg(t),t.selfClosing?e._appendElement(t,Qe.SVG):e._insertElement(t,Qe.SVG),t.ackSelfClosing=!0}function Hb(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Qe.HTML)}function Oi(e,t){switch(t.tagID){case w.I:case w.S:case w.B:case w.U:case w.EM:case w.TT:case w.BIG:case w.CODE:case w.FONT:case w.SMALL:case w.STRIKE:case w.STRONG:{YL(e,t);break}case w.A:{WL(e,t);break}case w.H1:case w.H2:case w.H3:case w.H4:case w.H5:case w.H6:{UL(e,t);break}case w.P:case w.DL:case w.OL:case w.UL:case w.DIV:case w.DIR:case w.NAV:case w.MAIN:case w.MENU:case w.ASIDE:case w.CENTER:case w.FIGURE:case w.FOOTER:case w.HEADER:case w.HGROUP:case w.DIALOG:case w.DETAILS:case w.ADDRESS:case w.ARTICLE:case w.SEARCH:case w.SECTION:case w.SUMMARY:case w.FIELDSET:case w.BLOCKQUOTE:case w.FIGCAPTION:{BL(e,t);break}case w.LI:case w.DD:case w.DT:{zL(e,t);break}case w.BR:case w.IMG:case w.WBR:case w.AREA:case w.EMBED:case w.KEYGEN:{cw(e,t);break}case w.HR:{ZL(e,t);break}case w.RB:case w.RTC:{ak(e,t);break}case w.RT:case w.RP:{ok(e,t);break}case w.PRE:case w.LISTING:{HL(e,t);break}case w.XMP:{nk(e,t);break}case w.SVG:{lk(e,t);break}case w.HTML:{ML(e,t);break}case w.BASE:case w.LINK:case w.META:case w.STYLE:case w.TITLE:case w.SCRIPT:case w.BGSOUND:case w.BASEFONT:case w.TEMPLATE:{Ha(e,t);break}case w.BODY:{FL(e,t);break}case w.FORM:{qL(e,t);break}case w.NOBR:{GL(e,t);break}case w.MATH:{uk(e,t);break}case w.TABLE:{QL(e,t);break}case w.INPUT:{XL(e,t);break}case w.PARAM:case w.TRACK:case w.SOURCE:{JL(e,t);break}case w.IMAGE:{ek(e,t);break}case w.BUTTON:{VL(e,t);break}case w.APPLET:case w.OBJECT:case w.MARQUEE:{KL(e,t);break}case w.IFRAME:{rk(e,t);break}case w.SELECT:{ik(e,t);break}case w.OPTION:case w.OPTGROUP:{sk(e,t);break}case w.NOEMBED:case w.NOFRAMES:{Ub(e,t);break}case w.FRAMESET:{jL(e,t);break}case w.TEXTAREA:{tk(e,t);break}case w.NOSCRIPT:{e.options.scriptingEnabled?Ub(e,t):Hb(e,t);break}case w.PLAINTEXT:{$L(e,t);break}case w.COL:case w.TH:case w.TD:case w.TR:case w.HEAD:case w.FRAME:case w.TBODY:case w.TFOOT:case w.THEAD:case w.CAPTION:case w.COLGROUP:break;default:Hb(e,t)}}function ck(e,t){if(e.openElements.hasInScope(w.BODY)&&(e.insertionMode=oe.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function dk(e,t){e.openElements.hasInScope(w.BODY)&&(e.insertionMode=oe.AFTER_BODY,Ew(e,t))}function fk(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function hk(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(w.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(w.FORM):n&&e.openElements.remove(n))}function pk(e){e.openElements.hasInButtonScope(w.P)||e._insertFakeElement(Pe.P,w.P),e._closePElement()}function mk(e){e.openElements.hasInListItemScope(w.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(w.LI),e.openElements.popUntilTagNamePopped(w.LI))}function gk(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function bk(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function yk(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function vk(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Pe.BR,w.BR),e.openElements.pop(),e.framesetOk=!1}function fw(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],u=e.openElements.tagIDs[i];if(r===u&&(r!==w.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,u))break}}function _p(e,t){switch(t.tagID){case w.A:case w.B:case w.I:case w.S:case w.U:case w.EM:case w.TT:case w.BIG:case w.CODE:case w.FONT:case w.NOBR:case w.SMALL:case w.STRIKE:case w.STRONG:{zg(e,t);break}case w.P:{pk(e);break}case w.DL:case w.UL:case w.OL:case w.DIR:case w.DIV:case w.NAV:case w.PRE:case w.MAIN:case w.MENU:case w.ASIDE:case w.BUTTON:case w.CENTER:case w.FIGURE:case w.FOOTER:case w.HEADER:case w.HGROUP:case w.DIALOG:case w.ADDRESS:case w.ARTICLE:case w.DETAILS:case w.SEARCH:case w.SECTION:case w.SUMMARY:case w.LISTING:case w.FIELDSET:case w.BLOCKQUOTE:case w.FIGCAPTION:{fk(e,t);break}case w.LI:{mk(e);break}case w.DD:case w.DT:{gk(e,t);break}case w.H1:case w.H2:case w.H3:case w.H4:case w.H5:case w.H6:{bk(e);break}case w.BR:{vk(e);break}case w.BODY:{ck(e,t);break}case w.HTML:{dk(e,t);break}case w.FORM:{hk(e);break}case w.APPLET:case w.OBJECT:case w.MARQUEE:{yk(e,t);break}case w.TEMPLATE:{_c(e,t);break}default:fw(e,t)}}function hw(e,t){e.tmplInsertionModeStack.length>0?ww(e,t):$g(e,t)}function wk(e,t){var n;t.tagID===w.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Ek(e,t){e._err(t,Be.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function V1(e,t){if(aw.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=oe.IN_TABLE_TEXT,t.type){case gn.CHARACTER:{mw(e,t);break}case gn.WHITESPACE_CHARACTER:{pw(e,t);break}}else ph(e,t)}function _k(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Qe.HTML),e.insertionMode=oe.IN_CAPTION}function xk(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Qe.HTML),e.insertionMode=oe.IN_COLUMN_GROUP}function Tk(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Pe.COLGROUP,w.COLGROUP),e.insertionMode=oe.IN_COLUMN_GROUP,Vg(e,t)}function Sk(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Qe.HTML),e.insertionMode=oe.IN_TABLE_BODY}function Ak(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Pe.TBODY,w.TBODY),e.insertionMode=oe.IN_TABLE_BODY,xp(e,t)}function Nk(e,t){e.openElements.hasInTableScope(w.TABLE)&&(e.openElements.popUntilTagNamePopped(w.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Ck(e,t){dw(t)?e._appendElement(t,Qe.HTML):ph(e,t),t.ackSelfClosing=!0}function Lk(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Qe.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function wd(e,t){switch(t.tagID){case w.TD:case w.TH:case w.TR:{Ak(e,t);break}case w.STYLE:case w.SCRIPT:case w.TEMPLATE:{Ha(e,t);break}case w.COL:{Tk(e,t);break}case w.FORM:{Lk(e,t);break}case w.TABLE:{Nk(e,t);break}case w.TBODY:case w.TFOOT:case w.THEAD:{Sk(e,t);break}case w.INPUT:{Ck(e,t);break}case w.CAPTION:{_k(e,t);break}case w.COLGROUP:{xk(e,t);break}default:ph(e,t)}}function Zf(e,t){switch(t.tagID){case w.TABLE:{e.openElements.hasInTableScope(w.TABLE)&&(e.openElements.popUntilTagNamePopped(w.TABLE),e._resetInsertionMode());break}case w.TEMPLATE:{_c(e,t);break}case w.BODY:case w.CAPTION:case w.COL:case w.COLGROUP:case w.HTML:case w.TBODY:case w.TD:case w.TFOOT:case w.TH:case w.THEAD:case w.TR:break;default:ph(e,t)}}function ph(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Ep(e,t),e.fosterParentingEnabled=n}function pw(e,t){e.pendingCharacterTokens.push(t)}function mw(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function bf(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ph(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const gw=new Set([w.CAPTION,w.COL,w.COLGROUP,w.TBODY,w.TD,w.TFOOT,w.TH,w.THEAD,w.TR]);function kk(e,t){const n=t.tagID;gw.has(n)?e.openElements.hasInTableScope(w.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(w.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=oe.IN_TABLE,wd(e,t)):Oi(e,t)}function Ik(e,t){const n=t.tagID;switch(n){case w.CAPTION:case w.TABLE:{e.openElements.hasInTableScope(w.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(w.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=oe.IN_TABLE,n===w.TABLE&&Zf(e,t));break}case w.BODY:case w.COL:case w.COLGROUP:case w.HTML:case w.TBODY:case w.TD:case w.TFOOT:case w.TH:case w.THEAD:case w.TR:break;default:_p(e,t)}}function Vg(e,t){switch(t.tagID){case w.HTML:{Oi(e,t);break}case w.COL:{e._appendElement(t,Qe.HTML),t.ackSelfClosing=!0;break}case w.TEMPLATE:{Ha(e,t);break}default:W0(e,t)}}function Pk(e,t){switch(t.tagID){case w.COLGROUP:{e.openElements.currentTagId===w.COLGROUP&&(e.openElements.pop(),e.insertionMode=oe.IN_TABLE);break}case w.TEMPLATE:{_c(e,t);break}case w.COL:break;default:W0(e,t)}}function W0(e,t){e.openElements.currentTagId===w.COLGROUP&&(e.openElements.pop(),e.insertionMode=oe.IN_TABLE,e._processToken(t))}function xp(e,t){switch(t.tagID){case w.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Qe.HTML),e.insertionMode=oe.IN_ROW;break}case w.TH:case w.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Pe.TR,w.TR),e.insertionMode=oe.IN_ROW,Tp(e,t);break}case w.CAPTION:case w.COL:case w.COLGROUP:case w.TBODY:case w.TFOOT:case w.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=oe.IN_TABLE,wd(e,t));break}default:wd(e,t)}}function jm(e,t){const n=t.tagID;switch(t.tagID){case w.TBODY:case w.TFOOT:case w.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=oe.IN_TABLE);break}case w.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=oe.IN_TABLE,Zf(e,t));break}case w.BODY:case w.CAPTION:case w.COL:case w.COLGROUP:case w.HTML:case w.TD:case w.TH:case w.TR:break;default:Zf(e,t)}}function Tp(e,t){switch(t.tagID){case w.TH:case w.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Qe.HTML),e.insertionMode=oe.IN_CELL,e.activeFormattingElements.insertMarker();break}case w.CAPTION:case w.COL:case w.COLGROUP:case w.TBODY:case w.TFOOT:case w.THEAD:case w.TR:{e.openElements.hasInTableScope(w.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=oe.IN_TABLE_BODY,xp(e,t));break}default:wd(e,t)}}function bw(e,t){switch(t.tagID){case w.TR:{e.openElements.hasInTableScope(w.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=oe.IN_TABLE_BODY);break}case w.TABLE:{e.openElements.hasInTableScope(w.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=oe.IN_TABLE_BODY,jm(e,t));break}case w.TBODY:case w.TFOOT:case w.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(w.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=oe.IN_TABLE_BODY,jm(e,t));break}case w.BODY:case w.CAPTION:case w.COL:case w.COLGROUP:case w.HTML:case w.TD:case w.TH:break;default:Zf(e,t)}}function Ok(e,t){const n=t.tagID;gw.has(n)?(e.openElements.hasInTableScope(w.TD)||e.openElements.hasInTableScope(w.TH))&&(e._closeTableCell(),Tp(e,t)):Oi(e,t)}function Rk(e,t){const n=t.tagID;switch(n){case w.TD:case w.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=oe.IN_ROW);break}case w.TABLE:case w.TBODY:case w.TFOOT:case w.THEAD:case w.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),bw(e,t));break}case w.BODY:case w.CAPTION:case w.COL:case w.COLGROUP:case w.HTML:break;default:_p(e,t)}}function yw(e,t){switch(t.tagID){case w.HTML:{Oi(e,t);break}case w.OPTION:{e.openElements.currentTagId===w.OPTION&&e.openElements.pop(),e._insertElement(t,Qe.HTML);break}case w.OPTGROUP:{e.openElements.currentTagId===w.OPTION&&e.openElements.pop(),e.openElements.currentTagId===w.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Qe.HTML);break}case w.HR:{e.openElements.currentTagId===w.OPTION&&e.openElements.pop(),e.openElements.currentTagId===w.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Qe.HTML),t.ackSelfClosing=!0;break}case w.INPUT:case w.KEYGEN:case w.TEXTAREA:case w.SELECT:{e.openElements.hasInSelectScope(w.SELECT)&&(e.openElements.popUntilTagNamePopped(w.SELECT),e._resetInsertionMode(),t.tagID!==w.SELECT&&e._processStartTag(t));break}case w.SCRIPT:case w.TEMPLATE:{Ha(e,t);break}}}function vw(e,t){switch(t.tagID){case w.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===w.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===w.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===w.OPTGROUP&&e.openElements.pop();break}case w.OPTION:{e.openElements.currentTagId===w.OPTION&&e.openElements.pop();break}case w.SELECT:{e.openElements.hasInSelectScope(w.SELECT)&&(e.openElements.popUntilTagNamePopped(w.SELECT),e._resetInsertionMode());break}case w.TEMPLATE:{_c(e,t);break}}}function Dk(e,t){const n=t.tagID;n===w.CAPTION||n===w.TABLE||n===w.TBODY||n===w.TFOOT||n===w.THEAD||n===w.TR||n===w.TD||n===w.TH?(e.openElements.popUntilTagNamePopped(w.SELECT),e._resetInsertionMode(),e._processStartTag(t)):yw(e,t)}function Mk(e,t){const n=t.tagID;n===w.CAPTION||n===w.TABLE||n===w.TBODY||n===w.TFOOT||n===w.THEAD||n===w.TR||n===w.TD||n===w.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(w.SELECT),e._resetInsertionMode(),e.onEndTag(t)):vw(e,t)}function Fk(e,t){switch(t.tagID){case w.BASE:case w.BASEFONT:case w.BGSOUND:case w.LINK:case w.META:case w.NOFRAMES:case w.SCRIPT:case w.STYLE:case w.TEMPLATE:case w.TITLE:{Ha(e,t);break}case w.CAPTION:case w.COLGROUP:case w.TBODY:case w.TFOOT:case w.THEAD:{e.tmplInsertionModeStack[0]=oe.IN_TABLE,e.insertionMode=oe.IN_TABLE,wd(e,t);break}case w.COL:{e.tmplInsertionModeStack[0]=oe.IN_COLUMN_GROUP,e.insertionMode=oe.IN_COLUMN_GROUP,Vg(e,t);break}case w.TR:{e.tmplInsertionModeStack[0]=oe.IN_TABLE_BODY,e.insertionMode=oe.IN_TABLE_BODY,xp(e,t);break}case w.TD:case w.TH:{e.tmplInsertionModeStack[0]=oe.IN_ROW,e.insertionMode=oe.IN_ROW,Tp(e,t);break}default:e.tmplInsertionModeStack[0]=oe.IN_BODY,e.insertionMode=oe.IN_BODY,Oi(e,t)}}function jk(e,t){t.tagID===w.TEMPLATE&&_c(e,t)}function ww(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(w.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):$g(e,t)}function Bk(e,t){t.tagID===w.HTML?Oi(e,t):Y0(e,t)}function Ew(e,t){var n;if(t.tagID===w.HTML){if(e.fragmentContext||(e.insertionMode=oe.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===w.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Y0(e,t)}function Y0(e,t){e.insertionMode=oe.IN_BODY,Ep(e,t)}function Uk(e,t){switch(t.tagID){case w.HTML:{Oi(e,t);break}case w.FRAMESET:{e._insertElement(t,Qe.HTML);break}case w.FRAME:{e._appendElement(t,Qe.HTML),t.ackSelfClosing=!0;break}case w.NOFRAMES:{Ha(e,t);break}}}function Hk(e,t){t.tagID===w.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==w.FRAMESET&&(e.insertionMode=oe.AFTER_FRAMESET))}function qk(e,t){switch(t.tagID){case w.HTML:{Oi(e,t);break}case w.NOFRAMES:{Ha(e,t);break}}}function zk(e,t){t.tagID===w.HTML&&(e.insertionMode=oe.AFTER_AFTER_FRAMESET)}function $k(e,t){t.tagID===w.HTML?Oi(e,t):T0(e,t)}function T0(e,t){e.insertionMode=oe.IN_BODY,Ep(e,t)}function Vk(e,t){switch(t.tagID){case w.HTML:{Oi(e,t);break}case w.NOFRAMES:{Ha(e,t);break}}}function Wk(e,t){t.chars=tr,e._insertCharacters(t)}function Yk(e,t){e._insertCharacters(t),e.framesetOk=!1}function _w(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Qe.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Gk(e,t){if(lL(t))_w(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Qe.MATHML?iw(t):r===Qe.SVG&&(cL(t),sw(t)),qg(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function Kk(e,t){if(t.tagID===w.P||t.tagID===w.BR){_w(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Qe.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}const Qk=new Set([Pe.AREA,Pe.BASE,Pe.BASEFONT,Pe.BGSOUND,Pe.BR,Pe.COL,Pe.EMBED,Pe.FRAME,Pe.HR,Pe.IMG,Pe.INPUT,Pe.KEYGEN,Pe.LINK,Pe.META,Pe.PARAM,Pe.SOURCE,Pe.TRACK,Pe.WBR]);function Xk(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===Qe.HTML&&Qk.has(t.treeAdapter.getTagName(e))}const Jk={treeAdapter:cu,scriptingEnabled:!0};function Zk(e,t){const n={...Jk,...t};return xw(e,n)}function eI(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===Pe.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===Qe.HTML?t.treeAdapter.getTemplateContent(e):e,i=t.treeAdapter.getChildNodes(r);if(i)for(const s of i)n+=xw(s,t);return n}function xw(e,t){return t.treeAdapter.isElementNode(e)?tI(e,t):t.treeAdapter.isTextNode(e)?rI(e,t):t.treeAdapter.isCommentNode(e)?iI(e,t):t.treeAdapter.isDocumentTypeNode(e)?sI(e,t):""}function tI(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${nI(e,t)}>${Xk(e,t)?"":`${eI(e,t)}</${n}>`}`}function nI(e,{treeAdapter:t}){let n="";for(const r of t.getAttrList(e)){if(n+=" ",r.namespace)switch(r.namespace){case Qe.XML:{n+=`xml:${r.name}`;break}case Qe.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case Qe.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${pv(r.value)}"`}return n}function rI(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),i=n.getParentNode(e),s=i&&n.isElementNode(i)&&n.getTagName(i);return s&&n.getNamespaceURI(i)===Qe.HTML&&F8(s,t.scriptingEnabled)?r:mv(r)}function iI(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function sI(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function aI(e,t){return ow.parse(e,t)}function oI(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=ow.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function qb(e){const t=e.includes('"')?"'":'"';return t+e+t}function uI(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${qb(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${qb(n)}`),r}const dl={isCommentNode:mp,isElementNode:Ht,isTextNode:_o,createDocument(){const e=new bc([]);return e["x-mode"]=Rs.NO_QUIRKS,e},createDocumentFragment(){return new bc([])},createElement(e,t,n){const r=Object.create(null),i=Object.create(null),s=Object.create(null);for(let l=0;l<n.length;l++){const c=n[l].name;r[c]=n[l].value,i[c]=n[l].namespace,s[c]=n[l].prefix}const u=new Ag(e,r,[]);return u.namespace=t,u["x-attribsNamespace"]=i,u["x-attribsPrefix"]=s,u},createCommentNode(e){return new xg(e)},createTextNode(e){return new Gf(e)},appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:i}=n;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){dl.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,n,r){const i=uI(t,n,r);let s=e.children.find(u=>Am(u)&&u.name==="!doctype");s?s.data=i??null:(s=new Tg("!doctype",i),dl.appendChild(e,s)),s["x-name"]=t,s["x-publicId"]=n,s["x-systemId"]=r},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&_o(n)?n.data+=t:dl.appendChild(e,dl.createTextNode(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&_o(r)?r.data+=t:dl.insertBefore(e,dl.createTextNode(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;e.attribs[r]===void 0&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return Am(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function lI(e,t,n,r){var i;return(i=t.treeAdapter)!==null&&i!==void 0||(t.treeAdapter=dl),t.scriptingEnabled!==!1&&(t.scriptingEnabled=!0),n?aI(e,t):oI(r,e,t)}const cI={treeAdapter:dl};function dI(e){const t="length"in e?e:[e];for(let r=0;r<t.length;r+=1){const i=t[r];_l(i)&&Array.prototype.splice.call(t,r,1,...i.children)}let n="";for(let r=0;r<t.length;r+=1){const i=t[r];n+=Zk(i,cI)}return n}var Mt;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(Mt||(Mt={}));var it;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(it||(it={}));function uu(e){return e===Mt.Space||e===Mt.NewLine||e===Mt.Tab||e===Mt.FormFeed||e===Mt.CarriageReturn}function d0(e){return e===Mt.Slash||e===Mt.Gt||uu(e)}function fI(e){return e>=Mt.LowerA&&e<=Mt.LowerZ||e>=Mt.UpperA&&e<=Mt.UpperZ}var yo;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(yo||(yo={}));const di={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class hI{constructor({xmlMode:t=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=it.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=it.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new Cg(t?cv:Ng,(i,s)=>this.emitCodePoint(i,s))}reset(){this.state=it.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=it.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===Mt.Lt||!this.decodeEntities&&this.fastForwardTo(Mt.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=it.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===Mt.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?d0(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=it.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===Mt.Gt||uu(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===di.TitleEnd?this.decodeEntities&&t===Mt.Amp&&this.startEntity():this.fastForwardTo(Mt.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===Mt.Lt)}stateCDATASequence(t){t===di.Cdata[this.sequenceIndex]?++this.sequenceIndex===di.Cdata.length&&(this.state=it.InCommentLike,this.currentSequence=di.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=it.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===di.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=it.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!d0(t):fI(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=it.SpecialStartSequence}stateBeforeTagName(t){if(t===Mt.ExclamationMark)this.state=it.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===Mt.Questionmark)this.state=it.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=it.InTagName:n===di.ScriptEnd[2]?this.state=it.BeforeSpecialS:n===di.TitleEnd[2]?this.state=it.BeforeSpecialT:this.state=it.InTagName}else t===Mt.Slash?this.state=it.BeforeClosingTagName:(this.state=it.Text,this.stateText(t))}stateInTagName(t){d0(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=it.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){uu(t)||(t===Mt.Gt?this.state=it.Text:(this.state=this.isTagStartChar(t)?it.InClosingTagName:it.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===Mt.Gt||uu(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=it.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===Mt.Gt||this.fastForwardTo(Mt.Gt))&&(this.state=it.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===Mt.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=it.InSpecialTag,this.sequenceIndex=0):this.state=it.Text,this.sectionStart=this.index+1):t===Mt.Slash?this.state=it.InSelfClosingTag:uu(t)||(this.state=it.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===Mt.Gt?(this.cbs.onselfclosingtag(this.index),this.state=it.Text,this.sectionStart=this.index+1,this.isSpecial=!1):uu(t)||(this.state=it.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===Mt.Eq||d0(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=it.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===Mt.Eq?this.state=it.BeforeAttributeValue:t===Mt.Slash||t===Mt.Gt?(this.cbs.onattribend(yo.NoValue,this.sectionStart),this.sectionStart=-1,this.state=it.BeforeAttributeName,this.stateBeforeAttributeName(t)):uu(t)||(this.cbs.onattribend(yo.NoValue,this.sectionStart),this.state=it.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===Mt.DoubleQuote?(this.state=it.InAttributeValueDq,this.sectionStart=this.index+1):t===Mt.SingleQuote?(this.state=it.InAttributeValueSq,this.sectionStart=this.index+1):uu(t)||(this.sectionStart=this.index,this.state=it.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===Mt.DoubleQuote?yo.Double:yo.Single,this.index+1),this.state=it.BeforeAttributeName):this.decodeEntities&&t===Mt.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,Mt.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,Mt.SingleQuote)}stateInAttributeValueNoQuotes(t){uu(t)||t===Mt.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(yo.Unquoted,this.index),this.state=it.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===Mt.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===Mt.OpeningSquareBracket?(this.state=it.CDATASequence,this.sequenceIndex=0):this.state=t===Mt.Dash?it.BeforeComment:it.InDeclaration}stateInDeclaration(t){(t===Mt.Gt||this.fastForwardTo(Mt.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=it.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===Mt.Gt||this.fastForwardTo(Mt.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=it.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===Mt.Dash?(this.state=it.InCommentLike,this.currentSequence=di.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=it.InDeclaration}stateInSpecialComment(t){(t===Mt.Gt||this.fastForwardTo(Mt.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=it.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===di.ScriptEnd[3]?this.startSpecial(di.ScriptEnd,4):n===di.StyleEnd[3]?this.startSpecial(di.StyleEnd,4):(this.state=it.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const n=t|32;n===di.TitleEnd[3]?this.startSpecial(di.TitleEnd,4):n===di.TextareaEnd[3]?this.startSpecial(di.TextareaEnd,4):(this.state=it.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=it.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?ra.Strict:this.baseState===it.Text||this.baseState===it.InSpecialTag?ra.Legacy:ra.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===it.Text||this.state===it.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===it.InAttributeValueDq||this.state===it.InAttributeValueSq||this.state===it.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case it.Text:{this.stateText(t);break}case it.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case it.InSpecialTag:{this.stateInSpecialTag(t);break}case it.CDATASequence:{this.stateCDATASequence(t);break}case it.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case it.InAttributeName:{this.stateInAttributeName(t);break}case it.InCommentLike:{this.stateInCommentLike(t);break}case it.InSpecialComment:{this.stateInSpecialComment(t);break}case it.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case it.InTagName:{this.stateInTagName(t);break}case it.InClosingTagName:{this.stateInClosingTagName(t);break}case it.BeforeTagName:{this.stateBeforeTagName(t);break}case it.AfterAttributeName:{this.stateAfterAttributeName(t);break}case it.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case it.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case it.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case it.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case it.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case it.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case it.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case it.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case it.InDeclaration:{this.stateInDeclaration(t);break}case it.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case it.BeforeComment:{this.stateBeforeComment(t);break}case it.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case it.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===it.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===it.InCommentLike?this.currentSequence===di.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===it.InTagName||this.state===it.BeforeAttributeName||this.state===it.BeforeAttributeValue||this.state===it.AfterAttributeName||this.state===it.InAttributeName||this.state===it.InAttributeValueSq||this.state===it.InAttributeValueDq||this.state===it.InAttributeValueNq||this.state===it.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==it.Text&&this.baseState!==it.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const rd=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Rn=new Set(["p"]),zb=new Set(["thead","tbody"]),$b=new Set(["dd","dt"]),Vb=new Set(["rt","rp"]),pI=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Rn],["h1",Rn],["h2",Rn],["h3",Rn],["h4",Rn],["h5",Rn],["h6",Rn],["select",rd],["input",rd],["output",rd],["button",rd],["datalist",rd],["textarea",rd],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",$b],["dt",$b],["address",Rn],["article",Rn],["aside",Rn],["blockquote",Rn],["details",Rn],["div",Rn],["dl",Rn],["fieldset",Rn],["figcaption",Rn],["figure",Rn],["footer",Rn],["form",Rn],["header",Rn],["hr",Rn],["main",Rn],["nav",Rn],["ol",Rn],["pre",Rn],["section",Rn],["table",Rn],["ul",Rn],["rt",Vb],["rp",Vb],["tbody",zb],["tfoot",zb]]),mI=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Wb=new Set(["math","svg"]),Yb=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),gI=/\s|\//;class bI{constructor(t,n={}){var r,i,s,u,l,c;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=n.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(s=n.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((u=n.Tokenizer)!==null&&u!==void 0?u:hI)(this.options,this),this.foreignContext=[!this.htmlMode],(c=(l=this.cbs).onparserinit)===null||c===void 0||c.call(l,this)}ontext(t,n){var r,i;const s=this.getSlice(t,n);this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,s),this.startIndex=n}ontextentity(t,n){var r,i;this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,Nm(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&mI.has(t)}onopentagname(t,n){this.endIndex=n;let r=this.getSlice(t,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var n,r,i,s;this.openTagStart=this.startIndex,this.tagname=t;const u=this.htmlMode&&pI.get(t);if(u)for(;this.stack.length>0&&u.has(this.stack[0]);){const l=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,l,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(Wb.has(t)?this.foreignContext.unshift(!0):Yb.has(t)&&this.foreignContext.unshift(!1))),(s=(i=this.cbs).onopentagname)===null||s===void 0||s.call(i,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var r,i,s,u,l,c,h,p;this.endIndex=n;let b=this.getSlice(t,n);if(this.lowerCaseTagNames&&(b=b.toLowerCase()),this.htmlMode&&(Wb.has(b)||Yb.has(b))&&this.foreignContext.shift(),this.isVoidElement(b))this.htmlMode&&b==="br"&&((u=(s=this.cbs).onopentagname)===null||u===void 0||u.call(s,"br"),(c=(l=this.cbs).onopentag)===null||c===void 0||c.call(l,"br",{},!0),(p=(h=this.cbs).onclosetag)===null||p===void 0||p.call(h,"br",!1));else{const E=this.stack.indexOf(b);if(E!==-1)for(let y=0;y<=E;y++){const S=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,S,y!==E)}else this.htmlMode&&b==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,r;const i=this.tagname;this.endOpenTag(t),this.stack[0]===i&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,i,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const r=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=Nm(t)}onattribend(t,n){var r,i;this.endIndex=n,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,t===yo.Double?'"':t===yo.Single?"'":t===yo.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(gI);let r=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=n+1}oncomment(t,n,r){var i,s,u,l;this.endIndex=n,(s=(i=this.cbs).oncomment)===null||s===void 0||s.call(i,this.getSlice(t,n-r)),(l=(u=this.cbs).oncommentend)===null||l===void 0||l.call(u),this.startIndex=n+1}oncdata(t,n,r){var i,s,u,l,c,h,p,b,E,y;this.endIndex=n;const S=this.getSlice(t,n-r);!this.htmlMode||this.options.recognizeCDATA?((s=(i=this.cbs).oncdatastart)===null||s===void 0||s.call(i),(l=(u=this.cbs).ontext)===null||l===void 0||l.call(u,S),(h=(c=this.cbs).oncdataend)===null||h===void 0||h.call(c)):((b=(p=this.cbs).oncomment)===null||b===void 0||b.call(p,`[CDATA[${S}]]`),(y=(E=this.cbs).oncommentend)===null||y===void 0||y.call(E)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,r,i;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}}function yI(e,t){const n=new vA(void 0,t);return new bI(n,t).end(e),n.root}const vI=GC((e,t,n,r)=>t._useHtmlParser2?yI(e,t):lI(e,t,n,r)),wI=N8(vI,(e,t)=>t._useHtmlParser2?gp(e,t):dI(e)),fi=[];for(let e=0;e<256;++e)fi.push((e+256).toString(16).slice(1));function EI(e,t=0){return(fi[e[t+0]]+fi[e[t+1]]+fi[e[t+2]]+fi[e[t+3]]+"-"+fi[e[t+4]]+fi[e[t+5]]+"-"+fi[e[t+6]]+fi[e[t+7]]+"-"+fi[e[t+8]]+fi[e[t+9]]+"-"+fi[e[t+10]]+fi[e[t+11]]+fi[e[t+12]]+fi[e[t+13]]+fi[e[t+14]]+fi[e[t+15]]).toLowerCase()}let W1;const _I=new Uint8Array(16);function xI(){if(!W1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");W1=crypto.getRandomValues.bind(crypto)}return W1(_I)}const TI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Gb={randomUUID:TI};function Wg(e,t,n){if(Gb.randomUUID&&!e)return Gb.randomUUID();e=e||{};const r=e.random??e.rng?.()??xI();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,EI(r)}const SI="https://proxy.corsfix.com/?";async function AI(e){try{const t=await Pr.get(SI+encodeURIComponent(e));return Tw(t.data,e)}catch(t){return console.error(`Failed to scrape recipe from ${e}:`,t.message),t}}async function Tw(e,t){const n=wI(e),r=NI(n,["meta[property='og:image']","meta[name='og:image']","meta[itemprop='image']","img[class*='recipe-image']:first","img[class*='main-image']:first","img:first"],"content","src"),i=Kb(n,["meta[name='description']","meta[property='og:description']","meta[name='twitter:description']","*[class*='recipe-summary']"])||"",s=Kb(n,["h1.recipe-title","h1:first","h2:first"])||"Untitled Recipe",u=Qb(n,["*[class*='prep_time'], *[class*='prep-time']"]),l=Qb(n,["*[class*='cook_time'], *[class*='cook-time']"]),c=CI(n,["*[class*='servings']","*[class*='yield']"]);return{title:s,description:Xb(i.replace(/\n/g," ").trim()),img_url:r,prep_time:u,cook_time:l,servings:c,ingredients:LI(n),steps:kI(n,["ol[class*='instructions'] li, ul[class*='instructions'] li","div[class*='instructions'] li","div[class*='instructions'] div[class*='step']","ol[class*='preparation'] li","div[class*='steps'] ol li"],Xb),original_recipe_url:t}}function NI(e,t,n,r){for(const i of t){const s=e(i);if(s.length)return s.attr(n)||s.attr(r)||""}return""}function Kb(e,t){for(const n of t){const r=e(n).text().trim();if(r)return r}return""}function Qb(e,t){const n=e(t.join(", ")).filter(function(){return/\d+/.test(e(this).text())});return PI(n)}function CI(e,t){for(const n of t){const r=e(n).filter(function(){return/\d+/.test(e(this).text())}).text().trim();if(r)return parseInt(r.match(/\d+/)?.[0]||"0")}return 0}function LI(e){const t=[],n=["ul[class*='ingredients'] li","ol[class*='ingredients'] li","div[class*='ingredients'] li"];for(const r of n)if(e(r).each((i,s)=>{const u=e(s).text().trim();u&&t.push(II(u))}),t.length)break;return t.map(r=>({id:Wg(),value:r}))}function kI(e,t,n){const r=[];for(const i of t)if(e(i).each((s,u)=>{const l=e(u).html();l&&r.push(n(l))}),r.length)break;return r.map(i=>({id:Wg(),value:i}))}function II(e){const t={"":"1/2","":"1/3","":"2/3","":"1/4","":"3/4","":"1/5","":"2/5","":"3/5","":"4/5"};return e.replace(/(\d+)([])/g,"$1 $2").replace(/[]/g,n=>t[n]||n).replace(/([0-9\/]+)([a-zA-Z])/g,"$1 $2").trim()}function Xb(e){return e.replace(/<[^>]*>/g,"").trim()}function PI(e){if(!e.length)return 0;const t=e.text().trim(),n=parseInt(t.match(/\d+/)?.[0]||"0");return/hour/i.test(t)?n*60:n}const OI=({onCancel:e,onHtmlImportClick:t})=>{const[n,r]=M.useState(""),[i,s]=M.useState(""),[u,l]=M.useState(!1),c=ti(),h=async b=>{try{l(!0);const E=await AI(b);c("/add-new",{state:{recipe:E}}),e(),s("")}catch{s("Failed to fetch the recipe. Please check the URL and try again.")}finally{l(!1)}},p=async b=>{if(b.preventDefault(),!n.trim()){s("URL cannot be empty.");return}await h(n)};return L.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i&&L.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-sm",children:i}),L.jsxs("p",{className:"text-gray-800 dark:text-white",children:["Import via URL supports many recipe sites, but not all. To import from non-supported sites, you can use the"," ",L.jsx("a",{href:"#",onClick:b=>{b.preventDefault(),t()},className:"text-blue-600 dark:text-blue-400 underline",children:"import via html"})," ","option."]}),L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("input",{type:"text",name:"url",id:"url",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:b=>r(b.target.value)}),L.jsx("label",{htmlFor:"url",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Recipe URL"})]}),L.jsxs("div",{className:"flex justify-end space-x-4",children:[L.jsx(wn,{type:"button",onClick:e,children:"Cancel"}),L.jsx(wn,{type:"submit",isLoading:u,children:"Import"})]})]})},RI=({onCancel:e})=>{const[t,n]=M.useState(""),[r,i]=M.useState(""),[s,u]=M.useState(!1),l=ti(),{closeModal:c}=So(),h=async()=>{try{u(!0);const b=await Tw(t,"");l("/add-new",{state:{recipe:b}}),e(),c(),i("")}catch{i("Failed to process the recipe. Please check the HTML content.")}finally{u(!1)}},p=async b=>{if(b.preventDefault(),!t.trim()){i("HTML content cannot be empty.");return}await h()};return L.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r&&L.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-sm",children:r}),L.jsx("div",{className:"relative z-0 w-full mb-5 group",children:L.jsx("textarea",{name:"htmlContent",id:"htmlContent",rows:6,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:"Paste HTML content here...",value:t,onChange:b=>n(b.target.value)})}),L.jsxs("div",{className:"flex justify-end space-x-4",children:[L.jsx(wn,{type:"button",onClick:e,children:"Cancel"}),L.jsx(wn,{type:"submit",isLoading:s,children:"Process"})]})]})},Yg=({onClose:e})=>{const[t,n]=M.useState(null),r=ti(),i=()=>{r("/add-new"),e()};return L.jsxs("div",{role:"dialog","aria-labelledby":"modal-title","aria-describedby":"modal-description",className:"p-4",children:[L.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:t==="url"?"Import Recipe from URL":t==="html"?"Paste Recipe HTML":"Add Recipe"}),t==="url"?L.jsx(OI,{onCancel:()=>n(null),onHtmlImportClick:()=>n("html")}):t==="html"?L.jsx(RI,{onCancel:()=>n(null)}):L.jsxs(L.Fragment,{children:[L.jsx("p",{id:"modal-description",className:"text-gray-600 dark:text-gray-400 mb-6",children:"How would you like to add your recipe?"}),L.jsxs("div",{className:"flex flex-col space-y-4",children:[L.jsx(wn,{onClick:()=>n("url"),"aria-label":"Import recipe from URL",children:"Import from URL"}),L.jsx(wn,{onClick:()=>n("html"),"aria-label":"Paste HTML content",children:"Paste HTML"}),L.jsx(wn,{className:"w-full","aria-label":"Manually add a recipe",onClick:i,children:"Manual Input"})]})]})]})},DI={success:L.jsx(yT,{className:"w-6 h-6 text-green-500"}),error:L.jsx(AT,{className:"w-6 h-6 text-red-500"}),info:L.jsx(xT,{className:"w-6 h-6 text-blue-500"}),warning:L.jsx(wT,{className:"w-6 h-6 text-yellow-500"})},MI=({id:e,message:t,type:n,onClose:r})=>L.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg shadow-md border-l-4
                transition-all duration-300
                dark:bg-gray-800 dark:text-gray-200 bg-white text-gray-800
                ${{success:"border-green-500",error:"border-red-500",info:"border-blue-500",warning:"border-yellow-500"}[n]}
            `,children:[DI[n],L.jsx("span",{children:t}),L.jsx("button",{onClick:()=>r(e),className:"ml-auto",children:L.jsx(oh,{className:"w-5 h-5 dark:text-gray-400 dark:hover:text-gray-200 text-gray-500 hover:text-gray-700"})})]}),Sw=M.createContext(null);function FI({children:e}){const[t,n]=M.useState([]),r=M.useCallback(u=>{n(l=>l.filter(c=>c.id!==u))},[]),i=M.useCallback((u="Something went wrong. Please try again.",l="success",c=3e3)=>{const h=Date.now();n(p=>[...p,{id:h,message:u,type:l}]),setTimeout(()=>r(h),c)},[r]),s=M.useMemo(()=>({success:(u,l)=>i(u,"success",l),error:(u,l)=>i(u,"error",l),info:(u,l)=>i(u,"info",l),warning:(u,l)=>i(u,"warning",l)}),[i]);return L.jsxs(Sw.Provider,{value:s,children:[e,L.jsx("div",{className:"fixed top-5 right-5 z-50 flex flex-col space-y-2",children:t.map(u=>L.jsx(MI,{...u,onClose:()=>r(u.id)},u.id))})]})}function Fs(){const e=M.useContext(Sw);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const jI=async(e,t,n)=>await Wt.request("getList",async r=>{let i=r.from(on.TAGS).select("*",{count:"exact"}).range(e,e+t-1);n&&(i=i.or(`title.ilike.%${n}%`));const{data:s,count:u,error:l}=await i;if(l)throw new Error("Failed to fetch tags.");return{data:s,count:u}}),BI=async(e,t)=>await Wt.request(`upsert-${e||"new"}`,async n=>{let r=e;if(e){if(Object.keys(t.title).length>0){const{error:i}=await n.from(on.TAGS).update(t).eq("id",e);if(i)throw new Error(`Failed to update tag: ${i.message}`)}}else{const{data:i,error:s}=await n.from(on.TAGS).insert([{title:t.title}]).select().single();if(s)throw new Error(`Failed to insert new tag: ${s.message}`);r=i.id}return{success:!0,tagId:r}}),UI=async e=>await Wt.request(`deleteById-${e}`,async t=>{const{error:n}=await t.from(on.TAGS).delete().eq("id",e);if(n)throw new Error("Failed to delete tag.")}),HI=async(e,t)=>await Wt.request(`addToRecipe-${e}`,async n=>{const r=t.map(s=>({recipe_id:e,tag_id:s.id})),{error:i}=await n.from(on.RECIPE_TO_TAGS).insert(r);if(i)throw new Error("Failed to add tag to recipe.");return{success:!0}}),qI=async(e,t)=>{const n=t.map(r=>r.id);return await Wt.request(`removeManyFromCollection-${e}`,async r=>{const{error:i}=await r.from(on.RECIPE_TO_TAGS).delete().eq("recipe_id",e).in("tag_id",n);if(i)throw new Error("Failed to remove tags from collection.")})},zI=async(e,t)=>await Wt.request(`addToCollection-${e}`,async n=>{const r=t.map(s=>({collection_id:e,tag_id:s.id})),{error:i}=await n.from(on.COLLECTION_TO_TAGS).insert(r);if(i)throw new Error("Failed to add tag to recipe.");return{success:!0}}),$I=async(e,t)=>{const n=t.map(r=>r.id);return await Wt.request(`removeManyFromCollection-${e}`,async r=>{const{error:i}=await r.from(on.COLLECTION_TO_RECIPES).delete().eq("collection_id",e).in("tag_id",n);if(i)throw new Error("Failed to remove tags from collection.")})},VI=async e=>await Wt.request(`removeAllFromRecipe-${e}`,async t=>{const{error:n}=await t.from(on.RECIPE_TO_TAGS).delete().eq("recipe_id",e);if(n)throw new Error("Failed to remove tags from recipe.")}),WI=async e=>await Wt.request(`removeAllFromCollection-${e}`,async t=>{const{error:n}=await t.from(on.COLLECTION_TO_TAGS).delete().eq("collection_id",e);if(n)throw new Error("Failed to remove tags from recipe.")}),ia={addToRecipe:HI,addToCollection:zI,removeFromCollection:$I,removeFromRecipe:qI,removeAllFromCollection:WI,removeAllFromRecipe:VI,getList:jI,upsert:BI,deleteById:UI},YI=({onCancel:e,onAddTag:t})=>{const[n,r]=M.useState(""),[i,s]=M.useState(!1),u=Fs(),l=h=>{r(h.target.value)},c=async()=>{s(!0);try{const h={id:Date.now().toString(),title:n};(await ia.upsert("",h))?.success&&(u.success("Tag added successfully!"),t())}catch(h){console.error("Add tag failed:",h)}finally{s(!1)}};return L.jsxs("div",{className:"p-4",children:[L.jsx("h2",{className:"text-center text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Add New Tag"}),L.jsx("form",{className:"w-full",children:L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("input",{type:"text",name:"title",id:"title",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:n,onChange:l,required:!0}),L.jsx("label",{htmlFor:"title",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Title"})]})}),L.jsxs("div",{className:"flex justify-end space-x-4 pt-2",children:[L.jsx(wn,{btnType:"dismissable",onClick:e,disabled:i,children:"Cancel"}),L.jsx(wn,{onClick:c,disabled:i,children:"Add Tag"})]})]})};var pc=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e))(pc||{});const GI=({size:e=pc.Medium,onClose:t,children:n})=>{const r=M.useRef(null),s=`relative bg-white dark:bg-gray-800 text-black/90 shadow-lg sm:shadow-xl transition-shadow-xs duration-300 ease-in-out rounded-none sm:rounded-lg flex flex-col h-screen w-screen ${e===pc.Large?"max-w-5xl sm:max-w-[1200px] sm:w-[calc(100%-64px)] sm:max-h-[calc(100%-64px)]":"sm:max-w-md sm:w-auto sm:h-auto"} p-6`,u=()=>{r.current&&r.current.querySelectorAll("input, textarea, select").length===0&&t()};return L.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 dark:bg-black/50 z-50",onClick:u,children:L.jsxs("div",{ref:r,className:s,onClick:l=>l.stopPropagation(),children:[L.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:L.jsx(oh,{className:"w-6 h-6",title:"Close Modal"})}),n]})})},KI=({shareWithUser:e})=>{const[t,n]=M.useState(""),[r,i]=M.useState("read"),[s,u]=M.useState(!1),l=M.useRef(null),c=Fs(),h=[{value:"read",label:"Read-Only"},{value:"edit",label:"Can Edit"}],p=E=>{i(E),u(!1)},b=async()=>{if(!t)return c.error("Please enter a valid email.");e(t,r)};return M.useEffect(()=>{const E=y=>{l.current&&!l.current.contains(y.target)&&u(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]),L.jsxs(L.Fragment,{children:[L.jsx("h3",{className:"text-sm font-medium mb-2 dark:text-leaf-green-100",children:"Share with a User"}),L.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[L.jsxs("div",{className:"relative z-0 w-full group",children:[L.jsx("input",{type:"email",name:"email",id:"email",placeholder:" ",value:t,onChange:E=>n(E.target.value),className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer"}),L.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),L.jsxs("div",{className:"relative inline-block",ref:l,children:[L.jsxs("button",{onClick:()=>u(!s),className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 flex justify-between text-gray-600 dark:text-gray-300",children:[h.find(E=>E.value===r)?.label,L.jsx(vT,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})]}),s&&L.jsx("div",{className:"absolute w-full bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 z-50",children:L.jsx("ul",{className:"py-2 text-gray-700 dark:text-gray-200",children:h.map(E=>L.jsx("li",{onClick:()=>p(E.value),children:L.jsx("button",{className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:E.label})},E.value))})})]}),L.jsx(wn,{btnType:"secondary",onClick:b,className:"w-full",children:"Share"})]})]})},Aw=({typeOfShare:e,sharedUsers:t,isPublic:n,onTogglePublicShare:r,shareWithUser:i,onRevokeAccess:s,onCopyLink:u,onClose:l})=>{const[c,h]=M.useState(n);M.useEffect(()=>{h(n)},[n]);const p=()=>{h(!c),r()};return L.jsxs(L.Fragment,{children:[L.jsxs("h2",{className:"text-lg font-semibold mb-4 min-w-[300px] dark:text-leaf-green-100",children:["Share ",e]}),L.jsxs("div",{className:"flex items-center justify-between mb-4 dark:text-leaf-green-100",children:[L.jsx("label",{className:"text-sm",children:"Make Public"}),L.jsx("input",{type:"checkbox",checked:c,onChange:p,className:"peer hidden",id:"custom-checkbox"}),L.jsx("label",{htmlFor:"custom-checkbox",className:`w-5 h-5 flex items-center justify-center border-2 border-gray-400 rounded-md cursor-pointer transition-all 
          peer-checked:bg-blue-500 peer-checked:border-blue-500 
          dark:border-gray-600 dark:peer-checked:bg-blue-400 dark:peer-checked:border-blue-400`,children:L.jsx(O3,{className:`w-4 h-4 text-white ${c?"block":"hidden"}`})})]}),c&&L.jsx(wn,{btnType:"secondary",onClick:u,className:"w-full",children:"Copy Public Link"}),L.jsx("hr",{className:"border-gray-700 my-4"}),L.jsx(KI,{shareWithUser:i}),L.jsx("hr",{className:"border-gray-700 my-4"}),L.jsx("h3",{className:"text-sm font-medium mb-2 dark:text-leaf-green-100",children:"Shared Users"}),L.jsx("ul",{className:"space-y-2 mb-4 dark:text-leaf-green-100",children:t.map(b=>L.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 rounded-xs gap-2 p-2",children:[L.jsxs("span",{className:"text-gray-700 dark:text-gray-200 text-sm",children:[b.users.email," - ",b.permission]}),L.jsx(F3,{onClick:()=>s(b.id)})]},b.id))}),L.jsx(wn,{onClick:l,className:"w-full",children:"Close"})]})},Nw=({label:e="recipe",onCancelDelete:t,onDelete:n})=>{const[r,i]=M.useState(!1),s=async()=>{i(!0);try{await n()}catch(u){console.error("Delete failed:",u)}finally{i(!1)}};return L.jsxs("div",{className:"text-center p-4",children:[L.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:["Are you sure you want to delete this ",e,"?"]}),L.jsxs("div",{className:"flex justify-center space-x-4 pt-2",children:[L.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",disabled:r,children:"Cancel"}),L.jsxs("button",{onClick:s,disabled:r,className:`flex items-center gap-2 px-4 py-2 font-semibold rounded-lg transition ${r?"bg-red-400 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[r&&L.jsx(Ad,{isLarge:!1}),"Delete"]})]})]})},Cw=M.createContext(void 0),QI=({children:e})=>{const[t,n]=M.useState(null),[r,i]=M.useState(pc.Small),[s,u]=M.useState(!1),l=(h,p=pc.Small)=>{n(()=>h),i(p),u(!0)},c=()=>{n(null),i(pc.Small),u(!1)};return L.jsxs(Cw.Provider,{value:{isModalOpen:s,openModal:l,closeModal:c},children:[e,t&&L.jsx(GI,{onClose:c,size:r,children:t})]})},So=()=>{const e=M.useContext(Cw);if(!e)throw new Error("useModalManager must be used within a ModalManager");return e};function XI(){const{isDarkMode:e,toggleDarkMode:t}=OT(),{isAuthenticated:n}=Ba(),{isModalOpen:r,openModal:i,closeModal:s}=So(),u=ti(),l=Fs(),[c,h]=M.useState(!1),p=oa(),b=M.useRef(null),E=n?["/","/collections","/about","/profile"]:["/","/collections","/about"],y=()=>{h(H=>!H)},S=()=>{s(),h(!1)},C=[{label:"Add Recipe",onClick:()=>{i(L.jsx(Yg,{onClose:S}))}},{label:"Add Collection",onClick:()=>u("/collections/add-new")},{label:"Add Tag",onClick:()=>{i(L.jsx(YI,{onCancel:S,onAddTag:S}))}}],P=H=>{H.stopPropagation(),u("/sign-in")},$=async H=>{H.stopPropagation();try{await Eo.signOut(),u("/")}catch(Y){l.error(Y.message)}};return M.useEffect(()=>{const H=Y=>{b.current&&!b.current.contains(Y.target)&&h(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]),L.jsxs("nav",{className:`bg-white border-gray-200 dark:bg-gray-900 ${r?"opacity-50 pointer-events-none":""}`,ref:b,children:[L.jsxs("div",{className:"max-w-screen-xl flex items-center justify-between mx-auto p-4",children:[L.jsxs(Da,{to:"/",className:"flex items-center space-x-2",children:[L.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-8",alt:"Elysia Logo"}),L.jsx("span",{className:"self-center text-2xl font-semibold dark:text-leaf-green-100",children:"Elysia"})]}),L.jsx("div",{className:"hidden md:flex space-x-8",children:E.map(H=>L.jsx(Da,{to:H,className:`py-2 px-3 rounded-md transition duration-200 ${p.pathname===H?"dark:text-leaf-green-300 text-leaf-green-500":"hover:text-leaf-green-300 dark:text-leaf-green-100 dark:hover:text-leaf-green-300"}`,children:H==="/"?"Recipes":H.replace("/","").charAt(0).toUpperCase()+H.slice(2)},H))}),L.jsxs("div",{className:"flex space-x-3",children:[n&&L.jsx(op,{options:C,icon:L.jsx(bg,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})}),L.jsx(dc,{onClick:t,title:"Toggle Dark Mode",icon:e?L.jsx(pT,{className:"w-6 h-6 text-yellow-400"}):L.jsx(TT,{className:"w-6 h-6 text-gray-800 dark:text-gray-200"})}),L.jsx(dc,{onClick:n?$:P,title:n?"Logout":"Login",icon:n?L.jsx(kT,{className:"w-6 h-6 text-red-500"}):L.jsx(LT,{className:"w-6 h-6 text-green-500"})}),L.jsx(dc,{onClick:y,className:"text-gray-500 rounded-lg md:hidden focus:ring-gray-200 dark:text-gray-400",title:"Open main menu",icon:L.jsx(bT,{className:"w-6 h-6 text-gray-800 dark:text-gray-200"})})]})]}),c&&L.jsx("div",{className:"fixed inset-0 z-50 flex justify-end md:hidden",children:L.jsxs("div",{className:"w-3/4 sm:w-[350px] h-full bg-white dark:bg-gray-900 shadow-lg p-6 pt-10 flex flex-col",children:[L.jsx("button",{onClick:y,className:"absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:L.jsx(oh,{className:"w-6 h-6",title:"Close Menu"})}),E.filter(Boolean).map(H=>L.jsx(Da,{to:H,className:"py-2 px-3 block rounded-md text-gray-900 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-700",onClick:y,children:H==="/"?"Recipes":H.replace("/","").charAt(0).toUpperCase()+H.slice(2)},H))]})})]})}const JI=()=>{const{openModal:e,closeModal:t}=So(),{isAuthenticated:n}=Ba(),r=ti(),i=()=>{n?e(L.jsx(Yg,{onClose:t})):r("/sign-in")};return L.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[L.jsx("h1",{className:"text-3xl font-bold text-center",children:"About Elysia"}),L.jsx("div",{className:"flex flex-row justify-center m-4",children:L.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-40",alt:"Elysia Chloratica"})}),L.jsxs("div",{className:"bg-leaf-green-100 p-6 rounded-lg shadow-md",children:[L.jsx("h2",{className:"text-xl font-semibold text-leaf-green-800 mb-3",children:"The Slug That Inspired It All"}),L.jsxs("p",{className:"text-gray-800",children:["Elysia chlorotica is a unique species of sea slug that can perform"," ",L.jsx("strong",{children:"photosynthesis"}),", absorbing energy from the sun like a plant. By incorporating chloroplasts from the algae it eats into its own cells, it becomes ",L.jsx("strong",{children:"self-sustaining"})," and requires less food to survive. This incredible ability mirrors our own journey - by being mindful of what we consume, we empower ourselves to thrive."]})]}),L.jsxs("div",{className:"mt-8 p-6 rounded-lg border border-4 border-dashed border-leaf-green-100 dark:leaf-green-200",children:[L.jsx("h2",{className:"text-xl font-semibold text-leaf-green-800 dark:text-leaf-green-300 mb-3",children:"The Vision Behind Elysia"}),L.jsx("p",{className:"text-gray-800 dark:text-white",children:"Cooking is more than just a necessityit's a way to nourish both body and mind. Our vision is to build a platform where people can explore diverse recipes, develop new skills, and gradually become more self-reliant in the kitchen. Just like Elysia chlorotica adapts and grows by integrating the best of what it consumes, this app allows food lovers to nurture, discover, and evolve their culinary environment."})]}),L.jsx("div",{className:"flex flex-col align-items-center mt-10",children:L.jsx(wn,{onClick:i,children:"Start Your Journey"})})]})};var mh=e=>e.type==="checkbox",cc=e=>e instanceof Date,Gi=e=>e==null;const Lw=e=>typeof e=="object";var Tr=e=>!Gi(e)&&!Array.isArray(e)&&Lw(e)&&!cc(e),ZI=e=>Tr(e)&&e.target?mh(e.target)?e.target.checked:e.target.value:e,e7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,t7=(e,t)=>e.has(e7(t)),n7=e=>{const t=e.constructor&&e.constructor.prototype;return Tr(t)&&t.hasOwnProperty("isPrototypeOf")},Gg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ki(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Gg&&(e instanceof Blob||r))&&(n||Tr(e)))if(t=n?[]:{},!n&&!n7(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=ki(e[i]));else return e;return t}var Sp=e=>Array.isArray(e)?e.filter(Boolean):[],Ir=e=>e===void 0,Nt=(e,t,n)=>{if(!t||!Tr(e))return n;const r=Sp(t.split(/[,[\].]+?/)).reduce((i,s)=>Gi(i)?i:i[s],e);return Ir(r)||r===e?Ir(e[t])?n:e[t]:r},go=e=>typeof e=="boolean",Kg=e=>/^\w*$/.test(e),kw=e=>Sp(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Kn=(e,t,n)=>{let r=-1;const i=Kg(t)?[t]:kw(t),s=i.length,u=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==u){const h=e[l];c=Tr(h)||Array.isArray(h)?h:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Jb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Oa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},au={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};an.createContext(null);var r7=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const u=s;return t._proxyFormState[u]!==Oa.all&&(t._proxyFormState[u]=!r||Oa.all),e[u]}});return i},vo=e=>typeof e=="string",i7=(e,t,n,r,i)=>vo(e)?(r&&t.watch.add(e),Nt(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),Nt(n,s))):(r&&(t.watchAll=!0),n),s7=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Ff=e=>Array.isArray(e)?e:[e],Zb=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},Bm=e=>Gi(e)||!Lw(e);function pl(e,t){if(Bm(e)||Bm(t))return e===t;if(cc(e)&&cc(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const u=t[i];if(cc(s)&&cc(u)||Tr(s)&&Tr(u)||Array.isArray(s)&&Array.isArray(u)?!pl(s,u):s!==u)return!1}}return!0}var Yi=e=>Tr(e)&&!Object.keys(e).length,Qg=e=>e.type==="file",Ra=e=>typeof e=="function",G0=e=>{if(!Gg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Iw=e=>e.type==="select-multiple",Xg=e=>e.type==="radio",a7=e=>Xg(e)||mh(e),Y1=e=>G0(e)&&e.isConnected;function o7(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ir(e)?r++:e[t[r++]];return e}function u7(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ir(e[t]))return!1;return!0}function jr(e,t){const n=Array.isArray(t)?t:Kg(t)?[t]:kw(t),r=n.length===1?e:o7(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Tr(r)&&Yi(r)||Array.isArray(r)&&u7(r))&&jr(e,n.slice(0,-1)),e}var Pw=e=>{for(const t in e)if(Ra(e[t]))return!0;return!1};function K0(e,t={}){const n=Array.isArray(e);if(Tr(e)||n)for(const r in e)Array.isArray(e[r])||Tr(e[r])&&!Pw(e[r])?(t[r]=Array.isArray(e[r])?[]:{},K0(e[r],t[r])):Gi(e[r])||(t[r]=!0);return t}function Ow(e,t,n){const r=Array.isArray(e);if(Tr(e)||r)for(const i in e)Array.isArray(e[i])||Tr(e[i])&&!Pw(e[i])?Ir(t)||Bm(n[i])?n[i]=Array.isArray(e[i])?K0(e[i],[]):{...K0(e[i])}:Ow(e[i],Gi(t)?{}:t[i],n[i]):n[i]=!pl(e[i],t[i]);return n}var yf=(e,t)=>Ow(e,t,K0(t));const ey={value:!1,isValid:!1},ty={value:!0,isValid:!0};var Rw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ir(e[0].attributes.value)?Ir(e[0].value)||e[0].value===""?ty:{value:e[0].value,isValid:!0}:ty:ey}return ey},Dw=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ir(e)?e:t?e===""?NaN:e&&+e:n&&vo(e)?new Date(e):r?r(e):e;const ny={isValid:!1,value:null};var Mw=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,ny):ny;function ry(e){const t=e.ref;return Qg(t)?t.files:Xg(t)?Mw(e.refs).value:Iw(t)?[...t.selectedOptions].map(({value:n})=>n):mh(t)?Rw(e.refs).value:Dw(Ir(t.value)?e.ref.value:t.value,e)}var l7=(e,t,n,r)=>{const i={};for(const s of e){const u=Nt(t,s);u&&Kn(i,s,u._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Q0=e=>e instanceof RegExp,vf=e=>Ir(e)?e:Q0(e)?e.source:Tr(e)?Q0(e.value)?e.value.source:e.value:e,iy=e=>({isOnSubmit:!e||e===Oa.onSubmit,isOnBlur:e===Oa.onBlur,isOnChange:e===Oa.onChange,isOnAll:e===Oa.all,isOnTouch:e===Oa.onTouched});const sy="AsyncFunction";var c7=e=>!!e&&!!e.validate&&!!(Ra(e.validate)&&e.validate.constructor.name===sy||Tr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===sy)),d7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ay=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const jf=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=Nt(e,i);if(s){const{_f:u,...l}=s;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],i)&&!r)return!0;if(u.ref&&t(u.ref,u.name)&&!r)return!0;if(jf(l,t))break}else if(Tr(l)&&jf(l,t))break}}};function oy(e,t,n){const r=Nt(e,n);if(r||Kg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),u=Nt(t,s),l=Nt(e,s);if(u&&!Array.isArray(u)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var f7=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Yi(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(u=>t[u]===(!r||Oa.all))},h7=(e,t,n)=>!e||!t||e===t||Ff(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),p7=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,m7=(e,t)=>!Sp(Nt(e,t)).length&&jr(e,t),g7=(e,t,n)=>{const r=Ff(Nt(e,n));return Kn(r,"root",t[n]),Kn(e,n,r),e},S0=e=>vo(e);function uy(e,t,n="validate"){if(S0(e)||Array.isArray(e)&&e.every(S0)||go(e)&&!e)return{type:n,message:S0(e)?e:"",ref:t}}var id=e=>Tr(e)&&!Q0(e)?e:{value:e,message:""},ly=async(e,t,n,r,i,s)=>{const{ref:u,refs:l,required:c,maxLength:h,minLength:p,min:b,max:E,pattern:y,validate:S,name:A,valueAsNumber:k,mount:C}=e._f,P=Nt(n,A);if(!C||t.has(A))return{};const $=l?l[0]:u,H=q=>{i&&$.reportValidity&&($.setCustomValidity(go(q)?"":q||""),$.reportValidity())},Y={},he=Xg(u),le=mh(u),X=he||le,be=(k||Qg(u))&&Ir(u.value)&&Ir(P)||G0(u)&&u.value===""||P===""||Array.isArray(P)&&!P.length,Ie=s7.bind(null,A,r,Y),U=(q,te,ee,Oe=au.maxLength,Ae=au.minLength)=>{const Se=q?te:ee;Y[A]={type:q?Oe:Ae,message:Se,ref:u,...Ie(q?Oe:Ae,Se)}};if(s?!Array.isArray(P)||!P.length:c&&(!X&&(be||Gi(P))||go(P)&&!P||le&&!Rw(l).isValid||he&&!Mw(l).isValid)){const{value:q,message:te}=S0(c)?{value:!!c,message:c}:id(c);if(q&&(Y[A]={type:au.required,message:te,ref:$,...Ie(au.required,te)},!r))return H(te),Y}if(!be&&(!Gi(b)||!Gi(E))){let q,te;const ee=id(E),Oe=id(b);if(!Gi(P)&&!isNaN(P)){const Ae=u.valueAsNumber||P&&+P;Gi(ee.value)||(q=Ae>ee.value),Gi(Oe.value)||(te=Ae<Oe.value)}else{const Ae=u.valueAsDate||new Date(P),Se=ye=>new Date(new Date().toDateString()+" "+ye),ae=u.type=="time",ve=u.type=="week";vo(ee.value)&&P&&(q=ae?Se(P)>Se(ee.value):ve?P>ee.value:Ae>new Date(ee.value)),vo(Oe.value)&&P&&(te=ae?Se(P)<Se(Oe.value):ve?P<Oe.value:Ae<new Date(Oe.value))}if((q||te)&&(U(!!q,ee.message,Oe.message,au.max,au.min),!r))return H(Y[A].message),Y}if((h||p)&&!be&&(vo(P)||s&&Array.isArray(P))){const q=id(h),te=id(p),ee=!Gi(q.value)&&P.length>+q.value,Oe=!Gi(te.value)&&P.length<+te.value;if((ee||Oe)&&(U(ee,q.message,te.message),!r))return H(Y[A].message),Y}if(y&&!be&&vo(P)){const{value:q,message:te}=id(y);if(Q0(q)&&!P.match(q)&&(Y[A]={type:au.pattern,message:te,ref:u,...Ie(au.pattern,te)},!r))return H(te),Y}if(S){if(Ra(S)){const q=await S(P,n),te=uy(q,$);if(te&&(Y[A]={...te,...Ie(au.validate,te.message)},!r))return H(te.message),Y}else if(Tr(S)){let q={};for(const te in S){if(!Yi(q)&&!r)break;const ee=uy(await S[te](P,n),$,te);ee&&(q={...ee,...Ie(te,ee.message)},H(ee.message),r&&(Y[A]=q))}if(!Yi(q)&&(Y[A]={ref:$,...q},!r))return Y}}return H(!0),Y};const b7={mode:Oa.onSubmit,reValidateMode:Oa.onChange,shouldFocusError:!0};function y7(e={}){let t={...b7,...e},n={submitCount:0,isDirty:!1,isLoading:Ra(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i=Tr(t.defaultValues)||Tr(t.values)?ki(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:ki(i),u={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...p};const E={array:Zb(),state:Zb()},y=iy(t.mode),S=iy(t.reValidateMode),A=t.criteriaMode===Oa.all,k=K=>pe=>{clearTimeout(h),h=setTimeout(K,pe)},C=async K=>{if(!t.disabled&&(p.isValid||b.isValid||K)){const pe=t.resolver?Yi((await be()).errors):await U(r,!0);pe!==n.isValid&&E.state.next({isValid:pe})}},P=(K,pe)=>{!t.disabled&&(p.isValidating||p.validatingFields||b.isValidating||b.validatingFields)&&((K||Array.from(l.mount)).forEach(ke=>{ke&&(pe?Kn(n.validatingFields,ke,pe):jr(n.validatingFields,ke))}),E.state.next({validatingFields:n.validatingFields,isValidating:!Yi(n.validatingFields)}))},$=(K,pe=[],ke,Ke,Ye=!0,qe=!0)=>{if(Ke&&ke&&!t.disabled){if(u.action=!0,qe&&Array.isArray(Nt(r,K))){const et=ke(Nt(r,K),Ke.argA,Ke.argB);Ye&&Kn(r,K,et)}if(qe&&Array.isArray(Nt(n.errors,K))){const et=ke(Nt(n.errors,K),Ke.argA,Ke.argB);Ye&&Kn(n.errors,K,et),m7(n.errors,K)}if((p.touchedFields||b.touchedFields)&&qe&&Array.isArray(Nt(n.touchedFields,K))){const et=ke(Nt(n.touchedFields,K),Ke.argA,Ke.argB);Ye&&Kn(n.touchedFields,K,et)}(p.dirtyFields||b.dirtyFields)&&(n.dirtyFields=yf(i,s)),E.state.next({name:K,isDirty:te(K,pe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Kn(s,K,pe)},H=(K,pe)=>{Kn(n.errors,K,pe),E.state.next({errors:n.errors})},Y=K=>{n.errors=K,E.state.next({errors:n.errors,isValid:!1})},he=(K,pe,ke,Ke)=>{const Ye=Nt(r,K);if(Ye){const qe=Nt(s,K,Ir(ke)?Nt(i,K):ke);Ir(qe)||Ke&&Ke.defaultChecked||pe?Kn(s,K,pe?qe:ry(Ye._f)):Ae(K,qe),u.mount&&C()}},le=(K,pe,ke,Ke,Ye)=>{let qe=!1,et=!1;const ct={name:K};if(!t.disabled){if(!ke||Ke){(p.isDirty||b.isDirty)&&(et=n.isDirty,n.isDirty=ct.isDirty=te(),qe=et!==ct.isDirty);const wt=pl(Nt(i,K),pe);et=!!Nt(n.dirtyFields,K),wt?jr(n.dirtyFields,K):Kn(n.dirtyFields,K,!0),ct.dirtyFields=n.dirtyFields,qe=qe||(p.dirtyFields||b.dirtyFields)&&et!==!wt}if(ke){const wt=Nt(n.touchedFields,K);wt||(Kn(n.touchedFields,K,ke),ct.touchedFields=n.touchedFields,qe=qe||(p.touchedFields||b.touchedFields)&&wt!==ke)}qe&&Ye&&E.state.next(ct)}return qe?ct:{}},X=(K,pe,ke,Ke)=>{const Ye=Nt(n.errors,K),qe=(p.isValid||b.isValid)&&go(pe)&&n.isValid!==pe;if(t.delayError&&ke?(c=k(()=>H(K,ke)),c(t.delayError)):(clearTimeout(h),c=null,ke?Kn(n.errors,K,ke):jr(n.errors,K)),(ke?!pl(Ye,ke):Ye)||!Yi(Ke)||qe){const et={...Ke,...qe&&go(pe)?{isValid:pe}:{},errors:n.errors,name:K};n={...n,...et},E.state.next(et)}},be=async K=>{P(K,!0);const pe=await t.resolver(s,t.context,l7(K||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return P(K),pe},Ie=async K=>{const{errors:pe}=await be(K);if(K)for(const ke of K){const Ke=Nt(pe,ke);Ke?Kn(n.errors,ke,Ke):jr(n.errors,ke)}else n.errors=pe;return pe},U=async(K,pe,ke={valid:!0})=>{for(const Ke in K){const Ye=K[Ke];if(Ye){const{_f:qe,...et}=Ye;if(qe){const ct=l.array.has(qe.name),wt=Ye._f&&c7(Ye._f);wt&&p.validatingFields&&P([Ke],!0);const Je=await ly(Ye,l.disabled,s,A,t.shouldUseNativeValidation&&!pe,ct);if(wt&&p.validatingFields&&P([Ke]),Je[qe.name]&&(ke.valid=!1,pe))break;!pe&&(Nt(Je,qe.name)?ct?g7(n.errors,Je,qe.name):Kn(n.errors,qe.name,Je[qe.name]):jr(n.errors,qe.name))}!Yi(et)&&await U(et,pe,ke)}}return ke.valid},q=()=>{for(const K of l.unMount){const pe=Nt(r,K);pe&&(pe._f.refs?pe._f.refs.every(ke=>!Y1(ke)):!Y1(pe._f.ref))&&Te(K)}l.unMount=new Set},te=(K,pe)=>!t.disabled&&(K&&pe&&Kn(s,K,pe),!pl(I(),i)),ee=(K,pe,ke)=>i7(K,l,{...u.mount?s:Ir(pe)?i:vo(K)?{[K]:pe}:pe},ke,pe),Oe=K=>Sp(Nt(u.mount?s:i,K,t.shouldUnregister?Nt(i,K,[]):[])),Ae=(K,pe,ke={})=>{const Ke=Nt(r,K);let Ye=pe;if(Ke){const qe=Ke._f;qe&&(!qe.disabled&&Kn(s,K,Dw(pe,qe)),Ye=G0(qe.ref)&&Gi(pe)?"":pe,Iw(qe.ref)?[...qe.ref.options].forEach(et=>et.selected=Ye.includes(et.value)):qe.refs?mh(qe.ref)?qe.refs.length>1?qe.refs.forEach(et=>(!et.defaultChecked||!et.disabled)&&(et.checked=Array.isArray(Ye)?!!Ye.find(ct=>ct===et.value):Ye===et.value)):qe.refs[0]&&(qe.refs[0].checked=!!Ye):qe.refs.forEach(et=>et.checked=et.value===Ye):Qg(qe.ref)?qe.ref.value="":(qe.ref.value=Ye,qe.ref.type||E.state.next({name:K,values:ki(s)})))}(ke.shouldDirty||ke.shouldTouch)&&le(K,Ye,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&ne(K)},Se=(K,pe,ke)=>{for(const Ke in pe){const Ye=pe[Ke],qe=`${K}.${Ke}`,et=Nt(r,qe);(l.array.has(K)||Tr(Ye)||et&&!et._f)&&!cc(Ye)?Se(qe,Ye,ke):Ae(qe,Ye,ke)}},ae=(K,pe,ke={})=>{const Ke=Nt(r,K),Ye=l.array.has(K),qe=ki(pe);Kn(s,K,qe),Ye?(E.array.next({name:K,values:ki(s)}),(p.isDirty||p.dirtyFields||b.isDirty||b.dirtyFields)&&ke.shouldDirty&&E.state.next({name:K,dirtyFields:yf(i,s),isDirty:te(K,qe)})):Ke&&!Ke._f&&!Gi(qe)?Se(K,qe,ke):Ae(K,qe,ke),ay(K,l)&&E.state.next({...n}),E.state.next({name:u.mount?K:void 0,values:ki(s)})},ve=async K=>{u.mount=!0;const pe=K.target;let ke=pe.name,Ke=!0;const Ye=Nt(r,ke),qe=et=>{Ke=Number.isNaN(et)||cc(et)&&isNaN(et.getTime())||pl(et,Nt(s,ke,et))};if(Ye){let et,ct;const wt=pe.type?ry(Ye._f):ZI(K),Je=K.type===Jb.BLUR||K.type===Jb.FOCUS_OUT,ir=!d7(Ye._f)&&!t.resolver&&!Nt(n.errors,ke)&&!Ye._f.deps||p7(Je,Nt(n.touchedFields,ke),n.isSubmitted,S,y),Kt=ay(ke,l,Je);Kn(s,ke,wt),Je?(Ye._f.onBlur&&Ye._f.onBlur(K),c&&c(0)):Ye._f.onChange&&Ye._f.onChange(K);const Ar=le(ke,wt,Je),sn=!Yi(Ar)||Kt;if(!Je&&E.state.next({name:ke,type:K.type,values:ki(s)}),ir)return(p.isValid||b.isValid)&&(t.mode==="onBlur"?Je&&C():Je||C()),sn&&E.state.next({name:ke,...Kt?{}:Ar});if(!Je&&Kt&&E.state.next({...n}),t.resolver){const{errors:un}=await be([ke]);if(qe(wt),Ke){const Hr=oy(n.errors,r,ke),Xt=oy(un,r,Hr.name||ke);et=Xt.error,ke=Xt.name,ct=Yi(un)}}else P([ke],!0),et=(await ly(Ye,l.disabled,s,A,t.shouldUseNativeValidation))[ke],P([ke]),qe(wt),Ke&&(et?ct=!1:(p.isValid||b.isValid)&&(ct=await U(r,!0)));Ke&&(Ye._f.deps&&ne(Ye._f.deps),X(ke,ct,et,Ar))}},ye=(K,pe)=>{if(Nt(n.errors,pe)&&K.focus)return K.focus(),1},ne=async(K,pe={})=>{let ke,Ke;const Ye=Ff(K);if(t.resolver){const qe=await Ie(Ir(K)?K:Ye);ke=Yi(qe),Ke=K?!Ye.some(et=>Nt(qe,et)):ke}else K?(Ke=(await Promise.all(Ye.map(async qe=>{const et=Nt(r,qe);return await U(et&&et._f?{[qe]:et}:et)}))).every(Boolean),!(!Ke&&!n.isValid)&&C()):Ke=ke=await U(r);return E.state.next({...!vo(K)||(p.isValid||b.isValid)&&ke!==n.isValid?{}:{name:K},...t.resolver||!K?{isValid:ke}:{},errors:n.errors}),pe.shouldFocus&&!Ke&&jf(r,ye,K?Ye:l.mount),Ke},I=K=>{const pe={...u.mount?s:i};return Ir(K)?pe:vo(K)?Nt(pe,K):K.map(ke=>Nt(pe,ke))},V=(K,pe)=>({invalid:!!Nt((pe||n).errors,K),isDirty:!!Nt((pe||n).dirtyFields,K),error:Nt((pe||n).errors,K),isValidating:!!Nt(n.validatingFields,K),isTouched:!!Nt((pe||n).touchedFields,K)}),Q=K=>{K&&Ff(K).forEach(pe=>jr(n.errors,pe)),E.state.next({errors:K?n.errors:{}})},se=(K,pe,ke)=>{const Ke=(Nt(r,K,{_f:{}})._f||{}).ref,Ye=Nt(n.errors,K)||{},{ref:qe,message:et,type:ct,...wt}=Ye;Kn(n.errors,K,{...wt,...pe,ref:Ke}),E.state.next({name:K,errors:n.errors,isValid:!1}),ke&&ke.shouldFocus&&Ke&&Ke.focus&&Ke.focus()},ue=(K,pe)=>Ra(K)?E.state.subscribe({next:ke=>K(ee(void 0,pe),ke)}):ee(K,pe,!0),_e=K=>E.state.subscribe({next:pe=>{h7(K.name,pe.name,K.exact)&&f7(pe,K.formState||p,Ze,K.reRenderRoot)&&K.callback({values:{...s},...n,...pe})}}).unsubscribe,xe=K=>(u.mount=!0,b={...b,...K.formState},_e({...K,formState:b})),Te=(K,pe={})=>{for(const ke of K?Ff(K):l.mount)l.mount.delete(ke),l.array.delete(ke),pe.keepValue||(jr(r,ke),jr(s,ke)),!pe.keepError&&jr(n.errors,ke),!pe.keepDirty&&jr(n.dirtyFields,ke),!pe.keepTouched&&jr(n.touchedFields,ke),!pe.keepIsValidating&&jr(n.validatingFields,ke),!t.shouldUnregister&&!pe.keepDefaultValue&&jr(i,ke);E.state.next({values:ki(s)}),E.state.next({...n,...pe.keepDirty?{isDirty:te()}:{}}),!pe.keepIsValid&&C()},Ue=({disabled:K,name:pe})=>{(go(K)&&u.mount||K||l.disabled.has(pe))&&(K?l.disabled.add(pe):l.disabled.delete(pe))},Xe=(K,pe={})=>{let ke=Nt(r,K);const Ke=go(pe.disabled)||go(t.disabled);return Kn(r,K,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:K}},name:K,mount:!0,...pe}}),l.mount.add(K),ke?Ue({disabled:go(pe.disabled)?pe.disabled:t.disabled,name:K}):he(K,!0,pe.value),{...Ke?{disabled:pe.disabled||t.disabled}:{},...t.progressive?{required:!!pe.required,min:vf(pe.min),max:vf(pe.max),minLength:vf(pe.minLength),maxLength:vf(pe.maxLength),pattern:vf(pe.pattern)}:{},name:K,onChange:ve,onBlur:ve,ref:Ye=>{if(Ye){Xe(K,pe),ke=Nt(r,K);const qe=Ir(Ye.value)&&Ye.querySelectorAll&&Ye.querySelectorAll("input,select,textarea")[0]||Ye,et=a7(qe),ct=ke._f.refs||[];if(et?ct.find(wt=>wt===qe):qe===ke._f.ref)return;Kn(r,K,{_f:{...ke._f,...et?{refs:[...ct.filter(Y1),qe,...Array.isArray(Nt(i,K))?[{}]:[]],ref:{type:qe.type,name:K}}:{ref:qe}}}),he(K,!1,void 0,qe)}else ke=Nt(r,K,{}),ke._f&&(ke._f.mount=!1),(t.shouldUnregister||pe.shouldUnregister)&&!(t7(l.array,K)&&u.action)&&l.unMount.add(K)}}},ut=()=>t.shouldFocusError&&jf(r,ye,l.mount),lt=K=>{go(K)&&(E.state.next({disabled:K}),jf(r,(pe,ke)=>{const Ke=Nt(r,ke);Ke&&(pe.disabled=Ke._f.disabled||K,Array.isArray(Ke._f.refs)&&Ke._f.refs.forEach(Ye=>{Ye.disabled=Ke._f.disabled||K}))},0,!1))},Et=(K,pe)=>async ke=>{let Ke;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Ye=ki(s);if(E.state.next({isSubmitting:!0}),t.resolver){const{errors:qe,values:et}=await be();n.errors=qe,Ye=et}else await U(r);if(l.disabled.size)for(const qe of l.disabled)Kn(Ye,qe,void 0);if(jr(n.errors,"root"),Yi(n.errors)){E.state.next({errors:{}});try{await K(Ye,ke)}catch(qe){Ke=qe}}else pe&&await pe({...n.errors},ke),ut(),setTimeout(ut);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yi(n.errors)&&!Ke,submitCount:n.submitCount+1,errors:n.errors}),Ke)throw Ke},je=(K,pe={})=>{Nt(r,K)&&(Ir(pe.defaultValue)?ae(K,ki(Nt(i,K))):(ae(K,pe.defaultValue),Kn(i,K,ki(pe.defaultValue))),pe.keepTouched||jr(n.touchedFields,K),pe.keepDirty||(jr(n.dirtyFields,K),n.isDirty=pe.defaultValue?te(K,ki(Nt(i,K))):te()),pe.keepError||(jr(n.errors,K),p.isValid&&C()),E.state.next({...n}))},re=(K,pe={})=>{const ke=K?ki(K):i,Ke=ki(ke),Ye=Yi(K),qe=Ye?i:Ke;if(pe.keepDefaultValues||(i=ke),!pe.keepValues){if(pe.keepDirtyValues){const et=new Set([...l.mount,...Object.keys(yf(i,s))]);for(const ct of Array.from(et))Nt(n.dirtyFields,ct)?Kn(qe,ct,Nt(s,ct)):ae(ct,Nt(qe,ct))}else{if(Gg&&Ir(K))for(const et of l.mount){const ct=Nt(r,et);if(ct&&ct._f){const wt=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(G0(wt)){const Je=wt.closest("form");if(Je){Je.reset();break}}}}for(const et of l.mount)ae(et,Nt(qe,et))}s=ki(qe),E.array.next({values:{...qe}}),E.state.next({values:{...qe}})}l={mount:pe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!p.isValid||!!pe.keepIsValid||!!pe.keepDirtyValues,u.watch=!!t.shouldUnregister,E.state.next({submitCount:pe.keepSubmitCount?n.submitCount:0,isDirty:Ye?!1:pe.keepDirty?n.isDirty:!!(pe.keepDefaultValues&&!pl(K,i)),isSubmitted:pe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ye?{}:pe.keepDirtyValues?pe.keepDefaultValues&&s?yf(i,s):n.dirtyFields:pe.keepDefaultValues&&K?yf(i,K):pe.keepDirty?n.dirtyFields:{},touchedFields:pe.keepTouched?n.touchedFields:{},errors:pe.keepErrors?n.errors:{},isSubmitSuccessful:pe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},It=(K,pe)=>re(Ra(K)?K(s):K,pe),vt=(K,pe={})=>{const ke=Nt(r,K),Ke=ke&&ke._f;if(Ke){const Ye=Ke.refs?Ke.refs[0]:Ke.ref;Ye.focus&&(Ye.focus(),pe.shouldSelect&&Ra(Ye.select)&&Ye.select())}},Ze=K=>{n={...n,...K}},ft={control:{register:Xe,unregister:Te,getFieldState:V,handleSubmit:Et,setError:se,_subscribe:_e,_runSchema:be,_getWatch:ee,_getDirty:te,_setValid:C,_setFieldArray:$,_setDisabledField:Ue,_setErrors:Y,_getFieldArray:Oe,_reset:re,_resetDefaultValues:()=>Ra(t.defaultValues)&&t.defaultValues().then(K=>{It(K,t.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:lt,_subjects:E,_proxyFormState:p,get _fields(){return r},get _formValues(){return s},get _state(){return u},set _state(K){u=K},get _defaultValues(){return i},get _names(){return l},set _names(K){l=K},get _formState(){return n},get _options(){return t},set _options(K){t={...t,...K}}},subscribe:xe,trigger:ne,register:Xe,handleSubmit:Et,watch:ue,setValue:ae,getValues:I,reset:It,resetField:je,clearErrors:Q,unregister:Te,setError:se,setFocus:vt,getFieldState:V};return{...ft,formControl:ft}}function Fw(e={}){const t=an.useRef(void 0),n=an.useRef(void 0),[r,i]=an.useState({isDirty:!1,isValidating:!1,isLoading:Ra(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ra(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:y7(e),formState:r},e.formControl&&e.defaultValues&&!Ra(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,an.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),an.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),an.useEffect(()=>{if(s._proxyFormState.isDirty){const u=s._getDirty();u!==r.isDirty&&s._subjects.state.next({isDirty:u})}},[s,r.isDirty]),an.useEffect(()=>{e.values&&!pl(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,i(u=>({...u}))):s._resetDefaultValues()},[e.values,s]),an.useEffect(()=>{e.errors&&!Yi(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),an.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),an.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=r7(r,s),t.current}const jw=()=>{const{register:e,handleSubmit:t,watch:n,formState:{errors:r,isSubmitting:i,isValid:s}}=Fw({mode:"onChange"}),u=Fs(),l=ti(),c=async p=>{try{await Eo.updatePassword(p.newPassword),u.success("Password updated successfully! You can now sign in."),await Eo.signOut(),l("/sign-in")}catch(b){u.error(b.message)}},h=n("newPassword");return L.jsxs("form",{onSubmit:t(c),children:[L.jsxs("div",{className:"relative z-0 w-full mb-5 group mt-2",children:[L.jsx("input",{type:"password",id:"new-password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",...e("newPassword",{required:"New password is required.",minLength:{value:6,message:"Password must be at least 6 characters long."}})}),L.jsx("label",{htmlFor:"new-password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"New Password"}),r.newPassword&&L.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.newPassword.message})]}),L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("input",{type:"password",id:"confirm-password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",...e("confirmPassword",{required:"Please confirm your password.",validate:p=>p===h||"Passwords do not match."})}),L.jsx("label",{htmlFor:"confirm-password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Confirm Password"}),r.confirmPassword&&L.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.confirmPassword.message})]}),L.jsx(wn,{type:"submit",isLoading:i,className:"w-full",disabled:i||!s,children:"Reset Password"})]})};function Jg(e){return rr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 11H6.414l5.293-5.293-1.414-1.414L2.586 12l7.707 7.707 1.414-1.414L6.414 13H21z"},child:[]}]})(e)}const v7=()=>L.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:L.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[L.jsx("div",{className:"flex items-center font-medium text-leaf-green-600 dark:text-leaf-green-100",children:L.jsx(Jg,{className:"size-6",title:"back",onClick:()=>window.history.back()})}),L.jsx("div",{className:"flex flex-row justify-center m-2",children:L.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),L.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Reset Password"}),L.jsx(jw,{})]})}),w7=()=>{const{register:e,handleSubmit:t,formState:{errors:n,isValid:r}}=Fw({mode:"onChange"}),[i,s]=an.useState(!1),[u,l]=an.useState(!1),[c,h]=an.useState(null),p=Fs(),b=ti(),E=async A=>{try{s(!0),await Eo.signIn(A.email,A.password),b("/")}catch(k){p.error(k.message)}finally{s(!1)}},y=async A=>{try{l(!0),await Eo.signUp(A.email,A.password),p.success("Registration successful! A confirmation link has been sent to your email."),b("/")}catch(k){p.error(k.message)}finally{l(!1)}},S=async A=>{try{h(A),await Eo.signInWithProvider(A)}catch(k){p.error(k.message)}finally{h(null)}};return L.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:L.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[L.jsx("div",{className:"flex items-center font-medium text-leaf-green-600 dark:text-leaf-green-100",children:L.jsx(Jg,{className:"size-6",title:"back",onClick:()=>window.history.back()})}),L.jsx("div",{className:"flex flex-row justify-center m-2",children:L.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),L.jsx("h2",{className:"text-xl font-bold text-leaf-green-600 dark:text-white mb-4 text-center",children:"Sign In"}),L.jsxs("form",{onSubmit:t(E),children:[L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("input",{type:"email",...e("email",{required:"Email is required"}),id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" "}),L.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"}),n.email&&L.jsx("p",{className:"text-red-500 text-sm",children:n.email.message})]}),L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("input",{type:"password",...e("password",{required:"Password is required"}),id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" "}),L.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"}),n.password&&L.jsx("p",{className:"text-red-500 text-sm",children:n.password.message})]}),L.jsx("div",{className:"mb-2 text-right",children:L.jsx(Da,{to:"/forgot-password",children:"Forgot password?"})}),L.jsxs("div",{className:"flex flex-col gap-2",children:[L.jsx(wn,{type:"submit",isLoading:i,className:"w-full",disabled:i||!r,children:"Sign In"}),L.jsx(wn,{btnType:"secondary",isLoading:u,className:"w-full",disabled:u||!r,onClick:t(y),children:"Register"})]})]}),L.jsx("div",{className:"mt-6 mb-3 text-center text-sm text-gray-500 dark:text-gray-400",children:"OR"}),L.jsxs("div",{className:"flex flex-col gap-2",children:[L.jsxs(wn,{className:"w-full flex items-center justify-center gap-2",onClick:()=>S("google"),isLoading:c==="google",children:[L.jsx(gT,{className:"h-5 w-5"}),"Continue with Google"]}),L.jsxs(wn,{className:"w-full flex items-center justify-center gap-2",onClick:()=>S("github"),isLoading:c==="github",children:[L.jsx(mT,{className:"h-5 w-5"}),"Continue with GitHub"]})]})]})})},E7=async(e,t,n)=>await Wt.request("getList",async r=>{let i=r.from(on.COLLECTIONS).select("*",{count:"exact"});n&&(i=i.or(`title.ilike.%${n}%,description.ilike.%${n}%`));const{data:s,count:u,error:l}=await i.range(e,e+t-1);if(l)throw new Error("Failed to fetch collections.");return{data:s,count:u}}),_7=async(e,t)=>await Wt.request(`getDetail-${e}`,async n=>{let r=n.from(on.COLLECTIONS).select(`
          id, title, description, img_url, is_public, user_id,
          collection_to_recipes!left(
            recipes!inner(
              id, title, description, img_url, user_id, is_public, 
              recipe_to_tags!left(tags!inner(id, title))
            )
          ),
          collection_to_tags!left(tags!inner(id, title, recipe_to_tags!left(recipes!inner(id, title, description, img_url, user_id, is_public)))) ,
          collection_to_users!left(permission)
          `).eq("id",e);t?r=r.or(`is_public.eq.true,user_id.eq.${t}`):r=r.eq("is_public",!0);const{data:i,error:s}=await r.maybeSingle();if(s)throw new Error("Failed to fetch collection details.");if(!i)throw new Error("No data returned.");const u=i?.collection_to_tags?.flatMap(p=>p.tags)||[],l=i?.collection_to_recipes?.flatMap(p=>{const b=p.recipes;return{...b,tags:b.recipe_to_tags?.map(E=>E.tags)||[]}})||[],c=i?.collection_to_tags?.flatMap(p=>p.tags.recipe_to_tags?.map(b=>({...b.recipes,tags:b.recipes.recipe_to_tags?.map(E=>E.tags)||[]}))||[])||[],h=new Map;return[...l,...c].forEach(p=>{h.set(p.id,p)}),{...i,recipes:Array.from(h.values()),tags:u,can_edit:i.user_id===t||i.collection_to_users&&i.collection_to_users.some(p=>p.permission==="edit")}}),x7=async(e,t,n)=>await Wt.request(`upsert-${e||"new"}`,async r=>{let i=e;if(e){const{error:s}=await r.from(on.COLLECTIONS).update(t).eq("id",e);if(s)throw new Error(`Failed to update collection: ${s.message}`)}else{const{data:s,error:u}=await r.from(on.COLLECTIONS).insert([{title:t.title,description:t.description,img_url:t.img_url,is_public:t.is_public,user_id:n}]).select().single();if(u)throw new Error(`Failed to insert new collection: ${u.message}`);i=s.id}return{success:!0,collectionId:i}}),T7=async e=>await Wt.request(`deleteById-${e}`,async t=>{const{error:n}=await t.from(on.COLLECTIONS).delete().eq("id",e);if(n)throw new Error("Failed to delete collection.")}),S7=async(e,t)=>await Wt.request(`setIsPublic-${e}`,async n=>{const{error:r}=await n.from(on.COLLECTIONS).update({is_public:!t}).eq("id",e);if(r)throw new Error("Failed to update public status.");return!t}),A7=async e=>await Wt.request(`fetchSharedUsers-${e}`,async t=>{const{data:n,error:r}=await t.from(on.COLLECTION_TO_USERS).select("id, user_id, permission, users(email)").eq("collection_id",e);return r?(console.error("Error fetching shared users:",r),[]):n||[]}),N7=async(e,t,n)=>await Wt.request(`share-${e}-${t}`,async r=>{const{error:i}=await r.from(on.COLLECTION_TO_USERS).insert([{collection_id:e,user_id:t,permission:n}]);if(i)throw new Error("Failed to share collection.")}),C7=async e=>await Wt.request(`revokeAccess-${e}`,async t=>{const{error:n}=await t.from(on.COLLECTION_TO_USERS).delete().eq("id",e);if(n)throw new Error("Failed to revoke access.")}),L7=async e=>await Wt.request(`getIsPublic-${e}`,async t=>{const{data:n,error:r}=await t.from(on.COLLECTIONS).select("is_public").eq("id",e).single();return r?(console.error("Error fetching collection visibility:",r),!1):n.is_public}),Os={getList:E7,getDetail:_7,upsert:x7,deleteById:T7,getIsPublic:L7,setIsPublic:S7,fetchSharedUsers:A7,share:N7,revokeAccess:C7},k7=({collection:e})=>{const t=ti(),n=Fs(),{openModal:r,closeModal:i}=So(),[s,u]=M.useState(e.is_public||!1),[l,c]=M.useState([]),h=()=>{t(`/collections/${e.id}/edit`,{state:{collection:e}})},p=()=>r(L.jsx(Nw,{label:"collection",onCancelDelete:i,onDelete:k}));M.useEffect(()=>{(async()=>{if(e.id){const $=await Os.fetchSharedUsers(e.id);c($)}})()},[e.id]);const b=async()=>{u(!s);try{await Os.setIsPublic(e.id,s),n.success(`Collection is now ${s?"public":"private"}!`)}catch(P){n.error(P.message)}},E=async(P,$)=>{if(!P)return n.error("Please enter a valid email.");if(!e.id)return n.error();try{const H=await Eo.findByEmail(P);await Os.share(e.id,H?.id,$),n.success(`Collection shared with ${H?.display_name} as ${$}.`);const Y=await Os.fetchSharedUsers(e.id);c(Y)}catch(H){n.error(H.message)}},y=async P=>{if(!e.id)return n.error();try{await Os.revokeAccess(P),n.success("Access revoked.");const $=await Os.fetchSharedUsers(e.id);c($)}catch($){n.error($.message)}},S=()=>{const P=`${window.location.origin}/collections/${e.id}`;navigator.clipboard.writeText(P),n.success("Public link copied!")},A=()=>{r(L.jsx(Aw,{typeOfShare:"Collection",sharedUsers:l,isPublic:s,onTogglePublicShare:b,shareWithUser:E,onRevokeAccess:y,onCopyLink:S,onClose:i}))},k=async()=>{try{if(!e.id)return n.error();await Os.deleteById(e.id),n.success("Collection deleted successfully!"),i(),t("/collections")}catch{n.error("Failed to delete collection. Please try again.")}},C=[{label:"Edit",onClick:h},{label:"Delete",onClick:p},{label:"Share",onClick:A}];return L.jsx(op,{options:C,icon:L.jsx(D3,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})},gh=({message:e})=>L.jsx("div",{className:"text-center text-gray-500 p-4 border border-gray-200 rounded-lg mb-4",children:e}),bh=({title:e,description:t,classes:n="",actionName:r="",onAction:i})=>{const{isAuthenticated:s}=Ba();return L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:`w-full flex space-x-3 text-left ${n}`,children:[L.jsx("h1",{className:"text-3xl font-medium text-leaf-green-900 dark:text-leaf-green-100",children:e}),s&&r?.length>0&&L.jsx(dc,{className:"hover:bg-white dar:hover:bg-white/50",title:r,onClick:i,icon:L.jsx(bg,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})})]}),!!t?.length&&L.jsx("p",{className:"text-leaf-green-800 dark:text-gray-300 mt-4 mb-4",children:t})]})},Zg=({title:e,img_url:t})=>L.jsxs(L.Fragment,{children:[t&&L.jsx("img",{src:t,alt:e,className:"w-full h-32 object-cover rounded-t-lg"}),L.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-b-lg shadow-md p-4 hover:shadow-lg transition-shadow-xs ${t?"":"rounded-t-lg"}`,children:L.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-leaf-green-100 mb-2",children:e})})]}),I7=()=>{const e=ti(),{id:t}=ip(),{user:n}=Ba(),[r,i]=M.useState(null),[s,u]=M.useState(!0);return M.useEffect(()=>{(async()=>{u(!0);try{if(!t)throw new Error("no id found");const c=await Os.getDetail(t,n?.id);if(!c)throw new Error("no data returned");i(c)}finally{u(!1)}})()},[t,n]),s?L.jsx(Ad,{className:"mt-40"}):r?L.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[L.jsxs("div",{className:"w-full flex justify-between items-center mb-4",children:[L.jsx(Da,{to:"/collections",children:L.jsxs("div",{className:"flex justify-center items-center font-medium text-center text-leaf-green-600 dark:text-leaf-green-100",children:[L.jsx(R3,{"aria-hidden":"true",className:"size-6"}),L.jsx("p",{children:"Collections"})]})}),L.jsx("div",{className:"flex justify-end flex-wrap gap-2",children:!!n?.id&&L.jsx(k7,{collection:r})})]}),!!r?.img_url?.length&&L.jsx("div",{className:"relative",children:L.jsx("img",{src:r.img_url,alt:r.title,className:"w-full h-64 object-cover rounded-t-lg"})}),L.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-b-lg p-6 ${!r?.img_url&&"rounded-t-lg"}`,children:[L.jsx(bh,{title:r.title,description:r.description}),r.tags&&r.tags.length>0&&L.jsx("div",{className:"mt-4",children:r.tags.map(l=>L.jsx(Wf,{title:l.title,isReadOnly:!0,onClick:()=>{e("/",{state:{selectedTags:[l]}})}},l.id))})]}),L.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:r.recipes&&r.recipes.map(l=>L.jsx(Da,{to:`/recipes/${l.id}`,children:L.jsx(Zg,{title:l.title,description:l.description,img_url:l.img_url},l.id)},l.id))})]}):L.jsx(gh,{message:"Collection not found."})};function P7(){const[e,t]=M.useState(0),[n]=M.useState(10),[r,i]=M.useState([]),[s,u]=M.useState(""),[l,c]=M.useState(!1),[h,p]=M.useState(0),[b,E]=M.useState(!0);return{collections:r,searchTerm:s,setSearchTerm:u,loading:l,hasMore:b,totalCount:h,loadMoreCollections:async()=>{if(!(l||!b)){c(!0);try{const S=await Os.getList(e,n,s);!S||S.data.length===0?E(!1):(i(A=>[...A,...S.data]),t(A=>A+S.data.length),p(S.count||0)),c(!1)}catch(S){console.error("Error fetching collections:",S.message)}finally{c(!1)}}}}}const Bw=({threshold:e=1,onScrolled:t,children:n})=>{const r=M.useRef(null);return M.useEffect(()=>{const i=new IntersectionObserver(s=>{s.forEach(u=>{u.isIntersecting&&t()})},{threshold:e});return r.current&&i.observe(r.current),()=>{i.disconnect()}},[e,t]),L.jsx("div",{ref:r,children:n})},O7=()=>{const e=ti(),{collections:t,loading:n,hasMore:r,loadMoreCollections:i}=P7();i();const s=M.useCallback(()=>{!n&&r&&i()},[r,n,i]);return L.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col justify-center items-center transition-all duration-300",children:[L.jsxs("div",{className:"w-full",children:[L.jsx(bh,{title:"Collections",actionName:"+ New Collection",classes:"mb-2",onAction:()=>e("add-new")}),L.jsxs("p",{className:"text-gray-600 dark:text-leaf-green-100 mb-4",children:["A collection is like a ",L.jsx("strong",{children:"recipe book"})," where you can"," ",L.jsx("strong",{children:"organize recipes, share them"})," with others, or"," ",L.jsx("strong",{children:"keep them private"}),"."]})]}),n&&L.jsx(Ad,{className:"mt-6"}),!n&&t.length===0&&L.jsx(gh,{message:"You don't have any collections yet. Create one now!"}),t.length>0&&L.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full mt-6",children:t.map(u=>L.jsx(Da,{to:`${u.id}`,children:L.jsx(Zg,{title:u.title,description:u.description,img_url:u.img_url})},u.id))}),r&&L.jsx(Bw,{threshold:.1,onScrolled:s,children:L.jsx("div",{className:"h-1"})})]})},R7=e=>{const t=e.split(".").pop();return`${e.replace(/\.[^/.]+$/,"").toLowerCase().replace(/[^a-z0-9_\-.]/g,"").replace(/\s+/g,"_")}_${Date.now()}_${Math.floor(Math.random()*1e4)}.${t}`},D7=async e=>await Wt.request("addPhoto",async t=>{try{const n=R7(e.name),{error:r}=await t.storage.from("elysia_recipe_photo").upload(n,e,{cacheControl:"3600",upsert:!0});if(r)throw new Error(`Error uploading file: ${r.message}`);return Uw(n)}catch(n){throw console.error("Error in addPhoto:",n.message),n}}),Uw=e=>Wt.request("getPhotoUrl",async t=>{const{data:n}=t.storage.from("elysia_recipe_photo").getPublicUrl(e);if(!n)throw new Error("Failed to get public URL");return n.publicUrl}),M7=async e=>await Wt.request("deletePhoto",async t=>{const n=e.split("/").slice(-1)[0];return await t.storage.from("elysia_recipe_photo").remove([n])}),cy={addPhoto:D7,getPhotoUrl:Uw,deletePhoto:M7},Hw=({imgUrl:e,onImgUrlChange:t})=>{const[n,r]=M.useState(!1),[i,s]=M.useState(!1),[u,l]=M.useState(!1),c=M.useRef(null),h=Fs(),p=async C=>{try{s(!0);const P=await cy.addPhoto(C);P!==null&&t(P)}catch(P){console.error("Error uploading file:",P.message),h.error("Failed to upload file. Please try again.")}finally{s(!1)}},b=async()=>{if(!e){t("");return}try{if((await cy.deletePhoto(e))?.error){h.error("Failed to delete file. Please try again.");return}else t("")}catch(C){console.error("Error removing file:",C.message)}},E=C=>{const P=C.target.files?.[0];P&&p(P)},y=()=>{c.current&&c.current.click()},S=C=>{C.preventDefault(),l(!0)},A=C=>{C.preventDefault(),l(!1)},k=C=>{C.preventDefault(),l(!1);const P=C.dataTransfer.files[0];P&&p(P)};return L.jsx("div",{className:`relative w-full max-h-64 rounded-t-lg overflow-hidden ${!e?.length&&"rounded-b-lg"}`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:e?.length?L.jsxs(L.Fragment,{children:[L.jsx("img",{src:e,alt:"Uploaded",className:"w-full h-full object-cover"}),n&&L.jsx("div",{className:"absolute inset-0 bg-gray-800/80 flex items-center justify-center",children:L.jsx("button",{onClick:b,className:"text-white text-2xl hover:text-red-500",children:L.jsx(CT,{className:"w-11 h-11 text-red-500 dark:text-red-600",title:"Delete Image"})})})]}):L.jsxs("div",{className:`border-2 ${u?"border-blue-500 bg-leaf-green-50":"border-dashed border-gray-300"} rounded-t-lg p-6 flex flex-col items-center justify-center ${e?"max-h-64":"rounded-b-lg mb-4"}`,onDragOver:S,onDragLeave:A,onDrop:k,children:[L.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:"Drag & drop a photo here, or click to upload."}),L.jsx(wn,{onClick:y,disabled:i,children:i?"Uploading...":"Upload File"}),L.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:E,className:"hidden"}),L.jsx("div",{className:"mt-4 w-full",children:L.jsx("input",{type:"text",placeholder:"Or paste an image URL",value:e,onChange:C=>t(C.target.value),className:"border border-gray-300 rounded-lg p-2 w-full"})})]})})},qw=({title:e,description:t,onFormChange:n})=>L.jsxs("form",{className:"w-full",children:[L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("input",{type:"text",name:"title",id:"title",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:r=>n("title",r.target.value),required:!0}),L.jsx("label",{htmlFor:"title",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Title"})]}),L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("textarea",{name:"description",id:"description",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:t,onChange:r=>n("description",r.target.value),required:!0}),L.jsx("label",{htmlFor:"description",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Description"})]})]}),Ed=({inputId:e="",options:t=[],selectedOptions:n=[],placeholder:r="",setSelectedOptions:i,onSearch:s})=>{const[u,l]=M.useState(!1),[c,h]=M.useState(!1),[p,b]=M.useState([]),[E,y]=M.useState(""),S=M.useRef(null),A=M.useRef(null),k=M.useRef(null);M.useEffect(()=>{b(n.map(H=>H?.id||""))},[n]),M.useEffect(()=>{const H=setTimeout(()=>{s(E)},400);return()=>clearTimeout(H)},[E,s]),M.useEffect(()=>{const H=Y=>{S.current&&!S.current.contains(Y.target)&&l(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]),M.useEffect(()=>{u&&A.current&&A.current.focus()},[u]),M.useEffect(()=>{if(u&&S.current){const H=S.current.getBoundingClientRect(),Y=window.innerHeight-H.bottom;h(Y<200)}},[u]);const C=H=>{H.id&&(p.includes(H.id)?i(n.filter(Y=>Y.id!==H.id)):(i([...n,H]),y("")))},P=H=>{const Y=n.filter(he=>he.id!==H.id);i(Y)},$=H=>{H.key==="Backspace"&&E===""&&n.length>0&&P(n[n.length-1]),H.key==="ArrowDown"&&(l(!0),k.current?.focus())};return L.jsxs("div",{className:"relative w-full",ref:S,children:[L.jsx("label",{id:"multi-select-label",className:"sr-only",children:"Select options"}),L.jsxs("div",{className:`border border-gray-300 p-2 cursor-text flex flex-wrap items-center gap-2 ${u?`rounded-${c?"b":"t"}-lg`:"rounded-lg"}`,onClick:()=>l(!0),"aria-haspopup":"listbox","aria-expanded":u,role:"combobox","aria-controls":"multi-select-listbox",children:[n.map(H=>L.jsx(Wf,{title:H.title,onClick:Y=>{Y.stopPropagation(),P(H)}},H.id)),L.jsx("input",{type:"text",id:e,ref:A,placeholder:n.length===0?r:"",className:"flex-1 p-1 border-none outline-hidden bg-transparent text-gray-900 dark:text-gray-100",value:E,onChange:H=>y(H.target.value),onKeyDown:$,"aria-labelledby":"multi-select-label"})]}),u&&L.jsxs("div",{ref:k,role:"listbox",tabIndex:0,"aria-labelledby":"multi-select-label",className:`absolute w-full z-10 border border-gray-300 bg-white dark:bg-gray-800 shadow-md max-h-40 overflow-y-auto focus:outline-hidden ${c?"bottom-full pb-2 rounded-t-lg":"top-full pt-2 rounded-b-lg"}`,children:[t.length>0?t.map(H=>L.jsx(wn,{btnType:"dropdown",className:H.id&&p.includes(H.id)?"bg-leaf-green-100 dark:text-leaf-green-600":"",onClick:Y=>{Y.stopPropagation(),C(H)},role:"option","aria-selected":H.id&&p.includes(H.id)?!0:void 0,children:H.title},H.id)):L.jsx("div",{className:"p-2 text-gray-500 dark:text-gray-400",role:"status",children:"No results found"}),t.length>=25&&L.jsx("div",{className:"px-4 py-2 border-t border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-900",children:L.jsx("small",{className:"text-gray-500 dark:text-gray-400",children:"Search results are limited to 25 results."})})]})]})},F7=async(e,t,n="",r,i=[])=>await Wt.request("fetchRecipeList",async s=>{let u=s.from("recipes").select("*",{count:"exact"});r?u=u.or(`is_public.eq.true,user_id.eq.${r}`):u=u.eq("is_public",!0),n&&(u=u.or(`title.ilike.%${n}%,description.ilike.%${n}%,ingredients_text.ilike.%${n}%,tags_text.ilike.%${n}%`)),i.length&&i.forEach(p=>{u=u.or(`tags_text.ilike.%${p.title}%`)});const{data:l,count:c,error:h}=await u.range(e,e+t-1);if(h)throw new Error("Failed to fetch recipes.");return{data:l,count:c}}),j7=async(e,t)=>await Wt.request(`fetchRecipeDetails-${e}`,async n=>{let r=n.from(on.RECIPES).select(`
      id, title, description, img_url, user_id, is_public, servings, prep_time, cook_time, original_recipe_url,
      ingredients,
      steps,
      recipe_to_users!left(permission),
      collection_to_recipes!left(collections!inner(id, title)),
      recipe_to_tags!left(tags!inner(id, title))
    `).eq("id",e);t?r=r.or(`is_public.eq.true,user_id.eq.${t}`):r=r.eq("is_public",!0);const{data:i,error:s}=await r.maybeSingle();if(s)throw new Error("Failed to fetch recipe details.");if(!i)throw new Error("No data returned for the given recipe.");return i}),B7=async(e,t,n)=>await Wt.request(`upsertRecipe-${e||"new"}`,async r=>{if(e){const{error:i}=await r.from(on.RECIPES).update({title:t.title,prep_time:t.prep_time,cook_time:t.cook_time,servings:t.servings,original_recipe_url:t.original_recipe_url,ingredients:t.ingredients,steps:t.steps,is_public:t.is_public,description:t.description,img_url:t.img_url,user_id:n}).eq("id",e);if(i)throw new Error(`Failed to update recipe: ${i.message}`)}else{const{data:i,error:s}=await r.from(on.RECIPES).insert([{title:t.title,prep_time:t.prep_time,cook_time:t.cook_time,servings:t.servings,original_recipe_url:t.original_recipe_url,ingredients:t.ingredients,steps:t.steps,is_public:t.is_public,description:t.description,img_url:t.img_url,user_id:n}]).select().single();if(s)throw new Error(`Failed to insert new recipe: ${s.message}`);e=i.id}return{success:!0,recipeId:e}}),U7=async e=>await Wt.request(`deleteRecipe-${e}`,async t=>{const{error:n}=await t.from(on.RECIPES).delete().eq("id",e);if(n)throw new Error("Failed to delete recipe.")}),H7=async(e,t)=>{const n=t.map(r=>({recipe_id:e,collection_id:r}));return await Wt.request(`addOneToManyCollections-${e}`,async r=>{const{error:i}=await r.from(on.COLLECTION_TO_RECIPES).insert(n);if(i)throw new Error("Failed to delete collection.")})},q7=async(e,t)=>{const n=t.map(r=>({recipe_id:r.id,collection_id:e}));return await Wt.request(`addManyToOneCollection-${e}`,async r=>{const{error:i}=await r.from(on.COLLECTION_TO_RECIPES).insert(n);if(i)throw new Error("Failed to delete collection.")})},z7=async e=>await Wt.request("removeFromAllCollections",async t=>{const{error:n}=await t.from(on.COLLECTION_TO_RECIPES).delete().eq("recipe_id",e);if(n)throw new Error("Failed to remove collection(s) from recipe.")}),$7=async(e,t)=>await Wt.request("removeManyFromManyCollections",async n=>{const{error:r}=await n.from(on.COLLECTION_TO_RECIPES).delete().in("collection_id",e).in("recipe_id",t);if(r)throw new Error("Failed to remove recipes from collection(s).")}),V7=async e=>await Wt.request(`fetchSharedUsers-${e}`,async t=>{const{data:n,error:r}=await t.from(on.RECIPE_TO_USERS).select("id, user_id, permission, users(email)").eq("recipe_id",e);return r?(console.error("Error fetching shared users:",r),[]):n||[]}),W7=async e=>await Wt.request(`fetchRecipeVisibility-${e}`,async t=>{const{data:n,error:r}=await t.from(on.RECIPES).select("is_public").eq("id",e).single();return r?(console.error("Error fetching recipe visibility:",r),!1):n.is_public}),Y7=async(e,t)=>await Wt.request(`togglePublicShare-${e}`,async n=>{const{error:r}=await n.from(on.RECIPES).update({is_public:t}).eq("id",e);if(r)throw new Error("Failed to update public status.");return!t}),G7=async(e,t,n)=>await Wt.request(`shareRecipe-${e}-${t}`,async r=>{const{error:i}=await r.from(on.RECIPE_TO_USERS).insert([{recipe_id:e,user_id:t,permission:n}]);if(i)throw new Error("Failed to share recipe.")}),K7=async e=>await Wt.request(`revokeUserAccess-${e}`,async t=>{const{error:n}=await t.from(on.RECIPE_TO_USERS).delete().eq("id",e);if(n)throw new Error("Failed to revoke access.")}),hi={getRecipeList:F7,getDetail:j7,upsert:B7,deleteById:U7,addOneToManyCollections:H7,addManyToOneCollection:q7,removeManyFromManyCollections:$7,removeFromAllCollections:z7,getSharedUsers:V7,getIsPublic:W7,setIsPublic:Y7,shareWithUser:G7,revokeAccess:K7},Q7=()=>{const e=ti(),t=oa(),{id:n}=ip(),{user:r}=Ba(),i=!!n,[s,u]=M.useState(!1),[l,c]=M.useState(""),[h,p]=M.useState([]),[b,E]=M.useState(""),[y,S]=M.useState([]),[A,k]=M.useState(null),[C,P]=M.useState({title:"",description:"",img_url:"",recipes:[],tags:[]});M.useEffect(()=>{if(i){const he=t.state?.collection;he&&(P({title:he.title||"",description:he.description||"",img_url:he.img_url||"",recipes:he.recipes||[],tags:he.tags||[]}),k(he))}},[i,t.state?.collection]);const $=M.useCallback(async()=>{try{const he=await hi.getRecipeList(0,25,l);he?.data&&p(he.data)}catch(he){console.error("Error fetching recipes:",he)}},[l]),H=M.useCallback(async()=>{try{const he=await ia.getList(0,25,b);he?.data&&S(he.data)}catch(he){console.error("Error fetching tags:",he)}},[b]);return M.useEffect(()=>{$()},[$]),M.useEffect(()=>{H()},[H]),{formData:C,originalData:A,onFormChange:(he,le)=>{P(X=>({...X,[he]:le}))},isEditing:i,loading:s,setLoading:u,navigate:e,recipeList:h,tagList:y,setRecipeSearch:c,setTagSearch:E,userId:r?.id,collectionId:n}},Um=(e,t)=>{if(e===t)return null;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return t;if(Array.isArray(e)&&Array.isArray(t)){const i=t.reduce((s,u,l)=>{const c=e[l];return typeof u=="object"&&u!==null?Um(c,u)!==null&&s.push(u):u!==c&&s.push(u),s},[]);return e.length>t.length?t:i.length>0?i:null}const n={};return new Set([...Object.keys(e),...Object.keys(t)]).forEach(i=>{const s=Um(e[i],t[i]);s!==null&&(n[i]=s)}),Object.keys(n).length>0?n:null},X7=(e,t)=>Um(e,t)||{},J7=e=>Object.keys(e).reduce((t,n)=>{const r=e[n];return(typeof r=="string"||typeof r=="number"||typeof r=="boolean")&&(t[n]=r),t},{}),G1={getChangedFields:X7,extractSimpleValues:J7},Z7=(e,t,n,r,i)=>{const s=Fs(),u=ti();return{handleSave:async c=>{c.preventDefault();try{if(!i){s.error("User is not authenticated.");return}let h=r||"";if(t&&h&&n){const p=G1.getChangedFields(n,e);if(!p||Object.keys(p).length===0){s.info("No changes detected.");return}const b=G1.extractSimpleValues(p);await Os.upsert(h,b),s.success("Collection updated successfully!"),await eP(h,n.tags||[],e.tags||[]),await tP(h,n.recipes||[],e.recipes||[])}else{const p=G1.extractSimpleValues(e),b=await Os.upsert("",p,i);if(!b?.collectionId)throw new Error("Failed to create collection.");h=b.collectionId,e.tags&&e.tags.length>0&&await ia.addToCollection(h,e.tags),e.recipes&&e.recipes.length>0&&await hi.addManyToOneCollection(h,e.recipes),s.success("Collection added successfully!")}u(`/collections/${h}`)}catch(h){console.error(`Error ${t?"updating":"adding"} collection:`,h.message),s.error(`Failed to ${t?"update":"add"} collection. Please try again.`)}}}},eP=async(e,t,n)=>{const r=n.filter(s=>!t.some(u=>u.id===s.id)),i=t.filter(s=>!n.some(u=>u.id===s.id));r.length>0&&await ia.addToCollection(e,r),i.length>0&&await ia.removeFromCollection(e,i)},tP=async(e,t,n)=>{const r=n.filter(s=>!t.some(u=>u.id===s.id)),i=t.filter(s=>!n.some(u=>u.id===s.id));r.length>0&&await hi.addManyToOneCollection(e,r),i.length>0&&await hi.removeManyFromManyCollections([e],i)},dy=()=>{const{formData:e,originalData:t,onFormChange:n,isEditing:r,loading:i,navigate:s,recipeList:u,tagList:l,setRecipeSearch:c,setTagSearch:h,userId:p,collectionId:b}=Q7(),{handleSave:E}=Z7(e,r,t,b,p);return L.jsxs("div",{className:"max-w-2xl mx-auto mt-4",children:[L.jsxs("div",{className:"w-full flex justify-end items-center mb-4 gap-4",children:[L.jsx(wn,{btnType:"dismissable",onClick:()=>s(-1),children:"Cancel"}),L.jsx(wn,{onClick:E,isLoading:i,children:r?"Save":"Add"})]}),L.jsx(Hw,{imgUrl:e.img_url,onImgUrlChange:y=>n("img_url",y)}),L.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-md",children:[L.jsx(qw,{title:e.title,description:e.description,onFormChange:n}),L.jsxs("div",{className:"mb-2",children:[L.jsx("label",{htmlFor:"Recipes",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Recipes"}),L.jsx(Ed,{placeholder:"Search for recipes...",inputId:"Recipes",options:u,selectedOptions:e.recipes,setSelectedOptions:y=>n("recipes",y),onSearch:c})]}),L.jsxs("div",{className:"mb-2",children:[L.jsx("label",{htmlFor:"Tags",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Tags"}),L.jsx(Ed,{placeholder:"Search for tags...",inputId:"Tags",options:l,selectedOptions:e.tags,setSelectedOptions:y=>n("tags",y),onSearch:h})]})]})]})},nP=()=>{const[e,t]=M.useState(""),[n,r]=M.useState(!1),i=Fs(),s=async u=>{if(u.preventDefault(),!e){i.error("Please enter your email.");return}try{r(!0),await Eo.resetPassword(e,`${window.location.origin}/elysia/reset-password`),i.success("Password reset link sent to your email!")}catch(l){i.error(l.message)}finally{r(!1)}};return L.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:L.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md",children:[L.jsx("div",{className:"flex items-center font-medium text-leaf-green-600 dark:text-leaf-green-100",children:L.jsx(Jg,{className:"size-6",title:"back",onClick:()=>window.history.back()})}),L.jsx("div",{className:"flex flex-row justify-center m-2",children:L.jsx("img",{src:"https://bbosgvxsamxhzjgzxiuz.supabase.co/storage/v1/object/public/elysia_recipe_photo/echlorotica_nature-removebg-preview_1737171542691_7626.png",className:"h-28",alt:"Elysia Chloratica"})}),L.jsx("h2",{className:"text-xl font-bold mb-4 text-center text-leaf-green-600 dark:text-white",children:"Reset Password"}),L.jsxs("form",{onSubmit:s,children:[L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e,onChange:u=>t(u.target.value),required:!0}),L.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"})]}),L.jsx("div",{className:"flex flex-col gap-2",children:L.jsx(wn,{type:"submit",isLoading:n,className:"w-full",children:n?"Sending...":"Send Reset Link"})})]})]})})},zw=({value:e,index:t})=>L.jsx("li",{className:"text-leaf-green-800 dark:text-gray-200 p-2",children:L.jsx("span",{className:"max-w-full break-word whitespace-pre-wrap",children:e})},t),rP=({ingredients:e})=>L.jsxs("div",{children:[L.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Ingredients"}),L.jsx("ul",{className:"list-disc pl-6 mb-6",children:e?.map((t,n)=>L.jsx(zw,{value:t.value,index:n},n))})]}),iP=({steps:e})=>L.jsxs("div",{children:[L.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mt-8 mb-2",children:"Steps"}),e?.length>0&&L.jsx("ol",{className:"list-decimal pl-6 mb-6 text-leaf-green-800 dark:text-gray-300",children:e.map((t,n)=>L.jsx(zw,{value:t.value,index:n},n))})]}),sP=864e5,aP=6e4,oP=36e5,fy=Symbol.for("constructDateFrom");function _d(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&fy in e?e[fy](t):e instanceof Date?new e.constructor(t):new Date(t)}function aa(e,t){return _d(e,e)}function uP(e,t,n){const r=aa(e);return isNaN(t)?_d(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function lP(e,t,n){const r=aa(e);if(isNaN(t))return _d(e,NaN);if(!t)return r;const i=r.getDate(),s=_d(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const u=s.getDate();return i>=u?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function wf(e,t,n){const{years:r=0,months:i=0,weeks:s=0,days:u=0,hours:l=0,minutes:c=0,seconds:h=0}=t,p=aa(e),b=i||r?lP(p,i+r*12):p,E=u||s?uP(b,u+s*7):b,y=c+l*60,A=(h+y*60)*1e3;return _d(e,+E+A)}let cP={};function dP(){return cP}function hy(e){const t=aa(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Tl(e,...t){const n=_d.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function py(e,t){const n=aa(e);return n.setHours(0,0,0,0),n}function fP(e,t,n){const[r,i]=Tl(n?.in,e,t),s=py(r),u=py(i),l=+s-hy(s),c=+u-hy(u);return Math.round((l-c)/sP)}function Bf(e,t){const n=+aa(e)-+aa(t);return n<0?-1:n>0?1:n}function hP(e,t,n){const[r,i]=Tl(n?.in,e,t),s=r.getFullYear()-i.getFullYear(),u=r.getMonth()-i.getMonth();return s*12+u}function pP(e,t,n){const[r,i]=Tl(n?.in,e,t);return r.getFullYear()-i.getFullYear()}function mP(e,t,n){const[r,i]=Tl(n?.in,e,t),s=my(r,i),u=Math.abs(fP(r,i));r.setDate(r.getDate()-s*u);const l=+(my(r,i)===-s),c=s*(u-l);return c===0?0:c}function my(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function e2(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function gP(e,t,n){const[r,i]=Tl(n?.in,e,t),s=(+r-+i)/oP;return e2(n?.roundingMethod)(s)}function $w(e,t){return+aa(e)-+aa(t)}function bP(e,t,n){const r=$w(e,t)/aP;return e2(n?.roundingMethod)(r)}function yP(e,t){const n=aa(e);return n.setHours(23,59,59,999),n}function vP(e,t){const n=aa(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function wP(e,t){const n=aa(e);return+yP(n)==+vP(n)}function EP(e,t,n){const[r,i,s]=Tl(n?.in,e,e,t),u=Bf(i,s),l=Math.abs(hP(i,s));if(l<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-u*l);let c=Bf(i,s)===-u;wP(r)&&l===1&&Bf(r,s)===1&&(c=!1);const h=u*(l-+c);return h===0?0:h}function _P(e,t,n){const r=$w(e,t)/1e3;return e2(n?.roundingMethod)(r)}function xP(e,t,n){const[r,i]=Tl(n?.in,e,t),s=Bf(r,i),u=Math.abs(pP(r,i));r.setFullYear(1584),i.setFullYear(1584);const l=Bf(r,i)===-s,c=s*(u-+l);return c===0?0:c}function TP(e,t){const[n,r]=Tl(e,t.start,t.end);return{start:n,end:r}}const SP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AP=(e,t,n)=>{let r;const i=SP[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function K1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const NP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kP={date:K1({formats:NP,defaultWidth:"full"}),time:K1({formats:CP,defaultWidth:"full"}),dateTime:K1({formats:LP,defaultWidth:"full"})},IP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PP=(e,t,n,r)=>IP[e];function Ef(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):u;i=e.formattingValues[l]||e.formattingValues[u]}else{const u=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[u]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const OP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BP=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},UP={ordinalNumber:BP,era:Ef({values:OP,defaultWidth:"wide"}),quarter:Ef({values:RP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ef({values:DP,defaultWidth:"wide"}),day:Ef({values:MP,defaultWidth:"wide"}),dayPeriod:Ef({values:FP,defaultWidth:"wide",formattingValues:jP,defaultFormattingWidth:"wide"})};function _f(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const u=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?qP(l,b=>b.test(u)):HP(l,b=>b.test(u));let h;h=e.valueCallback?e.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const p=t.slice(u.length);return{value:h,rest:p}}}function HP(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function qP(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function zP(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let u=e.valueCallback?e.valueCallback(s[0]):s[0];u=n.valueCallback?n.valueCallback(u):u;const l=t.slice(i.length);return{value:u,rest:l}}}const $P=/^(\d+)(th|st|nd|rd)?/i,VP=/\d+/i,WP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YP={any:[/^b/i,/^(a|c)/i]},GP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KP={any:[/1/i,/2/i,/3/i,/4/i]},QP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nO={ordinalNumber:zP({matchPattern:$P,parsePattern:VP,valueCallback:e=>parseInt(e,10)}),era:_f({matchPatterns:WP,defaultMatchWidth:"wide",parsePatterns:YP,defaultParseWidth:"any"}),quarter:_f({matchPatterns:GP,defaultMatchWidth:"wide",parsePatterns:KP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_f({matchPatterns:QP,defaultMatchWidth:"wide",parsePatterns:XP,defaultParseWidth:"any"}),day:_f({matchPatterns:JP,defaultMatchWidth:"wide",parsePatterns:ZP,defaultParseWidth:"any"}),dayPeriod:_f({matchPatterns:eO,defaultMatchWidth:"any",parsePatterns:tO,defaultParseWidth:"any"})},rO={code:"en-US",formatDistance:AP,formatLong:kP,formatRelative:PP,localize:UP,match:nO,options:{weekStartsOn:0,firstWeekContainsDate:1}},iO=["years","months","weeks","days","hours","minutes","seconds"];function sO(e,t){const n=dP(),r=t?.locale??n.locale??rO,i=t?.format??iO,s=t?.zero??!1,u=t?.delimiter??" ";return r.formatDistance?i.reduce((c,h)=>{const p=`x${h.replace(/(^.)/,E=>E.toUpperCase())}`,b=e[h];return b!==void 0&&(s||e[h])?c.concat(r.formatDistance(p,b)):c},[]).join(u):""}function aO(e,t){const{start:n,end:r}=TP(t?.in,e),i={},s=xP(r,n);s&&(i.years=s);const u=wf(n,{years:i.years}),l=EP(r,u);l&&(i.months=l);const c=wf(u,{months:i.months}),h=mP(r,c);h&&(i.days=h);const p=wf(c,{days:i.days}),b=gP(r,p);b&&(i.hours=b);const E=wf(p,{hours:i.hours}),y=bP(r,E);y&&(i.minutes=y);const S=wf(E,{minutes:i.minutes}),A=_P(r,S);return A&&(i.seconds=A),i}const gy=e=>{const t=aO({start:0,end:(e||0)*60*1e3});return sO(t,{format:["hours","minutes"]})},oO=({activeTab:e,onTabChange:t})=>L.jsx("div",{className:"block md:hidden mb-4",children:L.jsxs("div",{className:"border-b border-gray-300 dark:border-gray-700 flex",children:[L.jsx("button",{className:`flex-1 p-2 text-lg font-semibold ${e==="ingredients"?"border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100":"text-gray-500"}`,onClick:()=>t("ingredients"),children:"Ingredients"}),L.jsx("button",{className:`flex-1 p-2 text-lg font-semibold ${e==="directions"?"border-b-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100":"text-gray-500"}`,onClick:()=>t("directions"),children:"Directions"})]})}),uO=({index:e,ingredient:t,isChecked:n,onCheck:r})=>L.jsxs("div",{className:"flex items-start gap-3",onClick:()=>r(e),children:[L.jsx("input",{type:"checkbox",checked:n,onChange:()=>r(e),className:"peer hidden",id:`checkbox-${e}`}),L.jsx("label",{htmlFor:`checkbox-${e}`,className:`w-6 h-6 flex items-center justify-center border-2 border-gray-400 rounded-md cursor-pointer transition-all 
            peer-checked:bg-leaf-green-500 peer-checked:border-leaf-green-500 
            dark:border-gray-600 dark:peer-checked:bg-leaf-green-400 dark:peer-checked:border-leaf-green-400`,children:L.jsx(O3,{className:`w-4 h-4 text-white peer-checked:block ${!n&&"hidden"}`})}),L.jsx("span",{className:`text-lg leading-6 flex-1 transition-all ${n?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-gray-300"}`,children:t})]}),Vw=({ingredients:e,checkedItems:t,onCheck:n})=>L.jsx("div",{className:"flex flex-col space-y-4",children:e.map((r,i)=>L.jsx(uO,{ingredient:r.value,index:i,onCheck:n,isChecked:!!t[i]||!1},r.id))}),Ww=({steps:e})=>L.jsx("ol",{className:"list-decimal space-y-4 ml-5 text-gray-800 dark:text-gray-300",children:e.map((t,n)=>L.jsx("li",{className:"text-lg p-2 leading-relaxed",children:t.value},n))}),lO=({recipe:e,checkedItems:t,onCheck:n})=>L.jsxs("div",{className:"hidden md:flex md:flex-row gap-6 w-full",children:[L.jsxs("div",{className:"w-1/3 h-full overflow-y-auto px-4 xs:py-4 border-r border-gray-300 dark:border-leaf-green-100",children:[L.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Ingredients"}),L.jsx(Vw,{ingredients:e.ingredients,checkedItems:t,onCheck:n})]}),L.jsxs("div",{className:"w-2/3 h-full overflow-y-auto px-4 xs:py-4",children:[L.jsx("h2",{className:"text-2xl font-semibold text-leaf-green-900 dark:text-leaf-green-100 mb-4",children:"Directions"}),L.jsx(Ww,{steps:e.steps})]})]}),cO=({activeTab:e,recipe:t,checkedItems:n,onCheck:r})=>L.jsx("div",{className:"block md:hidden h-full w-full overflow-y-auto px-4 sm:pt-4",children:e==="ingredients"?L.jsx(Vw,{ingredients:t.ingredients,checkedItems:n,onCheck:r}):L.jsx(Ww,{steps:t.steps})}),dO=({recipe:e})=>{const[t,n]=M.useState({}),[r,i]=M.useState("ingredients"),s=u=>{n(l=>({...l,[u]:!l[u]}))};return L.jsxs("div",{className:"w-full h-full p-4 pt-[1.5rem]",children:[L.jsx(oO,{activeTab:r,onTabChange:i}),L.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[L.jsx(cO,{activeTab:r,recipe:e,checkedItems:t,onCheck:s}),L.jsx(lO,{recipe:e,checkedItems:t,onCheck:s})]})]})},Q1=({label:e,value:t})=>L.jsxs(L.Fragment,{children:[L.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:e}),L.jsx("div",{className:"text-leaf-green-700 dark:text-white",children:L.jsx("strong",{children:t})})]}),fO=({recipe:e})=>{const{openModal:t}=So(),n=ti(),r=()=>{t(L.jsx(dO,{recipe:e}),pc.Large)};return L.jsxs("div",{className:"flex flex-col gap-4",children:[L.jsxs(wn,{className:"w-full bg-white dark:bg-gray-900",btnType:"secondary",onClick:r,children:["Get Cookin",L.jsx(ET,{className:"h-5 w-5"})]}),L.jsxs("div",{className:"py-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[e.servings>0&&L.jsx("div",{className:"mb-2",children:L.jsx(Q1,{label:"servings",value:e.servings})}),e.prep_time>0&&L.jsx("div",{className:"mb-2",children:L.jsx(Q1,{label:"prep time",value:gy(e.prep_time)})}),e.total_time>0&&L.jsx("div",{className:"mb-3",children:L.jsx(Q1,{label:"total time",value:gy(e.total_time)})})]}),e.collections&&e.collections.length>0&&L.jsxs("div",{className:"pt-2 pb-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[L.jsx("div",{className:"mb-1",children:L.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:"collections"})}),L.jsx("div",{className:"flex flex-wrap gap-2",children:e.collections.map(i=>L.jsx(Wf,{title:i.title,isReadOnly:!0,displayHover:!1},i.id))})]}),e.tags&&e.tags.length>0&&L.jsxs("div",{className:"pt-2 pb-4 px-5 bg-white dark:bg-gray-900 rounded-lg dark:border dark:border-dashed dark:border-2 dark:border-leaf-green-100",children:[L.jsx("div",{className:"mb-1",children:L.jsx("small",{className:"text-leaf-green-800 dark:text-leaf-green-100",children:"tags"})}),L.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(i=>L.jsx(Wf,{title:i.title,isReadOnly:!0,onClick:()=>{n("/",{state:{selectedTags:[i]}})}},i.id))})]})]})};function Pn(e){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(e)}var Pi=Uint8Array,Ds=Uint16Array,t2=Int32Array,Ap=new Pi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Np=new Pi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hm=new Pi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yw=function(e,t){for(var n=new Ds(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new t2(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Gw=Yw(Ap,2),Kw=Gw.b,qm=Gw.r;Kw[28]=258,qm[258]=28;var Qw=Yw(Np,0),hO=Qw.b,by=Qw.r,zm=new Ds(32768);for(var Qn=0;Qn<32768;++Qn){var sl=(Qn&43690)>>1|(Qn&21845)<<1;sl=(sl&52428)>>2|(sl&13107)<<2,sl=(sl&61680)>>4|(sl&3855)<<4,zm[Qn]=((sl&65280)>>8|(sl&255)<<8)>>1}var xo=function(e,t,n){for(var r=e.length,i=0,s=new Ds(t);i<r;++i)e[i]&&++s[e[i]-1];var u=new Ds(t);for(i=1;i<t;++i)u[i]=u[i-1]+s[i-1]<<1;var l;if(n){l=new Ds(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var h=i<<4|e[i],p=t-e[i],b=u[e[i]-1]++<<p,E=b|(1<<p)-1;b<=E;++b)l[zm[b]>>c]=h}else for(l=new Ds(r),i=0;i<r;++i)e[i]&&(l[i]=zm[u[e[i]-1]++]>>15-e[i]);return l},vl=new Pi(288);for(var Qn=0;Qn<144;++Qn)vl[Qn]=8;for(var Qn=144;Qn<256;++Qn)vl[Qn]=9;for(var Qn=256;Qn<280;++Qn)vl[Qn]=7;for(var Qn=280;Qn<288;++Qn)vl[Qn]=8;var eh=new Pi(32);for(var Qn=0;Qn<32;++Qn)eh[Qn]=5;var pO=xo(vl,9,0),mO=xo(vl,9,1),gO=xo(eh,5,0),bO=xo(eh,5,1),X1=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},La=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},J1=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},n2=function(e){return(e+7)/8|0},Xw=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Pi(e.subarray(t,n))},yO=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ia=function(e,t,n){var r=new Error(t||yO[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Ia),!n)throw r;return r},vO=function(e,t,n,r){var i=e.length,s=0;if(!i||t.f&&!t.l)return n||new Pi(0);var u=!n,l=u||t.i!=2,c=t.i;u&&(n=new Pi(i*3));var h=function(Xe){var ut=n.length;if(Xe>ut){var lt=new Pi(Math.max(ut*2,Xe));lt.set(n),n=lt}},p=t.f||0,b=t.p||0,E=t.b||0,y=t.l,S=t.d,A=t.m,k=t.n,C=i*8;do{if(!y){p=La(e,b,1);var P=La(e,b+1,3);if(b+=3,P)if(P==1)y=mO,S=bO,A=9,k=5;else if(P==2){var he=La(e,b,31)+257,le=La(e,b+10,15)+4,X=he+La(e,b+5,31)+1;b+=14;for(var be=new Pi(X),Ie=new Pi(19),U=0;U<le;++U)Ie[Hm[U]]=La(e,b+U*3,7);b+=le*3;for(var q=X1(Ie),te=(1<<q)-1,ee=xo(Ie,q,1),U=0;U<X;){var Oe=ee[La(e,b,te)];b+=Oe&15;var $=Oe>>4;if($<16)be[U++]=$;else{var Ae=0,Se=0;for($==16?(Se=3+La(e,b,3),b+=2,Ae=be[U-1]):$==17?(Se=3+La(e,b,7),b+=3):$==18&&(Se=11+La(e,b,127),b+=7);Se--;)be[U++]=Ae}}var ae=be.subarray(0,he),ve=be.subarray(he);A=X1(ae),k=X1(ve),y=xo(ae,A,1),S=xo(ve,k,1)}else Ia(1);else{var $=n2(b)+4,H=e[$-4]|e[$-3]<<8,Y=$+H;if(Y>i){c&&Ia(0);break}l&&h(E+H),n.set(e.subarray($,Y),E),t.b=E+=H,t.p=b=Y*8,t.f=p;continue}if(b>C){c&&Ia(0);break}}l&&h(E+131072);for(var ye=(1<<A)-1,ne=(1<<k)-1,I=b;;I=b){var Ae=y[J1(e,b)&ye],V=Ae>>4;if(b+=Ae&15,b>C){c&&Ia(0);break}if(Ae||Ia(2),V<256)n[E++]=V;else if(V==256){I=b,y=null;break}else{var Q=V-254;if(V>264){var U=V-257,se=Ap[U];Q=La(e,b,(1<<se)-1)+Kw[U],b+=se}var ue=S[J1(e,b)&ne],_e=ue>>4;ue||Ia(3),b+=ue&15;var ve=hO[_e];if(_e>3){var se=Np[_e];ve+=J1(e,b)&(1<<se)-1,b+=se}if(b>C){c&&Ia(0);break}l&&h(E+131072);var xe=E+Q;if(E<ve){var Te=s-ve,Ue=Math.min(ve,xe);for(Te+E<0&&Ia(3);E<Ue;++E)n[E]=r[Te+E]}for(;E<xe;++E)n[E]=n[E-ve]}}t.l=y,t.p=I,t.b=E,t.f=p,y&&(p=1,t.m=A,t.d=S,t.n=k)}while(!p);return E!=n.length&&u?Xw(n,0,E):n.subarray(0,E)},ou=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},xf=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Z1=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:Zw,l:0};if(i==1){var u=new Pi(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(Y,he){return Y.f-he.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],h=0,p=1,b=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};p!=i-1;)l=n[n[h].f<n[b].f?h++:b++],c=n[h!=p&&n[h].f<n[b].f?h++:b++],n[p++]={s:-1,f:l.f+c.f,l,r:c};for(var E=s[0].s,r=1;r<i;++r)s[r].s>E&&(E=s[r].s);var y=new Ds(E+1),S=$m(n[p-1],y,0);if(S>t){var r=0,A=0,k=S-t,C=1<<k;for(s.sort(function(he,le){return y[le.s]-y[he.s]||he.f-le.f});r<i;++r){var P=s[r].s;if(y[P]>t)A+=C-(1<<S-y[P]),y[P]=t;else break}for(A>>=k;A>0;){var $=s[r].s;y[$]<t?A-=1<<t-y[$]++-1:++r}for(;r>=0&&A;--r){var H=s[r].s;y[H]==t&&(--y[H],++A)}S=t}return{t:new Pi(y),l:S}},$m=function(e,t,n){return e.s==-1?Math.max($m(e.l,t,n+1),$m(e.r,t,n+1)):t[e.s]=n},yy=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ds(++t),r=0,i=e[0],s=1,u=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)u(32754);s>2&&(u(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(u(i),--s;s>6;s-=6)u(8304);s>2&&(u(s-3<<5|8208),s=0)}for(;s--;)u(i);s=1,i=e[l]}return{c:n.subarray(0,r),n:t}},Tf=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Jw=function(e,t,n){var r=n.length,i=n2(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},vy=function(e,t,n,r,i,s,u,l,c,h,p){ou(t,p++,n),++i[256];for(var b=Z1(i,15),E=b.t,y=b.l,S=Z1(s,15),A=S.t,k=S.l,C=yy(E),P=C.c,$=C.n,H=yy(A),Y=H.c,he=H.n,le=new Ds(19),X=0;X<P.length;++X)++le[P[X]&31];for(var X=0;X<Y.length;++X)++le[Y[X]&31];for(var be=Z1(le,7),Ie=be.t,U=be.l,q=19;q>4&&!Ie[Hm[q-1]];--q);var te=h+5<<3,ee=Tf(i,vl)+Tf(s,eh)+u,Oe=Tf(i,E)+Tf(s,A)+u+14+3*q+Tf(le,Ie)+2*le[16]+3*le[17]+7*le[18];if(c>=0&&te<=ee&&te<=Oe)return Jw(t,p,e.subarray(c,c+h));var Ae,Se,ae,ve;if(ou(t,p,1+(Oe<ee)),p+=2,Oe<ee){Ae=xo(E,y,0),Se=E,ae=xo(A,k,0),ve=A;var ye=xo(Ie,U,0);ou(t,p,$-257),ou(t,p+5,he-1),ou(t,p+10,q-4),p+=14;for(var X=0;X<q;++X)ou(t,p+3*X,Ie[Hm[X]]);p+=3*q;for(var ne=[P,Y],I=0;I<2;++I)for(var V=ne[I],X=0;X<V.length;++X){var Q=V[X]&31;ou(t,p,ye[Q]),p+=Ie[Q],Q>15&&(ou(t,p,V[X]>>5&127),p+=V[X]>>12)}}else Ae=pO,Se=vl,ae=gO,ve=eh;for(var X=0;X<l;++X){var se=r[X];if(se>255){var Q=se>>18&31;xf(t,p,Ae[Q+257]),p+=Se[Q+257],Q>7&&(ou(t,p,se>>23&31),p+=Ap[Q]);var ue=se&31;xf(t,p,ae[ue]),p+=ve[ue],ue>3&&(xf(t,p,se>>5&8191),p+=Np[ue])}else xf(t,p,Ae[se]),p+=Se[se]}return xf(t,p,Ae[256]),p+Se[256]},wO=new t2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Zw=new Pi(0),EO=function(e,t,n,r,i,s){var u=s.z||e.length,l=new Pi(r+u+5*(1+Math.ceil(u/7e3))+i),c=l.subarray(r,l.length-i),h=s.l,p=(s.r||0)&7;if(t){p&&(c[0]=s.r>>3);for(var b=wO[t-1],E=b>>13,y=b&8191,S=(1<<n)-1,A=s.p||new Ds(32768),k=s.h||new Ds(S+1),C=Math.ceil(n/3),P=2*C,$=function(Et){return(e[Et]^e[Et+1]<<C^e[Et+2]<<P)&S},H=new t2(25e3),Y=new Ds(288),he=new Ds(32),le=0,X=0,be=s.i||0,Ie=0,U=s.w||0,q=0;be+2<u;++be){var te=$(be),ee=be&32767,Oe=k[te];if(A[ee]=Oe,k[te]=ee,U<=be){var Ae=u-be;if((le>7e3||Ie>24576)&&(Ae>423||!h)){p=vy(e,c,0,H,Y,he,X,Ie,q,be-q,p),Ie=le=X=0,q=be;for(var Se=0;Se<286;++Se)Y[Se]=0;for(var Se=0;Se<30;++Se)he[Se]=0}var ae=2,ve=0,ye=y,ne=ee-Oe&32767;if(Ae>2&&te==$(be-ne))for(var I=Math.min(E,Ae)-1,V=Math.min(32767,be),Q=Math.min(258,Ae);ne<=V&&--ye&&ee!=Oe;){if(e[be+ae]==e[be+ae-ne]){for(var se=0;se<Q&&e[be+se]==e[be+se-ne];++se);if(se>ae){if(ae=se,ve=ne,se>I)break;for(var ue=Math.min(ne,se-2),_e=0,Se=0;Se<ue;++Se){var xe=be-ne+Se&32767,Te=A[xe],Ue=xe-Te&32767;Ue>_e&&(_e=Ue,Oe=xe)}}}ee=Oe,Oe=A[ee],ne+=ee-Oe&32767}if(ve){H[Ie++]=268435456|qm[ae]<<18|by[ve];var Xe=qm[ae]&31,ut=by[ve]&31;X+=Ap[Xe]+Np[ut],++Y[257+Xe],++he[ut],U=be+ae,++le}else H[Ie++]=e[be],++Y[e[be]]}}for(be=Math.max(be,U);be<u;++be)H[Ie++]=e[be],++Y[e[be]];p=vy(e,c,h,H,Y,he,X,Ie,q,be-q,p),h||(s.r=p&7|c[p/8|0]<<3,p-=7,s.h=k,s.p=A,s.i=be,s.w=U)}else{for(var be=s.w||0;be<u+h;be+=65535){var lt=be+65535;lt>=u&&(c[p/8|0]=h,lt=u),p=Jw(c,p+1,e.subarray(be,lt))}s.i=u}return Xw(l,0,r+n2(p)+i)},eE=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,u=0;u!=s;){for(var l=Math.min(u+2655,s);u<l;++u)i+=r+=n[u];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},_O=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),u=new Pi(s.length+e.length);u.set(s),u.set(e,s.length),e=u,i.w=s.length}return EO(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},tE=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},xO=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=eE();i.p(t.dictionary),tE(e,2,i.d())}},TO=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ia(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ia(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Vm(e,t){t||(t={});var n=eE();n.p(e);var r=_O(e,t,t.dictionary?6:2,4);return xO(r,t),tE(r,r.length-4,n.d()),r}function SO(e,t){return vO(e.subarray(TO(e),-4),{i:2},t,t)}var AO=typeof TextDecoder<"u"&&new TextDecoder,NO=0;try{AO.decode(Zw,{stream:!0}),NO=1}catch{}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function em(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var jn={log:em,warn:function(e){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):em.call(null,arguments))},error:function(e){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):em(e))}};function tm(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){sc(r.response,t,n)},r.onerror=function(){jn.error("could not download file")},r.send()}function wy(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function f0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Uf,Wm,sc=jt.saveAs||((typeof window>"u"?"undefined":Pn(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=jt.URL||jt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?wy(i.href)?tm(e,t,n):f0(i,i.target="_blank"):f0(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){f0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(wy(e))tm(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){f0(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Pn(s)!=="object"&&(jn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return tm(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(jt.HTMLElement)||jt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||i&&s)&&(typeof FileReader>"u"?"undefined":Pn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=u?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},l.readAsDataURL(e)}else{var c=jt.URL||jt.webkitURL,h=c.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function nE(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,u=i.exec(e);u&&(t=s(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+l+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function nm(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Ai(n,r,i,s,t[0],7,-680876936),s=Ai(s,n,r,i,t[1],12,-389564586),i=Ai(i,s,n,r,t[2],17,606105819),r=Ai(r,i,s,n,t[3],22,-1044525330),n=Ai(n,r,i,s,t[4],7,-176418897),s=Ai(s,n,r,i,t[5],12,1200080426),i=Ai(i,s,n,r,t[6],17,-1473231341),r=Ai(r,i,s,n,t[7],22,-45705983),n=Ai(n,r,i,s,t[8],7,1770035416),s=Ai(s,n,r,i,t[9],12,-1958414417),i=Ai(i,s,n,r,t[10],17,-42063),r=Ai(r,i,s,n,t[11],22,-1990404162),n=Ai(n,r,i,s,t[12],7,1804603682),s=Ai(s,n,r,i,t[13],12,-40341101),i=Ai(i,s,n,r,t[14],17,-1502002290),n=Ni(n,r=Ai(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Ni(s,n,r,i,t[6],9,-1069501632),i=Ni(i,s,n,r,t[11],14,643717713),r=Ni(r,i,s,n,t[0],20,-373897302),n=Ni(n,r,i,s,t[5],5,-701558691),s=Ni(s,n,r,i,t[10],9,38016083),i=Ni(i,s,n,r,t[15],14,-660478335),r=Ni(r,i,s,n,t[4],20,-405537848),n=Ni(n,r,i,s,t[9],5,568446438),s=Ni(s,n,r,i,t[14],9,-1019803690),i=Ni(i,s,n,r,t[3],14,-187363961),r=Ni(r,i,s,n,t[8],20,1163531501),n=Ni(n,r,i,s,t[13],5,-1444681467),s=Ni(s,n,r,i,t[2],9,-51403784),i=Ni(i,s,n,r,t[7],14,1735328473),n=Ci(n,r=Ni(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Ci(s,n,r,i,t[8],11,-2022574463),i=Ci(i,s,n,r,t[11],16,1839030562),r=Ci(r,i,s,n,t[14],23,-35309556),n=Ci(n,r,i,s,t[1],4,-1530992060),s=Ci(s,n,r,i,t[4],11,1272893353),i=Ci(i,s,n,r,t[7],16,-155497632),r=Ci(r,i,s,n,t[10],23,-1094730640),n=Ci(n,r,i,s,t[13],4,681279174),s=Ci(s,n,r,i,t[0],11,-358537222),i=Ci(i,s,n,r,t[3],16,-722521979),r=Ci(r,i,s,n,t[6],23,76029189),n=Ci(n,r,i,s,t[9],4,-640364487),s=Ci(s,n,r,i,t[12],11,-421815835),i=Ci(i,s,n,r,t[15],16,530742520),n=Li(n,r=Ci(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Li(s,n,r,i,t[7],10,1126891415),i=Li(i,s,n,r,t[14],15,-1416354905),r=Li(r,i,s,n,t[5],21,-57434055),n=Li(n,r,i,s,t[12],6,1700485571),s=Li(s,n,r,i,t[3],10,-1894986606),i=Li(i,s,n,r,t[10],15,-1051523),r=Li(r,i,s,n,t[1],21,-2054922799),n=Li(n,r,i,s,t[8],6,1873313359),s=Li(s,n,r,i,t[15],10,-30611744),i=Li(i,s,n,r,t[6],15,-1560198380),r=Li(r,i,s,n,t[13],21,1309151649),n=Li(n,r,i,s,t[4],6,-145523070),s=Li(s,n,r,i,t[11],10,-1120210379),i=Li(i,s,n,r,t[2],15,718787259),r=Li(r,i,s,n,t[9],21,-343485551),e[0]=bl(n,e[0]),e[1]=bl(r,e[1]),e[2]=bl(i,e[2]),e[3]=bl(s,e[3])}function Cp(e,t,n,r,i,s){return t=bl(bl(t,e),bl(r,s)),bl(t<<i|t>>>32-i,n)}function Ai(e,t,n,r,i,s,u){return Cp(t&n|~t&r,e,t,i,s,u)}function Ni(e,t,n,r,i,s,u){return Cp(t&r|n&~r,e,t,i,s,u)}function Ci(e,t,n,r,i,s,u){return Cp(t^n^r,e,t,i,s,u)}function Li(e,t,n,r,i,s,u){return Cp(n^(t|~r),e,t,i,s,u)}function rE(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)nm(r,CO(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(nm(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,nm(r,i),r}function CO(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Uf=jt.atob.bind(jt),Wm=jt.btoa.bind(jt);var Ey="0123456789abcdef".split("");function LO(e){for(var t="",n=0;n<4;n++)t+=Ey[e>>8*n+4&15]+Ey[e>>8*n&15];return t}function kO(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Ym(e){return rE(e).map(kO).join("")}var IO=function(e){for(var t=0;t<e.length;t++)e[t]=LO(e[t]);return e.join("")}(rE("hello"))!="5d41402abc4b2a76b9719d911017c592";function bl(e,t){if(IO){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Gm(e,t){var n,r,i,s;if(e!==n){for(var u=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var h=0;for(c=0;c<256;c++){var p=l[c];h=(h+p+u.charCodeAt(c))%256,l[c]=l[h],l[h]=p}n=e,r=l}else l=r;var b=t.length,E=0,y=0,S="";for(c=0;c<b;c++)y=(y+(p=l[E=(E+1)%256]))%256,l[E]=l[y],l[y]=p,u=l[(l[E]+l[y])%256],S+=String.fromCharCode(t.charCodeAt(c)^u);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _y={print:4,modify:8,copy:16,"annot-forms":32};function ud(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(_y.perm!==void 0)throw new Error("Invalid permission: "+l);i+=_y[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,u),this.P=-(1+(255^i)),this.encryptionKey=Ym(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Gm(this.encryptionKey,this.padding)}function ld(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function xy(e){if(Pn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var u=t[n][s];try{u[0].apply(e,r)}catch(l){jt.console&&jn.error("jsPDF PubSub Error",l.message,l)}u[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function X0(e){if(!(this instanceof X0))return new X0(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function iE(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function uc(e,t,n,r,i){if(!(this instanceof uc))return new uc(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,iE.call(this,r,i)}function cd(e,t,n,r,i){if(!(this instanceof cd))return new cd(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,iE.call(this,r,i)}function Ft(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],u=[],l=1,c=16,h="S",p=null;Pn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),h=e.defaultPathOperation||"S"),u=e.filters||(s===!0?["FlateEncode"]:u),r=r||"mm",n=(""+(n||"P")).toLowerCase();var b=e.putOnlyUsedFonts||!1,E={},y={internal:{},__private__:{}};y.__private__.PubSub=xy;var S="1.3",A=y.__private__.getPdfVersion=function(){return S};y.__private__.setPdfVersion=function(v){S=v};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var C=y.__private__.getPageFormat=function(v){return k[v]};i=i||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},$=P.COMPAT;function H(){this.saveGraphicsState(),re(new gt(Je,0,0,-Je,0,eo()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),h="n",$=P.ADVANCED}function Y(){this.restoreGraphicsState(),h="S",$=P.COMPAT}var he=y.__private__.combineFontStyleAndFontWeight=function(v,R){if(v=="bold"&&R=="normal"||v=="bold"&&R==400||v=="normal"&&R=="italic"||v=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(v=R==400||R==="normal"?v==="italic"?"italic":"normal":R!=700&&R!=="bold"||v!=="normal"?(R==700?"bold":R)+""+v:"bold"),v};y.advancedAPI=function(v){var R=$===P.COMPAT;return R&&H.call(this),typeof v!="function"||(v(this),R&&Y.call(this)),this},y.compatAPI=function(v){var R=$===P.ADVANCED;return R&&Y.call(this),typeof v!="function"||(v(this),R&&H.call(this)),this},y.isAdvancedAPI=function(){return $===P.ADVANCED};var le,X=function(v){if($!==P.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},be=y.roundToPrecision=y.__private__.roundToPrecision=function(v,R){var Z=t||R;if(isNaN(v)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(Z).replace(/0+$/,"")};le=y.hpf=y.__private__.hpf=typeof c=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return be(v,c)}:c==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return be(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return be(v,16)};var Ie=y.f2=y.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return be(v,2)},U=y.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return be(v,3)},q=y.scale=y.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return $===P.COMPAT?v*Je:$===P.ADVANCED?v:void 0},te=function(v){return $===P.COMPAT?eo()-v:$===P.ADVANCED?v:void 0},ee=function(v){return q(te(v))};y.__private__.setPrecision=y.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var Oe,Ae="00000000000000000000000000000000",Se=y.__private__.getFileId=function(){return Ae},ae=y.__private__.setFileId=function(v){return Ae=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&($n=new ud(p.userPermissions,p.userPassword,p.ownerPassword,Ae)),Ae};y.setFileId=function(v){return ae(v),this},y.getFileId=function(){return Se()};var ve=y.__private__.convertDateToPDFDate=function(v){var R=v.getTimezoneOffset(),Z=R<0?"+":"-",ce=Math.floor(Math.abs(R/60)),Ne=Math.abs(R%60),ze=[Z,Q(ce),"'",Q(Ne),"'"].join("");return["D:",v.getFullYear(),Q(v.getMonth()+1),Q(v.getDate()),Q(v.getHours()),Q(v.getMinutes()),Q(v.getSeconds()),ze].join("")},ye=y.__private__.convertPDFDateToDate=function(v){var R=parseInt(v.substr(2,4),10),Z=parseInt(v.substr(6,2),10)-1,ce=parseInt(v.substr(8,2),10),Ne=parseInt(v.substr(10,2),10),ze=parseInt(v.substr(12,2),10),tt=parseInt(v.substr(14,2),10);return new Date(R,Z,ce,Ne,ze,tt,0)},ne=y.__private__.setCreationDate=function(v){var R;if(v===void 0&&(v=new Date),v instanceof Date)R=ve(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=v}return Oe=R},I=y.__private__.getCreationDate=function(v){var R=Oe;return v==="jsDate"&&(R=ye(Oe)),R};y.setCreationDate=function(v){return ne(v),this},y.getCreationDate=function(v){return I(v)};var V,Q=y.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},se=y.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ue=0,_e=[],xe=[],Te=0,Ue=[],Xe=[],ut=!1,lt=xe,Et=function(){ue=0,Te=0,xe=[],_e=[],Ue=[],Ri=_n(),ys=_n()};y.__private__.setCustomOutputDestination=function(v){ut=!0,lt=v};var je=function(v){ut||(lt=v)};y.__private__.resetCustomOutputDestination=function(){ut=!1,lt=xe};var re=y.__private__.out=function(v){return v=v.toString(),Te+=v.length+1,lt.push(v),lt},It=y.__private__.write=function(v){return re(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},vt=y.__private__.getArrayBuffer=function(v){for(var R=v.length,Z=new ArrayBuffer(R),ce=new Uint8Array(Z);R--;)ce[R]=v.charCodeAt(R);return Z},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Ze};var ot=e.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(v){return ot=$===P.ADVANCED?v/Je:v,this};var ft,K=y.__private__.getFontSize=y.getFontSize=function(){return $===P.COMPAT?ot:ot*Je},pe=e.R2L||!1;y.__private__.setR2L=y.setR2L=function(v){return pe=v,this},y.__private__.getR2L=y.getR2L=function(){return pe};var ke,Ke=y.__private__.setZoomMode=function(v){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))ft=v;else if(isNaN(v)){if(R.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');ft=v}else ft=parseInt(v,10)};y.__private__.getZoomMode=function(){return ft};var Ye,qe=y.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');ke=v};y.__private__.getPageMode=function(){return ke};var et=y.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Ye=v};y.__private__.getLayoutMode=function(){return Ye},y.__private__.setDisplayMode=y.setDisplayMode=function(v,R,Z){return Ke(v),et(R),qe(Z),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(v){if(Object.keys(ct).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[v]},y.__private__.getDocumentProperties=function(){return ct},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(v){for(var R in ct)ct.hasOwnProperty(R)&&v[R]&&(ct[R]=v[R]);return this},y.__private__.setDocumentProperty=function(v,R){if(Object.keys(ct).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[v]=R};var wt,Je,ir,Kt,Ar,sn={},un={},Hr=[],Xt={},bs={},On={},Nr={},fn=null,Jt=0,At=[],Yt=new xy(y),sr=e.hotfixes||[],ln={},qn={},Cr=[],gt=function v(R,Z,ce,Ne,ze,tt){if(!(this instanceof v))return new v(R,Z,ce,Ne,ze,tt);isNaN(R)&&(R=1),isNaN(Z)&&(Z=0),isNaN(ce)&&(ce=0),isNaN(Ne)&&(Ne=1),isNaN(ze)&&(ze=0),isNaN(tt)&&(tt=0),this._matrix=[R,Z,ce,Ne,ze,tt]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(le).join(v)},gt.prototype.multiply=function(v){var R=v.sx*this.sx+v.shy*this.shx,Z=v.sx*this.shy+v.shy*this.sy,ce=v.shx*this.sx+v.sy*this.shx,Ne=v.shx*this.shy+v.sy*this.sy,ze=v.tx*this.sx+v.ty*this.shx+this.tx,tt=v.tx*this.shy+v.ty*this.sy+this.ty;return new gt(R,Z,ce,Ne,ze,tt)},gt.prototype.decompose=function(){var v=this.sx,R=this.shy,Z=this.shx,ce=this.sy,Ne=this.tx,ze=this.ty,tt=Math.sqrt(v*v+R*R),mt=(v/=tt)*Z+(R/=tt)*ce;Z-=v*mt,ce-=R*mt;var Lt=Math.sqrt(Z*Z+ce*ce);return mt/=Lt,v*(ce/=Lt)<R*(Z/=Lt)&&(v=-v,R=-R,mt=-mt,tt=-tt),{scale:new gt(tt,0,0,Lt,0,0),translate:new gt(1,0,0,1,Ne,ze),rotate:new gt(v,R,-R,v,0,0),skew:new gt(1,0,mt,1,0,0)}},gt.prototype.toString=function(v){return this.join(" ")},gt.prototype.inversed=function(){var v=this.sx,R=this.shy,Z=this.shx,ce=this.sy,Ne=this.tx,ze=this.ty,tt=1/(v*ce-R*Z),mt=ce*tt,Lt=-R*tt,zt=-Z*tt,qt=v*tt;return new gt(mt,Lt,zt,qt,-mt*Ne-zt*ze,-Lt*Ne-qt*ze)},gt.prototype.applyToPoint=function(v){var R=v.x*this.sx+v.y*this.shx+this.tx,Z=v.x*this.shy+v.y*this.sy+this.ty;return new zs(R,Z)},gt.prototype.applyToRectangle=function(v){var R=this.applyToPoint(v),Z=this.applyToPoint(new zs(v.x+v.w,v.y+v.h));return new Za(R.x,R.y,Z.x-R.x,Z.y-R.y)},gt.prototype.clone=function(){var v=this.sx,R=this.shy,Z=this.shx,ce=this.sy,Ne=this.tx,ze=this.ty;return new gt(v,R,Z,ce,Ne,ze)},y.Matrix=gt;var Xn=y.matrixMult=function(v,R){return R.multiply(v)},Dn=new gt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Dn;var Bn=function(v,R){if(!bs[v]){var Z=(R instanceof uc?"Sh":"P")+(Object.keys(Xt).length+1).toString(10);R.id=Z,bs[v]=Z,Xt[Z]=R,Yt.publish("addPattern",R)}};y.ShadingPattern=uc,y.TilingPattern=cd,y.addShadingPattern=function(v,R){return X("addShadingPattern()"),Bn(v,R),this},y.beginTilingPattern=function(v){X("beginTilingPattern()"),Pc(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},y.endTilingPattern=function(v,R){X("endTilingPattern()"),R.stream=Xe[V].join(`
`),Bn(v,R),Yt.publish("endTilingPattern",R),Cr.pop().restore()};var En=y.__private__.newObject=function(){var v=_n();return Mn(v,!0),v},_n=y.__private__.newObjectDeferred=function(){return ue++,_e[ue]=function(){return Te},ue},Mn=function(v,R){return R=typeof R=="boolean"&&R,_e[v]=Te,R&&re(v+" 0 obj"),v},pi=y.__private__.newAdditionalObject=function(){var v={objId:_n(),content:""};return Ue.push(v),v},Ri=_n(),ys=_n(),vs=y.__private__.decodeColorString=function(v){var R=v.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var Z=parseFloat(R[0]);R=[Z,Z,Z,"r"]}for(var ce="#",Ne=0;Ne<3;Ne++)ce+=("0"+Math.floor(255*parseFloat(R[Ne])).toString(16)).slice(-2);return ce},Or=y.__private__.encodeColorString=function(v){var R;typeof v=="string"&&(v={ch1:v});var Z=v.ch1,ce=v.ch2,Ne=v.ch3,ze=v.ch4,tt=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var mt=new nE(Z);if(mt.ok)Z=mt.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var Lt=parseInt(Z.substr(1),16);Z=Lt>>16&255,ce=Lt>>8&255,Ne=255&Lt}if(ce===void 0||ze===void 0&&Z===ce&&ce===Ne)if(typeof Z=="string")R=Z+" "+tt[0];else switch(v.precision){case 2:R=Ie(Z/255)+" "+tt[0];break;case 3:default:R=U(Z/255)+" "+tt[0]}else if(ze===void 0||Pn(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return R=["1.","1.","1.",tt[1]].join(" ");if(typeof Z=="string")R=[Z,ce,Ne,tt[1]].join(" ");else switch(v.precision){case 2:R=[Ie(Z/255),Ie(ce/255),Ie(Ne/255),tt[1]].join(" ");break;default:case 3:R=[U(Z/255),U(ce/255),U(Ne/255),tt[1]].join(" ")}}else if(typeof Z=="string")R=[Z,ce,Ne,ze,tt[2]].join(" ");else switch(v.precision){case 2:R=[Ie(Z),Ie(ce),Ie(Ne),Ie(ze),tt[2]].join(" ");break;case 3:default:R=[U(Z),U(ce),U(Ne),U(ze),tt[2]].join(" ")}return R},ws=y.__private__.getFilters=function(){return u},Di=y.__private__.putStream=function(v){var R=(v=v||{}).data||"",Z=v.filters||ws(),ce=v.alreadyAppliedFilters||[],Ne=v.addLength1||!1,ze=R.length,tt=v.objectId,mt=function(qr){return qr};if(p!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(mt=$n.encryptor(tt,0));var Lt={};Z===!0&&(Z=["FlateEncode"]);var zt=v.additionalKeyValues||[],qt=(Lt=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(R,Z):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(Lt.data.length!==0&&(zt.push({key:"Length",value:Lt.data.length}),Ne===!0&&zt.push({key:"Length1",value:ze})),qt.length!=0)if(qt.split("/").length-1==1)zt.push({key:"Filter",value:qt});else{zt.push({key:"Filter",value:"["+qt+"]"});for(var tn=0;tn<zt.length;tn+=1)if(zt[tn].key==="DecodeParms"){for(var Vn=[],Jn=0;Jn<Lt.reverseChain.split("/").length-1;Jn+=1)Vn.push("null");Vn.push(zt[tn].value),zt[tn].value="["+Vn.join(" ")+"]"}}re("<<");for(var cr=0;cr<zt.length;cr++)re("/"+zt[cr].key+" "+zt[cr].value);re(">>"),Lt.data.length!==0&&(re("stream"),re(mt(Lt.data)),re("endstream"))},js=y.__private__.putPage=function(v){var R=v.number,Z=v.data,ce=v.objId,Ne=v.contentsObjId;Mn(ce,!0),re("<</Type /Page"),re("/Parent "+v.rootDictionaryObjId+" 0 R"),re("/Resources "+v.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(le(v.mediaBox.bottomLeftX))+" "+parseFloat(le(v.mediaBox.bottomLeftY))+" "+le(v.mediaBox.topRightX)+" "+le(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&re("/CropBox ["+le(v.cropBox.bottomLeftX)+" "+le(v.cropBox.bottomLeftY)+" "+le(v.cropBox.topRightX)+" "+le(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&re("/BleedBox ["+le(v.bleedBox.bottomLeftX)+" "+le(v.bleedBox.bottomLeftY)+" "+le(v.bleedBox.topRightX)+" "+le(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&re("/TrimBox ["+le(v.trimBox.bottomLeftX)+" "+le(v.trimBox.bottomLeftY)+" "+le(v.trimBox.topRightX)+" "+le(v.trimBox.topRightY)+"]"),v.artBox!==null&&re("/ArtBox ["+le(v.artBox.bottomLeftX)+" "+le(v.artBox.bottomLeftY)+" "+le(v.artBox.topRightX)+" "+le(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&re("/UserUnit "+v.userUnit),Yt.publish("putPage",{objId:ce,pageContext:At[R],pageNumber:R,page:Z}),re("/Contents "+Ne+" 0 R"),re(">>"),re("endobj");var ze=Z.join(`
`);return $===P.ADVANCED&&(ze+=`
Q`),Mn(Ne,!0),Di({data:ze,filters:ws(),objectId:Ne}),re("endobj"),ce},$a=y.__private__.putPages=function(){var v,R,Z=[];for(v=1;v<=Jt;v++)At[v].objId=_n(),At[v].contentsObjId=_n();for(v=1;v<=Jt;v++)Z.push(js({number:v,data:Xe[v],objId:At[v].objId,contentsObjId:At[v].contentsObjId,mediaBox:At[v].mediaBox,cropBox:At[v].cropBox,bleedBox:At[v].bleedBox,trimBox:At[v].trimBox,artBox:At[v].artBox,userUnit:At[v].userUnit,rootDictionaryObjId:Ri,resourceDictionaryObjId:ys}));Mn(Ri,!0),re("<</Type /Pages");var ce="/Kids [";for(R=0;R<Jt;R++)ce+=Z[R]+" 0 R ";re(ce+"]"),re("/Count "+Jt),re(">>"),re("endobj"),Yt.publish("postPutPages")},No=function(v){Yt.publish("putFont",{font:v,out:re,newObject:En,putStream:Di}),v.isAlreadyPutted!==!0&&(v.objectNumber=En(),re("<<"),re("/Type /Font"),re("/BaseFont /"+ld(v.postScriptName)),re("/Subtype /Type1"),typeof v.encoding=="string"&&re("/Encoding /"+v.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Co=function(){for(var v in sn)sn.hasOwnProperty(v)&&(b===!1||b===!0&&E.hasOwnProperty(v))&&No(sn[v])},Lo=function(v){v.objectNumber=En();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[le(v.x),le(v.y),le(v.x+v.width),le(v.y+v.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var Z=v.pages[1].join(`
`);Di({data:Z,additionalKeyValues:R,objectId:v.objectNumber}),re("endobj")},pu=function(){for(var v in ln)ln.hasOwnProperty(v)&&Lo(ln[v])},Tc=function(v,R){var Z,ce=[],Ne=1/(R-1);for(Z=0;Z<1;Z+=Ne)ce.push(Z);if(ce.push(1),v[0].offset!=0){var ze={offset:0,color:v[0].color};v.unshift(ze)}if(v[v.length-1].offset!=1){var tt={offset:1,color:v[v.length-1].color};v.push(tt)}for(var mt="",Lt=0,zt=0;zt<ce.length;zt++){for(Z=ce[zt];Z>v[Lt+1].offset;)Lt++;var qt=v[Lt].offset,tn=(Z-qt)/(v[Lt+1].offset-qt),Vn=v[Lt].color,Jn=v[Lt+1].color;mt+=se(Math.round((1-tn)*Vn[0]+tn*Jn[0]).toString(16))+se(Math.round((1-tn)*Vn[1]+tn*Jn[1]).toString(16))+se(Math.round((1-tn)*Vn[2]+tn*Jn[2]).toString(16))}return mt.trim()},zn=function(v,R){R||(R=21);var Z=En(),ce=Tc(v.colors,R),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+R+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Di({data:ce,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),re("endobj"),v.objectNumber=En(),re("<< /ShadingType "+v.type),re("/ColorSpace /DeviceRGB");var ze="/Coords ["+le(parseFloat(v.coords[0]))+" "+le(parseFloat(v.coords[1]))+" ";v.type===2?ze+=le(parseFloat(v.coords[2]))+" "+le(parseFloat(v.coords[3])):ze+=le(parseFloat(v.coords[2]))+" "+le(parseFloat(v.coords[3]))+" "+le(parseFloat(v.coords[4]))+" "+le(parseFloat(v.coords[5])),re(ze+="]"),v.matrix&&re("/Matrix ["+v.matrix.toString()+"]"),re("/Function "+Z+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Dd=function(v,R){var Z=_n(),ce=En();R.push({resourcesOid:Z,objectOid:ce}),v.objectNumber=ce;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+v.boundingBox.map(le).join(" ")+"]"}),Ne.push({key:"XStep",value:le(v.xStep)}),Ne.push({key:"YStep",value:le(v.yStep)}),Ne.push({key:"Resources",value:Z+" 0 R"}),v.matrix&&Ne.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Di({data:v.stream,additionalKeyValues:Ne,objectId:v.objectNumber}),re("endobj")},Va=function(v){var R;for(R in Xt)Xt.hasOwnProperty(R)&&(Xt[R]instanceof uc?zn(Xt[R]):Xt[R]instanceof cd&&Dd(Xt[R],v))},Sl=function(v){for(var R in v.objectNumber=En(),re("<<"),v)switch(R){case"opacity":re("/ca "+Ie(v[R]));break;case"stroke-opacity":re("/CA "+Ie(v[R]))}re(">>"),re("endobj")},mu=function(){var v;for(v in On)On.hasOwnProperty(v)&&Sl(On[v])},Al=function(){for(var v in re("/XObject <<"),ln)ln.hasOwnProperty(v)&&ln[v].objectNumber>=0&&re("/"+v+" "+ln[v].objectNumber+" 0 R");Yt.publish("putXobjectDict"),re(">>")},Sc=function(){$n.oid=En(),re("<<"),re("/Filter /Standard"),re("/V "+$n.v),re("/R "+$n.r),re("/U <"+$n.toHexString($n.U)+">"),re("/O <"+$n.toHexString($n.O)+">"),re("/P "+$n.P),re(">>"),re("endobj")},ko=function(){for(var v in re("/Font <<"),sn)sn.hasOwnProperty(v)&&(b===!1||b===!0&&E.hasOwnProperty(v))&&re("/"+v+" "+sn[v].objectNumber+" 0 R");re(">>")},Ki=function(){if(Object.keys(Xt).length>0){for(var v in re("/Shading <<"),Xt)Xt.hasOwnProperty(v)&&Xt[v]instanceof uc&&Xt[v].objectNumber>=0&&re("/"+v+" "+Xt[v].objectNumber+" 0 R");Yt.publish("putShadingPatternDict"),re(">>")}},gu=function(v){if(Object.keys(Xt).length>0){for(var R in re("/Pattern <<"),Xt)Xt.hasOwnProperty(R)&&Xt[R]instanceof y.TilingPattern&&Xt[R].objectNumber>=0&&Xt[R].objectNumber<v&&re("/"+R+" "+Xt[R].objectNumber+" 0 R");Yt.publish("putTilingPatternDict"),re(">>")}},Mi=function(){if(Object.keys(On).length>0){var v;for(v in re("/ExtGState <<"),On)On.hasOwnProperty(v)&&On[v].objectNumber>=0&&re("/"+v+" "+On[v].objectNumber+" 0 R");Yt.publish("putGStateDict"),re(">>")}},ar=function(v){Mn(v.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ko(),Ki(),gu(v.objectOid),Mi(),Al(),re(">>"),re("endobj")},Ac=function(){var v=[];Co(),mu(),pu(),Va(v),Yt.publish("putResources"),v.forEach(ar),ar({resourcesOid:ys,objectOid:Number.MAX_SAFE_INTEGER}),Yt.publish("postPutResources")},Nc=function(){Yt.publish("putAdditionalObjects");for(var v=0;v<Ue.length;v++){var R=Ue[v];Mn(R.objId,!0),re(R.content),re("endobj")}Yt.publish("postPutAdditionalObjects")},Io=function(v){un[v.fontName]=un[v.fontName]||{},un[v.fontName][v.fontStyle]=v.id},Wa=function(v,R,Z,ce,Ne){var ze={id:"F"+(Object.keys(sn).length+1).toString(10),postScriptName:v,fontName:R,fontStyle:Z,encoding:ce,isStandardFont:Ne||!1,metadata:{}};return Yt.publish("addFont",{font:ze,instance:this}),sn[ze.id]=ze,Io(ze),ze.id},Po=function(v){for(var R=0,Z=Ze.length;R<Z;R++){var ce=Wa.call(this,v[R][0],v[R][1],v[R][2],Ze[R][3],!0);b===!1&&(E[ce]=!0);var Ne=v[R][0].split("-");Io({id:ce,fontName:Ne[0],fontStyle:Ne[1]||""})}Yt.publish("addFonts",{fonts:sn,dictionary:un})},mi=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ce){var R=ce.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var Z="Error in function "+R.split(`
`)[0].split("<")[0]+": "+ce.message;if(!jt.console)throw new Error(Z);jt.console.error(Z,ce),jt.alert&&alert(Z)}},v.foo.bar=v,v.foo},bu=function(v,R){var Z,ce,Ne,ze,tt,mt,Lt,zt,qt;if(Ne=(R=R||{}).sourceEncoding||"Unicode",tt=R.outputEncoding,(R.autoencode||tt)&&sn[wt].metadata&&sn[wt].metadata[Ne]&&sn[wt].metadata[Ne].encoding&&(ze=sn[wt].metadata[Ne].encoding,!tt&&sn[wt].encoding&&(tt=sn[wt].encoding),!tt&&ze.codePages&&(tt=ze.codePages[0]),typeof tt=="string"&&(tt=ze[tt]),tt)){for(Lt=!1,mt=[],Z=0,ce=v.length;Z<ce;Z++)(zt=tt[v.charCodeAt(Z)])?mt.push(String.fromCharCode(zt)):mt.push(v[Z]),mt[Z].charCodeAt(0)>>8&&(Lt=!0);v=mt.join("")}for(Z=v.length;Lt===void 0&&Z!==0;)v.charCodeAt(Z-1)>>8&&(Lt=!0),Z--;if(!Lt)return v;for(mt=R.noBOM?[]:[254,255],Z=0,ce=v.length;Z<ce;Z++){if((qt=(zt=v.charCodeAt(Z))>>8)>>8)throw new Error("Character at position "+Z+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(qt),mt.push(zt-(qt<<8))}return String.fromCharCode.apply(void 0,mt)},gi=y.__private__.pdfEscape=y.pdfEscape=function(v,R){return bu(v,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oo=y.__private__.beginPage=function(v){Xe[++Jt]=[],At[Jt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Ya(Jt),je(Xe[V])},Nl=function(v,R){var Z,ce,Ne;switch(n=R||n,typeof v=="string"&&(Z=C(v.toLowerCase()),Array.isArray(Z)&&(ce=Z[0],Ne=Z[1])),Array.isArray(v)&&(ce=v[0]*Je,Ne=v[1]*Je),isNaN(ce)&&(ce=i[0],Ne=i[1]),(ce>14400||Ne>14400)&&(jn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),Ne=Math.min(14400,Ne)),i=[ce,Ne],n.substr(0,1)){case"l":Ne>ce&&(i=[Ne,ce]);break;case"p":ce>Ne&&(i=[Ne,ce])}Oo(i),jo(Il),re(bi),Ol!==0&&re(Ol+" J"),Uo!==0&&re(Uo+" j"),Yt.publish("addPage",{pageNumber:Jt})},Cl=function(v){v>0&&v<=Jt&&(Xe.splice(v,1),At.splice(v,1),Jt--,V>Jt&&(V=Jt),this.setPage(V))},Ya=function(v){v>0&&v<=Jt&&(V=v)},Md=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Xe.length-1},yu=function(v,R,Z){var ce,Ne=void 0;return Z=Z||{},v=v!==void 0?v:sn[wt].fontName,R=R!==void 0?R:sn[wt].fontStyle,ce=v.toLowerCase(),un[ce]!==void 0&&un[ce][R]!==void 0?Ne=un[ce][R]:un[v]!==void 0&&un[v][R]!==void 0?Ne=un[v][R]:Z.disableWarning===!1&&jn.warn("Unable to look up font label for font '"+v+"', '"+R+"'. Refer to getFontList() for available fonts."),Ne||Z.noFallback||(Ne=un.times[R])==null&&(Ne=un.times.normal),Ne},hn=y.__private__.putInfo=function(){var v=En(),R=function(ce){return ce};for(var Z in p!==null&&(R=$n.encryptor(v,0)),re("<<"),re("/Producer ("+gi(R("jsPDF "+Ft.version))+")"),ct)ct.hasOwnProperty(Z)&&ct[Z]&&re("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+gi(R(ct[Z]))+")");re("/CreationDate ("+gi(R(Oe))+")"),re(">>"),re("endobj")},vu=y.__private__.putCatalog=function(v){var R=(v=v||{}).rootDictionaryObjId||Ri;switch(En(),re("<<"),re("/Type /Catalog"),re("/Pages "+R+" 0 R"),ft||(ft="fullwidth"),ft){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+ft;Z.substr(Z.length-1)==="%"&&(ft=parseInt(ft)/100),typeof ft=="number"&&re("/OpenAction [3 0 R /XYZ null null "+Ie(ft)+"]")}switch(Ye||(Ye="continuous"),Ye){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}ke&&re("/PageMode /"+ke),Yt.publish("putCatalog"),re(">>"),re("endobj")},Cc=y.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ue+1)),re("/Root "+ue+" 0 R"),re("/Info "+(ue-1)+" 0 R"),p!==null&&re("/Encrypt "+$n.oid+" 0 R"),re("/ID [ <"+Ae+"> <"+Ae+"> ]"),re(">>")},Ll=y.__private__.putHeader=function(){re("%PDF-"+S),re("%")},Lc=y.__private__.putXRef=function(){var v="0000000000";re("xref"),re("0 "+(ue+1)),re("0000000000 65535 f ");for(var R=1;R<=ue;R++)typeof _e[R]=="function"?re((v+_e[R]()).slice(-10)+" 00000 n "):_e[R]!==void 0?re((v+_e[R]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Bs=y.__private__.buildDocument=function(){Et(),je(xe),Yt.publish("buildDocument"),Ll(),$a(),Nc(),Ac(),p!==null&&Sc(),hn(),vu();var v=Te;return Lc(),Cc(),re("startxref"),re(""+v),re("%%EOF"),je(Xe[V]),xe.join(`
`)},Ro=y.__private__.getBlob=function(v){return new Blob([vt(v)],{type:"application/pdf"})},Ga=y.output=y.__private__.output=mi(function(v,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",v){case void 0:return Bs();case"save":y.save(R.filename);break;case"arraybuffer":return vt(Bs());case"blob":return Ro(Bs());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(Ro(Bs()))||void 0;jn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",ce=Bs();try{Z=Wm(ce)}catch{Z=Wm(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+R.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(Ne=R.pdfObjectUrl,ze="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",mt=jt.open();return mt!==null&&mt.document.write(tt),mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',zt=jt.open();if(zt!==null){zt.document.write(Lt);var qt=this;zt.document.documentElement.querySelector("#pdfViewer").onload=function(){zt.document.title=R.filename,zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Vn=jt.open();if(Vn!==null&&(Vn.document.write(tn),Vn.document.title=R.filename),Vn||typeof safari>"u")return Vn;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",R);default:return null}}),Do=function(v){return Array.isArray(sr)===!0&&sr.indexOf(v)>-1};switch(r){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=Do("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Je=r}var $n=null;ne(),ae();var Us=function(v){return p!==null?$n.encryptor(v,0):function(R){return R}},Es=y.__private__.getPageInfo=y.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[v].objId,pageNumber:v,pageContext:At[v]}},Dt=y.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in At)if(At[R].objId===v)break;return Es(R)},Mo=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:At[V].objId,pageNumber:V,pageContext:At[V]}};y.addPage=function(){return Nl.apply(this,arguments),this},y.setPage=function(){return Ya.apply(this,arguments),je.call(this,Xe[V]),this},y.insertPage=function(v){return this.addPage(),this.movePage(V,v),this},y.movePage=function(v,R){var Z,ce;if(v>R){Z=Xe[v],ce=At[v];for(var Ne=v;Ne>R;Ne--)Xe[Ne]=Xe[Ne-1],At[Ne]=At[Ne-1];Xe[R]=Z,At[R]=ce,this.setPage(R)}else if(v<R){Z=Xe[v],ce=At[v];for(var ze=v;ze<R;ze++)Xe[ze]=Xe[ze+1],At[ze]=At[ze+1];Xe[R]=Z,At[R]=ce,this.setPage(R)}return this},y.deletePage=function(){return Cl.apply(this,arguments),this},y.__private__.text=y.text=function(v,R,Z,ce,Ne){var ze,tt,mt,Lt,zt,qt,tn,Vn,Jn,cr=(ce=ce||{}).scope||this;if(typeof v=="number"&&typeof R=="number"&&(typeof Z=="string"||Array.isArray(Z))){var qr=Z;Z=R,R=v,v=qr}if(arguments[3]instanceof gt?(X("The transform parameter of text() with a Matrix value"),Jn=Ne):(mt=arguments[4],Lt=arguments[5],Pn(tn=arguments[3])==="object"&&tn!==null||(typeof mt=="string"&&(Lt=mt,mt=null),typeof tn=="string"&&(Lt=tn,tn=null),typeof tn=="number"&&(mt=tn,tn=null),ce={flags:tn,angle:mt,align:Lt})),isNaN(R)||isNaN(Z)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return cr;var Lr="",Ss=!1,ji=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Fo,Ji=cr.internal.scaleFactor;function to(kn){return kn=kn.split("	").join(Array(ce.TabLen||9).join(" ")),gi(kn,tn)}function Ml(kn){for(var xn,er=kn.concat(),dr=[],Ws=er.length;Ws--;)typeof(xn=er.shift())=="string"?dr.push(xn):Array.isArray(kn)&&(xn.length===1||xn[1]===void 0&&xn[2]===void 0)?dr.push(xn[0]):dr.push([xn[0],xn[1],xn[2]]);return dr}function Lu(kn,xn){var er;if(typeof kn=="string")er=xn(kn)[0];else if(Array.isArray(kn)){for(var dr,Ws,Bu=kn.concat(),Go=[],Bl=Bu.length;Bl--;)typeof(dr=Bu.shift())=="string"?Go.push(xn(dr)[0]):Array.isArray(dr)&&typeof dr[0]=="string"&&(Ws=xn(dr[0],dr[1],dr[2]),Go.push([Ws[0],Ws[1],Ws[2]]));er=Go}return er}var Ho=!1,ku=!0;if(typeof v=="string")Ho=!0;else if(Array.isArray(v)){var Iu=v.concat();tt=[];for(var qo,Zn=Iu.length;Zn--;)(typeof(qo=Iu.shift())!="string"||Array.isArray(qo)&&typeof qo[0]!="string")&&(ku=!1);Ho=ku}if(Ho===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Pu=ot/cr.internal.scaleFactor,Ou=Pu*(ji-1);switch(ce.baseline){case"bottom":Z-=Ou;break;case"top":Z+=Pu-Ou;break;case"hanging":Z+=Pu-2*Ou;break;case"middle":Z+=Pu/2-Ou}if((qt=ce.maxWidth||0)>0&&(typeof v=="string"?v=cr.splitTextToSize(v,qt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(kn,xn){return kn.concat(cr.splitTextToSize(xn,qt))},[]))),ze={text:v,x:R,y:Z,options:ce,mutex:{pdfEscape:gi,activeFontKey:wt,fonts:sn,activeFontSize:ot}},Yt.publish("preProcessText",ze),v=ze.text,mt=(ce=ze.options).angle,!(Jn instanceof gt)&&mt&&typeof mt=="number"){mt*=Math.PI/180,ce.rotationDirection===0&&(mt=-mt),$===P.ADVANCED&&(mt=-mt);var Ru=Math.cos(mt),Du=Math.sin(mt);Jn=new gt(Ru,Du,-Du,Ru,0,0)}else mt&&mt instanceof gt&&(Jn=mt);$!==P.ADVANCED||Jn||(Jn=Dn),(zt=ce.charSpace||Ja)!==void 0&&(Lr+=le(q(zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Vn=ce.horizontalScale)!==void 0&&(Lr+=le(100*Vn)+` Tz
`),ce.lang;var ni=-1,zo=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,ca=cr.internal.getCurrentPageInfo().pageContext;switch(zo){case 0:case!1:case"fill":ni=0;break;case 1:case!0:case"stroke":ni=1;break;case 2:case"fillThenStroke":ni=2;break;case 3:case"invisible":ni=3;break;case 4:case"fillAndAddForClipping":ni=4;break;case 5:case"strokeAndAddPathForClipping":ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ni=6;break;case 7:case"addToPathForClipping":ni=7}var Oc=ca.usedRenderingMode!==void 0?ca.usedRenderingMode:-1;ni!==-1?Lr+=ni+` Tr
`:Oc!==-1&&(Lr+=`0 Tr
`),ni!==-1&&(ca.usedRenderingMode=ni),Lt=ce.align||"left";var ri,Mu=ot*ji,Fl=cr.internal.pageSize.getWidth(),Fu=sn[wt];zt=ce.charSpace||Ja,qt=ce.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var $s=[],no=function(kn){return cr.getStringUnitWidth(kn,{font:Fu,charSpace:zt,fontSize:ot,doKerning:!1})*ot/Ji};if(Object.prototype.toString.call(v)==="[object Array]"){var ii;tt=Ml(v),Lt!=="left"&&(ri=tt.map(no));var zr,ro=0;if(Lt==="right"){R-=ri[0],v=[],Zn=tt.length;for(var da=0;da<Zn;da++)da===0?(zr=Qi(R),ii=Xi(Z)):(zr=q(ro-ri[da]),ii=-Mu),v.push([tt[da],zr,ii]),ro=ri[da]}else if(Lt==="center"){R-=ri[0]/2,v=[],Zn=tt.length;for(var fa=0;fa<Zn;fa++)fa===0?(zr=Qi(R),ii=Xi(Z)):(zr=q((ro-ri[fa])/2),ii=-Mu),v.push([tt[fa],zr,ii]),ro=ri[fa]}else if(Lt==="left"){v=[],Zn=tt.length;for(var ju=0;ju<Zn;ju++)v.push(tt[ju])}else if(Lt==="justify"&&Fu.encoding==="Identity-H"){v=[],Zn=tt.length,qt=qt!==0?qt:Fl;for(var ha=0,pn=0;pn<Zn;pn++)if(ii=pn===0?Xi(Z):-Mu,zr=pn===0?Qi(R):ha,pn<Zn-1){var pa=q((qt-ri[pn])/(tt[pn].split(" ").length-1)),$r=tt[pn].split(" ");v.push([$r[0]+" ",zr,ii]),ha=0;for(var Bi=1;Bi<$r.length;Bi++){var $o=(no($r[Bi-1]+" "+$r[Bi])-no($r[Bi]))*Ji+pa;Bi==$r.length-1?v.push([$r[Bi],$o,0]):v.push([$r[Bi]+" ",$o,0]),ha-=$o}}else v.push([tt[pn],zr,ii]);v.push(["",ha,0])}else{if(Lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Zn=tt.length,qt=qt!==0?qt:Fl,pn=0;pn<Zn;pn++)ii=pn===0?Xi(Z):-Mu,zr=pn===0?Qi(R):0,pn<Zn-1?$s.push(le(q((qt-ri[pn])/(tt[pn].split(" ").length-1)))):$s.push(0),v.push([tt[pn],zr,ii])}}var jl=typeof ce.R2L=="boolean"?ce.R2L:pe;jl===!0&&(v=Lu(v,function(kn,xn,er){return[kn.split("").reverse().join(""),xn,er]})),ze={text:v,x:R,y:Z,options:ce,mutex:{pdfEscape:gi,activeFontKey:wt,fonts:sn,activeFontSize:ot}},Yt.publish("postProcessText",ze),v=ze.text,Ss=ze.mutex.isHex||!1;var Vo=sn[wt].encoding;Vo!=="WinAnsiEncoding"&&Vo!=="StandardEncoding"||(v=Lu(v,function(kn,xn,er){return[to(kn),xn,er]})),tt=Ml(v),v=[];for(var Wo,Yo,Ui,ma=0,Vs=1,ga=Array.isArray(tt[0])?Vs:ma,ba="",io=function(kn,xn,er){var dr="";return er instanceof gt?(er=typeof ce.angle=="number"?Xn(er,new gt(1,0,0,1,kn,xn)):Xn(new gt(1,0,0,1,kn,xn),er),$===P.ADVANCED&&(er=Xn(new gt(1,0,0,-1,0,0),er)),dr=er.join(" ")+` Tm
`):dr=le(kn)+" "+le(xn)+` Td
`,dr},Rr=0;Rr<tt.length;Rr++){switch(ba="",ga){case Vs:Ui=(Ss?"<":"(")+tt[Rr][0]+(Ss?">":")"),Wo=parseFloat(tt[Rr][1]),Yo=parseFloat(tt[Rr][2]);break;case ma:Ui=(Ss?"<":"(")+tt[Rr]+(Ss?">":")"),Wo=Qi(R),Yo=Xi(Z)}$s!==void 0&&$s[Rr]!==void 0&&(ba=$s[Rr]+` Tw
`),Rr===0?v.push(ba+io(Wo,Yo,Jn)+Ui):ga===ma?v.push(ba+Ui):ga===Vs&&v.push(ba+io(Wo,Yo,Jn)+Ui)}v=ga===ma?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var yi=`BT
/`;return yi+=wt+" "+ot+` Tf
`,yi+=le(ot*ji)+` TL
`,yi+=gr+`
`,yi+=Lr,yi+=v,re(yi+="ET"),E[wt]=!0,cr};var Hs=y.__private__.clip=y.clip=function(v){return re(v==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Hs("evenodd")},y.__private__.discardPath=y.discardPath=function(){return re("n"),this};var qs=y.__private__.isValidStyle=function(v){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(R=!0),R};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(v){return qs(v)&&(h=v),this};var kl=y.__private__.getStyle=y.getStyle=function(v){var R=h;switch(v){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=v}return R},Ka=y.close=function(){return re("h"),this};y.stroke=function(){return re("S"),this},y.fill=function(v){return wu("f",v),this},y.fillEvenOdd=function(v){return wu("f*",v),this},y.fillStroke=function(v){return wu("B",v),this},y.fillStrokeEvenOdd=function(v){return wu("B*",v),this};var wu=function(v,R){Pn(R)==="object"?kc(R,v):re(v)},Eu=function(v){v===null||$===P.ADVANCED&&v===void 0||(v=kl(v),re(v))};function _u(v,R,Z,ce,Ne){var ze=new cd(R||this.boundingBox,Z||this.xStep,ce||this.yStep,this.gState,Ne||this.matrix);ze.stream=this.stream;var tt=v+"$$"+this.cloneIndex+++"$$";return Bn(tt,ze),ze}var kc=function(v,R){var Z=bs[v.key],ce=Xt[Z];if(ce instanceof uc)re("q"),re(Fd(R)),ce.gState&&y.setGState(ce.gState),re(v.matrix.toString()+" cm"),re("/"+Z+" sh"),re("Q");else if(ce instanceof cd){var Ne=new gt(1,0,0,-1,0,eo());v.matrix&&(Ne=Ne.multiply(v.matrix||Dn),Z=_u.call(ce,v.key,v.boundingBox,v.xStep,v.yStep,Ne).id),re("q"),re("/Pattern cs"),re("/"+Z+" scn"),ce.gState&&y.setGState(ce.gState),re(R),re("Q")}},Fd=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ua=y.moveTo=function(v,R){return re(le(q(v))+" "+le(ee(R))+" m"),this},_s=y.lineTo=function(v,R){return re(le(q(v))+" "+le(ee(R))+" l"),this},Fi=y.curveTo=function(v,R,Z,ce,Ne,ze){return re([le(q(v)),le(ee(R)),le(q(Z)),le(ee(ce)),le(q(Ne)),le(ee(ze)),"c"].join(" ")),this};y.__private__.line=y.line=function(v,R,Z,ce,Ne){if(isNaN(v)||isNaN(R)||isNaN(Z)||isNaN(ce)||!qs(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return $===P.COMPAT?this.lines([[Z-v,ce-R]],v,R,[1,1],Ne||"S"):this.lines([[Z-v,ce-R]],v,R,[1,1]).stroke()},y.__private__.lines=y.lines=function(v,R,Z,ce,Ne,ze){var tt,mt,Lt,zt,qt,tn,Vn,Jn,cr,qr,Lr,Ss;if(typeof v=="number"&&(Ss=Z,Z=R,R=v,v=Ss),ce=ce||[1,1],ze=ze||!1,isNaN(R)||isNaN(Z)||!Array.isArray(v)||!Array.isArray(ce)||!qs(Ne)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ua(R,Z),tt=ce[0],mt=ce[1],zt=v.length,qr=R,Lr=Z,Lt=0;Lt<zt;Lt++)(qt=v[Lt]).length===2?(qr=qt[0]*tt+qr,Lr=qt[1]*mt+Lr,_s(qr,Lr)):(tn=qt[0]*tt+qr,Vn=qt[1]*mt+Lr,Jn=qt[2]*tt+qr,cr=qt[3]*mt+Lr,qr=qt[4]*tt+qr,Lr=qt[5]*mt+Lr,Fi(tn,Vn,Jn,cr,qr,Lr));return ze&&Ka(),Eu(Ne),this},y.path=function(v){for(var R=0;R<v.length;R++){var Z=v[R],ce=Z.c;switch(Z.op){case"m":ua(ce[0],ce[1]);break;case"l":_s(ce[0],ce[1]);break;case"c":Fi.apply(this,ce);break;case"h":Ka()}}return this},y.__private__.rect=y.rect=function(v,R,Z,ce,Ne){if(isNaN(v)||isNaN(R)||isNaN(Z)||isNaN(ce)||!qs(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return $===P.COMPAT&&(ce=-ce),re([le(q(v)),le(ee(R)),le(q(Z)),le(q(ce)),"re"].join(" ")),Eu(Ne),this},y.__private__.triangle=y.triangle=function(v,R,Z,ce,Ne,ze,tt){if(isNaN(v)||isNaN(R)||isNaN(Z)||isNaN(ce)||isNaN(Ne)||isNaN(ze)||!qs(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-v,ce-R],[Ne-Z,ze-ce],[v-Ne,R-ze]],v,R,[1,1],tt,!0),this},y.__private__.roundedRect=y.roundedRect=function(v,R,Z,ce,Ne,ze,tt){if(isNaN(v)||isNaN(R)||isNaN(Z)||isNaN(ce)||isNaN(Ne)||isNaN(ze)||!qs(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mt=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*Z),ze=Math.min(ze,.5*ce),this.lines([[Z-2*Ne,0],[Ne*mt,0,Ne,ze-ze*mt,Ne,ze],[0,ce-2*ze],[0,ze*mt,-Ne*mt,ze,-Ne,ze],[2*Ne-Z,0],[-Ne*mt,0,-Ne,-ze*mt,-Ne,-ze],[0,2*ze-ce],[0,-ze*mt,Ne*mt,-ze,Ne,-ze]],v+Ne,R,[1,1],tt,!0),this},y.__private__.ellipse=y.ellipse=function(v,R,Z,ce,Ne){if(isNaN(v)||isNaN(R)||isNaN(Z)||isNaN(ce)||!qs(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*Z,tt=4/3*(Math.SQRT2-1)*ce;return ua(v+Z,R),Fi(v+Z,R-tt,v+ze,R-ce,v,R-ce),Fi(v-ze,R-ce,v-Z,R-tt,v-Z,R),Fi(v-Z,R+tt,v-ze,R+ce,v,R+ce),Fi(v+ze,R+ce,v+Z,R+tt,v+Z,R),Eu(Ne),this},y.__private__.circle=y.circle=function(v,R,Z,ce){if(isNaN(v)||isNaN(R)||isNaN(Z)||!qs(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,R,Z,Z,ce)},y.setFont=function(v,R,Z){return Z&&(R=he(R,Z)),wt=yu(v,R,{disableWarning:!1}),this};var xu=y.__private__.getFont=y.getFont=function(){return sn[yu.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var v,R,Z={};for(v in un)if(un.hasOwnProperty(v))for(R in Z[v]=[],un[v])un[v].hasOwnProperty(R)&&Z[v].push(R);return Z},y.addFont=function(v,R,Z,ce,Ne){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(Z=he(Z,ce)),Ne=Ne||"Identity-H",Wa.call(this,v,R,Z,Ne)};var Fo,Il=e.lineWidth||.200025,Qa=y.__private__.getLineWidth=y.getLineWidth=function(){return Il},jo=y.__private__.setLineWidth=y.setLineWidth=function(v){return Il=v,re(le(q(v))+" w"),this};y.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(v,R){if(v=v||[],R=R||0,isNaN(R)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(Z){return le(q(Z))}).join(" "),R=le(q(R)),re("["+v+"] "+R+" d"),this};var Tu=y.__private__.getLineHeight=y.getLineHeight=function(){return ot*Fo};y.__private__.getLineHeight=y.getLineHeight=function(){return ot*Fo};var Pl=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Fo=v),this},xs=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Fo};Pl(e.lineHeight);var Qi=y.__private__.getHorizontalCoordinate=function(v){return q(v)},Xi=y.__private__.getVerticalCoordinate=function(v){return $===P.ADVANCED?v:At[V].mediaBox.topRightY-At[V].mediaBox.bottomLeftY-q(v)},Ic=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(v){return le(Qi(v))},Ts=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(v){return le(Xi(v))},bi=e.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return vs(bi)},y.__private__.setStrokeColor=y.setDrawColor=function(v,R,Z,ce){return bi=Or({ch1:v,ch2:R,ch3:Z,ch4:ce,pdfColorType:"draw",precision:2}),re(bi),this};var Su=e.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return vs(Su)},y.__private__.setFillColor=y.setFillColor=function(v,R,Z,ce){return Su=Or({ch1:v,ch2:R,ch3:Z,ch4:ce,pdfColorType:"fill",precision:2}),re(Su),this};var gr=e.textColor||"0 g",Xa=y.__private__.getTextColor=y.getTextColor=function(){return vs(gr)};y.__private__.setTextColor=y.setTextColor=function(v,R,Z,ce){return gr=Or({ch1:v,ch2:R,ch3:Z,ch4:ce,pdfColorType:"text",precision:3}),this};var Ja=e.charSpace,Bo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Ja||0)};y.__private__.setCharSpace=y.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ja=v,this};var Ol=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(v){var R=y.CapJoinStyles[v];if(R===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ol=R,re(R+" J"),this};var Uo=0;y.__private__.setLineJoin=y.setLineJoin=function(v){var R=y.CapJoinStyles[v];if(R===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uo=R,re(R+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(le(q(v))+" M"),this},y.GState=X0,y.setGState=function(v){(v=typeof v=="string"?On[Nr[v]]:Au(null,v)).equals(fn)||(re("/"+v.id+" gs"),fn=v)};var Au=function(v,R){if(!v||!Nr[v]){var Z=!1;for(var ce in On)if(On.hasOwnProperty(ce)&&On[ce].equals(R)){Z=!0;break}if(Z)R=On[ce];else{var Ne="GS"+(Object.keys(On).length+1).toString(10);On[Ne]=R,R.id=Ne}return v&&(Nr[v]=R.id),Yt.publish("addGState",R),R}};y.addGState=function(v,R){return Au(v,R),this},y.saveGraphicsState=function(){return re("q"),Hr.push({key:wt,size:ot,color:gr}),this},y.restoreGraphicsState=function(){re("Q");var v=Hr.pop();return wt=v.key,ot=v.size,gr=v.color,fn=null,this},y.setCurrentTransformationMatrix=function(v){return re(v.toString()+" cm"),this},y.comment=function(v){return re("#"+v),this};var zs=function(v,R){var Z=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(ze){isNaN(ze)||(Z=parseFloat(ze))}});var ce=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(ze){isNaN(ze)||(ce=parseFloat(ze))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(ze){Ne=ze.toString()}}),this},Za=function(v,R,Z,ce){zs.call(this,v,R),this.type="rect";var Ne=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(tt){isNaN(tt)||(Ne=parseFloat(tt))}});var ze=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(tt){isNaN(tt)||(ze=parseFloat(tt))}}),this},Nu=function(){this.page=Jt,this.currentPage=V,this.pages=Xe.slice(0),this.pagesContext=At.slice(0),this.x=ir,this.y=Kt,this.matrix=Ar,this.width=la(V),this.height=eo(V),this.outputDestination=lt,this.id="",this.objectNumber=-1};Nu.prototype.restore=function(){Jt=this.page,V=this.currentPage,At=this.pagesContext,Xe=this.pages,ir=this.x,Kt=this.y,Ar=this.matrix,Rl(V,this.width),Dl(V,this.height),lt=this.outputDestination};var Pc=function(v,R,Z,ce,Ne){Cr.push(new Nu),Jt=V=0,Xe=[],ir=v,Kt=R,Ar=Ne,Oo([Z,ce])},jd=function(v){if(qn[v])Cr.pop().restore();else{var R=new Nu,Z="Xo"+(Object.keys(ln).length+1).toString(10);R.id=Z,qn[v]=Z,ln[Z]=R,Yt.publish("addFormObject",R),Cr.pop().restore()}};for(var Cu in y.beginFormObject=function(v,R,Z,ce,Ne){return Pc(v,R,Z,ce,Ne),this},y.endFormObject=function(v){return jd(v),this},y.doFormObject=function(v,R){var Z=ln[qn[v]];return re("q"),re(R.toString()+" cm"),re("/"+Z.id+" Do"),re("Q"),this},y.getFormObject=function(v){var R=ln[qn[v]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},y.save=function(v,R){return v=v||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(sc(Ro(Bs()),v),typeof sc.unload=="function"&&jt.setTimeout&&setTimeout(sc.unload,911),this):new Promise(function(Z,ce){try{var Ne=sc(Ro(Bs()),v);typeof sc.unload=="function"&&jt.setTimeout&&setTimeout(sc.unload,911),Z(Ne)}catch(ze){ce(ze.message)}})},Ft.API)Ft.API.hasOwnProperty(Cu)&&(Cu==="events"&&Ft.API.events.length?function(v,R){var Z,ce,Ne;for(Ne=R.length-1;Ne!==-1;Ne--)Z=R[Ne][0],ce=R[Ne][1],v.subscribe.apply(v,[Z].concat(typeof ce=="function"?[ce]:ce))}(Yt,Ft.API.events):y[Cu]=Ft.API[Cu]);var la=y.getPageWidth=function(v){return(At[v=v||V].mediaBox.topRightX-At[v].mediaBox.bottomLeftX)/Je},Rl=y.setPageWidth=function(v,R){At[v].mediaBox.topRightX=R*Je+At[v].mediaBox.bottomLeftX},eo=y.getPageHeight=function(v){return(At[v=v||V].mediaBox.topRightY-At[v].mediaBox.bottomLeftY)/Je},Dl=y.setPageHeight=function(v,R){At[v].mediaBox.topRightY=R*Je+At[v].mediaBox.bottomLeftY};return y.internal={pdfEscape:gi,getStyle:kl,getFont:xu,getFontSize:K,getCharSpace:Bo,getTextColor:Xa,getLineHeight:Tu,getLineHeightFactor:xs,getLineWidth:Qa,write:It,getHorizontalCoordinate:Qi,getVerticalCoordinate:Xi,getCoordinateString:Ic,getVerticalCoordinateString:Ts,collections:{},newObject:En,newAdditionalObject:pi,newObjectDeferred:_n,newObjectDeferredBegin:Mn,getFilters:ws,putStream:Di,events:Yt,scaleFactor:Je,pageSize:{getWidth:function(){return la(V)},setWidth:function(v){Rl(V,v)},getHeight:function(){return eo(V)},setHeight:function(v){Dl(V,v)}},encryptionOptions:p,encryption:$n,getEncryptor:Us,output:Ga,getNumberOfPages:Md,pages:Xe,out:re,f2:Ie,f3:U,getPageInfo:Es,getPageInfoByObjId:Dt,getCurrentPageInfo:Mo,getPDFVersion:A,Point:zs,Rectangle:Za,Matrix:gt,hasHotfix:Do},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return la(V)},set:function(v){Rl(V,v)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return eo(V)},set:function(v){Dl(V,v)},enumerable:!0,configurable:!0}),Po.call(y,Ze),wt="F1",Nl(i,n),Yt.publish("initialized"),y}ud.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ud.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ud.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ud.prototype.processOwnerPassword=function(e,t){return Gm(Ym(t).substr(0,5),e)},ud.prototype.encryptor=function(e,t){var n=Ym(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Gm(n,r)}},X0.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Pn(e)!==Pn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Ft.API={events:[]},Ft.version="3.0.0";var mr=Ft.API,r2=1,xc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$t=function(e){return e.toFixed(2)},al=function(e){return e.toFixed(5)};mr.__acroform__={};var ms=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Ty=function(e){return e*r2},mo=function(e){var t=new aE,n=Tt.internal.getHeight(e)||0,r=Tt.internal.getWidth(e)||0;return t.BBox=[0,0,Number($t(r)),Number($t(n))],t},PO=mr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},OO=mr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},RO=mr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Er=mr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return RO(e,t-1)},_r=mr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return PO(e,t-1)},xr=mr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return OO(e,t-1)},DO=mr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],u=e[2],l=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+l)||0,c.upperRight_X=n(i+u)||0,c.upperRight_Y=r(s)||0,[Number($t(c.lowerLeft_X)),Number($t(c.lowerLeft_Y)),Number($t(c.upperRight_X)),Number($t(c.upperRight_Y))]},MO=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Km(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+$t(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=mo(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Km=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(U){return U.split(`
`)}):i.map(function(U){return[U]});var s=n,u=Tt.internal.getHeight(e)||0;u=u<0?-u:u;var l=Tt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(U,q,te){if(U+1<i.length){var ee=q+" "+i[U+1][0];return h0(ee,e,te).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var h,p,b=h0("3",e,s).height,E=e.multiline?u-s:(u-b)/2,y=E+=2,S=0,A=0,k=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+h0(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var C="",P=0,$=0;$<i.length;$++)if(i.hasOwnProperty($)){var H=!1;if(i[$].length!==1&&k!==i[$].length-1){if((b+2)*(P+2)+2>u)continue e;C+=i[$][k],H=!0,A=$,$--}else{C=(C+=i[$][k]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var Y=parseInt($),he=c(Y,C,s),le=$>=i.length-1;if(he&&!le){C+=" ",k=0;continue}if(he||le){if(le)A=Y;else if(e.multiline&&(b+2)*(P+2)+2>u)continue e}else{if(!e.multiline||(b+2)*(P+2)+2>u)continue e;A=Y}}for(var X="",be=S;be<=A;be++){var Ie=i[be];if(e.multiline){if(be===A){X+=Ie[k]+" ",k=(k+1)%Ie.length;continue}if(be===S){X+=Ie[Ie.length-1]+" ";continue}}X+=Ie[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,p=h0(X,e,s).width,e.textAlign){case"right":h=l-p-2;break;case"center":h=(l-p)/2;break;case"left":default:h=2}t+=$t(h)+" "+$t(y)+` Td
`,t+="("+xc(X)+`) Tj
`,t+=-$t(h)+` 0 Td
`,y=-(s+2),p=0,S=H?A:A+1,P++,C=""}break}return r.text=t,r.fontSize=s,r},h0=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},FO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jO=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},BO=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Pn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},UO=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(qa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(FO)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r2=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new oE,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&jO(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var u in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var l=r[u],c=[],h=l.Rect;if(l.Rect&&(l.Rect=DO(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Tt.createDefaultAppearanceStream(l),Pn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=MO(l);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var b="";for(var E in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(E)){var y=l.appearanceStreamContent[E];if(b+="/"+E+" ",b+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var u in y)if(y.hasOwnProperty(u)){var S=y[u];typeof S=="function"&&(S=S.call(i,l)),b+="/"+u+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=y)=="function"&&(S=S.call(i,l)),b+="/"+u+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);b+=">>"}c.push({key:"AP",value:`<<
`+b+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&BO(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},sE=mr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(u){return u};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Pn(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+xc(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rm=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+xc(r(e))+")"},wo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wo.prototype.toString=function(){return this.objId+" 0 R"},wo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},wo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:sE(i,this.objId,this.scope)}):i instanceof wo?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var aE=function(){wo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};ms(aE,wo);var oE=function(){wo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+xc(n(e))+")"}},set:function(n){e=n}})};ms(oE,wo);var qa=function e(){wo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Er(t,3)},set:function(C){C?this.F=_r(t,3):this.F=xr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof J0)return;s="FieldObject"+e.FieldNum++}var C=function(P){return P};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+xc(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/r2:h},set:function(C){h=C}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(C){p=C}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof J0||this instanceof mc))return rm(b,this.objId,this.scope)},set:function(C){C=C.toString(),b=C}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Jr?E:rm(E,this.objId,this.scope)},set:function(C){C=C.toString(),E=this instanceof Jr?C:C.substr(0,1)==="("?sd(C.substr(1,C.length-2)):sd(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?sd(E.substr(1,E.length-1)):E},set:function(C){C=C.toString(),E=this instanceof Jr?"/"+C:C}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Jr?y:rm(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=this instanceof Jr?C:C.substr(0,1)==="("?sd(C.substr(1,C.length-2)):sd(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?sd(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof Jr?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(C){C=!!C,A=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(C){S=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,1)},set:function(C){C?this.Ff=_r(this.Ff,1):this.Ff=xr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,2)},set:function(C){C?this.Ff=_r(this.Ff,2):this.Ff=xr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,3)},set:function(C){C?this.Ff=_r(this.Ff,3):this.Ff=xr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');k=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(k){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};ms(qa,wo);var hd=function(){qa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sE(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,u,l){l||(l=1);for(var c,h=[];c=u.exec(s);)h.push(c[l]);return h}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,18)},set:function(n){n?this.Ff=_r(this.Ff,18):this.Ff=xr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=_r(this.Ff,19):this.Ff=xr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,20)},set:function(n){n?(this.Ff=_r(this.Ff,20),t.sort()):this.Ff=xr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,22)},set:function(n){n?this.Ff=_r(this.Ff,22):this.Ff=xr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(n){n?this.Ff=_r(this.Ff,23):this.Ff=xr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,27)},set:function(n){n?this.Ff=_r(this.Ff,27):this.Ff=xr(this.Ff,27)}}),this.hasAppearanceStream=!1};ms(hd,qa);var pd=function(){hd.call(this),this.fontName="helvetica",this.combo=!1};ms(pd,hd);var md=function(){pd.call(this),this.combo=!0};ms(md,pd);var A0=function(){md.call(this),this.edit=!0};ms(A0,md);var Jr=function(){qa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,15)},set:function(n){n?this.Ff=_r(this.Ff,15):this.Ff=xr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,16)},set:function(n){n?this.Ff=_r(this.Ff,16):this.Ff=xr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,17)},set:function(n){n?this.Ff=_r(this.Ff,17):this.Ff=xr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(n){n?this.Ff=_r(this.Ff,26):this.Ff=xr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+xc(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Pn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};ms(Jr,qa);var N0=function(){Jr.call(this),this.pushButton=!0};ms(N0,Jr);var gd=function(){Jr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ms(gd,Jr);var J0=function(){var e,t;qa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,u=[];for(s in u.push("<<"),r)u.push("/"+s+" ("+xc(i(r[s]))+")");return u.push(">>"),u.join(`
`)},set:function(i){Pn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ms(J0,qa),gd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},gd.prototype.createOption=function(e){var t=new J0;return t.Parent=this,t.optionName=e,this.Kids.push(t),HO.call(this.scope,t),t};var C0=function(){Jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tt.CheckBox.createAppearanceStream()};ms(C0,Jr);var mc=function(){qa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,13)},set:function(t){t?this.Ff=_r(this.Ff,13):this.Ff=xr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,21)},set:function(t){t?this.Ff=_r(this.Ff,21):this.Ff=xr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(t){t?this.Ff=_r(this.Ff,23):this.Ff=xr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,24)},set:function(t){t?this.Ff=_r(this.Ff,24):this.Ff=xr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,25)},set:function(t){t?this.Ff=_r(this.Ff,25):this.Ff=xr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(t){t?this.Ff=_r(this.Ff,26):this.Ff=xr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ms(mc,qa);var L0=function(){mc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,14)},set:function(e){e?this.Ff=_r(this.Ff,14):this.Ff=xr(this.Ff,14)}}),this.password=!0};ms(L0,mc);var Tt={CheckBox:{createAppearanceStream:function(){return{N:{On:Tt.CheckBox.YesNormal},D:{On:Tt.CheckBox.YesPushDown,Off:Tt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=mo(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Km(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+$t(Tt.internal.getWidth(e))+" "+$t(Tt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+$t(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=mo(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Tt.internal.getHeight(e),u=Tt.internal.getWidth(e),l=Km(e,e.caption);return i.push("1 g"),i.push("0 0 "+$t(u)+" "+$t(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+$t(u-1)+" "+$t(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+$t(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=mo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+$t(Tt.internal.getWidth(e))+" "+$t(Tt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Tt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Tt.RadioButton.Circle.YesNormal,t.D[e]=Tt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=mo(e);t.scope=e.scope;var n=[],r=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Tt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+al(Tt.internal.getWidth(e)/2)+" "+al(Tt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=mo(e);t.scope=e.scope;var n=[],r=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Tt.internal.Bezier_C).toFixed(5)),u=Number((r*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+al(Tt.internal.getWidth(e)/2)+" "+al(Tt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+al(Tt.internal.getWidth(e)/2)+" "+al(Tt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),n.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),n.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),n.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=mo(e);t.scope=e.scope;var n=[],r=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+al(Tt.internal.getWidth(e)/2)+" "+al(Tt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Tt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Tt.RadioButton.Cross.YesNormal,t.D[e]=Tt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=mo(e);t.scope=e.scope;var n=[],r=Tt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+$t(Tt.internal.getWidth(e)-2)+" "+$t(Tt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push($t(r.x1.x)+" "+$t(r.x1.y)+" m"),n.push($t(r.x2.x)+" "+$t(r.x2.y)+" l"),n.push($t(r.x4.x)+" "+$t(r.x4.y)+" m"),n.push($t(r.x3.x)+" "+$t(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=mo(e);t.scope=e.scope;var n=Tt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+$t(Tt.internal.getWidth(e))+" "+$t(Tt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+$t(Tt.internal.getWidth(e)-2)+" "+$t(Tt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push($t(n.x1.x)+" "+$t(n.x1.y)+" m"),r.push($t(n.x2.x)+" "+$t(n.x2.y)+" l"),r.push($t(n.x4.x)+" "+$t(n.x4.y)+" m"),r.push($t(n.x3.x)+" "+$t(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=mo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+$t(Tt.internal.getWidth(e))+" "+$t(Tt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Tt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Tt.internal.getWidth(e),n=Tt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Tt.internal.getWidth=function(e){var t=0;return Pn(e)==="object"&&(t=Ty(e.Rect[2])),t},Tt.internal.getHeight=function(e){var t=0;return Pn(e)==="object"&&(t=Ty(e.Rect[3])),t};var HO=mr.addField=function(e){if(UO(this,e),!(e instanceof qa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};mr.AcroFormChoiceField=hd,mr.AcroFormListBox=pd,mr.AcroFormComboBox=md,mr.AcroFormEditBox=A0,mr.AcroFormButton=Jr,mr.AcroFormPushButton=N0,mr.AcroFormRadioButton=gd,mr.AcroFormCheckBox=C0,mr.AcroFormTextField=mc,mr.AcroFormPasswordField=L0,mr.AcroFormAppearance=Tt,mr.AcroForm={ChoiceField:hd,ListBox:pd,ComboBox:md,EditBox:A0,Button:Jr,PushButton:N0,RadioButton:gd,CheckBox:C0,TextField:mc,PasswordField:L0,Appearance:Tt},Ft.AcroForm={ChoiceField:hd,ListBox:pd,ComboBox:md,EditBox:A0,Button:Jr,PushButton:N0,RadioButton:gd,CheckBox:C0,TextField:mc,PasswordField:L0,Appearance:Tt};function uE(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(U,q){var te,ee,Oe,Ae,Se,ae=t;if((q=q||t)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(he(U))for(Se in n)for(Oe=n[Se],te=0;te<Oe.length;te+=1){for(Ae=!0,ee=0;ee<Oe[te].length;ee+=1)if(Oe[te][ee]!==void 0&&Oe[te][ee]!==U[ee]){Ae=!1;break}if(Ae===!0){ae=Se;break}}else for(Se in n)for(Oe=n[Se],te=0;te<Oe.length;te+=1){for(Ae=!0,ee=0;ee<Oe[te].length;ee+=1)if(Oe[te][ee]!==void 0&&Oe[te][ee]!==U.charCodeAt(ee)){Ae=!1;break}if(Ae===!0){ae=Se;break}}return ae===t&&q!==t&&(ae=q),ae},i=function U(q){for(var te=this.internal.write,ee=this.internal.putStream,Oe=(0,this.internal.getFilters)();Oe.indexOf("FlateEncode")!==-1;)Oe.splice(Oe.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:q.width}),Ae.push({key:"Height",value:q.height}),q.colorSpace===k.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===k.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&Ae.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)){for(var Se="",ae=0,ve=q.transparency.length;ae<ve;ae++)Se+=q.transparency[ae]+" "+q.transparency[ae]+" ";Ae.push({key:"Mask",value:"["+Se+"]"})}q.sMask!==void 0&&Ae.push({key:"SMask",value:q.objectId+1+" 0 R"});var ye=q.filter!==void 0?["/"+q.filter]:void 0;if(ee({data:q.data,additionalKeyValues:Ae,alreadyAppliedFilters:ye,objectId:q.objectId}),te("endobj"),"sMask"in q&&q.sMask!==void 0){var ne="/Predictor "+q.predictor+" /Colors 1 /BitsPerComponent "+q.bitsPerComponent+" /Columns "+q.width,I={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:q.bitsPerComponent,decodeParameters:ne,data:q.sMask};"filter"in q&&(I.filter=q.filter),U.call(this,I)}if(q.colorSpace===k.INDEXED){var V=this.internal.newObject();ee({data:X(new Uint8Array(q.palette)),objectId:V}),te("endobj")}},s=function(){var U=this.internal.collections.addImage_images;for(var q in U)i.call(this,U[q])},u=function(){var U,q=this.internal.collections.addImage_images,te=this.internal.write;for(var ee in q)te("/I"+(U=q[ee]).index,U.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",u))},c=function(){var U=this.internal.collections.addImage_images;return l.call(this),U},h=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(U){return typeof e["process"+U.toUpperCase()]=="function"},b=function(U){return Pn(U)==="object"&&U.nodeType===1},E=function(U,q){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var te=""+U.getAttribute("src");if(te.indexOf("data:image/")===0)return Uf(unescape(te).split("base64,").pop());var ee=e.loadFile(te,!0);if(ee!==void 0)return ee}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var Oe;switch(q){case"PNG":Oe="image/png";break;case"WEBP":Oe="image/webp";break;case"JPEG":case"JPG":default:Oe="image/jpeg"}return Uf(U.toDataURL(Oe,1).split("base64,").pop())}},y=function(U){var q=this.internal.collections.addImage_images;if(q){for(var te in q)if(U===q[te].alias)return q[te]}},S=function(U,q,te){return U||q||(U=-96,q=-96),U<0&&(U=-1*te.width*72/U/this.internal.scaleFactor),q<0&&(q=-1*te.height*72/q/this.internal.scaleFactor),U===0&&(U=q*te.width/te.height),q===0&&(q=U*te.height/te.width),[U,q]},A=function(U,q,te,ee,Oe,Ae){var Se=S.call(this,te,ee,Oe),ae=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,ye=c.call(this);if(te=Se[0],ee=Se[1],ye[Oe.index]=Oe,Ae){Ae*=Math.PI/180;var ne=Math.cos(Ae),I=Math.sin(Ae),V=function(se){return se.toFixed(4)},Q=[V(ne),V(I),V(-1*I),V(ne),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,ae(U),ve(q+ee),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([ae(te),"0","0",ae(ee),"0","0","cm"].join(" "))):this.internal.write([ae(te),"0","0",ae(ee),ae(U),ve(q+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Oe.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=e.__addimage__.sHashCode=function(U){var q,te,ee=0;if(typeof U=="string")for(te=U.length,q=0;q<te;q++)ee=(ee<<5)-ee+U.charCodeAt(q),ee|=0;else if(he(U))for(te=U.byteLength/2,q=0;q<te;q++)ee=(ee<<5)-ee+U[q],ee|=0;return ee},$=e.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var q=!0;return U.length===0&&(q=!1),U.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(q=!1),q},H=e.__addimage__.extractImageFromDataUrl=function(U){var q=(U=U||"").split("base64,"),te=null;if(q.length===2){var ee=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(q[0]);Array.isArray(ee)&&(te={mimeType:ee[1],charset:ee[2],data:q[1]})}return te},Y=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(U){return Y()&&U instanceof ArrayBuffer};var he=e.__addimage__.isArrayBufferView=function(U){return Y()&&typeof Uint32Array<"u"&&(U instanceof Int8Array||U instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array)},le=e.__addimage__.binaryStringToUint8Array=function(U){for(var q=U.length,te=new Uint8Array(q),ee=0;ee<q;ee++)te[ee]=U.charCodeAt(ee);return te},X=e.__addimage__.arrayBufferToBinaryString=function(U){for(var q="",te=he(U)?U:new Uint8Array(U),ee=0;ee<te.length;ee+=8192)q+=String.fromCharCode.apply(null,te.subarray(ee,ee+8192));return q};e.addImage=function(){var U,q,te,ee,Oe,Ae,Se,ae,ve;if(typeof arguments[1]=="number"?(q=t,te=arguments[1],ee=arguments[2],Oe=arguments[3],Ae=arguments[4],Se=arguments[5],ae=arguments[6],ve=arguments[7]):(q=arguments[1],te=arguments[2],ee=arguments[3],Oe=arguments[4],Ae=arguments[5],Se=arguments[6],ae=arguments[7],ve=arguments[8]),Pn(U=arguments[0])==="object"&&!b(U)&&"imageData"in U){var ye=U;U=ye.imageData,q=ye.format||q||t,te=ye.x||te||0,ee=ye.y||ee||0,Oe=ye.w||ye.width||Oe,Ae=ye.h||ye.height||Ae,Se=ye.alias||Se,ae=ye.compression||ae,ve=ye.rotation||ye.angle||ve}var ne=this.internal.getFilters();if(ae===void 0&&ne.indexOf("FlateEncode")!==-1&&(ae="SLOW"),isNaN(te)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=be.call(this,U,q,Se,ae);return A.call(this,te,ee,Oe,Ae,I,ve),this};var be=function(U,q,te,ee){var Oe,Ae,Se;if(typeof U=="string"&&r(U)===t){U=unescape(U);var ae=Ie(U,!1);(ae!==""||(ae=e.loadFile(U,!0))!==void 0)&&(U=ae)}if(b(U)&&(U=E(U,q)),q=r(U,q),!p(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((Se=te)==null||Se.length===0)&&(te=function(ve){return typeof ve=="string"||he(ve)?P(ve):he(ve.data)?P(ve.data):null}(U)),(Oe=y.call(this,te))||(Y()&&(U instanceof Uint8Array||q==="RGBA"||(Ae=U,U=le(U))),Oe=this["process"+q.toUpperCase()](U,h.call(this),te,function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in e.image_compression?ve:C.NONE}(ee),Ae)),!Oe)throw new Error("An unknown error occurred whilst processing the image.");return Oe},Ie=e.__addimage__.convertBase64ToBinaryString=function(U,q){var te;q=typeof q!="boolean"||q;var ee,Oe="";if(typeof U=="string"){ee=(te=H(U))!==null?te.data:U;try{Oe=Uf(ee)}catch(Ae){if(q)throw $(ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Oe};e.getImageProperties=function(U){var q,te,ee="";if(b(U)&&(U=E(U)),typeof U=="string"&&r(U)===t&&((ee=Ie(U,!1))===""&&(ee=e.loadFile(U)||""),U=ee),te=r(U),!p(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(!Y()||U instanceof Uint8Array||(U=le(U)),!(q=this["process"+te.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=te,q}})(Ft.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,u=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,p=!1,b=0;b<h.length&&!p;b++)switch((r=h[b]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var E=0;E<h.length;E++){r=h[E];var y=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(A.objId),P=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+u(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+y(C(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+y(C(P))+") >>",A.content=s;var $=A.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+u(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+$,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(A.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+u(r.bounds.x)+" "+l(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var H=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Y=this.annotations._nameMap[r.options.name];r.options.pageNumber=Y.page,r.options.top=Y.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var he=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+he+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,u){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:h(r),w:c(n+i),h:h(r+s)},options:u,type:"link"})},e.textWithLink=function(n,r,i,s){var u,l,c=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var p=this.splitTextToSize(n,l).length;u=Math.ceil(h*p)}else l=c,u=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-h,l,u,s),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ft.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(A){return t[A.charCodeAt(0)]!==void 0},u=e.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},l=e.__arabicParser__.isArabicEndLetter=function(A){return u(A)&&s(A)&&t[A.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(A){return u(A)&&i.indexOf(A.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return u(A)&&s(A)&&t[A.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(A){return u(A)&&s(A)&&t[A.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(A){return u(A)&&s(A)&&t[A.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(A){return u(A)&&s(A)&&t[A.charCodeAt(0)].length==4},b=e.__arabicParser__.resolveLigatures=function(A){var k=0,C=n,P="",$=0;for(k=0;k<A.length;k+=1)C[A.charCodeAt(k)]!==void 0?($++,typeof(C=C[A.charCodeAt(k)])=="number"&&(P+=String.fromCharCode(C),C=n,$=0),k===A.length-1&&(C=n,P+=A.charAt(k-($-1)),k-=$-1,$=0)):(C=n,P+=A.charAt(k-$),k-=$,$=0);return P};e.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var E=e.__arabicParser__.getCorrectForm=function(A,k,C){return u(A)?s(A)===!1?-1:!h(A)||!u(k)&&!u(C)||!u(C)&&l(k)||l(A)&&!u(k)||l(A)&&c(k)||l(A)&&l(k)?0:p(A)&&u(k)&&!l(k)&&u(C)&&h(C)?3:l(A)||!u(C)?1:2:-1},y=function(A){var k=0,C=0,P=0,$="",H="",Y="",he=(A=A||"").split("\\s+"),le=[];for(k=0;k<he.length;k+=1){for(le.push(""),C=0;C<he[k].length;C+=1)$=he[k][C],H=he[k][C-1],Y=he[k][C+1],u($)?(P=E($,H,Y),le[k]+=P!==-1?String.fromCharCode(t[$.charCodeAt(0)][P]):$):le[k]+=$;le[k]=b(le[k])}return le.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var A,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(k)){var P=0;for(C=[],P=0;P<k.length;P+=1)Array.isArray(k[P])?C.push([y(k[P][0]),k[P][1],k[P][2]]):C.push([y(k[P])]);A=C}else A=y(k);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};e.events.push(["preProcessText",S])}(Ft.API),Ft.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(l){u=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ft.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(A){c=A}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(A){E=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(A){S=A}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,h){r.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),b=h.font||this.getFont(),E=h.scaleFactor||this.internal.scaleFactor,y=0,S=0,A=0,k=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=h.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function($,H){return $.concat(k.splitTextToSize(H,C))},[])):c=Array.isArray(c)?c:[c];for(var P=0;P<c.length;P++)y<(A=this.getStringUnitWidth(c[P],{font:b})*p)&&(y=A);return y!==0&&(S=c.length),{w:y/=E,h:Math.max((S*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/E,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,b=this.internal.__cell__.margins||t,E=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=b.top,y&&E&&(this.printHeaderRow(c.lineNumber,!0),c.y+=E[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};e.table=function(c,h,p,b,E){if(r.call(this),!p)throw new Error("No data for PDF table.");var y,S,A,k,C=[],P=[],$=[],H={},Y={},he=[],le=[],X=(E=E||{}).autoSize||!1,be=E.printHeaders!==!1,Ie=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,U=E.margins||Object.assign({width:this.getPageWidth()},t),q=typeof E.padding=="number"?E.padding:3,te=E.headerBackgroundColor||"#c8c8c8",ee=E.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=be,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=Ie,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=ee,this.setFontSize(Ie),b==null)P=C=Object.keys(p[0]),$=C.map(function(){return"left"});else if(Array.isArray(b)&&Pn(b[0])==="object")for(C=b.map(function(ye){return ye.name}),P=b.map(function(ye){return ye.prompt||ye.name||""}),$=b.map(function(ye){return ye.align||"left"}),y=0;y<b.length;y+=1)Y[b[y].name]=b[y].width*(19.049976/25.4);else Array.isArray(b)&&typeof b[0]=="string"&&(P=C=b,$=C.map(function(){return"left"}));if(X||Array.isArray(b)&&typeof b[0]=="string")for(y=0;y<C.length;y+=1){for(H[k=C[y]]=p.map(function(ye){return ye[k]}),this.setFont(void 0,"bold"),he.push(this.getTextDimensions(P[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=H[k],this.setFont(void 0,"normal"),A=0;A<S.length;A+=1)he.push(this.getTextDimensions(S[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[k]=Math.max.apply(null,he)+q+q,he=[]}if(be){var Oe={};for(y=0;y<C.length;y+=1)Oe[C[y]]={},Oe[C[y]].text=P[y],Oe[C[y]].align=$[y];var Ae=l.call(this,Oe,Y);le=C.map(function(ye){return new s(c,h,Y[ye],Ae,Oe[ye].text,void 0,Oe[ye].align)}),this.setTableHeaderRow(le),this.printHeaderRow(1,!1)}var Se=b.reduce(function(ye,ne){return ye[ne.name]=ne.align,ye},{});for(y=0;y<p.length;y+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:y,data:p[y]},this);var ae=l.call(this,p[y],Y);for(A=0;A<C.length;A+=1){var ve=p[y][C[A]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:y,col:A,data:ve},this),u.call(this,new s(c,h,Y[C[A]],ae,ve,y+2,Se[C[A]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var l=function(c,h){var p=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(c).map(function(y){var S=c[y];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*b/E+p+p},this).reduce(function(y,S){return Math.max(y,S)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,E.push(p)),p.lineNumber=c;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,p),this.setTextColor(S)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),n=!1}}(Ft.API);var lE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qm=uE(cE),dE=[100,200,300,400,500,600,700,800,900],qO=uE(dE);function Xm(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return lE[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof Qm[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Sy(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var zO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ay={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ny(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function $O(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},zO,n.genericFontFamilies||{}),s=null,u=null,l=0;l<t.length;++l)if(i[(s=Xm(t[l])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){u=e[s.family];break}if(!(u=u||e[r]))throw new Error("Could not find a font-family for the rule '"+Ny(s)+"' and default family '"+r+"'.");if(u=function(c,h){if(h[c])return h[c];var p=Qm[c],b=p<=Qm.normal?-1:1,E=Sy(h,cE,p,b);if(!E)throw new Error("Could not find a matching font-stretch value for "+c);return E}(s.stretch,u),u=function(c,h){if(h[c])return h[c];for(var p=lE[c],b=0;b<p.length;++b)if(h[p[b]])return h[p[b]];throw new Error("Could not find a matching font-style for "+c)}(s.style,u),!(u=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var p=qO[c],b=Sy(h,dE,p,c<400?-1:1);if(!b)throw new Error("Could not find a matching font-weight for value "+c);return b}(s.weight,u)))throw new Error("Failed to resolve a font for the rule '"+Ny(s)+"'.");return u}function Cy(e){return e.trimLeft()}function VO(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function WO(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var p0,Ly,ky,im=["times"];(function(e){var t,n,r,i,s,u,l,c,h,p=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new u,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new u,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new b(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,u=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new p}]);var b=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=I;Object.defineProperty(this,"pdf",{get:function(){return V}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(je){Q=!!je}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(je){se=!!je}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(je){isNaN(je)||(ue=je)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(je){isNaN(je)||(_e=je)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(je){var re;typeof je=="number"?re=[je,je,je,je]:((re=new Array(4))[0]=je[0],re[1]=je.length>=2?je[1]:re[0],re[2]=je.length>=3?je[2]:re[0],re[3]=je.length>=4?je[3]:re[1]),h.margin=re}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(je){xe=je}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(je){Te=je}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(je){Ue=je}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(je){je instanceof p&&(h=je)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(je){h.path=je}});var Xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xe},set:function(je){Xe=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var re;re=E(je),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var re=E(je);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var ut=null;function lt(je,re){if(ut===null){var It=function(vt){var Ze=[];return Object.keys(vt).forEach(function(ot){vt[ot].forEach(function(ft){var K=null;switch(ft){case"bold":K={family:ot,weight:"bold"};break;case"italic":K={family:ot,style:"italic"};break;case"bolditalic":K={family:ot,weight:"bold",style:"italic"};break;case"":case"normal":K={family:ot}}K!==null&&(K.ref={name:ot,style:ft},Ze.push(K))})}),Ze}(je.getFontList());ut=function(vt){for(var Ze={},ot=0;ot<vt.length;++ot){var ft=Xm(vt[ot]),K=ft.family,pe=ft.stretch,ke=ft.style,Ke=ft.weight;Ze[K]=Ze[K]||{},Ze[K][pe]=Ze[K][pe]||{},Ze[K][pe][ke]=Ze[K][pe][ke]||{},Ze[K][pe][ke][Ke]=ft}return Ze}(It.concat(re))}return ut}var Et=null;Object.defineProperty(this,"fontFaces",{get:function(){return Et},set:function(je){ut=null,Et=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var re;if(this.ctx.font=je,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var It=re[1],vt=(re[2],re[3]),Ze=re[4],ot=(re[5],re[6]),ft=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(ft==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:ft==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var K=function(ct){var wt,Je,ir=[],Kt=ct.trim();if(Kt==="")return im;if(Kt in Ay)return[Ay[Kt]];for(;Kt!=="";){switch(Je=null,wt=(Kt=Cy(Kt)).charAt(0)){case'"':case"'":Je=VO(Kt.substring(1),wt);break;default:Je=WO(Kt)}if(Je===null||(ir.push(Je[0]),(Kt=Cy(Je[1]))!==""&&Kt.charAt(0)!==","))return im;Kt=Kt.replace(/^,/,"")}return ir}(ot);if(this.fontFaces){var pe=$O(lt(this.pdf,this.fontFaces),K.map(function(ct){return{family:ct,stretch:"normal",weight:vt,style:It}}));this.pdf.setFont(pe.ref.name,pe.ref.style)}else{var ke="";(vt==="bold"||parseInt(vt,10)>=700||It==="bold")&&(ke="bold"),It==="italic"&&(ke+="italic"),ke.length===0&&(ke="normal");for(var Ke="",Ye={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},qe=0;qe<K.length;qe++){if(this.pdf.internal.getFont(K[qe],ke,{noFallback:!0,disableWarning:!0})!==void 0){Ke=K[qe];break}if(ke==="bolditalic"&&this.pdf.internal.getFont(K[qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=K[qe],ke="bold";else if(this.pdf.internal.getFont(K[qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=K[qe],ke="normal";break}}if(Ke===""){for(var et=0;et<K.length;et++)if(Ye[K[et]]){Ke=Ye[K[et]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};b.prototype.setLineDash=function(I){this.lineDash=I},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){H.call(this,"fill",!1)},b.prototype.stroke=function(){H.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(I,V){if(isNaN(I)||isNaN(V))throw jn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new u(I,V));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new u(I,V)},b.prototype.closePath=function(){var I=new u(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Pn(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){I=new u(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(I.x,I.y)},b.prototype.lineTo=function(I,V){if(isNaN(I)||isNaN(V))throw jn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new u(I,V));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new u(Q.x,Q.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},b.prototype.quadraticCurveTo=function(I,V,Q,se){if(isNaN(Q)||isNaN(se)||isNaN(I)||isNaN(V))throw jn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new u(Q,se)),_e=this.ctx.transform.applyToPoint(new u(I,V));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new u(ue.x,ue.y)},b.prototype.bezierCurveTo=function(I,V,Q,se,ue,_e){if(isNaN(ue)||isNaN(_e)||isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(se))throw jn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new u(ue,_e)),Te=this.ctx.transform.applyToPoint(new u(I,V)),Ue=this.ctx.transform.applyToPoint(new u(Q,se));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Ue.x,y2:Ue.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new u(xe.x,xe.y)},b.prototype.arc=function(I,V,Q,se,ue,_e){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(se)||isNaN(ue))throw jn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new u(I,V));I=xe.x,V=xe.y;var Te=this.ctx.transform.applyToPoint(new u(0,Q)),Ue=this.ctx.transform.applyToPoint(new u(0,0));Q=Math.sqrt(Math.pow(Te.x-Ue.x,2)+Math.pow(Te.y-Ue.y,2))}Math.abs(ue-se)>=2*Math.PI&&(se=0,ue=2*Math.PI),this.path.push({type:"arc",x:I,y:V,radius:Q,startAngle:se,endAngle:ue,counterclockwise:_e})},b.prototype.arcTo=function(I,V,Q,se,ue){throw new Error("arcTo not implemented.")},b.prototype.rect=function(I,V,Q,se){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(se))throw jn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,V),this.lineTo(I+Q,V),this.lineTo(I+Q,V+se),this.lineTo(I,V+se),this.lineTo(I,V),this.lineTo(I+Q,V),this.lineTo(I,V)},b.prototype.fillRect=function(I,V,Q,se){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(se))throw jn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,V,Q,se),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},b.prototype.strokeRect=function(I,V,Q,se){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(se))throw jn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(I,V,Q,se),this.stroke())},b.prototype.clearRect=function(I,V,Q,se){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(se))throw jn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,V,Q,se))},b.prototype.save=function(I){I=typeof I!="boolean"||I;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},b.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(V),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(I){var V,Q,se,ue;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))V=0,Q=0,se=0,ue=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(_e!==null)V=parseInt(_e[1]),Q=parseInt(_e[2]),se=parseInt(_e[3]),ue=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)V=parseInt(_e[1]),Q=parseInt(_e[2]),se=parseInt(_e[3]),ue=parseFloat(_e[4]);else{if(ue=1,typeof I=="string"&&I.charAt(0)!=="#"){var xe=new nE(I);I=xe.ok?xe.toHex():"#000000"}I.length===4?(V=I.substring(1,2),V+=V,Q=I.substring(2,3),Q+=Q,se=I.substring(3,4),se+=se):(V=I.substring(1,3),Q=I.substring(3,5),se=I.substring(5,7)),V=parseInt(V,16),Q=parseInt(Q,16),se=parseInt(se,16)}}return{r:V,g:Q,b:se,a:ue,style:I}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(I,V,Q,se){if(isNaN(V)||isNaN(Q)||typeof I!="string")throw jn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!y.call(this)){var ue=ae(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;q.call(this,{text:I,x:V,y:Q,scale:_e,angle:ue,align:this.textAlign,maxWidth:se})}},b.prototype.strokeText=function(I,V,Q,se){if(isNaN(V)||isNaN(Q)||typeof I!="string")throw jn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){se=isNaN(se)?void 0:se;var ue=ae(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;q.call(this,{text:I,x:V,y:Q,scale:_e,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:se})}},b.prototype.measureText=function(I){if(typeof I!="string")throw jn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,Q=this.pdf.internal.scaleFactor,se=V.internal.getFontSize(),ue=V.getStringUnitWidth(I)*se/V.internal.scaleFactor,_e=function(xe){var Te=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this};return new _e({width:ue*=Math.round(96*Q/72*1e4)/1e4})},b.prototype.scale=function(I,V){if(isNaN(I)||isNaN(V))throw jn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(I,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},b.prototype.rotate=function(I){if(isNaN(I))throw jn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},b.prototype.translate=function(I,V){if(isNaN(I)||isNaN(V))throw jn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,I,V);this.ctx.transform=this.ctx.transform.multiply(Q)},b.prototype.transform=function(I,V,Q,se,ue,_e){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(se)||isNaN(ue)||isNaN(_e))throw jn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new c(I,V,Q,se,ue,_e);this.ctx.transform=this.ctx.transform.multiply(xe)},b.prototype.setTransform=function(I,V,Q,se,ue,_e){I=isNaN(I)?1:I,V=isNaN(V)?0:V,Q=isNaN(Q)?0:Q,se=isNaN(se)?1:se,ue=isNaN(ue)?0:ue,_e=isNaN(_e)?0:_e,this.ctx.transform=new c(I,V,Q,se,ue,_e)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(I,V,Q,se,ue,_e,xe,Te,Ue){var Xe=this.pdf.getImageProperties(I),ut=1,lt=1,Et=1,je=1;se!==void 0&&Te!==void 0&&(Et=Te/se,je=Ue/ue,ut=Xe.width/se*Te/se,lt=Xe.height/ue*Ue/ue),_e===void 0&&(_e=V,xe=Q,V=0,Q=0),se!==void 0&&Te===void 0&&(Te=se,Ue=ue),se===void 0&&Te===void 0&&(Te=Xe.width,Ue=Xe.height);for(var re,It=this.ctx.transform.decompose(),vt=ae(It.rotate.shx),Ze=new c,ot=(Ze=(Ze=(Ze=Ze.multiply(It.translate)).multiply(It.skew)).multiply(It.scale)).applyToRectangle(new l(_e-V*Et,xe-Q*je,se*ut,ue*lt)),ft=k.call(this,ot),K=[],pe=0;pe<ft.length;pe+=1)K.indexOf(ft[pe])===-1&&K.push(ft[pe]);if($(K),this.autoPaging)for(var ke=K[0],Ke=K[K.length-1],Ye=ke;Ye<Ke+1;Ye++){this.pdf.setPage(Ye);var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Ye===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=Ye===1?0:ct+(Ye-2)*wt;if(this.ctx.clip_path.length!==0){var ir=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(re,this.posX+this.margin[3],-Je+et+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=ir}var Kt=JSON.parse(JSON.stringify(ot));Kt=P([Kt],this.posX+this.margin[3],-Je+et+this.ctx.prevPageLastElemOffset)[0];var Ar=(Ye>ke||Ye<Ke)&&A.call(this);Ar&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,wt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,vt),Ar&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",ot.x,ot.y,ot.w,ot.h,null,null,vt)};var k=function(I,V,Q){var se=[];V=V||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":se.push(Math.floor((I.y+ue)/Q)+1);break;case"arc":se.push(Math.floor((I.y+ue-I.radius)/Q)+1),se.push(Math.floor((I.y+ue+I.radius)/Q)+1);break;case"qct":var _e=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);se.push(Math.floor((_e.y+ue)/Q)+1),se.push(Math.floor((_e.y+_e.h+ue)/Q)+1);break;case"bct":var xe=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);se.push(Math.floor((xe.y+ue)/Q)+1),se.push(Math.floor((xe.y+xe.h+ue)/Q)+1);break;case"rect":se.push(Math.floor((I.y+ue)/Q)+1),se.push(Math.floor((I.y+I.h+ue)/Q)+1)}for(var Te=0;Te<se.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<se[Te];)C.call(this);return se},C=function(){var I=this.fillStyle,V=this.strokeStyle,Q=this.font,se=this.lineCap,ue=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=V,this.font=Q,this.lineCap=se,this.lineWidth=ue,this.lineJoin=_e},P=function(I,V,Q){for(var se=0;se<I.length;se++)switch(I[se].type){case"bct":I[se].x2+=V,I[se].y2+=Q;case"qct":I[se].x1+=V,I[se].y1+=Q;case"mt":case"lt":case"arc":default:I[se].x+=V,I[se].y+=Q}return I},$=function(I){return I.sort(function(V,Q){return V-Q})},H=function(I,V){for(var Q,se,ue=this.fillStyle,_e=this.strokeStyle,xe=this.lineCap,Te=this.lineWidth,Ue=Math.abs(Te*this.ctx.transform.scaleX),Xe=this.lineJoin,ut=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),Et=[],je=0;je<lt.length;je++)if(lt[je].x!==void 0)for(var re=k.call(this,lt[je]),It=0;It<re.length;It+=1)Et.indexOf(re[It])===-1&&Et.push(re[It]);for(var vt=0;vt<Et.length;vt++)for(;this.pdf.internal.getNumberOfPages()<Et[vt];)C.call(this);if($(Et),this.autoPaging)for(var Ze=Et[0],ot=Et[Et.length-1],ft=Ze;ft<ot+1;ft++){this.pdf.setPage(ft),this.fillStyle=ue,this.strokeStyle=_e,this.lineCap=xe,this.lineWidth=Ue,this.lineJoin=Xe;var K=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pe=ft===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=ft===1?0:ke+(ft-2)*Ke;if(this.ctx.clip_path.length!==0){var qe=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Q,this.posX+this.margin[3],-Ye+pe+this.ctx.prevPageLastElemOffset),Y.call(this,I,!0),this.path=qe}if(se=JSON.parse(JSON.stringify(ut)),this.path=P(se,this.posX+this.margin[3],-Ye+pe+this.ctx.prevPageLastElemOffset),V===!1||ft===0){var et=(ft>Ze||ft<ot)&&A.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],K,Ke,null).clip().discardPath()),Y.call(this,I,V),et&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}else this.lineWidth=Ue,Y.call(this,I,V),this.lineWidth=Te;this.path=ut},Y=function(I,V){if((I!=="stroke"||V||!S.call(this))&&(I==="stroke"||V||!y.call(this))){for(var Q,se,ue=[],_e=this.path,xe=0;xe<_e.length;xe++){var Te=_e[xe];switch(Te.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Te,deltas:[],abs:[]});break;case"lt":var Ue=ue.length;if(_e[xe-1]&&!isNaN(_e[xe-1].x)&&(Q=[Te.x-_e[xe-1].x,Te.y-_e[xe-1].y],Ue>0)){for(;Ue>=0;Ue--)if(ue[Ue-1].close!==!0&&ue[Ue-1].begin!==!0){ue[Ue-1].deltas.push(Q),ue[Ue-1].abs.push(Te);break}}break;case"bct":Q=[Te.x1-_e[xe-1].x,Te.y1-_e[xe-1].y,Te.x2-_e[xe-1].x,Te.y2-_e[xe-1].y,Te.x-_e[xe-1].x,Te.y-_e[xe-1].y],ue[ue.length-1].deltas.push(Q);break;case"qct":var Xe=_e[xe-1].x+2/3*(Te.x1-_e[xe-1].x),ut=_e[xe-1].y+2/3*(Te.y1-_e[xe-1].y),lt=Te.x+2/3*(Te.x1-Te.x),Et=Te.y+2/3*(Te.y1-Te.y),je=Te.x,re=Te.y;Q=[Xe-_e[xe-1].x,ut-_e[xe-1].y,lt-_e[xe-1].x,Et-_e[xe-1].y,je-_e[xe-1].x,re-_e[xe-1].y],ue[ue.length-1].deltas.push(Q);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Te)}}se=V?null:I==="stroke"?"stroke":"fill";for(var It=!1,vt=0;vt<ue.length;vt++)if(ue[vt].arc)for(var Ze=ue[vt].abs,ot=0;ot<Ze.length;ot++){var ft=Ze[ot];ft.type==="arc"?X.call(this,ft.x,ft.y,ft.radius,ft.startAngle,ft.endAngle,ft.counterclockwise,void 0,V,!It):te.call(this,ft.x,ft.y),It=!0}else if(ue[vt].close===!0)this.pdf.internal.out("h"),It=!1;else if(ue[vt].begin!==!0){var K=ue[vt].start.x,pe=ue[vt].start.y;ee.call(this,ue[vt].deltas,K,pe),It=!0}se&&be.call(this,se),V&&Ie.call(this)}},he=function(I){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-Q;case"top":return I+V-Q;case"hanging":return I+V-2*Q;case"middle":return I+V/2-Q;case"ideographic":return I;case"alphabetic":default:return I}},le=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(V,Q){this.colorStops.push([V,Q])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(I,V,Q,se,ue,_e,xe,Te,Ue){for(var Xe=Ae.call(this,Q,se,ue,_e),ut=0;ut<Xe.length;ut++){var lt=Xe[ut];ut===0&&(Ue?U.call(this,lt.x1+I,lt.y1+V):te.call(this,lt.x1+I,lt.y1+V)),Oe.call(this,I,V,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}Te?Ie.call(this):be.call(this,xe)},be=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ie=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(I,V){this.pdf.internal.out(n(I)+" "+r(V)+" m")},q=function(I){var V;switch(I.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var Q=this.pdf.getTextDimensions(I.text),se=he.call(this,I.y),ue=le.call(this,se)-Q.h,_e=this.ctx.transform.applyToPoint(new u(I.x,se)),xe=this.ctx.transform.decompose(),Te=new c;Te=(Te=(Te=Te.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ue,Xe,ut,lt=this.ctx.transform.applyToRectangle(new l(I.x,se,Q.w,Q.h)),Et=Te.applyToRectangle(new l(I.x,ue,Q.w,Q.h)),je=k.call(this,Et),re=[],It=0;It<je.length;It+=1)re.indexOf(je[It])===-1&&re.push(je[It]);if($(re),this.autoPaging)for(var vt=re[0],Ze=re[re.length-1],ot=vt;ot<Ze+1;ot++){this.pdf.setPage(ot);var ft=ot===1?this.posY+this.margin[0]:this.margin[0],K=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pe=this.pdf.internal.pageSize.height-this.margin[2],ke=pe-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],Ye=Ke-this.margin[3],qe=ot===1?0:K+(ot-2)*ke;if(this.ctx.clip_path.length!==0){var et=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ue,this.posX+this.margin[3],-1*qe+ft),Y.call(this,"fill",!0),this.path=et}var ct=P([JSON.parse(JSON.stringify(Et))],this.posX+this.margin[3],-qe+ft+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xe*I.scale),ut=this.lineWidth,this.lineWidth=ut*I.scale);var wt=this.autoPaging!=="text";if(wt||ct.y+ct.h<=pe){if(wt||ct.y>=ft&&ct.x<=Ke){var Je=wt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Ke-ct.x)[0],ir=P([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-qe+ft+this.ctx.prevPageLastElemOffset)[0],Kt=wt&&(ot>vt||ot<Ze)&&A.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,ke,null).clip().discardPath()),this.pdf.text(Je,ir.x,ir.y,{angle:I.angle,align:V,renderingMode:I.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else ct.y<pe&&(this.ctx.prevPageLastElemOffset+=pe-ct.y);I.scale>=.01&&(this.pdf.setFontSize(Xe),this.lineWidth=ut)}else I.scale>=.01&&(Xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xe*I.scale),ut=this.lineWidth,this.lineWidth=ut*I.scale),this.pdf.text(I.text,_e.x+this.posX,_e.y+this.posY,{angle:I.angle,align:V,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Xe),this.lineWidth=ut)},te=function(I,V,Q,se){Q=Q||0,se=se||0,this.pdf.internal.out(n(I+Q)+" "+r(V+se)+" l")},ee=function(I,V,Q){return this.pdf.lines(I,V,Q,null,null)},Oe=function(I,V,Q,se,ue,_e,xe,Te){this.pdf.internal.out([t(i(Q+I)),t(s(se+V)),t(i(ue+I)),t(s(_e+V)),t(i(xe+I)),t(s(Te+V)),"c"].join(" "))},Ae=function(I,V,Q,se){for(var ue=2*Math.PI,_e=Math.PI/2;V>Q;)V-=ue;var xe=Math.abs(Q-V);xe<ue&&se&&(xe=ue-xe);for(var Te=[],Ue=se?-1:1,Xe=V;xe>1e-5;){var ut=Xe+Ue*Math.min(xe,_e);Te.push(Se.call(this,I,Xe,ut)),xe-=Math.abs(ut-Xe),Xe=ut}return Te},Se=function(I,V,Q){var se=(Q-V)/2,ue=I*Math.cos(se),_e=I*Math.sin(se),xe=ue,Te=-_e,Ue=xe*xe+Te*Te,Xe=Ue+xe*ue+Te*_e,ut=4/3*(Math.sqrt(2*Ue*Xe)-Xe)/(xe*_e-Te*ue),lt=xe-ut*Te,Et=Te+ut*xe,je=lt,re=-Et,It=se+V,vt=Math.cos(It),Ze=Math.sin(It);return{x1:I*Math.cos(V),y1:I*Math.sin(V),x2:lt*vt-Et*Ze,y2:lt*Ze+Et*vt,x3:je*vt-re*Ze,y3:je*Ze+re*vt,x4:I*Math.cos(Q),y4:I*Math.sin(Q)}},ae=function(I){return 180*I/Math.PI},ve=function(I,V,Q,se,ue,_e){var xe=I+.5*(Q-I),Te=V+.5*(se-V),Ue=ue+.5*(Q-ue),Xe=_e+.5*(se-_e),ut=Math.min(I,ue,xe,Ue),lt=Math.max(I,ue,xe,Ue),Et=Math.min(V,_e,Te,Xe),je=Math.max(V,_e,Te,Xe);return new l(ut,Et,lt-ut,je-Et)},ye=function(I,V,Q,se,ue,_e,xe,Te){var Ue,Xe,ut,lt,Et,je,re,It,vt,Ze,ot,ft,K,pe,ke=Q-I,Ke=se-V,Ye=ue-Q,qe=_e-se,et=xe-ue,ct=Te-_e;for(Xe=0;Xe<41;Xe++)vt=(re=(ut=I+(Ue=Xe/40)*ke)+Ue*((Et=Q+Ue*Ye)-ut))+Ue*(Et+Ue*(ue+Ue*et-Et)-re),Ze=(It=(lt=V+Ue*Ke)+Ue*((je=se+Ue*qe)-lt))+Ue*(je+Ue*(_e+Ue*ct-je)-It),Xe==0?(ot=vt,ft=Ze,K=vt,pe=Ze):(ot=Math.min(ot,vt),ft=Math.min(ft,Ze),K=Math.max(K,vt),pe=Math.max(pe,Ze));return new l(Math.round(ot),Math.round(ft),Math.round(K-ot),Math.round(pe-ft))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,V,Q=(I=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:V}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Ft.API),function(e){var t=function(s){var u,l,c,h,p,b,E,y,S,A;for(l=[],c=0,h=(s+=u="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(p=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(b=(p=((p=((p=((p=(p-(A=p%85))/85)-(S=p%85))/85)-(y=p%85))/85)-(E=p%85))/85)%85,l.push(b+33,E+33,y+33,S+33,A+33)):l.push(122);return function(k,C){for(var P=C;P>0;P--)k.pop()}(l,u.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var u,l,c,h,p,b=String,E="length",y=255,S="charCodeAt",A="slice",k="replace";for(s[A](-2),s=s[A](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),c=[],h=0,p=(s+=u="uuuuu"[A](s[E]%5||5))[E];p>h;h+=5)l=52200625*(s[S](h)-33)+614125*(s[S](h+1)-33)+7225*(s[S](h+2)-33)+85*(s[S](h+3)-33)+(s[S](h+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(C,P){for(var $=P;$>0;$--)C.pop()}(c,u[E]),b.fromCharCode.apply(b,c)},r=function(s){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),u.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var u=new Uint8Array(s.length),l=s.length;l--;)u[l]=s.charCodeAt(l);return s=(u=Vm(u)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};e.processDataByFilters=function(s,u){var l=0,c=s||"",h=[];for(typeof(u=u||[])=="string"&&(u=[u]),l=0;l<u.length;l+=1)switch(u[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(Ft.API),function(e){e.loadFile=function(t,n,r){return function(i,s,u){s=s!==!1,u=typeof u=="function"?u:function(){};var l=void 0;try{l=function(c,h,p){var b=new XMLHttpRequest,E=0,y=function(S){var A=S.length,k=[],C=String.fromCharCode;for(E=0;E<A;E+=1)k.push(C(255&S.charCodeAt(E)));return k.join("")};if(b.open("GET",c,!h),b.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(b.onload=function(){b.status===200?p(y(this.responseText)):p(void 0)}),b.send(null),h&&b.status===200)return y(b.responseText)}(i,s,u)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(Ft.API),function(e){function t(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):hu(()=>import("./html2canvas.esm-C9dSnd0T.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function n(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):hu(()=>import("./purify.es-D-QPbZEk.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var l=Pn(u);return l==="undefined"?"undefined":l==="string"||u instanceof String?"string":l==="number"||u instanceof Number?"number":l==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(u,l){var c=document.createElement(u);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},s=function u(l){var c=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),h=u.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,u,1,[u])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(u,l){return u.__proto__=l||s.prototype,u},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(u,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:u,dompurify:c})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},s.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(h,p){for(var b=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),E=h.firstChild;E;E=E.nextSibling)p!==!0&&E.nodeType===1&&E.nodeName==="SCRIPT"||b.appendChild(c(E,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(b.width=h.width,b.height=h.height,b.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(b.value=h.value),b.addEventListener("load",function(){b.scrollTop=h.scrollTop,b.scrollLeft=h.scrollLeft},!0)),b}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var E=0;E<h.length;++E){var y=h[E],S=y.src.find(function(A){return A.format==="truetype"});S&&c.addFont(S.url,y.ref.name,y.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,c.context2d.save(!0),l(this.prop.container,b)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(u,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(u,l):this.outputPdf(u,l)},s.prototype.outputPdf=function(u,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,l)})},s.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},s.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(u){if(r(u)!=="object")return this;var l=Object.keys(u||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=u[c]};switch(c){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[c]=u[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(u,l){return this.then(function(){var c=u in s.template.prop?this.prop[u]:this.opt[u];return l?l(c):c})},s.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},s.prototype.setPageSize=function(u){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(u=u||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:l(u.inner.width,u.k),height:l(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},s.prototype.setProgress=function(u,l,c,h){return u!=null&&(this.progress.val=u),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(u,l,c,h){return this.setProgress(u?this.progress.val+u:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(u,l){var c=this;return this.thenCore(u,l,function(h,p){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(b){return c.updateProgress(null,h),b}).then(h,p).then(function(b){return c.updateProgress(1),b})})},s.prototype.thenCore=function(u,l,c){c=c||Promise.prototype.then,u&&(u=u.bind(this)),l&&(l=l.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=c.call(h,u,l);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(u,l){return Promise.prototype.then.call(this,u,l)},s.prototype.thenList=function(u){var l=this;return u.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(u){u&&(u=u.bind(this));var l=Promise.prototype.catch.call(this,u);return s.convert(l,this)},s.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},s.prototype.error=function(u){return this.then(function(){throw new Error(u)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ft.getPageSize=function(u,l,c){if(Pn(u)==="object"){var h=u;u=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",u=(""+(u||"P")).toLowerCase();var p,b=(""+c).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var y,S=0,A=0;if(E.hasOwnProperty(b))S=E[b][1]/p,A=E[b][0]/p;else try{S=c[1],A=c[0]}catch{throw new Error("Invalid format: "+c)}if(u==="p"||u==="portrait")u="p",A>S&&(y=A,A=S,S=y);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",S>A&&(y=A,A=S,S=y)}return{width:A,height:S,unit:l,k:p,orientation:u}},e.html=function(u,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Xm):null;var c=new s(l);return l.worker?c:c.from(u).doCallback()}}(Ft.API),Ft.API.addJS=function(e){return ky=e,this.internal.events.subscribe("postPutResources",function(){p0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(p0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ly=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ky+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){p0!==void 0&&Ly!==void 0&&this.internal.out("/Names <</JavaScript "+p0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var u=i[s],l=r.exec(u);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(s=0;s<h;s++){var b=n.internal.newObject();p.push(b);var E=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var u={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var u=r.children[s];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var l=this.count=this.count_r({count:0},u);if(l>0&&this.line("/Count "+l),u.options&&u.options.pageNumber){var c=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ft.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,u,l){var c,h=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(b){for(var E,y=256*b.charCodeAt(4)+b.charCodeAt(5),S=b.length,A={width:0,height:0,numcomponents:1},k=4;k<S;k+=2){if(k+=y,t.indexOf(b.charCodeAt(k+1))!==-1){E=256*b.charCodeAt(k+5)+b.charCodeAt(k+6),A={width:256*b.charCodeAt(k+7)+b.charCodeAt(k+8),height:E,numcomponents:b.charCodeAt(k+9)};break}y=256*b.charCodeAt(k+2)+b.charCodeAt(k+3)}return A}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:h,index:r,alias:i}}return p}}(Ft.API);var ad,m0,Iy,Py,Oy,YO=function(){var e,t,n;function r(s){var u,l,c,h,p,b,E,y,S,A,k,C,P,$;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},b=null;;){switch(u=this.readUInt32(),S=function(){var H,Y;for(Y=[],H=0;H<4;++H)Y.push(String.fromCharCode(this.data[this.pos++]));return Y}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":b&&this.animation.frames.push(b),this.pos+=4,b={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),h=this.readUInt16()||100,b.delay=1e3*p/h,b.disposeOp=this.data[this.pos++],b.blendOp=this.data[this.pos++],b.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,u-=4),s=b?.data||this.imgData,C=0;0<=u?C<u:C>u;0<=u?++C:--C)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((A=c-this.transparency.indexed.length)>0)for(P=0;0<=A?P<A:P>A;0<=A?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":E=(k=this.read(u)).indexOf(0),y=String.fromCharCode.apply(String,k.slice(0,E)),this.text[y]=String.fromCharCode.apply(String,k.slice(E+1));break;case"IEND":return b&&this.animation.frames.push(b),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=($=this.colorType)===4||$===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var u,l;for(l=[],u=0;0<=s?u<s:u>s;0<=s?++u:--u)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var u=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*u),c=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(b,E,y,S){var A,k,C,P,$,H,Y,he,le,X,be,Ie,U,q,te,ee,Oe,Ae,Se,ae,ve,ye=Math.ceil((h.width-b)/y),ne=Math.ceil((h.height-E)/S),I=h.width==ye&&h.height==ne;for(q=u*ye,Ie=I?l:new Uint8Array(q*ne),H=s.length,U=0,k=0;U<ne&&c<H;){switch(s[c++]){case 0:for(P=Oe=0;Oe<q;P=Oe+=1)Ie[k++]=s[c++];break;case 1:for(P=Ae=0;Ae<q;P=Ae+=1)A=s[c++],$=P<u?0:Ie[k-u],Ie[k++]=(A+$)%256;break;case 2:for(P=Se=0;Se<q;P=Se+=1)A=s[c++],C=(P-P%u)/u,te=U&&Ie[(U-1)*q+C*u+P%u],Ie[k++]=(te+A)%256;break;case 3:for(P=ae=0;ae<q;P=ae+=1)A=s[c++],C=(P-P%u)/u,$=P<u?0:Ie[k-u],te=U&&Ie[(U-1)*q+C*u+P%u],Ie[k++]=(A+Math.floor(($+te)/2))%256;break;case 4:for(P=ve=0;ve<q;P=ve+=1)A=s[c++],C=(P-P%u)/u,$=P<u?0:Ie[k-u],U===0?te=ee=0:(te=Ie[(U-1)*q+C*u+P%u],ee=C&&Ie[(U-1)*q+(C-1)*u+P%u]),Y=$+te-ee,he=Math.abs(Y-$),X=Math.abs(Y-te),be=Math.abs(Y-ee),le=he<=X&&he<=be?$:X<=be?te:ee,Ie[k++]=(A+le)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!I){var V=((E+U*S)*h.width+b)*u,Q=U*q;for(P=0;P<ye;P+=1){for(var se=0;se<u;se+=1)l[V++]=Ie[Q++];V+=(y-1)*u}}U++}}return s=SO(s),h.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},r.prototype.decodePalette=function(){var s,u,l,c,h,p,b,E,y;for(l=this.palette,p=this.transparency.indexed||[],h=new Uint8Array((p.length||0)+l.length),c=0,s=0,u=b=0,E=l.length;b<E;u=b+=3)h[c++]=l[u],h[c++]=l[u+1],h[c++]=l[u+2],h[c++]=(y=p[s++])!=null?y:255;return h},r.prototype.copyToImageData=function(s,u){var l,c,h,p,b,E,y,S,A,k,C;if(c=this.colors,A=null,l=this.hasAlphaChannel,this.palette.length&&(A=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),c=4,l=!0),S=(h=s.data||s).length,b=A||u,p=E=0,c===1)for(;p<S;)y=A?4*u[p/4]:E,k=b[y++],h[p++]=k,h[p++]=k,h[p++]=k,h[p++]=l?b[y++]:255,E=y;else for(;p<S;)y=A?4*u[p/4]:E,h[p++]=b[y++],h[p++]=b[y++],h[p++]=b[y++],h[p++]=l?b[y++]:255,E=y},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(jt)==="[object Window]"){try{t=jt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var u;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(u=new Image).src=t.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var u,l,c,h,p,b,E,y;if(this.animation){for(y=[],l=p=0,b=(E=this.animation.frames).length;p<b;l=++p)u=E[l],c=s.createImageData(u.width,u.height),h=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(c,h),u.imageData=c,y.push(u.image=e(c));return y}},r.prototype.renderFrame=function(s,u){var l,c,h;return l=(c=this.animation.frames)[u],h=c[u-1],u===0&&s.clearRect(0,0,this.width,this.height),h?.disposeOp===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):h?.disposeOp===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(s){var u,l,c,h,p,b,E=this;return l=0,b=this.animation,h=b.numFrames,c=b.frames,p=b.numPlays,(u=function(){var y,S;if(y=l++%h,S=c[y],E.renderFrame(s,y),h>1&&l/h<p)return E.animation._timeout=setTimeout(u,S.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var u,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,u=s.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(l=u.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),u.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function GO(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,u=1<<(7&i)+1;e[t++],e[t++];var l=null,c=null;s&&(l=t,c=u,t+=3*u);var h=!0,p=[],b=0,E=null,y=0,S=null;for(this.width=n,this.height=r;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var A=e[t++];b=e[t++]|e[t++]<<8,E=e[t++],!(1&A)&&(E=null),y=A>>2&7,t++;break;case 254:for(;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var k=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,$=e[t++]|e[t++]<<8,H=e[t++],Y=H>>6&1,he=1<<(7&H)+1,le=l,X=c,be=!1;H>>7&&(be=!0,le=t,X=he,t+=3*he);var Ie=t;for(t++;;){var U;if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}p.push({x:k,y:C,width:P,height:$,has_local_palette:be,palette_offset:le,palette_size:X,data_offset:Ie,data_length:t-Ie,transparent_index:E,interlaced:!!Y,delay:b,disposal:y});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return S},this.frameInfo=function(q){if(q<0||q>=p.length)throw new Error("Frame index out of range.");return p[q]},this.decodeAndBlitFrameBGRA=function(q,te){var ee=this.frameInfo(q),Oe=ee.width*ee.height,Ae=new Uint8Array(Oe);Ry(e,ee.data_offset,Ae,Oe);var Se=ee.palette_offset,ae=ee.transparent_index;ae===null&&(ae=256);var ve=ee.width,ye=n-ve,ne=ve,I=4*(ee.y*n+ee.x),V=4*((ee.y+ee.height)*n+ee.x),Q=I,se=4*ye;ee.interlaced===!0&&(se+=4*n*7);for(var ue=8,_e=0,xe=Ae.length;_e<xe;++_e){var Te=Ae[_e];if(ne===0&&(ne=ve,(Q+=se)>=V&&(se=4*ye+4*n*(ue-1),Q=I+(ve+ye)*(ue<<1),ue>>=1)),Te===ae)Q+=4;else{var Ue=e[Se+3*Te],Xe=e[Se+3*Te+1],ut=e[Se+3*Te+2];te[Q++]=ut,te[Q++]=Xe,te[Q++]=Ue,te[Q++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(q,te){var ee=this.frameInfo(q),Oe=ee.width*ee.height,Ae=new Uint8Array(Oe);Ry(e,ee.data_offset,Ae,Oe);var Se=ee.palette_offset,ae=ee.transparent_index;ae===null&&(ae=256);var ve=ee.width,ye=n-ve,ne=ve,I=4*(ee.y*n+ee.x),V=4*((ee.y+ee.height)*n+ee.x),Q=I,se=4*ye;ee.interlaced===!0&&(se+=4*n*7);for(var ue=8,_e=0,xe=Ae.length;_e<xe;++_e){var Te=Ae[_e];if(ne===0&&(ne=ve,(Q+=se)>=V&&(se=4*ye+4*n*(ue-1),Q=I+(ve+ye)*(ue<<1),ue>>=1)),Te===ae)Q+=4;else{var Ue=e[Se+3*Te],Xe=e[Se+3*Te+1],ut=e[Se+3*Te+2];te[Q++]=Ue,te[Q++]=Xe,te[Q++]=ut,te[Q++]=255}--ne}}}function Ry(e,t,n,r){for(var i=e[t++],s=1<<i,u=s+1,l=u+1,c=i+1,h=(1<<c)-1,p=0,b=0,E=0,y=e[t++],S=new Int32Array(4096),A=null;;){for(;p<16&&y!==0;)b|=e[t++]<<p,p+=8,y===1?y=e[t++]:--y;if(p<c)break;var k=b&h;if(b>>=c,p-=c,k!==s){if(k===u)break;for(var C=k<l?k:A,P=0,$=C;$>s;)$=S[$]>>8,++P;var H=$;if(E+P+(C!==k?1:0)>r)return void jn.log("Warning, gif stream longer than expected.");n[E++]=H;var Y=E+=P;for(C!==k&&(n[E++]=H),$=C;P--;)$=S[$],n[--Y]=255&$,$>>=8;A!==null&&l<4096&&(S[l++]=A<<8|H,l>=h+1&&c<12&&(++c,h=h<<1|1)),A=k}else l=u+1,h=(1<<(c=i+1))-1,A=null}return E!==r&&jn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function sm(e){var t,n,r,i,s,u=Math.floor,l=new Array(64),c=new Array(64),h=new Array(64),p=new Array(64),b=new Array(65535),E=new Array(65535),y=new Array(64),S=new Array(64),A=[],k=0,C=7,P=new Array(64),$=new Array(64),H=new Array(64),Y=new Array(256),he=new Array(2048),le=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],be=[0,1,2,3,4,5,6,7,8,9,10,11],Ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(I,V){for(var Q=0,se=0,ue=new Array,_e=1;_e<=16;_e++){for(var xe=1;xe<=I[_e];xe++)ue[V[se]]=[],ue[V[se]][0]=Q,ue[V[se]][1]=_e,se++,Q++;Q*=2}return ue}function Se(I){for(var V=I[0],Q=I[1]-1;Q>=0;)V&1<<Q&&(k|=1<<C),Q--,--C<0&&(k==255?(ae(255),ae(0)):ae(k),C=7,k=0)}function ae(I){A.push(I)}function ve(I){ae(I>>8&255),ae(255&I)}function ye(I,V,Q,se,ue){for(var _e,xe=ue[0],Te=ue[240],Ue=function(Ze,ot){var ft,K,pe,ke,Ke,Ye,qe,et,ct,wt,Je=0;for(ct=0;ct<8;++ct){ft=Ze[Je],K=Ze[Je+1],pe=Ze[Je+2],ke=Ze[Je+3],Ke=Ze[Je+4],Ye=Ze[Je+5],qe=Ze[Je+6];var ir=ft+(et=Ze[Je+7]),Kt=ft-et,Ar=K+qe,sn=K-qe,un=pe+Ye,Hr=pe-Ye,Xt=ke+Ke,bs=ke-Ke,On=ir+Xt,Nr=ir-Xt,fn=Ar+un,Jt=Ar-un;Ze[Je]=On+fn,Ze[Je+4]=On-fn;var At=.707106781*(Jt+Nr);Ze[Je+2]=Nr+At,Ze[Je+6]=Nr-At;var Yt=.382683433*((On=bs+Hr)-(Jt=sn+Kt)),sr=.5411961*On+Yt,ln=1.306562965*Jt+Yt,qn=.707106781*(fn=Hr+sn),Cr=Kt+qn,gt=Kt-qn;Ze[Je+5]=gt+sr,Ze[Je+3]=gt-sr,Ze[Je+1]=Cr+ln,Ze[Je+7]=Cr-ln,Je+=8}for(Je=0,ct=0;ct<8;++ct){ft=Ze[Je],K=Ze[Je+8],pe=Ze[Je+16],ke=Ze[Je+24],Ke=Ze[Je+32],Ye=Ze[Je+40],qe=Ze[Je+48];var Xn=ft+(et=Ze[Je+56]),Dn=ft-et,Bn=K+qe,En=K-qe,_n=pe+Ye,Mn=pe-Ye,pi=ke+Ke,Ri=ke-Ke,ys=Xn+pi,vs=Xn-pi,Or=Bn+_n,ws=Bn-_n;Ze[Je]=ys+Or,Ze[Je+32]=ys-Or;var Di=.707106781*(ws+vs);Ze[Je+16]=vs+Di,Ze[Je+48]=vs-Di;var js=.382683433*((ys=Ri+Mn)-(ws=En+Dn)),$a=.5411961*ys+js,No=1.306562965*ws+js,Co=.707106781*(Or=Mn+En),Lo=Dn+Co,pu=Dn-Co;Ze[Je+40]=pu+$a,Ze[Je+24]=pu-$a,Ze[Je+8]=Lo+No,Ze[Je+56]=Lo-No,Je++}for(ct=0;ct<64;++ct)wt=Ze[ct]*ot[ct],y[ct]=wt>0?wt+.5|0:wt-.5|0;return y}(I,V),Xe=0;Xe<64;++Xe)S[le[Xe]]=Ue[Xe];var ut=S[0]-Q;Q=S[0],ut==0?Se(se[0]):(Se(se[E[_e=32767+ut]]),Se(b[_e]));for(var lt=63;lt>0&&S[lt]==0;)lt--;if(lt==0)return Se(xe),Q;for(var Et,je=1;je<=lt;){for(var re=je;S[je]==0&&je<=lt;)++je;var It=je-re;if(It>=16){Et=It>>4;for(var vt=1;vt<=Et;++vt)Se(Te);It&=15}_e=32767+S[je],Se(ue[(It<<4)+E[_e]]),Se(b[_e]),je++}return lt!=63&&Se(xe),Q}function ne(I){I=Math.min(Math.max(I,1),100),s!=I&&(function(V){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ue=u((Q[se]*V+50)/100);ue=Math.min(Math.max(ue,1),255),l[le[se]]=ue}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Te=u((_e[xe]*V+50)/100);Te=Math.min(Math.max(Te,1),255),c[le[xe]]=Te}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xe=0,ut=0;ut<8;ut++)for(var lt=0;lt<8;lt++)h[Xe]=1/(l[le[Xe]]*Ue[ut]*Ue[lt]*8),p[Xe]=1/(c[le[Xe]]*Ue[ut]*Ue[lt]*8),Xe++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,V){V&&ne(V),A=new Array,k=0,C=7,ve(65496),ve(65504),ve(16),ae(74),ae(70),ae(73),ae(70),ae(0),ae(1),ae(1),ae(0),ve(1),ve(1),ae(0),ae(0),function(){ve(65499),ve(132),ae(0);for(var K=0;K<64;K++)ae(l[K]);ae(1);for(var pe=0;pe<64;pe++)ae(c[pe])}(),function(K,pe){ve(65472),ve(17),ae(8),ve(pe),ve(K),ae(3),ae(1),ae(17),ae(0),ae(2),ae(17),ae(1),ae(3),ae(17),ae(1)}(I.width,I.height),function(){ve(65476),ve(418),ae(0);for(var K=0;K<16;K++)ae(X[K+1]);for(var pe=0;pe<=11;pe++)ae(be[pe]);ae(16);for(var ke=0;ke<16;ke++)ae(Ie[ke+1]);for(var Ke=0;Ke<=161;Ke++)ae(U[Ke]);ae(1);for(var Ye=0;Ye<16;Ye++)ae(q[Ye+1]);for(var qe=0;qe<=11;qe++)ae(te[qe]);ae(17);for(var et=0;et<16;et++)ae(ee[et+1]);for(var ct=0;ct<=161;ct++)ae(Oe[ct])}(),ve(65498),ve(12),ae(3),ae(1),ae(0),ae(2),ae(17),ae(3),ae(17),ae(0),ae(63),ae(0);var Q=0,se=0,ue=0;k=0,C=7,this.encode.displayName="_encode_";for(var _e,xe,Te,Ue,Xe,ut,lt,Et,je,re=I.data,It=I.width,vt=I.height,Ze=4*It,ot=0;ot<vt;){for(_e=0;_e<Ze;){for(Xe=Ze*ot+_e,lt=-1,Et=0,je=0;je<64;je++)ut=Xe+(Et=je>>3)*Ze+(lt=4*(7&je)),ot+Et>=vt&&(ut-=Ze*(ot+1+Et-vt)),_e+lt>=Ze&&(ut-=_e+lt-Ze+4),xe=re[ut++],Te=re[ut++],Ue=re[ut++],P[je]=(he[xe]+he[Te+256>>0]+he[Ue+512>>0]>>16)-128,$[je]=(he[xe+768>>0]+he[Te+1024>>0]+he[Ue+1280>>0]>>16)-128,H[je]=(he[xe+1280>>0]+he[Te+1536>>0]+he[Ue+1792>>0]>>16)-128;Q=ye(P,h,Q,t,r),se=ye($,p,se,n,i),ue=ye(H,p,ue,n,i),_e+=32}ot+=8}if(C>=0){var ft=[];ft[1]=C+1,ft[0]=(1<<C+1)-1,Se(ft)}return ve(65497),new Uint8Array(A)},e=e||50,function(){for(var I=String.fromCharCode,V=0;V<256;V++)Y[V]=I(V)}(),t=Ae(X,be),n=Ae(q,te),r=Ae(Ie,U),i=Ae(ee,Oe),function(){for(var I=1,V=2,Q=1;Q<=15;Q++){for(var se=I;se<V;se++)E[32767+se]=Q,b[32767+se]=[],b[32767+se][1]=Q,b[32767+se][0]=se;for(var ue=-(V-1);ue<=-I;ue++)E[32767+ue]=Q,b[32767+ue]=[],b[32767+ue][1]=Q,b[32767+ue][0]=V-1+ue;I<<=1,V<<=1}}(),function(){for(var I=0;I<256;I++)he[I]=19595*I,he[I+256>>0]=38470*I,he[I+512>>0]=7471*I+32768,he[I+768>>0]=-11059*I,he[I+1024>>0]=-21709*I,he[I+1280>>0]=32768*I+8421375,he[I+1536>>0]=-27439*I,he[I+1792>>0]=-5329*I}(),ne(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ka(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Dy(e){function t(X){if(!X)throw Error("assert :P")}function n(X,be,Ie){for(var U=0;4>U;U++)if(X[be+U]!=Ie.charCodeAt(U))return!0;return!1}function r(X,be,Ie,U,q){for(var te=0;te<q;te++)X[be+te]=Ie[U+te]}function i(X,be,Ie,U){for(var q=0;q<U;q++)X[be+q]=Ie}function s(X){return new Int32Array(X)}function u(X,be){for(var Ie=[],U=0;U<X;U++)Ie.push(new be);return Ie}function l(X,be){var Ie=[];return function U(q,te,ee){for(var Oe=ee[te],Ae=0;Ae<Oe&&(q.push(ee.length>te+1?[]:new be),!(ee.length<te+1));Ae++)U(q[Ae],te+1,ee)}(Ie,0,X),Ie}var c=function(){var X=this;function be(f,g){for(var x=1<<g-1>>>0;f&x;)x>>>=1;return x?(f&x-1)+x:f}function Ie(f,g,x,N,O){t(!(N%x));do f[g+(N-=x)]=O;while(0<N)}function U(f,g,x,N,O){if(t(2328>=O),512>=O)var D=s(512);else if((D=s(O))==null)return 0;return function(j,B,z,W,de,Ce){var Le,Ee,Ge=B,Fe=1<<z,me=s(16),ge=s(16);for(t(de!=0),t(W!=null),t(j!=null),t(0<z),Ee=0;Ee<de;++Ee){if(15<W[Ee])return 0;++me[W[Ee]]}if(me[0]==de)return 0;for(ge[1]=0,Le=1;15>Le;++Le){if(me[Le]>1<<Le)return 0;ge[Le+1]=ge[Le]+me[Le]}for(Ee=0;Ee<de;++Ee)Le=W[Ee],0<W[Ee]&&(Ce[ge[Le]++]=Ee);if(ge[15]==1)return(W=new q).g=0,W.value=Ce[0],Ie(j,Ge,1,Fe,W),Fe;var Ve,$e=-1,We=Fe-1,bt=0,ht=1,kt=1,pt=1<<z;for(Ee=0,Le=1,de=2;Le<=z;++Le,de<<=1){if(ht+=kt<<=1,0>(kt-=me[Le]))return 0;for(;0<me[Le];--me[Le])(W=new q).g=Le,W.value=Ce[Ee++],Ie(j,Ge+bt,de,pt,W),bt=be(bt,Le)}for(Le=z+1,de=2;15>=Le;++Le,de<<=1){if(ht+=kt<<=1,0>(kt-=me[Le]))return 0;for(;0<me[Le];--me[Le]){if(W=new q,(bt&We)!=$e){for(Ge+=pt,Ve=1<<($e=Le)-z;15>$e&&!(0>=(Ve-=me[$e]));)++$e,Ve<<=1;Fe+=pt=1<<(Ve=$e-z),j[B+($e=bt&We)].g=Ve+z,j[B+$e].value=Ge-B-$e}W.g=Le-z,W.value=Ce[Ee++],Ie(j,Ge+(bt>>z),de,pt,W),bt=be(bt,Le)}}return ht!=2*ge[15]-1?0:Fe}(f,g,x,N,O,D)}function q(){this.value=this.g=0}function te(){this.value=this.g=0}function ee(){this.G=u(5,q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Zn,te)}function Oe(f,g,x,N){t(f!=null),t(g!=null),t(2147483648>N),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=g,f.pa=x,f.Jd=g,f.Yc=x+N,f.Zc=4<=N?x+N-4+1:x,_e(f)}function Ae(f,g){for(var x=0;0<g--;)x|=Te(f,128)<<g;return x}function Se(f,g){var x=Ae(f,g);return xe(f)?-x:x}function ae(f,g,x,N){var O,D=0;for(t(f!=null),t(g!=null),t(4294967288>N),f.Sb=N,f.Ra=0,f.u=0,f.h=0,4<N&&(N=4),O=0;O<N;++O)D+=g[x+O]<<8*O;f.Ra=D,f.bb=N,f.oa=g,f.pa=x}function ve(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Ru-8>>>0,++f.bb,f.u-=8;Q(f)&&(f.h=1,f.u=0)}function ye(f,g){if(t(0<=g),!f.h&&g<=Ou){var x=V(f)&Pu[g];return f.u+=g,ve(f),x}return f.h=1,f.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(f){return f.Ra>>>(f.u&Ru-1)>>>0}function Q(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Ru}function se(f,g){f.u=g,f.h=Q(f)}function ue(f){f.u>=Du&&(t(f.u>=Du),ve(f))}function _e(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function xe(f){return Ae(f,1)}function Te(f,g){var x=f.Ca;0>f.b&&_e(f);var N=f.b,O=x*g>>>8,D=(f.I>>>N>O)+0;for(D?(x-=O,f.I-=O+1<<N>>>0):x=O+1,N=x,O=0;256<=N;)O+=8,N>>=8;return N=7^O+ni[N],f.b-=N,f.Ca=(x<<N)-1,D}function Ue(f,g,x){f[g+0]=x>>24&255,f[g+1]=x>>16&255,f[g+2]=x>>8&255,f[g+3]=x>>0&255}function Xe(f,g){return f[g+0]<<0|f[g+1]<<8}function ut(f,g){return Xe(f,g)|f[g+2]<<16}function lt(f,g){return Xe(f,g)|Xe(f,g+2)<<16}function Et(f,g){var x=1<<g;return t(f!=null),t(0<g),f.X=s(x),f.X==null?0:(f.Mb=32-g,f.Xa=g,1)}function je(f,g){t(f!=null),t(g!=null),t(f.Xa==g.Xa),r(g.X,0,f.X,0,1<<g.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function It(f,g,x,N){t(x!=null),t(N!=null);var O=x[0],D=N[0];return O==0&&(O=(f*D+g/2)/g),D==0&&(D=(g*O+f/2)/f),0>=O||0>=D?0:(x[0]=O,N[0]=D,1)}function vt(f,g){return f+(1<<g)-1>>>g}function Ze(f,g){return((4278255360&f)+(4278255360&g)>>>0&4278255360)+((16711935&f)+(16711935&g)>>>0&16711935)>>>0}function ot(f,g){X[g]=function(x,N,O,D,j,B,z){var W;for(W=0;W<j;++W){var de=X[f](B[z+W-1],O,D+W);B[z+W]=Ze(x[N+W],de)}}}function ft(){this.ud=this.hd=this.jd=0}function K(f,g){return((4278124286&(f^g))>>>1)+(f&g)>>>0}function pe(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function ke(f,g){return pe(f+(f-g+.5>>1))}function Ke(f,g,x){return Math.abs(g-x)-Math.abs(f-x)}function Ye(f,g,x,N,O,D,j){for(N=D[j-1],x=0;x<O;++x)D[j+x]=N=Ze(f[g+x],N)}function qe(f,g,x,N,O){var D;for(D=0;D<x;++D){var j=f[g+D],B=j>>8&255,z=16711935&(z=(z=16711935&j)+((B<<16)+B));N[O+D]=(4278255360&j)+z>>>0}}function et(f,g){g.jd=f>>0&255,g.hd=f>>8&255,g.ud=f>>16&255}function ct(f,g,x,N,O,D){var j;for(j=0;j<N;++j){var B=g[x+j],z=B>>>8,W=B,de=255&(de=(de=B>>>16)+((f.jd<<24>>24)*(z<<24>>24)>>>5));W=255&(W=(W=W+((f.hd<<24>>24)*(z<<24>>24)>>>5))+((f.ud<<24>>24)*(de<<24>>24)>>>5)),O[D+j]=(4278255360&B)+(de<<16)+W}}function wt(f,g,x,N,O){X[g]=function(D,j,B,z,W,de,Ce,Le,Ee){for(z=Ce;z<Le;++z)for(Ce=0;Ce<Ee;++Ce)W[de++]=O(B[N(D[j++])])},X[f]=function(D,j,B,z,W,de,Ce){var Le=8>>D.b,Ee=D.Ea,Ge=D.K[0],Fe=D.w;if(8>Le)for(D=(1<<D.b)-1,Fe=(1<<Le)-1;j<B;++j){var me,ge=0;for(me=0;me<Ee;++me)me&D||(ge=N(z[W++])),de[Ce++]=O(Ge[ge&Fe]),ge>>=Le}else X["VP8LMapColor"+x](z,W,Ge,Fe,de,Ce,j,B,Ee)}}function Je(f,g,x,N,O){for(x=g+x;g<x;){var D=f[g++];N[O++]=D>>16&255,N[O++]=D>>8&255,N[O++]=D>>0&255}}function ir(f,g,x,N,O){for(x=g+x;g<x;){var D=f[g++];N[O++]=D>>16&255,N[O++]=D>>8&255,N[O++]=D>>0&255,N[O++]=D>>24&255}}function Kt(f,g,x,N,O){for(x=g+x;g<x;){var D=(j=f[g++])>>16&240|j>>12&15,j=j>>0&240|j>>28&15;N[O++]=D,N[O++]=j}}function Ar(f,g,x,N,O){for(x=g+x;g<x;){var D=(j=f[g++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;N[O++]=D,N[O++]=j}}function sn(f,g,x,N,O){for(x=g+x;g<x;){var D=f[g++];N[O++]=D>>0&255,N[O++]=D>>8&255,N[O++]=D>>16&255}}function un(f,g,x,N,O,D){if(D==0)for(x=g+x;g<x;)Ue(N,((D=f[g++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),O+=32;else r(N,O,f,g,x)}function Hr(f,g){X[g][0]=X[f+"0"],X[g][1]=X[f+"1"],X[g][2]=X[f+"2"],X[g][3]=X[f+"3"],X[g][4]=X[f+"4"],X[g][5]=X[f+"5"],X[g][6]=X[f+"6"],X[g][7]=X[f+"7"],X[g][8]=X[f+"8"],X[g][9]=X[f+"9"],X[g][10]=X[f+"10"],X[g][11]=X[f+"11"],X[g][12]=X[f+"12"],X[g][13]=X[f+"13"],X[g][14]=X[f+"0"],X[g][15]=X[f+"0"]}function Xt(f){return f==Hu||f==Ko||f==ql||f==zl}function bs(){this.eb=[],this.size=this.A=this.fb=0}function On(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bs,this.f.kb=new On,this.sd=null}function fn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Yt(f,g){var x=f.T,N=g.ba.f.RGBA,O=N.eb,D=N.fb+f.ka*N.A,j=wi[g.ba.S],B=f.y,z=f.O,W=f.f,de=f.N,Ce=f.ea,Le=f.W,Ee=g.cc,Ge=g.dc,Fe=g.Mc,me=g.Nc,ge=f.ka,Ve=f.ka+f.T,$e=f.U,We=$e+1>>1;for(ge==0?j(B,z,null,null,W,de,Ce,Le,W,de,Ce,Le,O,D,null,null,$e):(j(g.ec,g.fc,B,z,Ee,Ge,Fe,me,W,de,Ce,Le,O,D-N.A,O,D,$e),++x);ge+2<Ve;ge+=2)Ee=W,Ge=de,Fe=Ce,me=Le,de+=f.Rc,Le+=f.Rc,D+=2*N.A,j(B,(z+=2*f.fa)-f.fa,B,z,Ee,Ge,Fe,me,W,de,Ce,Le,O,D-N.A,O,D,$e);return z+=f.fa,f.j+Ve<f.o?(r(g.ec,g.fc,B,z,$e),r(g.cc,g.dc,W,de,We),r(g.Mc,g.Nc,Ce,Le,We),x--):1&Ve||j(B,z,null,null,W,de,Ce,Le,W,de,Ce,Le,O,D+N.A,null,null,$e),x}function sr(f,g,x){var N=f.F,O=[f.J];if(N!=null){var D=f.U,j=g.ba.S,B=j==Hl||j==ql;g=g.ba.f.RGBA;var z=[0],W=f.ka;z[0]=f.T,f.Kb&&(W==0?--z[0]:(--W,O[0]-=f.width),f.j+f.ka+f.T==f.o&&(z[0]=f.o-f.j-W));var de=g.eb;W=g.fb+W*g.A,f=xn(N,O[0],f.width,D,z,de,W+(B?0:3),g.A),t(x==z),f&&Xt(j)&&yi(de,W,B,D,z,g.A)}return 0}function ln(f){var g=f.ma,x=g.ba.S,N=11>x,O=x==so||x==Ul||x==Hl||x==In||x==12||Xt(x);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!ku(g.Oa,f,O?11:12))return 0;if(O&&Xt(x)&&tt(),f.da)alert("todo:use_scaling");else{if(N){if(g.Ib=At,f.Kb){if(x=f.U+1>>1,g.memory=s(f.U+2*x),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+f.U,g.Mc=g.cc,g.Nc=g.dc+x,g.Ib=Yt,tt()}}else alert("todo:EmitYUV");O&&(g.Jb=sr,N&&Ne())}if(N&&!Dr){for(f=0;256>f;++f)Ei[f]=89858*(f-128)+As>>ya,_i[f]=-22014*(f-128)+As,Vu[f]=-45773*(f-128),Zo[f]=113618*(f-128)+As>>ya;for(f=Tn;f<Cn;++f)g=76283*(f-16)+As>>ya,jc[f-Tn]=ji(g,255),Ah[f-Tn]=ji(g+8>>4,15);Dr=1}return 1}function qn(f){var g=f.ma,x=f.U,N=f.T;return t(!(1&f.ka)),0>=x||0>=N?0:(x=g.Ib(f,g),g.Jb!=null&&g.Jb(f,g,x),g.Dc+=x,1)}function Cr(f){f.ma.memory=null}function gt(f,g,x,N){return ye(f,8)!=47?0:(g[0]=ye(f,14)+1,x[0]=ye(f,14)+1,N[0]=ye(f,1),ye(f,3)!=0?0:!f.h)}function Xn(f,g){if(4>f)return f+1;var x=f-2>>1;return(2+(1&f)<<x)+ye(g,x)+1}function Dn(f,g){return 120<g?g-120:1<=(x=((x=Op[g-1])>>4)*f+(8-(15&x)))?x:1;var x}function Bn(f,g,x){var N=V(x),O=f[g+=255&N].g-8;return 0<O&&(se(x,x.u+8),N=V(x),g+=f[g].value,g+=N&(1<<O)-1),se(x,x.u+f[g].g),f[g].value}function En(f,g,x){return x.g+=f.g,x.value+=f.value<<g>>>0,t(8>=x.g),f.g}function _n(f,g,x){var N=f.xc;return t((g=N==0?0:f.vc[f.md*(x>>N)+(g>>N)])<f.Wb),f.Ya[g]}function Mn(f,g,x,N){var O=f.ab,D=f.c*g,j=f.C;g=j+g;var B=x,z=N;for(N=f.Ta,x=f.Ua;0<O--;){var W=f.gc[O],de=j,Ce=g,Le=B,Ee=z,Ge=(z=N,B=x,W.Ea);switch(t(de<Ce),t(Ce<=W.nc),W.hc){case 2:Oc(Le,Ee,(Ce-de)*Ge,z,B);break;case 0:var Fe=de,me=Ce,ge=z,Ve=B,$e=(pt=W).Ea;Fe==0&&(zo(Le,Ee,null,null,1,ge,Ve),Ye(Le,Ee+1,0,0,$e-1,ge,Ve+1),Ee+=$e,Ve+=$e,++Fe);for(var We=1<<pt.b,bt=We-1,ht=vt($e,pt.b),kt=pt.K,pt=pt.w+(Fe>>pt.b)*ht;Fe<me;){var cn=kt,dn=pt,nn=1;for(ca(Le,Ee,ge,Ve-$e,1,ge,Ve);nn<$e;){var Vt=(nn&~bt)+We;Vt>$e&&(Vt=$e),(0,$s[cn[dn++]>>8&15])(Le,Ee+ +nn,ge,Ve+nn-$e,Vt-nn,ge,Ve+nn),nn=Vt}Ee+=$e,Ve+=$e,++Fe&bt||(pt+=ht)}Ce!=W.nc&&r(z,B-Ge,z,B+(Ce-de-1)*Ge,Ge);break;case 1:for(Ge=Le,me=Ee,$e=(Le=W.Ea)-(Ve=Le&~(ge=(Ee=1<<W.b)-1)),Fe=vt(Le,W.b),We=W.K,W=W.w+(de>>W.b)*Fe;de<Ce;){for(bt=We,ht=W,kt=new ft,pt=me+Ve,cn=me+Le;me<pt;)et(bt[ht++],kt),no(kt,Ge,me,Ee,z,B),me+=Ee,B+=Ee;me<cn&&(et(bt[ht++],kt),no(kt,Ge,me,$e,z,B),me+=$e,B+=$e),++de&ge||(W+=Fe)}break;case 3:if(Le==z&&Ee==B&&0<W.b){for(me=z,Le=Ge=B+(Ce-de)*Ge-(Ve=(Ce-de)*vt(W.Ea,W.b)),Ee=z,ge=B,Fe=[],Ve=($e=Ve)-1;0<=Ve;--Ve)Fe[Ve]=Ee[ge+Ve];for(Ve=$e-1;0<=Ve;--Ve)me[Le+Ve]=Fe[Ve];ri(W,de,Ce,z,Ge,z,B)}else ri(W,de,Ce,Le,Ee,z,B)}B=N,z=x}z!=x&&r(N,x,B,z,D)}function pi(f,g){var x=f.V,N=f.Ba+f.c*f.C,O=g-f.C;if(t(g<=f.l.o),t(16>=O),0<O){var D=f.l,j=f.Ta,B=f.Ua,z=D.width;if(Mn(f,O,x,N),O=B=[B],t((x=f.C)<(N=g)),t(D.v<D.va),N>D.o&&(N=D.o),x<D.j){var W=D.j-x;x=D.j,O[0]+=W*z}if(x>=N?x=0:(O[0]+=4*D.v,D.ka=x-D.j,D.U=D.va-D.v,D.T=N-x,x=1),x){if(B=B[0],11>(x=f.ca).S){var de=x.f.RGBA,Ce=(N=x.S,O=D.U,D=D.T,W=de.eb,de.A),Le=D;for(de=de.fb+f.Ma*de.A;0<Le--;){var Ee=j,Ge=B,Fe=O,me=W,ge=de;switch(N){case Rc:ii(Ee,Ge,Fe,me,ge);break;case so:zr(Ee,Ge,Fe,me,ge);break;case Hu:zr(Ee,Ge,Fe,me,ge),yi(me,ge,0,Fe,1,0);break;case Eh:fa(Ee,Ge,Fe,me,ge);break;case Ul:un(Ee,Ge,Fe,me,ge,1);break;case Ko:un(Ee,Ge,Fe,me,ge,1),yi(me,ge,0,Fe,1,0);break;case Hl:un(Ee,Ge,Fe,me,ge,0);break;case ql:un(Ee,Ge,Fe,me,ge,0),yi(me,ge,1,Fe,1,0);break;case In:ro(Ee,Ge,Fe,me,ge);break;case zl:ro(Ee,Ge,Fe,me,ge),kn(me,ge,Fe,1,0);break;case Dc:da(Ee,Ge,Fe,me,ge);break;default:t(0)}B+=z,de+=Ce}f.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=x.height)}}f.C=g,t(f.C<=f.i)}function Ri(f){var g;if(0<f.ua)return 0;for(g=0;g<f.Wb;++g){var x=f.Ya[g].G,N=f.Ya[g].H;if(0<x[1][N[1]+0].g||0<x[2][N[2]+0].g||0<x[3][N[3]+0].g)return 0}return 1}function ys(f,g,x,N,O,D){if(f.Z!=0){var j=f.qd,B=f.rd;for(t(Vr[f.Z]!=null);g<x;++g)Vr[f.Z](j,B,N,O,N,O,D),j=N,B=O,O+=D;f.qd=j,f.rd=B}}function vs(f,g){var x=f.l.ma,N=x.Z==0||x.Z==1?f.l.j:f.C;if(N=f.C<N?N:f.C,t(g<=f.l.o),g>N){var O=f.l.width,D=x.ca,j=x.tb+O*N,B=f.V,z=f.Ba+f.c*N,W=f.gc;t(f.ab==1),t(W[0].hc==3),Fl(W[0],N,g,B,z,D,j),ys(x,N,g,D,j,O)}f.C=f.Ma=g}function Or(f,g,x,N,O,D,j){var B=f.$/N,z=f.$%N,W=f.m,de=f.s,Ce=x+f.$,Le=Ce;O=x+N*O;var Ee=x+N*D,Ge=280+de.ua,Fe=f.Pb?B:16777216,me=0<de.ua?de.Wa:null,ge=de.wc,Ve=Ce<Ee?_n(de,z,B):null;t(f.C<D),t(Ee<=O);var $e=!1;e:for(;;){for(;$e||Ce<Ee;){var We=0;if(B>=Fe){var bt=Ce-x;t((Fe=f).Pb),Fe.wd=Fe.m,Fe.xd=bt,0<Fe.s.ua&&je(Fe.s.Wa,Fe.s.vb),Fe=B+Fc}if(z&ge||(Ve=_n(de,z,B)),t(Ve!=null),Ve.Qb&&(g[Ce]=Ve.qb,$e=!0),!$e)if(ue(W),Ve.jc){We=W,bt=g;var ht=Ce,kt=Ve.pd[V(We)&Zn-1];t(Ve.jc),256>kt.g?(se(We,We.u+kt.g),bt[ht]=kt.value,We=0):(se(We,We.u+kt.g-256),t(256<=kt.value),We=kt.value),We==0&&($e=!0)}else We=Bn(Ve.G[0],Ve.H[0],W);if(W.h)break;if($e||256>We){if(!$e)if(Ve.nd)g[Ce]=(Ve.qb|We<<8)>>>0;else{if(ue(W),$e=Bn(Ve.G[1],Ve.H[1],W),ue(W),bt=Bn(Ve.G[2],Ve.H[2],W),ht=Bn(Ve.G[3],Ve.H[3],W),W.h)break;g[Ce]=(ht<<24|$e<<16|We<<8|bt)>>>0}if($e=!1,++Ce,++z>=N&&(z=0,++B,j!=null&&B<=D&&!(B%16)&&j(f,B),me!=null))for(;Le<Ce;)We=g[Le++],me.X[(506832829*We&4294967295)>>>me.Mb]=We}else if(280>We){if(We=Xn(We-256,W),bt=Bn(Ve.G[4],Ve.H[4],W),ue(W),bt=Dn(N,bt=Xn(bt,W)),W.h)break;if(Ce-x<bt||O-Ce<We)break e;for(ht=0;ht<We;++ht)g[Ce+ht]=g[Ce+ht-bt];for(Ce+=We,z+=We;z>=N;)z-=N,++B,j!=null&&B<=D&&!(B%16)&&j(f,B);if(t(Ce<=O),z&ge&&(Ve=_n(de,z,B)),me!=null)for(;Le<Ce;)We=g[Le++],me.X[(506832829*We&4294967295)>>>me.Mb]=We}else{if(!(We<Ge))break e;for($e=We-280,t(me!=null);Le<Ce;)We=g[Le++],me.X[(506832829*We&4294967295)>>>me.Mb]=We;We=Ce,t(!($e>>>(bt=me).Xa)),g[We]=bt.X[$e],$e=!0}$e||t(W.h==Q(W))}if(f.Pb&&W.h&&Ce<O)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&je(f.s.vb,f.s.Wa);else{if(W.h)break e;j?.(f,B>D?D:B),f.a=0,f.$=Ce-x}return 1}return f.a=3,0}function ws(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var g=f.Wa;g!=null&&(g.X=null),f.vb=null,t(f!=null)}function Di(){var f=new jd;return f==null?null:(f.a=0,f.xb=zu,Hr("Predictor","VP8LPredictors"),Hr("Predictor","VP8LPredictors_C"),Hr("PredictorAdd","VP8LPredictorsAdd"),Hr("PredictorAdd","VP8LPredictorsAdd_C"),Oc=qe,no=ct,ii=Je,zr=ir,ro=Kt,da=Ar,fa=sn,X.VP8LMapColor32b=Mu,X.VP8LMapColor8b=Fu,f)}function js(f,g,x,N,O){var D=1,j=[f],B=[g],z=N.m,W=N.s,de=null,Ce=0;e:for(;;){if(x)for(;D&&ye(z,1);){var Le=j,Ee=B,Ge=N,Fe=1,me=Ge.m,ge=Ge.gc[Ge.ab],Ve=ye(me,2);if(Ge.Oc&1<<Ve)D=0;else{switch(Ge.Oc|=1<<Ve,ge.hc=Ve,ge.Ea=Le[0],ge.nc=Ee[0],ge.K=[null],++Ge.ab,t(4>=Ge.ab),Ve){case 0:case 1:ge.b=ye(me,3)+2,Fe=js(vt(ge.Ea,ge.b),vt(ge.nc,ge.b),0,Ge,ge.K),ge.K=ge.K[0];break;case 3:var $e,We=ye(me,8)+1,bt=16<We?0:4<We?1:2<We?2:3;if(Le[0]=vt(ge.Ea,bt),ge.b=bt,$e=Fe=js(We,1,0,Ge,ge.K)){var ht,kt=We,pt=ge,cn=1<<(8>>pt.b),dn=s(cn);if(dn==null)$e=0;else{var nn=pt.K[0],Vt=pt.w;for(dn[0]=pt.K[0][0],ht=1;ht<1*kt;++ht)dn[ht]=Ze(nn[Vt+ht],dn[ht-1]);for(;ht<4*cn;++ht)dn[ht]=0;pt.K[0]=null,pt.K[0]=dn,$e=1}}Fe=$e;break;case 2:break;default:t(0)}D=Fe}}if(j=j[0],B=B[0],D&&ye(z,1)&&!(D=1<=(Ce=ye(z,4))&&11>=Ce)){N.a=3;break e}var Sn;if(Sn=D)t:{var Ln,Bt,Wn,oi=N,or=j,br=B,bn=Ce,Wr=x,Yr=oi.m,Yn=oi.s,yr=[null],Mr=1,xi=0,ts=xh[bn];n:for(;;){if(Wr&&ye(Yr,1)){var Gn=ye(Yr,3)+2,fr=vt(or,Gn),Hi=vt(br,Gn),uo=fr*Hi;if(!js(fr,Hi,0,oi,yr))break n;for(yr=yr[0],Yn.xc=Gn,Ln=0;Ln<uo;++Ln){var wa=yr[Ln]>>8&65535;yr[Ln]=wa,wa>=Mr&&(Mr=wa+1)}}if(Yr.h)break n;for(Bt=0;5>Bt;++Bt){var yn=Qo[Bt];!Bt&&0<bn&&(yn+=1<<bn),xi<yn&&(xi=yn)}var Ks=u(Mr*ts,q),Bc=Mr,$d=u(Bc,ee);if($d==null)var ns=null;else t(65536>=Bc),ns=$d;var rs=s(xi);if(ns==null||rs==null||Ks==null){oi.a=1;break n}var tu=Ks;for(Ln=Wn=0;Ln<Mr;++Ln){var is=ns[Ln],Ea=is.G,nu=is.H,Wu=0,qi=1,Yu=0;for(Bt=0;5>Bt;++Bt){yn=Qo[Bt],Ea[Bt]=tu,nu[Bt]=Wn,!Bt&&0<bn&&(yn+=1<<bn);i:{var lo,_a=yn,Gu=oi,Qs=rs,Ch=tu,Vd=Wn,Fn=0,Ns=Gu.m,Wd=ye(Ns,1);if(i(Qs,0,0,_a),Wd){var Yd=ye(Ns,1)+1,Uc=ye(Ns,1),Hc=ye(Ns,Uc==0?1:8);Qs[Hc]=1,Yd==2&&(Qs[Hc=ye(Ns,8)]=1);var Xs=1}else{var Un=s(19),hr=ye(Ns,4)+4;if(19<hr){Gu.a=3;var ur=0;break i}for(lo=0;lo<hr;++lo)Un[Pp[lo]]=ye(Ns,3);var Ku=void 0,xa=void 0,Qu=Gu,jp=Un,vr=_a,qc=Qs,Gl=0,Js=Qu.m,Cs=8,zi=u(128,q);r:for(;U(zi,0,7,jp,19);){if(ye(Js,1)){var Kl=2+2*ye(Js,3);if((Ku=2+ye(Js,Kl))>vr)break r}else Ku=vr;for(xa=0;xa<vr&&Ku--;){ue(Js);var zc=zi[0+(127&V(Js))];se(Js,Js.u+zc.g);var co=zc.value;if(16>co)qc[xa++]=co,co!=0&&(Cs=co);else{var Lh=co==16,Gd=co-16,kh=Mc[Gd],Kd=ye(Js,$l[Gd])+kh;if(xa+Kd>vr)break r;for(var Ih=Lh?Cs:0;0<Kd--;)qc[xa++]=Ih}}Gl=1;break r}Gl||(Qu.a=3),Xs=Gl}(Xs=Xs&&!Ns.h)&&(Fn=U(Ch,Vd,8,Qs,_a)),Xs&&Fn!=0?ur=Fn:(Gu.a=3,ur=0)}if(ur==0)break n;if(qi&&_h[Bt]==1&&(qi=tu[Wn].g==0),Wu+=tu[Wn].g,Wn+=ur,3>=Bt){var Xu,$c=rs[0];for(Xu=1;Xu<yn;++Xu)rs[Xu]>$c&&($c=rs[Xu]);Yu+=$c}}if(is.nd=qi,is.Qb=0,qi&&(is.qb=(Ea[3][nu[3]+0].value<<24|Ea[1][nu[1]+0].value<<16|Ea[2][nu[2]+0].value)>>>0,Wu==0&&256>Ea[0][nu[0]+0].value&&(is.Qb=1,is.qb+=Ea[0][nu[0]+0].value<<8)),is.jc=!is.Qb&&6>Yu,is.jc){var Ql,$i=is;for(Ql=0;Ql<Zn;++Ql){var Ta=Ql,Ls=$i.pd[Ta],ru=$i.G[0][$i.H[0]+Ta];256<=ru.value?(Ls.g=ru.g+256,Ls.value=ru.value):(Ls.g=0,Ls.value=0,Ta>>=En(ru,8,Ls),Ta>>=En($i.G[1][$i.H[1]+Ta],16,Ls),Ta>>=En($i.G[2][$i.H[2]+Ta],0,Ls),En($i.G[3][$i.H[3]+Ta],24,Ls))}}}Yn.vc=yr,Yn.Wb=Mr,Yn.Ya=ns,Yn.yc=Ks,Sn=1;break t}Sn=0}if(!(D=Sn)){N.a=3;break e}if(0<Ce){if(W.ua=1<<Ce,!Et(W.Wa,Ce)){N.a=1,D=0;break e}}else W.ua=0;var Vc=N,Wc=j,Ph=B,Yc=Vc.s,Gc=Yc.xc;if(Vc.c=Wc,Vc.i=Ph,Yc.md=vt(Wc,Gc),Yc.wc=Gc==0?-1:(1<<Gc)-1,x){N.xb=Gs;break e}if((de=s(j*B))==null){N.a=1,D=0;break e}D=(D=Or(N,de,0,j,B,B,null))&&!z.h;break e}return D?(O!=null?O[0]=de:(t(de==null),t(x)),N.$=0,x||ws(W)):ws(W),D}function $a(f,g){var x=f.c*f.i,N=x+g+16*g;return t(f.c<=g),f.V=s(N),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+x+g,1)}function No(f,g){var x=f.C,N=g-x,O=f.V,D=f.Ba+f.c*x;for(t(g<=f.l.o);0<N;){var j=16<N?16:N,B=f.l.ma,z=f.l.width,W=z*j,de=B.ca,Ce=B.tb+z*x,Le=f.Ta,Ee=f.Ua;Mn(f,j,O,D),er(Le,Ee,de,Ce,W),ys(B,x,x+j,de,Ce,z),N-=j,O+=j*f.c,x+=j}t(x==g),f.C=f.Ma=g}function Co(){this.ub=this.yd=this.td=this.Rb=0}function Lo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pu(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Tc(){this.Yb=function(){var f=[];return function g(x,N,O){for(var D=O[N],j=0;j<D&&(x.push(O.length>N+1?[]:0),!(O.length<N+1));j++)g(x[j],N+1,O)}(f,0,[3,11]),f}()}function zn(){this.jb=s(3),this.Wc=l([4,8],Tc),this.Xc=l([4,17],Tc)}function Dd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Va(){this.ld=this.La=this.dd=this.tc=0}function Sl(){this.Na=this.la=0}function mu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Al(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Va),this.Y=0,this.ya=Array(new Al),this.aa=0,this.l=new gu}function ko(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ki(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new Co,this.Kc=new Lo,this.ed=new Dd,this.Qa=new pu,this.Ic=this.$c=this.Aa=0,this.D=new Sc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,ne),this.ia=0,this.pb=u(4,mu),this.Pa=new zn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ko),this.Hd=0,this.rb=Array(new Sl),this.sb=0,this.wa=Array(new Va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Al),this.L=this.aa=0,this.gd=l([4,2],Va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function gu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Mi(){var f=new Ki;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Xo||(Xo=Io)),f}function ar(f,g,x){return f.a==0&&(f.a=g,f.sc=x,f.cb=0),0}function Ac(f,g,x){return 3<=x&&f[g+0]==157&&f[g+1]==1&&f[g+2]==42}function Nc(f,g){if(f==null)return 0;if(f.a=0,f.sc="OK",g==null)return ar(f,2,"null VP8Io passed to VP8GetHeaders()");var x=g.data,N=g.w,O=g.ha;if(4>O)return ar(f,7,"Truncated header.");var D=x[N+0]|x[N+1]<<8|x[N+2]<<16,j=f.Od;if(j.Rb=!(1&D),j.td=D>>1&7,j.yd=D>>4&1,j.ub=D>>5,3<j.td)return ar(f,3,"Incorrect keyframe parameters.");if(!j.yd)return ar(f,4,"Frame not displayable.");N+=3,O-=3;var B=f.Kc;if(j.Rb){if(7>O)return ar(f,7,"cannot parse picture header");if(!Ac(x,N,O))return ar(f,3,"Bad code word");B.c=16383&(x[N+4]<<8|x[N+3]),B.Td=x[N+4]>>6,B.i=16383&(x[N+6]<<8|x[N+5]),B.Ud=x[N+6]>>6,N+=7,O-=7,f.za=B.c+15>>4,f.Ub=B.i+15>>4,g.width=B.c,g.height=B.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((D=f.Pa).jb,0,255,D.jb.length),t((D=f.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(j.ub>O)return ar(f,7,"bad partition length");Oe(D=f.m,x,N,j.ub),N+=j.ub,O-=j.ub,j.Rb&&(B.Ld=xe(D),B.Kd=xe(D)),B=f.Qa;var z,W=f.Pa;if(t(D!=null),t(B!=null),B.Cb=xe(D),B.Cb){if(B.Bb=xe(D),xe(D)){for(B.Fb=xe(D),z=0;4>z;++z)B.Zb[z]=xe(D)?Se(D,7):0;for(z=0;4>z;++z)B.Lb[z]=xe(D)?Se(D,6):0}if(B.Bb)for(z=0;3>z;++z)W.jb[z]=xe(D)?Ae(D,8):255}else B.Bb=0;if(D.Ka)return ar(f,3,"cannot parse segment header");if((B=f.ed).zd=xe(D),B.Tb=Ae(D,6),B.wb=Ae(D,3),B.Pc=xe(D),B.Pc&&xe(D)){for(W=0;4>W;++W)xe(D)&&(B.vd[W]=Se(D,6));for(W=0;4>W;++W)xe(D)&&(B.od[W]=Se(D,6))}if(f.L=B.Tb==0?0:B.zd?1:2,D.Ka)return ar(f,3,"cannot parse filter header");var de=O;if(O=z=N,N=z+de,B=de,f.Xb=(1<<Ae(f.m,2))-1,de<3*(W=f.Xb))x=7;else{for(z+=3*W,B-=3*W,de=0;de<W;++de){var Ce=x[O+0]|x[O+1]<<8|x[O+2]<<16;Ce>B&&(Ce=B),Oe(f.Jc[+de],x,z,Ce),z+=Ce,B-=Ce,O+=3}Oe(f.Jc[+W],x,z,B),x=z<N?0:5}if(x!=0)return ar(f,x,"cannot parse partitions");for(x=Ae(z=f.m,7),O=xe(z)?Se(z,4):0,N=xe(z)?Se(z,4):0,B=xe(z)?Se(z,4):0,W=xe(z)?Se(z,4):0,z=xe(z)?Se(z,4):0,de=f.Qa,Ce=0;4>Ce;++Ce){if(de.Cb){var Le=de.Zb[Ce];de.Fb||(Le+=x)}else{if(0<Ce){f.pb[Ce]=f.pb[0];continue}Le=x}var Ee=f.pb[Ce];Ee.Sc[0]=qu[ji(Le+O,127)],Ee.Sc[1]=Vl[ji(Le+0,127)],Ee.Eb[0]=2*qu[ji(Le+N,127)],Ee.Eb[1]=101581*Vl[ji(Le+B,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=qu[ji(Le+W,117)],Ee.Qc[1]=Vl[ji(Le+z,127)],Ee.lc=Le+z}if(!j.Rb)return ar(f,4,"Not a key frame.");for(xe(D),j=f.Pa,x=0;4>x;++x){for(O=0;8>O;++O)for(N=0;3>N;++N)for(B=0;11>B;++B)W=Te(D,Dp[x][O][N][B])?Ae(D,8):Sh[x][O][N][B],j.Wc[x][O].Yb[N][B]=W;for(O=0;17>O;++O)j.Xc[x][O]=j.Wc[x][Hd[O]]}return f.kc=xe(D),f.kc&&(f.Bd=Ae(D,8)),f.cb=1}function Io(f,g,x,N,O,D,j){var B=g[O].Yb[x];for(x=0;16>O;++O){if(!Te(f,B[x+0]))return O;for(;!Te(f,B[x+1]);)if(B=g[++O].Yb[0],x=0,O==16)return 16;var z=g[O+1].Yb;if(Te(f,B[x+2])){var W=f,de=0;if(Te(W,(Le=B)[(Ce=x)+3]))if(Te(W,Le[Ce+6])){for(B=0,Ce=2*(de=Te(W,Le[Ce+8]))+(Le=Te(W,Le[Ce+9+de])),de=0,Le=Bd[Ce];Le[B];++B)de+=de+Te(W,Le[B]);de+=3+(8<<Ce)}else Te(W,Le[Ce+7])?(de=7+2*Te(W,165),de+=Te(W,145)):de=5+Te(W,159);else de=Te(W,Le[Ce+4])?3+Te(W,Le[Ce+5]):2;B=z[2]}else de=1,B=z[1];z=j+Ud[O],0>(W=f).b&&_e(W);var Ce,Le=W.b,Ee=(Ce=W.Ca>>1)-(W.I>>Le)>>31;--W.b,W.Ca+=Ee,W.Ca|=1,W.I-=(Ce+1&Ee)<<Le,D[z]=((de^Ee)-Ee)*N[(0<O)+0]}return 16}function Wa(f){var g=f.rb[f.sb-1];g.la=0,g.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function Po(f,g){if(f==null)return 0;if(g==null)return ar(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!Nc(f,g))return 0;if(t(f.cb),g.ac==null||g.ac(g)){g.ob&&(f.L=0);var x=eu[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=g.v-x>>4,f.zb=g.j-x>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=g.o+15+x>>4,f.Hb=g.va+15+x>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var N=f.ed;for(x=0;4>x;++x){var O;if(f.Qa.Cb){var D=f.Qa.Lb[x];f.Qa.Fb||(D+=N.Tb)}else D=N.Tb;for(O=0;1>=O;++O){var j=f.gd[x][O],B=D;if(N.Pc&&(B+=N.vd[0],O&&(B+=N.od[0])),0<(B=0>B?0:63<B?63:B)){var z=B;0<N.wb&&(z=4<N.wb?z>>2:z>>1)>9-N.wb&&(z=9-N.wb),1>z&&(z=1),j.dd=z,j.tc=2*B+z,j.ld=40<=B?2:15<=B?1:0}else j.tc=0;j.La=O}}}x=0}else ar(f,6,"Frame setup failed"),x=f.a;if(x=x==0){if(x){f.$c=0,0<f.Aa||(f.Ic=va);e:{x=f.Ic,N=4*(z=f.za);var W=32*z,de=z+1,Ce=0<f.L?z*(0<f.Aa?2:1):0,Le=(f.Aa==2?2:1)*z;if((j=N+832+(O=3*(16*x+eu[f.L])/2*W)+(D=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=j)x=0;else{if(j>f.Vb){if(f.Vb=0,f.Ec=s(j),f.Fc=0,f.Ec==null){x=ar(f,1,"no memory during frame initialization.");break e}f.Vb=j}j=f.Ec,B=f.Fc,f.Ac=j,f.Bc=B,B+=N,f.Gd=u(W,ko),f.Hd=0,f.rb=u(de+1,Sl),f.sb=1,f.wa=Ce?u(Ce,Va):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=z),t(!0),f.oc=j,f.pc=B,B+=832,f.ya=u(Le,Al),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=z),f.R=16*z,f.B=8*z,z=(W=eu[f.L])*f.R,W=W/2*f.B,f.sa=j,f.ta=B+z,f.qa=f.sa,f.ra=f.ta+16*x*f.R+W,f.Ha=f.qa,f.Ia=f.ra+8*x*f.B+W,f.$c=0,B+=O,f.mb=D?j:null,f.nb=D?B:null,t(B+D<=f.Fc+f.Vb),Wa(f),i(f.Ac,f.Bc,0,N),x=1}}if(x){if(g.ka=0,g.y=f.sa,g.O=f.ta,g.f=f.qa,g.N=f.ra,g.ea=f.Ha,g.Vd=f.Ia,g.fa=f.R,g.Rc=f.B,g.F=null,g.J=0,!Bl){for(x=-255;255>=x;++x)dr[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)Ws[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)Bu[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)Go[255+x]=0>x?0:255<x?255:x;Bl=1}ju=hn,ha=Cl,pa=Ya,$r=Md,Bi=yu,pn=Nl,$o=Su,jl=gr,Vo=Bo,Wo=Ol,Yo=Xa,Ui=Ja,ma=Uo,Vs=Au,ga=xs,ba=Qi,io=Xi,Rr=Ic,es[0]=qs,es[1]=Cc,es[2]=Mo,es[3]=Hs,es[4]=kl,es[5]=wu,es[6]=Ka,es[7]=Eu,es[8]=kc,es[9]=_u,ai[0]=Do,ai[1]=Lc,ai[2]=Bs,ai[3]=Ro,ai[4]=$n,ai[5]=Us,ai[6]=Es,vi[0]=Fi,vi[1]=Ll,vi[2]=Fd,vi[3]=ua,vi[4]=Fo,vi[5]=xu,vi[6]=Il,x=1}else x=0}x&&(x=function(Ee,Ge){for(Ee.M=0;Ee.M<Ee.Va;++Ee.M){var Fe,me=Ee.Jc[Ee.M&Ee.Xb],ge=Ee.m,Ve=Ee;for(Fe=0;Fe<Ve.za;++Fe){var $e=ge,We=Ve,bt=We.Ac,ht=We.Bc+4*Fe,kt=We.zc,pt=We.ya[We.aa+Fe];if(We.Qa.Bb?pt.$b=Te($e,We.Pa.jb[0])?2+Te($e,We.Pa.jb[2]):Te($e,We.Pa.jb[1]):pt.$b=0,We.kc&&(pt.Ad=Te($e,We.Bd)),pt.Za=!Te($e,145)+0,pt.Za){var cn=pt.Ob,dn=0;for(We=0;4>We;++We){var nn,Vt=kt[0+We];for(nn=0;4>nn;++nn){Vt=Rp[bt[ht+nn]][Vt];for(var Sn=Th[Te($e,Vt[0])];0<Sn;)Sn=Th[2*Sn+Te($e,Vt[Sn])];Vt=-Sn,bt[ht+nn]=Vt}r(cn,dn,bt,ht,4),dn+=4,kt[0+We]=Vt}}else Vt=Te($e,156)?Te($e,128)?1:3:Te($e,163)?2:0,pt.Ob[0]=Vt,i(bt,ht,Vt,4),i(kt,0,Vt,4);pt.Dd=Te($e,142)?Te($e,114)?Te($e,183)?1:3:2:0}if(Ve.m.Ka)return ar(Ee,7,"Premature end-of-partition0 encountered.");for(;Ee.ja<Ee.za;++Ee.ja){if(Ve=me,$e=(ge=Ee).rb[ge.sb-1],bt=ge.rb[ge.sb+ge.ja],Fe=ge.ya[ge.aa+ge.ja],ht=ge.kc?Fe.Ad:0)$e.la=bt.la=0,Fe.Za||($e.Na=bt.Na=0),Fe.Hc=0,Fe.Gc=0,Fe.ia=0;else{var Ln,Bt;if($e=bt,bt=Ve,ht=ge.Pa.Xc,kt=ge.ya[ge.aa+ge.ja],pt=ge.pb[kt.$b],We=kt.ad,cn=0,dn=ge.rb[ge.sb-1],Vt=nn=0,i(We,cn,0,384),kt.Za)var Wn=0,oi=ht[3];else{Sn=s(16);var or=$e.Na+dn.Na;if(or=Xo(bt,ht[1],or,pt.Eb,0,Sn,0),$e.Na=dn.Na=(0<or)+0,1<or)ju(Sn,0,We,cn);else{var br=Sn[0]+3>>3;for(Sn=0;256>Sn;Sn+=16)We[cn+Sn]=br}Wn=1,oi=ht[0]}var bn=15&$e.la,Wr=15&dn.la;for(Sn=0;4>Sn;++Sn){var Yr=1&Wr;for(br=Bt=0;4>br;++br)bn=bn>>1|(Yr=(or=Xo(bt,oi,or=Yr+(1&bn),pt.Sc,Wn,We,cn))>Wn)<<7,Bt=Bt<<2|(3<or?3:1<or?2:We[cn+0]!=0),cn+=16;bn>>=4,Wr=Wr>>1|Yr<<7,nn=(nn<<8|Bt)>>>0}for(oi=bn,Wn=Wr>>4,Ln=0;4>Ln;Ln+=2){for(Bt=0,bn=$e.la>>4+Ln,Wr=dn.la>>4+Ln,Sn=0;2>Sn;++Sn){for(Yr=1&Wr,br=0;2>br;++br)or=Yr+(1&bn),bn=bn>>1|(Yr=0<(or=Xo(bt,ht[2],or,pt.Qc,0,We,cn)))<<3,Bt=Bt<<2|(3<or?3:1<or?2:We[cn+0]!=0),cn+=16;bn>>=2,Wr=Wr>>1|Yr<<5}Vt|=Bt<<4*Ln,oi|=bn<<4<<Ln,Wn|=(240&Wr)<<Ln}$e.la=oi,dn.la=Wn,kt.Hc=nn,kt.Gc=Vt,kt.ia=43690&Vt?0:pt.ia,ht=!(nn|Vt)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Fe.$b][Fe.Za],ge.wa[ge.Y+ge.ja].La|=!ht),Ve.Ka)return ar(Ee,7,"Premature end-of-file encountered.")}if(Wa(Ee),ge=Ge,Ve=1,Fe=(me=Ee).D,$e=0<me.L&&me.M>=me.zb&&me.M<=me.Va,me.Aa==0)e:{if(Fe.M=me.M,Fe.uc=$e,Lu(me,Fe),Ve=1,Fe=(Bt=me.D).Nb,$e=(Vt=eu[me.L])*me.R,bt=Vt/2*me.B,Sn=16*Fe*me.R,br=8*Fe*me.B,ht=me.sa,kt=me.ta-$e+Sn,pt=me.qa,We=me.ra-bt+br,cn=me.Ha,dn=me.Ia-bt+br,Wr=(bn=Bt.M)==0,nn=bn>=me.Va-1,me.Aa==2&&Lu(me,Bt),Bt.uc)for(Yr=(or=me).D.M,t(or.D.uc),Bt=or.yb;Bt<or.Hb;++Bt){Wn=Bt,oi=Yr;var Yn=(yr=(yn=or).D).Nb;Ln=yn.R;var yr=yr.wa[yr.Y+Wn],Mr=yn.sa,xi=yn.ta+16*Yn*Ln+16*Wn,ts=yr.dd,Gn=yr.tc;if(Gn!=0)if(t(3<=Gn),yn.L==1)0<Wn&&ba(Mr,xi,Ln,Gn+4),yr.La&&Rr(Mr,xi,Ln,Gn),0<oi&&ga(Mr,xi,Ln,Gn+4),yr.La&&io(Mr,xi,Ln,Gn);else{var fr=yn.B,Hi=yn.qa,uo=yn.ra+8*Yn*fr+8*Wn,wa=yn.Ha,yn=yn.Ia+8*Yn*fr+8*Wn;Yn=yr.ld,0<Wn&&(jl(Mr,xi,Ln,Gn+4,ts,Yn),Wo(Hi,uo,wa,yn,fr,Gn+4,ts,Yn)),yr.La&&(Ui(Mr,xi,Ln,Gn,ts,Yn),Vs(Hi,uo,wa,yn,fr,Gn,ts,Yn)),0<oi&&($o(Mr,xi,Ln,Gn+4,ts,Yn),Vo(Hi,uo,wa,yn,fr,Gn+4,ts,Yn)),yr.La&&(Yo(Mr,xi,Ln,Gn,ts,Yn),ma(Hi,uo,wa,yn,fr,Gn,ts,Yn))}}if(me.ia&&alert("todo:DitherRow"),ge.put!=null){if(Bt=16*bn,bn=16*(bn+1),Wr?(ge.y=me.sa,ge.O=me.ta+Sn,ge.f=me.qa,ge.N=me.ra+br,ge.ea=me.Ha,ge.W=me.Ia+br):(Bt-=Vt,ge.y=ht,ge.O=kt,ge.f=pt,ge.N=We,ge.ea=cn,ge.W=dn),nn||(bn-=Vt),bn>ge.o&&(bn=ge.o),ge.F=null,ge.J=null,me.Fa!=null&&0<me.Fa.length&&Bt<bn&&(ge.J=Dl(me,ge,Bt,bn-Bt),ge.F=me.mb,ge.F==null&&ge.F.length==0)){Ve=ar(me,3,"Could not decode alpha data.");break e}Bt<ge.j&&(Vt=ge.j-Bt,Bt=ge.j,t(!(1&Vt)),ge.O+=me.R*Vt,ge.N+=me.B*(Vt>>1),ge.W+=me.B*(Vt>>1),ge.F!=null&&(ge.J+=ge.width*Vt)),Bt<bn&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Bt-ge.j,ge.U=ge.va-ge.v,ge.T=bn-Bt,Ve=ge.put(ge))}Fe+1!=me.Ic||nn||(r(me.sa,me.ta-$e,ht,kt+16*me.R,$e),r(me.qa,me.ra-bt,pt,We+8*me.B,bt),r(me.Ha,me.Ia-bt,cn,dn+8*me.B,bt))}if(!Ve)return ar(Ee,6,"Output aborted.")}return 1}(f,g)),g.bc!=null&&g.bc(g),x&=1}return x?(f.cb=0,x):0}function mi(f,g,x,N,O){O=f[g+x+32*N]+(O>>3),f[g+x+32*N]=-256&O?0>O?0:255:O}function bu(f,g,x,N,O,D){mi(f,g,0,x,N+O),mi(f,g,1,x,N+D),mi(f,g,2,x,N-D),mi(f,g,3,x,N-O)}function gi(f){return(20091*f>>16)+f}function Oo(f,g,x,N){var O,D=0,j=s(16);for(O=0;4>O;++O){var B=f[g+0]+f[g+8],z=f[g+0]-f[g+8],W=(35468*f[g+4]>>16)-gi(f[g+12]),de=gi(f[g+4])+(35468*f[g+12]>>16);j[D+0]=B+de,j[D+1]=z+W,j[D+2]=z-W,j[D+3]=B-de,D+=4,g++}for(O=D=0;4>O;++O)B=(f=j[D+0]+4)+j[D+8],z=f-j[D+8],W=(35468*j[D+4]>>16)-gi(j[D+12]),mi(x,N,0,0,B+(de=gi(j[D+4])+(35468*j[D+12]>>16))),mi(x,N,1,0,z+W),mi(x,N,2,0,z-W),mi(x,N,3,0,B-de),D++,N+=32}function Nl(f,g,x,N){var O=f[g+0]+4,D=35468*f[g+4]>>16,j=gi(f[g+4]),B=35468*f[g+1]>>16;bu(x,N,0,O+j,f=gi(f[g+1]),B),bu(x,N,1,O+D,f,B),bu(x,N,2,O-D,f,B),bu(x,N,3,O-j,f,B)}function Cl(f,g,x,N,O){Oo(f,g,x,N),O&&Oo(f,g+16,x,N+4)}function Ya(f,g,x,N){ha(f,g+0,x,N,1),ha(f,g+32,x,N+128,1)}function Md(f,g,x,N){var O;for(f=f[g+0]+4,O=0;4>O;++O)for(g=0;4>g;++g)mi(x,N,g,O,f)}function yu(f,g,x,N){f[g+0]&&$r(f,g+0,x,N),f[g+16]&&$r(f,g+16,x,N+4),f[g+32]&&$r(f,g+32,x,N+128),f[g+48]&&$r(f,g+48,x,N+128+4)}function hn(f,g,x,N){var O,D=s(16);for(O=0;4>O;++O){var j=f[g+0+O]+f[g+12+O],B=f[g+4+O]+f[g+8+O],z=f[g+4+O]-f[g+8+O],W=f[g+0+O]-f[g+12+O];D[0+O]=j+B,D[8+O]=j-B,D[4+O]=W+z,D[12+O]=W-z}for(O=0;4>O;++O)j=(f=D[0+4*O]+3)+D[3+4*O],B=D[1+4*O]+D[2+4*O],z=D[1+4*O]-D[2+4*O],W=f-D[3+4*O],x[N+0]=j+B>>3,x[N+16]=W+z>>3,x[N+32]=j-B>>3,x[N+48]=W-z>>3,N+=64}function vu(f,g,x){var N,O=g-32,D=si,j=255-f[O-1];for(N=0;N<x;++N){var B,z=D,W=j+f[g-1];for(B=0;B<x;++B)f[g+B]=z[W+f[O+B]];g+=32}}function Cc(f,g){vu(f,g,4)}function Ll(f,g){vu(f,g,8)}function Lc(f,g){vu(f,g,16)}function Bs(f,g){var x;for(x=0;16>x;++x)r(f,g+32*x,f,g-32,16)}function Ro(f,g){var x;for(x=16;0<x;--x)i(f,g,f[g-1],16),g+=32}function Ga(f,g,x){var N;for(N=0;16>N;++N)i(g,x+32*N,f,16)}function Do(f,g){var x,N=16;for(x=0;16>x;++x)N+=f[g-1+32*x]+f[g+x-32];Ga(N>>5,f,g)}function $n(f,g){var x,N=8;for(x=0;16>x;++x)N+=f[g-1+32*x];Ga(N>>4,f,g)}function Us(f,g){var x,N=8;for(x=0;16>x;++x)N+=f[g+x-32];Ga(N>>4,f,g)}function Es(f,g){Ga(128,f,g)}function Dt(f,g,x){return f+2*g+x+2>>2}function Mo(f,g){var x,N=g-32;for(N=new Uint8Array([Dt(f[N-1],f[N+0],f[N+1]),Dt(f[N+0],f[N+1],f[N+2]),Dt(f[N+1],f[N+2],f[N+3]),Dt(f[N+2],f[N+3],f[N+4])]),x=0;4>x;++x)r(f,g+32*x,N,0,N.length)}function Hs(f,g){var x=f[g-1],N=f[g-1+32],O=f[g-1+64],D=f[g-1+96];Ue(f,g+0,16843009*Dt(f[g-1-32],x,N)),Ue(f,g+32,16843009*Dt(x,N,O)),Ue(f,g+64,16843009*Dt(N,O,D)),Ue(f,g+96,16843009*Dt(O,D,D))}function qs(f,g){var x,N=4;for(x=0;4>x;++x)N+=f[g+x-32]+f[g-1+32*x];for(N>>=3,x=0;4>x;++x)i(f,g+32*x,N,4)}function kl(f,g){var x=f[g-1+0],N=f[g-1+32],O=f[g-1+64],D=f[g-1-32],j=f[g+0-32],B=f[g+1-32],z=f[g+2-32],W=f[g+3-32];f[g+0+96]=Dt(N,O,f[g-1+96]),f[g+1+96]=f[g+0+64]=Dt(x,N,O),f[g+2+96]=f[g+1+64]=f[g+0+32]=Dt(D,x,N),f[g+3+96]=f[g+2+64]=f[g+1+32]=f[g+0+0]=Dt(j,D,x),f[g+3+64]=f[g+2+32]=f[g+1+0]=Dt(B,j,D),f[g+3+32]=f[g+2+0]=Dt(z,B,j),f[g+3+0]=Dt(W,z,B)}function Ka(f,g){var x=f[g+1-32],N=f[g+2-32],O=f[g+3-32],D=f[g+4-32],j=f[g+5-32],B=f[g+6-32],z=f[g+7-32];f[g+0+0]=Dt(f[g+0-32],x,N),f[g+1+0]=f[g+0+32]=Dt(x,N,O),f[g+2+0]=f[g+1+32]=f[g+0+64]=Dt(N,O,D),f[g+3+0]=f[g+2+32]=f[g+1+64]=f[g+0+96]=Dt(O,D,j),f[g+3+32]=f[g+2+64]=f[g+1+96]=Dt(D,j,B),f[g+3+64]=f[g+2+96]=Dt(j,B,z),f[g+3+96]=Dt(B,z,z)}function wu(f,g){var x=f[g-1+0],N=f[g-1+32],O=f[g-1+64],D=f[g-1-32],j=f[g+0-32],B=f[g+1-32],z=f[g+2-32],W=f[g+3-32];f[g+0+0]=f[g+1+64]=D+j+1>>1,f[g+1+0]=f[g+2+64]=j+B+1>>1,f[g+2+0]=f[g+3+64]=B+z+1>>1,f[g+3+0]=z+W+1>>1,f[g+0+96]=Dt(O,N,x),f[g+0+64]=Dt(N,x,D),f[g+0+32]=f[g+1+96]=Dt(x,D,j),f[g+1+32]=f[g+2+96]=Dt(D,j,B),f[g+2+32]=f[g+3+96]=Dt(j,B,z),f[g+3+32]=Dt(B,z,W)}function Eu(f,g){var x=f[g+0-32],N=f[g+1-32],O=f[g+2-32],D=f[g+3-32],j=f[g+4-32],B=f[g+5-32],z=f[g+6-32],W=f[g+7-32];f[g+0+0]=x+N+1>>1,f[g+1+0]=f[g+0+64]=N+O+1>>1,f[g+2+0]=f[g+1+64]=O+D+1>>1,f[g+3+0]=f[g+2+64]=D+j+1>>1,f[g+0+32]=Dt(x,N,O),f[g+1+32]=f[g+0+96]=Dt(N,O,D),f[g+2+32]=f[g+1+96]=Dt(O,D,j),f[g+3+32]=f[g+2+96]=Dt(D,j,B),f[g+3+64]=Dt(j,B,z),f[g+3+96]=Dt(B,z,W)}function _u(f,g){var x=f[g-1+0],N=f[g-1+32],O=f[g-1+64],D=f[g-1+96];f[g+0+0]=x+N+1>>1,f[g+2+0]=f[g+0+32]=N+O+1>>1,f[g+2+32]=f[g+0+64]=O+D+1>>1,f[g+1+0]=Dt(x,N,O),f[g+3+0]=f[g+1+32]=Dt(N,O,D),f[g+3+32]=f[g+1+64]=Dt(O,D,D),f[g+3+64]=f[g+2+64]=f[g+0+96]=f[g+1+96]=f[g+2+96]=f[g+3+96]=D}function kc(f,g){var x=f[g-1+0],N=f[g-1+32],O=f[g-1+64],D=f[g-1+96],j=f[g-1-32],B=f[g+0-32],z=f[g+1-32],W=f[g+2-32];f[g+0+0]=f[g+2+32]=x+j+1>>1,f[g+0+32]=f[g+2+64]=N+x+1>>1,f[g+0+64]=f[g+2+96]=O+N+1>>1,f[g+0+96]=D+O+1>>1,f[g+3+0]=Dt(B,z,W),f[g+2+0]=Dt(j,B,z),f[g+1+0]=f[g+3+32]=Dt(x,j,B),f[g+1+32]=f[g+3+64]=Dt(N,x,j),f[g+1+64]=f[g+3+96]=Dt(O,N,x),f[g+1+96]=Dt(D,O,N)}function Fd(f,g){var x;for(x=0;8>x;++x)r(f,g+32*x,f,g-32,8)}function ua(f,g){var x;for(x=0;8>x;++x)i(f,g,f[g-1],8),g+=32}function _s(f,g,x){var N;for(N=0;8>N;++N)i(g,x+32*N,f,8)}function Fi(f,g){var x,N=8;for(x=0;8>x;++x)N+=f[g+x-32]+f[g-1+32*x];_s(N>>4,f,g)}function xu(f,g){var x,N=4;for(x=0;8>x;++x)N+=f[g+x-32];_s(N>>3,f,g)}function Fo(f,g){var x,N=4;for(x=0;8>x;++x)N+=f[g-1+32*x];_s(N>>3,f,g)}function Il(f,g){_s(128,f,g)}function Qa(f,g,x){var N=f[g-x],O=f[g+0],D=3*(O-N)+Ys[1020+f[g-2*x]-f[g+x]],j=Uu[112+(D+4>>3)];f[g-x]=si[255+N+Uu[112+(D+3>>3)]],f[g+0]=si[255+O-j]}function jo(f,g,x,N){var O=f[g+0],D=f[g+x];return Zi[255+f[g-2*x]-f[g-x]]>N||Zi[255+D-O]>N}function Tu(f,g,x,N){return 4*Zi[255+f[g-x]-f[g+0]]+Zi[255+f[g-2*x]-f[g+x]]<=N}function Pl(f,g,x,N,O){var D=f[g-3*x],j=f[g-2*x],B=f[g-x],z=f[g+0],W=f[g+x],de=f[g+2*x],Ce=f[g+3*x];return 4*Zi[255+B-z]+Zi[255+j-W]>N?0:Zi[255+f[g-4*x]-D]<=O&&Zi[255+D-j]<=O&&Zi[255+j-B]<=O&&Zi[255+Ce-de]<=O&&Zi[255+de-W]<=O&&Zi[255+W-z]<=O}function xs(f,g,x,N){var O=2*N+1;for(N=0;16>N;++N)Tu(f,g+N,x,O)&&Qa(f,g+N,x)}function Qi(f,g,x,N){var O=2*N+1;for(N=0;16>N;++N)Tu(f,g+N*x,1,O)&&Qa(f,g+N*x,1)}function Xi(f,g,x,N){var O;for(O=3;0<O;--O)xs(f,g+=4*x,x,N)}function Ic(f,g,x,N){var O;for(O=3;0<O;--O)Qi(f,g+=4,x,N)}function Ts(f,g,x,N,O,D,j,B){for(D=2*D+1;0<O--;){if(Pl(f,g,x,D,j))if(jo(f,g,x,B))Qa(f,g,x);else{var z=f,W=g,de=x,Ce=z[W-2*de],Le=z[W-de],Ee=z[W+0],Ge=z[W+de],Fe=z[W+2*de],me=27*(Ve=Ys[1020+3*(Ee-Le)+Ys[1020+Ce-Ge]])+63>>7,ge=18*Ve+63>>7,Ve=9*Ve+63>>7;z[W-3*de]=si[255+z[W-3*de]+Ve],z[W-2*de]=si[255+Ce+ge],z[W-de]=si[255+Le+me],z[W+0]=si[255+Ee-me],z[W+de]=si[255+Ge-ge],z[W+2*de]=si[255+Fe-Ve]}g+=N}}function bi(f,g,x,N,O,D,j,B){for(D=2*D+1;0<O--;){if(Pl(f,g,x,D,j))if(jo(f,g,x,B))Qa(f,g,x);else{var z=f,W=g,de=x,Ce=z[W-de],Le=z[W+0],Ee=z[W+de],Ge=Uu[112+((Fe=3*(Le-Ce))+4>>3)],Fe=Uu[112+(Fe+3>>3)],me=Ge+1>>1;z[W-2*de]=si[255+z[W-2*de]+me],z[W-de]=si[255+Ce+Fe],z[W+0]=si[255+Le-Ge],z[W+de]=si[255+Ee-me]}g+=N}}function Su(f,g,x,N,O,D){Ts(f,g,x,1,16,N,O,D)}function gr(f,g,x,N,O,D){Ts(f,g,1,x,16,N,O,D)}function Xa(f,g,x,N,O,D){var j;for(j=3;0<j;--j)bi(f,g+=4*x,x,1,16,N,O,D)}function Ja(f,g,x,N,O,D){var j;for(j=3;0<j;--j)bi(f,g+=4,1,x,16,N,O,D)}function Bo(f,g,x,N,O,D,j,B){Ts(f,g,O,1,8,D,j,B),Ts(x,N,O,1,8,D,j,B)}function Ol(f,g,x,N,O,D,j,B){Ts(f,g,1,O,8,D,j,B),Ts(x,N,1,O,8,D,j,B)}function Uo(f,g,x,N,O,D,j,B){bi(f,g+4*O,O,1,8,D,j,B),bi(x,N+4*O,O,1,8,D,j,B)}function Au(f,g,x,N,O,D,j,B){bi(f,g+4,1,O,8,D,j,B),bi(x,N+4,1,O,8,D,j,B)}function zs(){this.ba=new Nr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Za(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pc(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new q}function jd(){this.xb=this.a=0,this.l=new gu,this.ca=new Nr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pc,this.ab=0,this.gc=u(4,Nu),this.Oc=0}function Cu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new gu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function la(f,g,x,N,O,D,j){for(f=f==null?0:f[g+0],g=0;g<j;++g)O[D+g]=f+x[N+g]&255,f=O[D+g]}function Rl(f,g,x,N,O,D,j){var B;if(f==null)la(null,null,x,N,O,D,j);else for(B=0;B<j;++B)O[D+B]=f[g+B]+x[N+B]&255}function eo(f,g,x,N,O,D,j){if(f==null)la(null,null,x,N,O,D,j);else{var B,z=f[g+0],W=z,de=z;for(B=0;B<j;++B)W=de+(z=f[g+B])-W,de=x[N+B]+(-256&W?0>W?0:255:W)&255,W=z,O[D+B]=de}}function Dl(f,g,x,N){var O=g.width,D=g.o;if(t(f!=null&&g!=null),0>x||0>=N||x+N>D)return null;if(!f.Cc){if(f.ga==null){var j;if(f.ga=new Cu,(j=f.ga==null)||(j=g.width*g.o,t(f.Gb.length==0),f.Gb=s(j),f.Uc=0,f.Gb==null?j=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,j=1),j=!j),!j){j=f.ga;var B=f.Fa,z=f.P,W=f.qc,de=f.mb,Ce=f.nb,Le=z+1,Ee=W-1,Ge=j.l;if(t(B!=null&&de!=null&&g!=null),Vr[0]=null,Vr[1]=la,Vr[2]=Rl,Vr[3]=eo,j.ca=de,j.tb=Ce,j.c=g.width,j.i=g.height,t(0<j.c&&0<j.i),1>=W)g=0;else if(j.$a=B[z+0]>>0&3,j.Z=B[z+0]>>2&3,j.Lc=B[z+0]>>4&3,z=B[z+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||z)g=0;else if(Ge.put=qn,Ge.ac=ln,Ge.bc=Cr,Ge.ma=j,Ge.width=g.width,Ge.height=g.height,Ge.Da=g.Da,Ge.v=g.v,Ge.va=g.va,Ge.j=g.j,Ge.o=g.o,j.$a)e:{t(j.$a==1),g=Di();t:for(;;){if(g==null){g=0;break e}if(t(j!=null),j.mc=g,g.c=j.c,g.i=j.i,g.l=j.l,g.l.ma=j,g.l.width=j.c,g.l.height=j.i,g.a=0,ae(g.m,B,Le,Ee),!js(j.c,j.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Ri(g.s)?(j.ic=1,B=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(B),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(j.ic=0,g=$a(g,j.c)),!g))break t;g=1;break e}j.mc=null,g=0}else g=Ee>=j.c*j.i;j=!g}if(j)return null;f.ga.Lc!=1?f.Ga=0:N=D-x}t(f.ga!=null),t(x+N<=D);e:{if(g=(B=f.ga).c,D=B.l.o,B.$a==0){if(Le=f.rc,Ee=f.Vc,Ge=f.Fa,z=f.P+1+x*g,W=f.mb,de=f.nb+x*g,t(z<=f.P+f.qc),B.Z!=0)for(t(Vr[B.Z]!=null),j=0;j<N;++j)Vr[B.Z](Le,Ee,Ge,z,W,de,g),Le=W,Ee=de,de+=g,z+=g;else for(j=0;j<N;++j)r(W,de,Ge,z,g),Le=W,Ee=de,de+=g,z+=g;f.rc=Le,f.Vc=Ee}else{if(t(B.mc!=null),g=x+N,t((j=B.mc)!=null),t(g<=j.i),j.C>=g)g=1;else if(B.ic||Ne(),B.ic){B=j.V,Le=j.Ba,Ee=j.c;var Fe=j.i,me=(Ge=1,z=j.$/Ee,W=j.$%Ee,de=j.m,Ce=j.s,j.$),ge=Ee*Fe,Ve=Ee*g,$e=Ce.wc,We=me<Ve?_n(Ce,W,z):null;t(me<=ge),t(g<=Fe),t(Ri(Ce));t:for(;;){for(;!de.h&&me<Ve;){if(W&$e||(We=_n(Ce,W,z)),t(We!=null),ue(de),256>(Fe=Bn(We.G[0],We.H[0],de)))B[Le+me]=Fe,++me,++W>=Ee&&(W=0,++z<=g&&!(z%16)&&vs(j,z));else{if(!(280>Fe)){Ge=0;break t}Fe=Xn(Fe-256,de);var bt,ht=Bn(We.G[4],We.H[4],de);if(ue(de),!(me>=(ht=Dn(Ee,ht=Xn(ht,de)))&&ge-me>=Fe)){Ge=0;break t}for(bt=0;bt<Fe;++bt)B[Le+me+bt]=B[Le+me+bt-ht];for(me+=Fe,W+=Fe;W>=Ee;)W-=Ee,++z<=g&&!(z%16)&&vs(j,z);me<Ve&&W&$e&&(We=_n(Ce,W,z))}t(de.h==Q(de))}vs(j,z>g?g:z);break t}!Ge||de.h&&me<ge?(Ge=0,j.a=de.h?5:3):j.$=me,g=Ge}else g=Or(j,j.V,j.Ba,j.c,j.i,g,No);if(!g){N=0;break e}}x+N>=D&&(f.Cc=1),N=1}if(!N)return null;if(f.Cc&&((N=f.ga)!=null&&(N.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+x*O}function v(f,g,x,N,O,D){for(;0<O--;){var j,B=f,z=g+(x?1:0),W=f,de=g+(x?0:3);for(j=0;j<N;++j){var Ce=W[de+4*j];Ce!=255&&(Ce*=32897,B[z+4*j+0]=B[z+4*j+0]*Ce>>23,B[z+4*j+1]=B[z+4*j+1]*Ce>>23,B[z+4*j+2]=B[z+4*j+2]*Ce>>23)}g+=D}}function R(f,g,x,N,O){for(;0<N--;){var D;for(D=0;D<x;++D){var j=f[g+2*D+0],B=15&(W=f[g+2*D+1]),z=4369*B,W=(240&W|W>>4)*z>>16;f[g+2*D+0]=(240&j|j>>4)*z>>16&240|(15&j|j<<4)*z>>16>>4&15,f[g+2*D+1]=240&W|B}g+=O}}function Z(f,g,x,N,O,D,j,B){var z,W,de=255;for(W=0;W<O;++W){for(z=0;z<N;++z){var Ce=f[g+z];D[j+4*z]=Ce,de&=Ce}g+=x,j+=B}return de!=255}function ce(f,g,x,N,O){var D;for(D=0;D<O;++D)x[N+D]=f[g+D]>>8}function Ne(){yi=v,kn=R,xn=Z,er=ce}function ze(f,g,x){X[f]=function(N,O,D,j,B,z,W,de,Ce,Le,Ee,Ge,Fe,me,ge,Ve,$e){var We,bt=$e-1>>1,ht=B[z+0]|W[de+0]<<16,kt=Ce[Le+0]|Ee[Ge+0]<<16;t(N!=null);var pt=3*ht+kt+131074>>2;for(g(N[O+0],255&pt,pt>>16,Fe,me),D!=null&&(pt=3*kt+ht+131074>>2,g(D[j+0],255&pt,pt>>16,ge,Ve)),We=1;We<=bt;++We){var cn=B[z+We]|W[de+We]<<16,dn=Ce[Le+We]|Ee[Ge+We]<<16,nn=ht+cn+kt+dn+524296,Vt=nn+2*(cn+kt)>>3;pt=Vt+ht>>1,ht=(nn=nn+2*(ht+dn)>>3)+cn>>1,g(N[O+2*We-1],255&pt,pt>>16,Fe,me+(2*We-1)*x),g(N[O+2*We-0],255&ht,ht>>16,Fe,me+(2*We-0)*x),D!=null&&(pt=nn+kt>>1,ht=Vt+dn>>1,g(D[j+2*We-1],255&pt,pt>>16,ge,Ve+(2*We-1)*x),g(D[j+2*We+0],255&ht,ht>>16,ge,Ve+(2*We+0)*x)),ht=cn,kt=dn}1&$e||(pt=3*ht+kt+131074>>2,g(N[O+$e-1],255&pt,pt>>16,Fe,me+($e-1)*x),D!=null&&(pt=3*kt+ht+131074>>2,g(D[j+$e-1],255&pt,pt>>16,ge,Ve+($e-1)*x)))}}function tt(){wi[Rc]=Mp,wi[so]=ao,wi[Eh]=Fp,wi[Ul]=$u,wi[Hl]=Jo,wi[In]=Wl,wi[Dc]=qd,wi[Hu]=ao,wi[Ko]=$u,wi[ql]=Jo,wi[zl]=Wl}function mt(f){return f&-16384?0>f?0:255:f>>oo}function Lt(f,g){return mt((19077*f>>8)+(26149*g>>8)-14234)}function zt(f,g,x){return mt((19077*f>>8)-(6419*g>>8)-(13320*x>>8)+8708)}function qt(f,g){return mt((19077*f>>8)+(33050*g>>8)-17685)}function tn(f,g,x,N,O){N[O+0]=Lt(f,x),N[O+1]=zt(f,g,x),N[O+2]=qt(f,g)}function Vn(f,g,x,N,O){N[O+0]=qt(f,g),N[O+1]=zt(f,g,x),N[O+2]=Lt(f,x)}function Jn(f,g,x,N,O){var D=zt(f,g,x);g=D<<3&224|qt(f,g)>>3,N[O+0]=248&Lt(f,x)|D>>5,N[O+1]=g}function cr(f,g,x,N,O){var D=240&qt(f,g)|15;N[O+0]=240&Lt(f,x)|zt(f,g,x)>>4,N[O+1]=D}function qr(f,g,x,N,O){N[O+0]=255,tn(f,g,x,N,O+1)}function Lr(f,g,x,N,O){Vn(f,g,x,N,O),N[O+3]=255}function Ss(f,g,x,N,O){tn(f,g,x,N,O),N[O+3]=255}function ji(f,g){return 0>f?0:f>g?g:f}function Ji(f,g,x){X[f]=function(N,O,D,j,B,z,W,de,Ce){for(var Le=de+(-2&Ce)*x;de!=Le;)g(N[O+0],D[j+0],B[z+0],W,de),g(N[O+1],D[j+0],B[z+0],W,de+x),O+=2,++j,++z,de+=2*x;1&Ce&&g(N[O+0],D[j+0],B[z+0],W,de)}}function to(f,g,x){return x==0?f==0?g==0?6:5:g==0?4:0:x}function Ml(f,g,x,N,O){switch(f>>>30){case 3:ha(g,x,N,O,0);break;case 2:pn(g,x,N,O);break;case 1:$r(g,x,N,O)}}function Lu(f,g){var x,N,O=g.M,D=g.Nb,j=f.oc,B=f.pc+40,z=f.oc,W=f.pc+584,de=f.oc,Ce=f.pc+600;for(x=0;16>x;++x)j[B+32*x-1]=129;for(x=0;8>x;++x)z[W+32*x-1]=129,de[Ce+32*x-1]=129;for(0<O?j[B-1-32]=z[W-1-32]=de[Ce-1-32]=129:(i(j,B-32-1,127,21),i(z,W-32-1,127,9),i(de,Ce-32-1,127,9)),N=0;N<f.za;++N){var Le=g.ya[g.aa+N];if(0<N){for(x=-1;16>x;++x)r(j,B+32*x-4,j,B+32*x+12,4);for(x=-1;8>x;++x)r(z,W+32*x-4,z,W+32*x+4,4),r(de,Ce+32*x-4,de,Ce+32*x+4,4)}var Ee=f.Gd,Ge=f.Hd+N,Fe=Le.ad,me=Le.Hc;if(0<O&&(r(j,B-32,Ee[Ge].y,0,16),r(z,W-32,Ee[Ge].f,0,8),r(de,Ce-32,Ee[Ge].ea,0,8)),Le.Za){var ge=j,Ve=B-32+16;for(0<O&&(N>=f.za-1?i(ge,Ve,Ee[Ge].y[15],4):r(ge,Ve,Ee[Ge+1].y,0,4)),x=0;4>x;x++)ge[Ve+128+x]=ge[Ve+256+x]=ge[Ve+384+x]=ge[Ve+0+x];for(x=0;16>x;++x,me<<=2)ge=j,Ve=B+zd[x],es[Le.Ob[x]](ge,Ve),Ml(me,Fe,16*+x,ge,Ve)}else if(ge=to(N,O,Le.Ob[0]),ai[ge](j,B),me!=0)for(x=0;16>x;++x,me<<=2)Ml(me,Fe,16*+x,j,B+zd[x]);for(x=Le.Gc,ge=to(N,O,Le.Dd),vi[ge](z,W),vi[ge](de,Ce),me=Fe,ge=z,Ve=W,255&(Le=x>>0)&&(170&Le?pa(me,256,ge,Ve):Bi(me,256,ge,Ve)),Le=de,me=Ce,255&(x>>=8)&&(170&x?pa(Fe,320,Le,me):Bi(Fe,320,Le,me)),O<f.Ub-1&&(r(Ee[Ge].y,0,j,B+480,16),r(Ee[Ge].f,0,z,W+224,8),r(Ee[Ge].ea,0,de,Ce+224,8)),x=8*D*f.B,Ee=f.sa,Ge=f.ta+16*N+16*D*f.R,Fe=f.qa,Le=f.ra+8*N+x,me=f.Ha,ge=f.Ia+8*N+x,x=0;16>x;++x)r(Ee,Ge+x*f.R,j,B+32*x,16);for(x=0;8>x;++x)r(Fe,Le+x*f.B,z,W+32*x,8),r(me,ge+x*f.B,de,Ce+32*x,8)}}function Ho(f,g,x,N,O,D,j,B,z){var W=[0],de=[0],Ce=0,Le=z!=null?z.kd:0,Ee=z??new Za;if(f==null||12>x)return 7;Ee.data=f,Ee.w=g,Ee.ha=x,g=[g],x=[x],Ee.gb=[Ee.gb];e:{var Ge=g,Fe=x,me=Ee.gb;if(t(f!=null),t(Fe!=null),t(me!=null),me[0]=0,12<=Fe[0]&&!n(f,Ge[0],"RIFF")){if(n(f,Ge[0]+8,"WEBP")){me=3;break e}var ge=lt(f,Ge[0]+4);if(12>ge||4294967286<ge){me=3;break e}if(Le&&ge>Fe[0]-8){me=7;break e}me[0]=ge,Ge[0]+=12,Fe[0]-=12}me=0}if(me!=0)return me;for(ge=0<Ee.gb[0],x=x[0];;){e:{var Ve=f;Fe=g,me=x;var $e=W,We=de,bt=Ge=[0];if((pt=Ce=[Ce])[0]=0,8>me[0])me=7;else{if(!n(Ve,Fe[0],"VP8X")){if(lt(Ve,Fe[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var ht=lt(Ve,Fe[0]+8),kt=1+ut(Ve,Fe[0]+12);if(2147483648<=kt*(Ve=1+ut(Ve,Fe[0]+15))){me=3;break e}bt!=null&&(bt[0]=ht),$e!=null&&($e[0]=kt),We!=null&&(We[0]=Ve),Fe[0]+=18,me[0]-=18,pt[0]=1}me=0}}if(Ce=Ce[0],Ge=Ge[0],me!=0)return me;if(Fe=!!(2&Ge),!ge&&Ce)return 3;if(D!=null&&(D[0]=!!(16&Ge)),j!=null&&(j[0]=Fe),B!=null&&(B[0]=0),j=W[0],Ge=de[0],Ce&&Fe&&z==null){me=0;break}if(4>x){me=7;break}if(ge&&Ce||!ge&&!Ce&&!n(f,g[0],"ALPH")){x=[x],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{ht=f,me=g,ge=x;var pt=Ee.gb;$e=Ee.na,We=Ee.P,bt=Ee.Sa,kt=22,t(ht!=null),t(ge!=null),Ve=me[0];var cn=ge[0];for(t($e!=null),t(bt!=null),$e[0]=null,We[0]=null,bt[0]=0;;){if(me[0]=Ve,ge[0]=cn,8>cn){me=7;break e}var dn=lt(ht,Ve+4);if(4294967286<dn){me=3;break e}var nn=8+dn+1&-2;if(kt+=nn,0<pt&&kt>pt){me=3;break e}if(!n(ht,Ve,"VP8 ")||!n(ht,Ve,"VP8L")){me=0;break e}if(cn[0]<nn){me=7;break e}n(ht,Ve,"ALPH")||($e[0]=ht,We[0]=Ve+8,bt[0]=dn),Ve+=nn,cn-=nn}}if(x=x[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],me!=0)break}x=[x],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(pt=f,me=g,ge=x,$e=Ee.gb[0],We=Ee.Ja,bt=Ee.xa,ht=me[0],Ve=!n(pt,ht,"VP8 "),kt=!n(pt,ht,"VP8L"),t(pt!=null),t(ge!=null),t(We!=null),t(bt!=null),8>ge[0])me=7;else{if(Ve||kt){if(pt=lt(pt,ht+4),12<=$e&&pt>$e-12){me=3;break e}if(Le&&pt>ge[0]-8){me=7;break e}We[0]=pt,me[0]+=8,ge[0]-=8,bt[0]=kt}else bt[0]=5<=ge[0]&&pt[ht+0]==47&&!(pt[ht+4]>>5),We[0]=ge[0];me=0}if(x=x[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],g=g[0],me!=0)break;if(4294967286<Ee.Ja)return 3;if(B==null||Fe||(B[0]=Ee.xa?2:1),j=[j],Ge=[Ge],Ee.xa){if(5>x){me=7;break}B=j,Le=Ge,Fe=D,f==null||5>x?f=0:5<=x&&f[g+0]==47&&!(f[g+4]>>5)?(ge=[0],pt=[0],$e=[0],ae(We=new I,f,g,x),gt(We,ge,pt,$e)?(B!=null&&(B[0]=ge[0]),Le!=null&&(Le[0]=pt[0]),Fe!=null&&(Fe[0]=$e[0]),f=1):f=0):f=0}else{if(10>x){me=7;break}B=Ge,f==null||10>x||!Ac(f,g+3,x-3)?f=0:(Le=f[g+0]|f[g+1]<<8|f[g+2]<<16,Fe=16383&(f[g+7]<<8|f[g+6]),f=16383&(f[g+9]<<8|f[g+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=Ee.Ja||!Fe||!f?f=0:(j&&(j[0]=Fe),B&&(B[0]=f),f=1))}if(!f||(j=j[0],Ge=Ge[0],Ce&&(W[0]!=j||de[0]!=Ge)))return 3;z!=null&&(z[0]=Ee,z.offset=g-z.w,t(4294967286>g-z.w),t(z.offset==z.ha-x));break}return me==0||me==7&&Ce&&z==null?(D!=null&&(D[0]|=Ee.na!=null&&0<Ee.na.length),N!=null&&(N[0]=j),O!=null&&(O[0]=Ge),0):me}function ku(f,g,x){var N=g.width,O=g.height,D=0,j=0,B=N,z=O;if(g.Da=f!=null&&0<f.Da,g.Da&&(B=f.cd,z=f.bd,D=f.v,j=f.j,11>x||(D&=-2,j&=-2),0>D||0>j||0>=B||0>=z||D+B>N||j+z>O))return 0;if(g.v=D,g.j=j,g.va=D+B,g.o=j+z,g.U=B,g.T=z,g.da=f!=null&&0<f.da,g.da){if(!It(B,z,x=[f.ib],D=[f.hb]))return 0;g.ib=x[0],g.hb=D[0]}return g.ob=f!=null&&f.ob,g.Kb=f==null||!f.Sd,g.da&&(g.ob=g.ib<3*N/4&&g.hb<3*O/4,g.Kb=0),1}function Iu(f){if(f==null)return 2;if(11>f.S){var g=f.f.RGBA;g.fb+=(f.height-1)*g.A,g.A=-g.A}else g=f.f.kb,f=f.height,g.O+=(f-1)*g.fa,g.fa=-g.fa,g.N+=(f-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(f-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(f-1)*g.lb,g.lb=-g.lb);return 0}function qo(f,g,x,N){if(N==null||0>=f||0>=g)return 2;if(x!=null){if(x.Da){var O=x.cd,D=x.bd,j=-2&x.v,B=-2&x.j;if(0>j||0>B||0>=O||0>=D||j+O>f||B+D>g)return 2;f=O,g=D}if(x.da){if(!It(f,g,O=[x.ib],D=[x.hb]))return 2;f=O[0],g=D[0]}}N.width=f,N.height=g;e:{var z=N.width,W=N.height;if(f=N.S,0>=z||0>=W||!(f>=Rc&&13>f))f=2;else{if(0>=N.Rd&&N.sd==null){j=D=O=g=0;var de=(B=z*Yl[f])*W;if(11>f||(D=(W+1)/2*(g=(z+1)/2),f==12&&(j=(O=z)*W)),(W=s(de+2*D+j))==null){f=1;break e}N.sd=W,11>f?((z=N.f.RGBA).eb=W,z.fb=0,z.A=B,z.size=de):((z=N.f.kb).y=W,z.O=0,z.fa=B,z.Fd=de,z.f=W,z.N=0+de,z.Ab=g,z.Cd=D,z.ea=W,z.W=0+de+D,z.Db=g,z.Ed=D,f==12&&(z.F=W,z.J=0+de+2*D),z.Tc=j,z.lb=O)}if(g=1,O=N.S,D=N.width,j=N.height,O>=Rc&&13>O)if(11>O)f=N.f.RGBA,g&=(B=Math.abs(f.A))*(j-1)+D<=f.size,g&=B>=D*Yl[O],g&=f.eb!=null;else{f=N.f.kb,B=(D+1)/2,de=(j+1)/2,z=Math.abs(f.fa),W=Math.abs(f.Ab);var Ce=Math.abs(f.Db),Le=Math.abs(f.lb),Ee=Le*(j-1)+D;g&=z*(j-1)+D<=f.Fd,g&=W*(de-1)+B<=f.Cd,g=(g&=Ce*(de-1)+B<=f.Ed)&z>=D&W>=B&Ce>=B,g&=f.y!=null,g&=f.f!=null,g&=f.ea!=null,O==12&&(g&=Le>=D,g&=Ee<=f.Tc,g&=f.F!=null)}else g=0;f=g?0:2}}return f!=0||x!=null&&x.fd&&(f=Iu(N)),f}var Zn=64,Pu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ou=24,Ru=32,Du=8,ni=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),X.Predictor0=function(){return 4278190080},X.Predictor1=function(f){return f},X.Predictor2=function(f,g,x){return g[x+0]},X.Predictor3=function(f,g,x){return g[x+1]},X.Predictor4=function(f,g,x){return g[x-1]},X.Predictor5=function(f,g,x){return K(K(f,g[x+1]),g[x+0])},X.Predictor6=function(f,g,x){return K(f,g[x-1])},X.Predictor7=function(f,g,x){return K(f,g[x+0])},X.Predictor8=function(f,g,x){return K(g[x-1],g[x+0])},X.Predictor9=function(f,g,x){return K(g[x+0],g[x+1])},X.Predictor10=function(f,g,x){return K(K(f,g[x-1]),K(g[x+0],g[x+1]))},X.Predictor11=function(f,g,x){var N=g[x+0];return 0>=Ke(N>>24&255,f>>24&255,(g=g[x-1])>>24&255)+Ke(N>>16&255,f>>16&255,g>>16&255)+Ke(N>>8&255,f>>8&255,g>>8&255)+Ke(255&N,255&f,255&g)?N:f},X.Predictor12=function(f,g,x){var N=g[x+0];return(pe((f>>24&255)+(N>>24&255)-((g=g[x-1])>>24&255))<<24|pe((f>>16&255)+(N>>16&255)-(g>>16&255))<<16|pe((f>>8&255)+(N>>8&255)-(g>>8&255))<<8|pe((255&f)+(255&N)-(255&g)))>>>0},X.Predictor13=function(f,g,x){var N=g[x-1];return(ke((f=K(f,g[x+0]))>>24&255,N>>24&255)<<24|ke(f>>16&255,N>>16&255)<<16|ke(f>>8&255,N>>8&255)<<8|ke(f>>0&255,N>>0&255))>>>0};var zo=X.PredictorAdd0;X.PredictorAdd1=Ye,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var ca=X.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Oc,ri=X.ColorIndexInverseTransform,Mu=X.MapARGB,Fl=X.VP8LColorIndexInverseTransformAlpha,Fu=X.MapAlpha,$s=X.VP8LPredictorsAdd=[];$s.length=16,(X.VP8LPredictors=[]).length=16,(X.VP8LPredictorsAdd_C=[]).length=16,(X.VP8LPredictors_C=[]).length=16;var no,ii,zr,ro,da,fa,ju,ha,pn,pa,$r,Bi,$o,jl,Vo,Wo,Yo,Ui,ma,Vs,ga,ba,io,Rr,yi,kn,xn,er,dr=s(511),Ws=s(2041),Bu=s(225),Go=s(767),Bl=0,Ys=Ws,Uu=Bu,si=Go,Zi=dr,Rc=0,so=1,Eh=2,Ul=3,Hl=4,In=5,Dc=6,Hu=7,Ko=8,ql=9,zl=10,$l=[2,3,7],Mc=[3,3,11],Qo=[280,256,256,256,40],_h=[0,1,1,1,0],Pp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Op=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Fc=8,qu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Vl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xo=null,Bd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ud=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Th=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Rp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Dp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Hd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ai=[],es=[],vi=[],Gs=1,zu=2,Vr=[],wi=[];ze("UpsampleRgbLinePair",tn,3),ze("UpsampleBgrLinePair",Vn,3),ze("UpsampleRgbaLinePair",Ss,4),ze("UpsampleBgraLinePair",Lr,4),ze("UpsampleArgbLinePair",qr,4),ze("UpsampleRgba4444LinePair",cr,2),ze("UpsampleRgb565LinePair",Jn,2);var Mp=X.UpsampleRgbLinePair,Fp=X.UpsampleBgrLinePair,ao=X.UpsampleRgbaLinePair,$u=X.UpsampleBgraLinePair,Jo=X.UpsampleArgbLinePair,Wl=X.UpsampleRgba4444LinePair,qd=X.UpsampleRgb565LinePair,ya=16,As=1<<ya-1,Tn=-227,Cn=482,oo=6,Dr=0,Ei=s(256),Zo=s(256),Vu=s(256),_i=s(256),jc=s(Cn-Tn),Ah=s(Cn-Tn);Ji("YuvToRgbRow",tn,3),Ji("YuvToBgrRow",Vn,3),Ji("YuvToRgbaRow",Ss,4),Ji("YuvToBgraRow",Lr,4),Ji("YuvToArgbRow",qr,4),Ji("YuvToRgba4444Row",cr,2),Ji("YuvToRgb565Row",Jn,2);var zd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],eu=[0,2,8],Nh=[8,7,6,4,4,2,2,2,1,1,1,1],va=1;this.WebPDecodeRGBA=function(f,g,x,N,O){var D=so,j=new zs,B=new Nr;j.ba=B,B.S=D,B.width=[B.width],B.height=[B.height];var z=B.width,W=B.height,de=new fn;if(de==null||f==null)var Ce=2;else t(de!=null),Ce=Ho(f,g,x,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Ce!=0?z=0:(z!=null&&(z[0]=de.width[0]),W!=null&&(W[0]=de.height[0]),z=1),z){B.width=B.width[0],B.height=B.height[0],N!=null&&(N[0]=B.width),O!=null&&(O[0]=B.height);e:{if(N=new gu,(O=new Za).data=f,O.w=g,O.ha=x,O.kd=1,g=[0],t(O!=null),((f=Ho(O.data,O.w,O.ha,null,null,null,g,null,O))==0||f==7)&&g[0]&&(f=4),(g=f)==0){if(t(j!=null),N.data=O.data,N.w=O.w+O.offset,N.ha=O.ha-O.offset,N.put=qn,N.ac=ln,N.bc=Cr,N.ma=j,O.xa){if((f=Di())==null){j=1;break e}if(function(Le,Ee){var Ge=[0],Fe=[0],me=[0];t:for(;;){if(Le==null)return 0;if(Ee==null)return Le.a=2,0;if(Le.l=Ee,Le.a=0,ae(Le.m,Ee.data,Ee.w,Ee.ha),!gt(Le.m,Ge,Fe,me)){Le.a=3;break t}if(Le.xb=zu,Ee.width=Ge[0],Ee.height=Fe[0],!js(Ge[0],Fe[0],1,Le,null))break t;return 1}return t(Le.a!=0),0}(f,N)){if(N=(g=qo(N.width,N.height,j.Oa,j.ba))==0){t:{N=f;n:for(;;){if(N==null){N=0;break t}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((x=N.l)!=null),t((O=x.ma)!=null),N.xb!=0){if(N.ca=O.ba,N.tb=O.tb,t(N.ca!=null),!ku(O.Oa,x,Ul)){N.a=2;break n}if(!$a(N,x.width)||x.da)break n;if((x.da||Xt(N.ca.S))&&Ne(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&Ne()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!Et(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Or(N,N.V,N.Ba,N.c,N.i,x.o,pi))break n;O.Dc=N.Ma,N=1;break t}t(N.a!=0),N=0}N=!N}N&&(g=f.a)}else g=f.a}else{if((f=new Mi)==null){j=1;break e}if(f.Fa=O.na,f.P=O.P,f.qc=O.Sa,Nc(f,N)){if((g=qo(N.width,N.height,j.Oa,j.ba))==0){if(f.Aa=0,x=j.Oa,t((O=f)!=null),x!=null){if(0<(z=0>(z=x.Md)?0:100<z?255:255*z/100)){for(W=de=0;4>W;++W)12>(Ce=O.pb[W]).lc&&(Ce.ia=z*Nh[0>Ce.lc?0:Ce.lc]>>3),de|=Ce.ia;de&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=x.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}Po(f,N)||(g=f.a)}}else g=f.a}g==0&&j.Oa!=null&&j.Oa.fd&&(g=Iu(j.ba))}j=g}D=j!=0?null:11>D?B.f.RGBA.eb:B.f.kb.y}else D=null;return D};var Yl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(X,be){for(var Ie="",U=0;U<4;U++)Ie+=String.fromCharCode(X[be++]);return Ie}function p(X,be){return(X[be+0]<<0|X[be+1]<<8|X[be+2]<<16)>>>0}function b(X,be){return(X[be+0]<<0|X[be+1]<<8|X[be+2]<<16|X[be+3]<<24)>>>0}new c;var E=[0],y=[0],S=[],A=new c,k=e,C=function(X,be){var Ie={},U=0,q=!1,te=0,ee=0;if(Ie.frames=[],!function(V,Q,se,ue){for(var _e=0;_e<ue;_e++)if(V[Q+_e]!=se.charCodeAt(_e))return!0;return!1}(X,be,"RIFF",4)){var Oe,Ae;for(b(X,be+=4),be+=8;be<X.length;){var Se=h(X,be),ae=b(X,be+=4);be+=4;var ve=ae+(1&ae);switch(Se){case"VP8 ":case"VP8L":Ie.frames[U]===void 0&&(Ie.frames[U]={}),(I=Ie.frames[U]).src_off=q?ee:be-8,I.src_size=te+ae+8,U++,q&&(q=!1,te=0,ee=0);break;case"VP8X":(I=Ie.header={}).feature_flags=X[be];var ye=be+4;I.canvas_width=1+p(X,ye),ye+=3,I.canvas_height=1+p(X,ye),ye+=3;break;case"ALPH":q=!0,te=ve+8,ee=be-8;break;case"ANIM":(I=Ie.header).bgcolor=b(X,be),ye=be+4,I.loop_count=(Oe=X)[(Ae=ye)+0]<<0|Oe[Ae+1]<<8,ye+=2;break;case"ANMF":var ne,I;(I=Ie.frames[U]={}).offset_x=2*p(X,be),be+=3,I.offset_y=2*p(X,be),be+=3,I.width=1+p(X,be),be+=3,I.height=1+p(X,be),be+=3,I.duration=p(X,be),be+=3,ne=X[be++],I.dispose=1&ne,I.blend=ne>>1&1}Se!="ANMF"&&(be+=ve)}return Ie}}(k,0);C.response=k,C.rgbaoutput=!0,C.dataurl=!1;var P=C.header?C.header:null,$=C.frames?C.frames:null;if(P){P.loop_counter=P.loop_count,E=[P.canvas_height],y=[P.canvas_width];for(var H=0;H<$.length&&$[H].blend!=0;H++);}var Y=$[0],he=A.WebPDecodeRGBA(k,Y.src_off,Y.src_size,y,E);Y.rgba=he,Y.imgwidth=y[0],Y.imgheight=E[0];for(var le=0;le<y[0]*E[0]*4;le++)S[le]=he[le];return this.width=y,this.height=E,this.data=S,this}(function(e){var t=function(){return typeof Vm=="function"},n=function(E,y,S,A){var k=4,C=u;switch(A){case e.image_compression.FAST:k=1,C=s;break;case e.image_compression.MEDIUM:k=6,C=l;break;case e.image_compression.SLOW:k=9,C=c}E=r(E,y,S,C);var P=Vm(E,{level:k});return e.__addimage__.arrayBufferToBinaryString(P)},r=function(E,y,S,A){for(var k,C,P,$=E.length/y,H=new Uint8Array(E.length+$),Y=p(),he=0;he<$;he+=1){if(P=he*y,k=E.subarray(P,P+y),A)H.set(A(k,S,C),P+he);else{for(var le,X=Y.length,be=[];le<X;le+=1)be[le]=Y[le](k,S,C);var Ie=b(be.concat());H.set(be[Ie],P+he)}C=k}return H},i=function(E){var y=Array.apply([],E);return y.unshift(0),y},s=function(E,y){var S,A=[],k=E.length;A[0]=1;for(var C=0;C<k;C+=1)S=E[C-y]||0,A[C+1]=E[C]-S+256&255;return A},u=function(E,y,S){var A,k=[],C=E.length;k[0]=2;for(var P=0;P<C;P+=1)A=S&&S[P]||0,k[P+1]=E[P]-A+256&255;return k},l=function(E,y,S){var A,k,C=[],P=E.length;C[0]=3;for(var $=0;$<P;$+=1)A=E[$-y]||0,k=S&&S[$]||0,C[$+1]=E[$]+256-(A+k>>>1)&255;return C},c=function(E,y,S){var A,k,C,P,$=[],H=E.length;$[0]=4;for(var Y=0;Y<H;Y+=1)A=E[Y-y]||0,k=S&&S[Y]||0,C=S&&S[Y-y]||0,P=h(A,k,C),$[Y+1]=E[Y]-P+256&255;return $},h=function(E,y,S){if(E===y&&y===S)return E;var A=Math.abs(y-S),k=Math.abs(E-S),C=Math.abs(E+y-S-S);return A<=k&&A<=C?E:k<=C?y:S},p=function(){return[i,s,u,l,c]},b=function(E){var y=E.map(function(S){return S.reduce(function(A,k){return A+Math.abs(k)},0)});return y.indexOf(Math.min.apply(null,y))};e.processPNG=function(E,y,S,A){var k,C,P,$,H,Y,he,le,X,be,Ie,U,q,te,ee,Oe=this.decode.FLATE_DECODE,Ae="";if(this.__addimage__.isArrayBuffer(E)&&(E=new Uint8Array(E)),this.__addimage__.isArrayBufferView(E)){if(E=(P=new YO(E)).imgData,C=P.bits,k=P.colorSpace,H=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){X=(le=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,Ie=new Uint8Array(X*P.colors),be=new Uint8Array(X);var Se,ae=P.pixelBitlength-P.bits;for(te=0,ee=0;te<X;te++){for(q=le[te],Se=0;Se<ae;)Ie[ee++]=q>>>Se&255,Se+=P.bits;be[te]=q>>>Se&255}}if(P.bits===16){X=(le=new Uint32Array(P.decodePixels().buffer)).length,Ie=new Uint8Array(X*(32/P.pixelBitlength)*P.colors),be=new Uint8Array(X*(32/P.pixelBitlength)),U=P.colors>1,te=0,ee=0;for(var ve=0;te<X;)q=le[te++],Ie[ee++]=q>>>0&255,U&&(Ie[ee++]=q>>>16&255,q=le[te++],Ie[ee++]=q>>>0&255),be[ve++]=q>>>16&255;C=8}A!==e.image_compression.NONE&&t()?(E=n(Ie,P.width*P.colors,P.colors,A),he=n(be,P.width,1,A)):(E=Ie,he=be,Oe=void 0)}if(P.colorType===3&&(k=this.color_spaces.INDEXED,Y=P.palette,P.transparency.indexed)){var ye=P.transparency.indexed,ne=0;for(te=0,X=ye.length;te<X;++te)ne+=ye[te];if((ne/=255)===X-1&&ye.indexOf(0)!==-1)$=[ye.indexOf(0)];else if(ne!==X){for(le=P.decodePixels(),be=new Uint8Array(le.length),te=0,X=le.length;te<X;te++)be[te]=ye[le[te]];he=n(be,P.width,1)}}var I=function(V){var Q;switch(V){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(A);return Oe===this.decode.FLATE_DECODE&&(Ae="/Predictor "+I+" "),Ae+="/Colors "+H+" /BitsPerComponent "+C+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),(he&&this.__addimage__.isArrayBuffer(he)||this.__addimage__.isArrayBufferView(he))&&(he=this.__addimage__.arrayBufferToBinaryString(he)),{alias:S,data:E,index:y,filter:Oe,decodeParameters:Ae,transparency:$,palette:Y,sMask:he,predictor:I,width:P.width,height:P.height,bitsPerComponent:C,colorSpace:k}}}})(Ft.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new GO(t),u=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:u,height:l},p=new sm(100).encode(h,100);return e.processJPEG.call(this,p,n,r,i)},e.processGIF87A=e.processGIF89A}(Ft.API),ka.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ka.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){jn.log("bit decode error:"+n)}},ka.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[u+4*l]=c.blue,this.data[u+4*l+1]=c.green,this.data[u+4*l+2]=c.red,this.data[u+4*l+3]=255}n!==0&&(this.pos+=4-n)}},ka.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*i*4,l=s>>4,c=15&s,h=this.palette[l];if(this.data[u]=h.blue,this.data[u+1]=h.green,this.data[u+2]=h.red,this.data[u+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[u+4]=h.blue,this.data[u+4+1]=h.green,this.data[u+4+2]=h.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},ka.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var u=this.palette[i];this.data[s]=u.red,this.data[s+1]=u.green,this.data[s+2]=u.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},ka.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,h=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=u,this.data[p+3]=h}this.pos+=e}},ka.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(u&t)/t*255|0,c=(u>>5&n)/n*255|0,h=(u>>11)/t*255|0,p=i*this.width*4+4*s;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=255}this.pos+=e}},ka.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*n;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},ka.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=u}},ka.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new ka(t,!1),u=s.width,l=s.height,c={data:s.getData(),width:u,height:l},h=new sm(100).encode(c,100);return e.processJPEG.call(this,h,n,r,i)}}(Ft.API),Dy.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new Dy(t),u=s.width,l=s.height,c={data:s.getData(),width:u,height:l},h=new sm(100).encode(c,100);return e.processJPEG.call(this,h,n,r,i)}}(Ft.API),Ft.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),u=new Uint8Array(i/4),l=0,c=0,h=0;h<i;h+=4){var p=r[h],b=r[h+1],E=r[h+2],y=r[h+3];s[l++]=p,s[l++]=b,s[l++]=E,u[c++]=y}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:S,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ft.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ad=Ft.API,m0=ad.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,h=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,b=t.doKerning!==!1,E=0,y=e.length,S=0,A=l[0]||c,k=[];for(n=0;n<y;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+u*(1e3/s)||0)/1e3):(E=b&&Pn(h[r])==="object"&&!isNaN(parseInt(h[r][S],10))?h[r][S]/p:0,k.push((l[r]||A)/c+E)),S=r;return k},Iy=ad.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ad.processArabic&&(e=ad.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:m0.apply(this,arguments).reduce(function(s,u){return s+u},0)},Py=function(e,t,n,r){for(var i=[],s=0,u=e.length,l=0;s!==u&&l+t[s]<n;)l+=t[s],s++;i.push(e.slice(0,s));var c=s;for(l=0;s!==u;)l+t[s]>r&&(i.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&i.push(e.slice(c,s)),i},Oy=function(e,t,n){n||(n={});var r,i,s,u,l,c,h,p=[],b=[p],E=n.textIndent||0,y=0,S=0,A=e.split(" "),k=m0.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var C=Array(c).join(" "),P=[];A.map(function(H){(H=H.split(/\s*\n/)).length>1?P=P.concat(H.map(function(Y,he){return(he&&Y.length?`
`:"")+Y})):P.push(H[0])}),A=P,c=Iy.apply(this,[C,n])}for(s=0,u=A.length;s<u;s++){var $=0;if(r=A[s],c&&r[0]==`
`&&(r=r.substr(1),$=1),E+y+(S=(i=m0.apply(this,[r,n])).reduce(function(H,Y){return H+Y},0))>t||$){if(S>t){for(l=Py.apply(this,[r,i,t-(E+y),t]),p.push(l.shift()),p=[l.pop()];l.length;)b.push([l.shift()]);S=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(H,Y){return H+Y},0)}else p=[r];b.push(p),E=S+c,y=k}else p.push(r),E+=y+S,y=k}return h=c?function(H,Y){return(Y?C:"")+H.join(" ")}:function(H){return H.join(" ")},b.map(h)},ad.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var b=this.internal.getFont(p.fontName,p.fontStyle);return b.metadata.Unicode?{widths:b.metadata.Unicode.widths||{0:1},kerning:b.metadata.Unicode.kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var l,c,h=[];for(l=0,c=r.length;l<c;l++)h=h.concat(Oy.apply(this,[r[l],u,s]));return h},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(b){return"0x"+parseInt(b,10).toString(16)},u=e.__fontmetrics__.compress=function(b){var E,y,S,A,k=["{"];for(var C in b){if(E=b[C],isNaN(parseInt(C,10))?y="'"+C+"'":(C=parseInt(C,10),y=(y=s(C).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof E=="number")E<0?(S=s(E).slice(3),A="-"):(S=s(E).slice(2),A=""),S=A+S.slice(0,-1)+r[S.slice(-1)];else{if(Pn(E)!=="object")throw new Error("Don't know what to do with value type "+Pn(E)+".");S=u(E)}k.push(y+S)}return k.push("}"),k.join("")},l=e.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var E,y,S,A,k={},C=1,P=k,$=[],H="",Y="",he=b.length-1,le=1;le<he;le+=1)(A=b[le])=="'"?E?(S=E.join(""),E=void 0):E=[]:E?E.push(A):A=="{"?($.push([P,S]),P={},S=void 0):A=="}"?((y=$.pop())[0][y[1]]=P,S=void 0,P=y[0]):A=="-"?C=-1:S===void 0?n.hasOwnProperty(A)?(H+=n[A],S=parseInt(H,16)*C,C=1,H=""):H+=A:n.hasOwnProperty(A)?(Y+=n[A],P[S]=parseInt(Y,16)*C,C=1,S=void 0,Y=""):Y+=A;return k},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(b){var E=b.font,y=p.Unicode[E.postScriptName];y&&(E.metadata.Unicode={},E.metadata.Unicode.widths=y.widths,E.metadata.Unicode.kerning=y.kerning);var S=h.Unicode[E.postScriptName];S&&(E.metadata.Unicode.encoding=S,E.encoding=S.codePages[0])}])}(Ft.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(u,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Uf(l)),u.metadata=e.API.TTFFont.open(l),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ft),function(e){function t(){return(jt.canvg?Promise.resolve(jt.canvg):hu(()=>import("./index.es-KNpLClD7.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Ft.API.addSvgAsImage=function(n,r,i,s,u,l,c,h){if(isNaN(r)||isNaN(i))throw jn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(u))throw jn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=u;var b=p.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,p.width,p.height);var E={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return t().then(function(S){return S.fromString(b,n,E)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(E)}).then(function(){y.addImage(p.toDataURL("image/jpeg",1),r,i,s,u,c,h)})}}(),Ft.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Ft.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(u),c=[],h=0,p=0,b=0;function E(S,A){var k,C=!1;for(k=0;k<S.length;k+=1)S[k]===A&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var y=l.length;for(b=0;b<y;b+=1)n[l[b]].value=n[l[b]].defaultValue,n[l[b]].explicitSet=!1}if(Pn(e)==="object"){for(i in e)if(s=e[i],E(l,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&E(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(p=0;p<s[h].length;p+=1)typeof s[h][p]!="number"&&(r=!1);r===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,A=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?A.push("/"+S+" /"+n[S].value):A.push("/"+S+" "+n[S].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+u.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+u+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Ft.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,u){for(var l,c=u.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],b=0,E=s.length;b<E;++b){if(l=u.metadata.characterToGlyph(s.charCodeAt(b)),u.metadata.glyIdsUsed.push(l),u.metadata.toUnicode[l]=s.charCodeAt(b),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(u.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(h[4-l.length],l)}return p.join("")},r=function(s){var u,l,c,h,p,b,E;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],b=0,E=(l=Object.keys(s).sort(function(y,S){return y-S})).length;b<E;b++)u=l[b],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[u]!==void 0&&s[u]!==null&&typeof s[u].toString=="function"&&(h=("0000"+s[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),c.push("<"+u+"><"+h+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(u){var l=u.font,c=u.out,h=u.newObject,p=u.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var b=l.metadata.Unicode.widths,E=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),y="",S=0;S<E.length;S++)y+=String.fromCharCode(E[S]);var A=h();p({data:y,addLength1:!0,objectId:A}),c("endobj");var k=h();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:k}),c("endobj");var C=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ld(l.fontName)),c("/FontFile2 "+A+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var P=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+ld(l.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+e.API.PDFObject.convert(b)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+k+" 0 R"),c("/BaseFont /"+ld(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+P+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(u){var l=u.font,c=u.out,h=u.newObject,p=u.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var b=l.metadata.rawData,E="",y=0;y<b.length;y++)E+=String.fromCharCode(b[y]);var S=h();p({data:E,addLength1:!0,objectId:S}),c("endobj");var A=h();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var k=h();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+S+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ld(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=h();for(var C=0;C<l.metadata.hmtx.widths.length;C++)l.metadata.hmtx.widths[C]=parseInt(l.metadata.hmtx.widths[C]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+ld(l.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var u,l=s.text||"",c=s.x,h=s.y,p=s.options||{},b=s.mutex||{},E=b.pdfEscape,y=b.activeFontKey,S=b.fonts,A=y,k="",C=0,P="",$=S[A].encoding;if(S[A].encoding!=="Identity-H")return{text:l,x:c,y:h,options:p,mutex:b};for(P=l,A=y,Array.isArray(l)&&(P=l[0]),C=0;C<P.length;C+=1)S[A].metadata.hasOwnProperty("cmap")&&(u=S[A].metadata.cmap.unicode.codeMap[P[C].charCodeAt(0)]),u||P[C].charCodeAt(0)<256&&S[A].metadata.hasOwnProperty("Unicode")?k+=P[C]:k+="";var H="";return parseInt(A.slice(1))<14||$==="WinAnsiEncoding"?H=E(k,A).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):$==="Identity-H"&&(H=n(k,S[A])),b.isHex=!0,{text:H,x:c,y:h,options:p,mutex:b}};t.events.push(["postProcessText",function(s){var u=s.text||"",l=[],c={text:u,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(u)){var h=0;for(h=0;h<u.length;h+=1)Array.isArray(u[h])&&u[h].length===3?l.push([i(Object.assign({},c,{text:u[h][0]})).text,u[h][1],u[h][2]]):l.push(i(Object.assign({},c,{text:u[h]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:u})).text}])}(Ft),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ft.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,u,l,c,h,p,b=t,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,$=0;this.__bidiEngine__={};var H=function(U){var q=U.charCodeAt(),te=q>>8,ee=A[te];return ee!==void 0?b[256*ee+(255&q)]:te===252||te===253?"AL":C.test(te)?"L":te===8?"R":"N"},Y=function(U){for(var q,te=0;te<U.length;te++){if((q=H(U.charAt(te)))==="L")return!1;if(q==="R")return!0}return!1},he=function(U,q,te,ee){var Oe,Ae,Se,ae,ve=q[ee];switch(ve){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(ve="AN");break;case"AL":P=!0,ve="R";break;case"WS":ve="N";break;case"CS":ee<1||ee+1>=q.length||(Oe=te[ee-1])!=="EN"&&Oe!=="AN"||(Ae=q[ee+1])!=="EN"&&Ae!=="AN"?ve="N":P&&(Ae="AN"),ve=Ae===Oe?Ae:"N";break;case"ES":ve=(Oe=ee>0?te[ee-1]:"B")==="EN"&&ee+1<q.length&&q[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&te[ee-1]==="EN"){ve="EN";break}if(P){ve="N";break}for(Se=ee+1,ae=q.length;Se<ae&&q[Se]==="ET";)Se++;ve=Se<ae&&q[Se]==="EN"?"EN":"N";break;case"NSM":if(u&&!l){for(ae=q.length,Se=ee+1;Se<ae&&q[Se]==="NSM";)Se++;if(Se<ae){var ye=U[ee],ne=ye>=1425&&ye<=2303||ye===64286;if(Oe=q[Se],ne&&(Oe==="R"||Oe==="AL")){ve="R";break}}}ve=ee<1||(Oe=q[ee-1])==="B"?"N":te[ee-1];break;case"B":P=!1,i=!0,ve=$;break;case"S":s=!0,ve="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":ve="N"}return ve},le=function(U,q,te){var ee=U.split("");return te&&X(ee,te,{hiLevel:$}),ee.reverse(),q&&q.reverse(),ee.join("")},X=function(U,q,te){var ee,Oe,Ae,Se,ae,ve=-1,ye=U.length,ne=0,I=[],V=$?y:E,Q=[];for(P=!1,i=!1,s=!1,Oe=0;Oe<ye;Oe++)Q[Oe]=H(U[Oe]);for(Ae=0;Ae<ye;Ae++){if(ae=ne,I[Ae]=he(U,Q,I,Ae),ee=240&(ne=V[ae][S[I[Ae]]]),ne&=15,q[Ae]=Se=V[ne][5],ee>0)if(ee===16){for(Oe=ve;Oe<Ae;Oe++)q[Oe]=1;ve=-1}else ve=-1;if(V[ne][6])ve===-1&&(ve=Ae);else if(ve>-1){for(Oe=ve;Oe<Ae;Oe++)q[Oe]=Se;ve=-1}Q[Ae]==="B"&&(q[Ae]=0),te.hiLevel|=Se}s&&function(se,ue,_e){for(var xe=0;xe<_e;xe++)if(se[xe]==="S"){ue[xe]=$;for(var Te=xe-1;Te>=0&&se[Te]==="WS";Te--)ue[Te]=$}}(Q,q,ye)},be=function(U,q,te,ee,Oe){if(!(Oe.hiLevel<U)){if(U===1&&$===1&&!i)return q.reverse(),void(te&&te.reverse());for(var Ae,Se,ae,ve,ye=q.length,ne=0;ne<ye;){if(ee[ne]>=U){for(ae=ne+1;ae<ye&&ee[ae]>=U;)ae++;for(ve=ne,Se=ae-1;ve<Se;ve++,Se--)Ae=q[ve],q[ve]=q[Se],q[Se]=Ae,te&&(Ae=te[ve],te[ve]=te[Se],te[Se]=Ae);ne=ae}ne++}}},Ie=function(U,q,te){var ee=U.split(""),Oe={hiLevel:$};return te||(te=[]),X(ee,te,Oe),function(Ae,Se,ae){if(ae.hiLevel!==0&&p)for(var ve,ye=0;ye<Ae.length;ye++)Se[ye]===1&&(ve=k.indexOf(Ae[ye]))>=0&&(Ae[ye]=k[ve+1])}(ee,te,Oe),be(2,ee,q,te,Oe),be(1,ee,q,te,Oe),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(U,q,te){if(function(Oe,Ae){if(Ae)for(var Se=0;Se<Oe.length;Se++)Ae[Se]=Se;l===void 0&&(l=Y(Oe)),h===void 0&&(h=Y(Oe))}(U,q),u||!c||h)if(u&&c&&l^h)$=l?1:0,U=le(U,q,te);else if(!u&&c&&h)$=l?1:0,U=Ie(U,q,te),U=le(U,q);else if(!u||l||c||h){if(u&&!c&&l^h)U=le(U,q),l?($=0,U=Ie(U,q,te)):($=1,U=Ie(U,q,te),U=le(U,q));else if(u&&l&&!c&&h)$=1,U=Ie(U,q,te),U=le(U,q);else if(!u&&!c&&l^h){var ee=p;l?($=1,U=Ie(U,q,te),$=0,p=!1,U=Ie(U,q,te),p=ee):($=0,U=Ie(U,q,te),U=le(U,q),$=1,p=!1,U=Ie(U,q,te),p=ee,U=le(U,q))}}else $=0,U=Ie(U,q,te);else $=l?1:0,U=Ie(U,q,te);return U},this.__bidiEngine__.setOptions=function(U){U&&(u=U.isInputVisual,c=U.isOutputVisual,l=U.isInputRtl,h=U.isOutputRtl,p=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),u=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(u=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?u.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):u.push([n.doBidiReorder(i[l])]);r.text=u}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ft),Ft.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new wl(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new lR(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new KO(this.contents),this.head=new XO(this),this.name=new nR(this),this.cmap=new fE(this),this.toUnicode={},this.hhea=new JO(this),this.maxp=new rR(this),this.hmtx=new iR(this),this.post=new eR(this),this.os2=new ZO(this),this.loca=new uR(this),this.glyf=new sR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var u,l,c,h;for(h=[],u=0,l=(c=this.bbox).length;u<l;u++)t=c[u],h.push(Math.round(t*this.scaleFactor));return h}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,u,l;for(u=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),u+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return u*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var za,wl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,u,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),u=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^u)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*u+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),KO=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,u,l,c,h,p,b,E,y,S,A;for(A in y=Object.keys(n).length,c=Math.log(2),b=16*Math.floor(Math.log(y)/c),u=Math.floor(b/c),p=16*y-b,(i=new wl).writeInt(this.scalarType),i.writeShort(y),i.writeShort(b),i.writeShort(u),i.writeShort(p),s=16*y,h=i.pos+s,l=null,S=[],n)for(E=n[A],i.writeString(A),i.writeInt(e(E)),i.writeInt(h),i.writeInt(E.length),S=S.concat(E),A==="head"&&(l=h),h+=E.length;h%4;)S.push(0),h++;return i.write(S),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,u;for(n=hE.call(n);n.length%4;)n.push(0);for(s=new wl(n),i=0,r=0,u=n.length;r<u;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),QO={}.hasOwnProperty,Ao=function(e,t){for(var n in t)QO.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};za=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var XO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,za),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new wl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),My=function(){function e(t,n){var r,i,s,u,l,c,h,p,b,E,y,S,A,k,C,P,$;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),b=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(y=t.readUInt16(),E=y/2,t.pos+=6,s=function(){var H,Y;for(Y=[],c=H=0;0<=E?H<E:H>E;c=0<=E?++H:--H)Y.push(t.readUInt16());return Y}(),t.pos+=2,A=function(){var H,Y;for(Y=[],c=H=0;0<=E?H<E:H>E;c=0<=E?++H:--H)Y.push(t.readUInt16());return Y}(),h=function(){var H,Y;for(Y=[],c=H=0;0<=E?H<E:H>E;c=0<=E?++H:--H)Y.push(t.readUInt16());return Y}(),p=function(){var H,Y;for(Y=[],c=H=0;0<=E?H<E:H>E;c=0<=E?++H:--H)Y.push(t.readUInt16());return Y}(),i=(this.length-t.pos+this.offset)/2,l=function(){var H,Y;for(Y=[],c=H=0;0<=i?H<i:H>i;c=0<=i?++H:--H)Y.push(t.readUInt16());return Y}(),c=C=0,$=s.length;C<$;c=++C)for(k=s[c],r=P=S=A[c];S<=k?P<=k:P>=k;r=S<=k?++P:--P)p[c]===0?u=r+h[c]:(u=l[p[c]/2+(r-S)-(E-c)]||0)!==0&&(u+=h[c]),this.codeMap[r]=65535&u}t.pos=b}return e.encode=function(t,n){var r,i,s,u,l,c,h,p,b,E,y,S,A,k,C,P,$,H,Y,he,le,X,be,Ie,U,q,te,ee,Oe,Ae,Se,ae,ve,ye,ne,I,V,Q,se,ue,_e,xe,Te,Ue,Xe,ut;switch(ee=new wl,u=Object.keys(t).sort(function(lt,Et){return lt-Et}),n){case"macroman":for(A=0,k=function(){var lt=[];for(S=0;S<256;++S)lt.push(0);return lt}(),P={0:0},s={},Oe=0,ve=u.length;Oe<ve;Oe++)P[Te=t[i=u[Oe]]]==null&&(P[Te]=++A),s[i]={old:t[i],new:P[t[i]]},k[i]=P[t[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(k),{charMap:s,subtable:ee.data,maxGlyphID:A+1};case"unicode":for(q=[],b=[],$=0,P={},r={},C=h=null,Ae=0,ye=u.length;Ae<ye;Ae++)P[Y=t[i=u[Ae]]]==null&&(P[Y]=++$),r[i]={old:Y,new:P[Y]},l=P[Y]-i,C!=null&&l===h||(C&&b.push(C),q.push(i),h=l),C=i;for(C&&b.push(C),b.push(65535),q.push(65535),Ie=2*(be=q.length),X=2*Math.pow(Math.log(be)/Math.LN2,2),E=Math.log(X/2)/Math.LN2,le=2*be-X,c=[],he=[],y=[],S=Se=0,ne=q.length;Se<ne;S=++Se){if(U=q[S],p=b[S],U===65535){c.push(0),he.push(0);break}if(U-(te=r[U].new)>=32768)for(c.push(0),he.push(2*(y.length+be-S)),i=ae=U;U<=p?ae<=p:ae>=p;i=U<=p?++ae:--ae)y.push(r[i].new);else c.push(te-U),he.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*be+2*y.length),ee.writeUInt16(0),ee.writeUInt16(Ie),ee.writeUInt16(X),ee.writeUInt16(E),ee.writeUInt16(le),_e=0,I=b.length;_e<I;_e++)i=b[_e],ee.writeUInt16(i);for(ee.writeUInt16(0),xe=0,V=q.length;xe<V;xe++)i=q[xe],ee.writeUInt16(i);for(Ue=0,Q=c.length;Ue<Q;Ue++)l=c[Ue],ee.writeUInt16(l);for(Xe=0,se=he.length;Xe<se;Xe++)H=he[Xe],ee.writeUInt16(H);for(ut=0,ue=y.length;ut<ue;ut++)A=y[ut],ee.writeUInt16(A);return{charMap:r,subtable:ee.data,maxGlyphID:$+1}}},e}(),fE=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,za),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new My(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=My.encode(n,r),(s=new wl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),JO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,za),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),ZO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,za),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),eR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,za),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var u;for(i=n.readUInt16(),this.glyphNameIndex=[],u=0;0<=i?u<i:u>i;u=0<=i?++u:--u)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=function(){var l,c,h;for(h=[],u=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;u=0<=c?++l:--l)h.push(n.readUInt32());return h}.call(this)}},t}(),tR=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},nR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,za),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,u,l,c,h,p,b,E,y;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],u=0;0<=r?u<r:u>r;u=0<=r?++u:--u)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(h={},u=b=0,E=i.length;b<E;u=++b)s=i[u],n.pos=s.offset,p=n.readString(s.length),l=new tR(p,s),h[y=s.nameID]==null&&(h[y]=[]),h[s.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t}(),rR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,za),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),iR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,za),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,u,l,c,h;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,b;for(b=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)b.push(n.readInt16());return b}(),this.widths=function(){var p,b,E,y;for(y=[],p=0,b=(E=this.metrics).length;p<b;p++)u=E[p],y.push(u.advance);return y}.call(this),i=this.widths[this.widths.length-1],h=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)h.push(this.widths.push(i));return h},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),hE=[].slice,sR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,za),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,u,l,c,h,p,b,E;return n in this.cache?this.cache[n]:(u=this.file.loca,r=this.file.contents,i=u.indexOf(n),(s=u.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(c=new wl(r.read(s))).readShort(),p=c.readShort(),E=c.readShort(),h=c.readShort(),b=c.readShort(),this.cache[n]=l===-1?new oR(c,p,E,h,b):new aR(c,l,p,E,h,b),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,u,l,c,h;for(l=[],u=[],c=0,h=r.length;c<h;c++)s=n[r[c]],u.push(l.length),s&&(l=l.concat(s.encode(i)));return u.push(l.length),{table:l,offsets:u}},t}(),aR=function(){function e(t,n,r,i,s,u){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=u,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),oR=function(){function e(t,n,r,i,s){var u,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;l=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&l;)u.pos+=1&l?4:2,128&l?u.pos+=8:64&l?u.pos+=4:8&l&&(u.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new wl(hE.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),uR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ao(t,za),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var s,u;for(u=[],i=0,s=this.length;i<s;i+=2)u.push(2*n.readUInt16());return u}.call(this):function(){var s,u;for(u=[],i=0,s=this.length;i<s;i+=4)u.push(n.readUInt32());return u}.call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,u=0,l=0;l<i.length;++l)if(i[l]=s,u<r.length&&r[u]==l){++u,i[l]=s;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(s+=h)}for(var p=new Array(4*i.length),b=0;b<i.length;++b)p[4*b+3]=255&i[b],p[4*b+2]=(65280&i[b])>>8,p[4*b+1]=(16711680&i[b])>>16,p[4*b]=(4278190080&i[b])>>24;return p},t}(),lR=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,u,l,c;for(i={},u=0,l=t.length;u<l;u++)i[s=t[u]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,u,l,c,h,p,b,E,y,S,A,k,C;for(i in r=fE.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),y={0:0},C=r.charMap)y[(c=C[i]).old]=c.new;for(S in E=r.maxGlyphID,u)S in y||(y[S]=E++);return p=function(P){var $,H;for($ in H={},P)H[P[$]]=$;return H}(y),b=Object.keys(p).sort(function(P,$){return P-$}),A=function(){var P,$,H;for(H=[],P=0,$=b.length;P<$;P++)l=b[P],H.push(p[l]);return H}(),s=this.font.glyf.encode(u,A,y),h=this.font.loca.encode(s.offsets,A),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},e}();Ft.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,u;if(Array.isArray(n))return"["+function(){var l,c,h;for(h=[],l=0,c=n.length;l<c;l++)r=n[l],h.push(t.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)u=n[i],s.push("/"+i+" "+t.convert(u));return s.push(">>"),s.join(`
`)}return""+n},t}();const Is=15,cR=async e=>{const t=new Ft,n=t.internal.pageSize.height-Is;let r=Is;const i=l=>{r+l>n&&(t.addPage(),r=Is)};for(const l of e){if(e.indexOf(l)>0&&(t.addPage(),r=Is),l.img_url)try{const p=await dR(l.img_url),{width:b,height:E}=await hR(l.img_url);i(E+10);const y=(t.internal.pageSize.width-b)/2;t.addImage(p,"JPEG",y,r,b,E),r+=E+15}catch(p){console.error("Error loading image:",p)}t.setFont("helvetica","bold"),t.setFontSize(24);const c=t.splitTextToSize(l.title,180);t.text(c,Is,r),r+=c.length*6+8,t.setFontSize(12);const h=l.cook_time+(l.prep_time||0);if(t.text(`Servings: ${l.servings} | Prep: ${l.prep_time} min | Cook: ${l.cook_time} min | Total Time: ${h} min`,Is,r),r+=10,l.description?.length){t.setFont("helvetica","normal");const p=t.splitTextToSize(l.description,180);t.text(p,Is,r),r+=p.length*6+4}i(Is),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Ingredients:",Is,r),r+=8,t.setFontSize(12),t.setFont("helvetica","normal"),l.ingredients.forEach(p=>{i(10);const b=t.splitTextToSize(`- ${p.value}`,180);t.text(b,Is,r),r+=b.length*6+2}),r+=2,i(Is),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Instructions:",Is,r),r+=8,t.setFontSize(12),t.setFont("helvetica","normal"),l.steps.forEach((p,b)=>{i(10);const E=t.splitTextToSize(`${b+1}. ${p.value}`,180);t.text(E,Is,r),r+=E.length*6+1})}const s=t.output("blob"),u=URL.createObjectURL(s);window.open(u,"_blank")},dR=async e=>{const n=await(await fetch(e)).blob();return new Promise((r,i)=>{const s=new FileReader;s.readAsDataURL(n),s.onload=()=>r(s.result),s.onerror=u=>i(u)})},fR=async e=>new Promise((t,n)=>{const r=new Image;r.src=e,r.onload=()=>t({width:r.width,height:r.height}),r.onerror=n}),hR=async e=>{const{width:t,height:n}=await fR(e),r=180,i=90;let s=t,u=n;return s>r&&(u*=r/s,s=r),u>i&&(s*=i/u,u=i),{width:s,height:u}},pR=({recipe:e})=>{const t=ti(),n=Fs(),{isAuthenticated:r}=Ba(),{openModal:i,closeModal:s}=So(),[u,l]=M.useState([]),[c,h]=M.useState(e.is_public),p=async()=>{try{const Y=await hi.getSharedUsers(e.id);l(Y||[])}catch(Y){n.error(Y.message)}},b=()=>t(`/recipes/${e.id}/edit`,{state:{recipe:e}}),E=()=>i(L.jsx(Nw,{label:"recipe",onCancelDelete:s,onDelete:P})),y=async()=>{try{const Y=!c;await hi.setIsPublic(e.id,Y),h(Y),n.success(`Recipe is now ${c?"public":"private"}!`)}catch(Y){n.error(Y.message)}},S=async(Y,he)=>{if(!Y)return n.error("Please enter a valid email.");try{const le=await Eo.findByEmail(Y);if(!le)throw new Error("User not found");await hi.shareWithUser(e.id,le.id,he),n.success(`Recipe shared with ${le.display_name} as ${he}.`),p()}catch(le){n.error(le.message)}},A=async Y=>{try{await hi.revokeAccess(Y),n.success("Access revoked."),p()}catch(he){n.error(he.message)}},k=()=>{navigator.clipboard.writeText(window.location.href),n.success("Public link copied!")},C=()=>i(L.jsx(Aw,{typeOfShare:"Recipe",sharedUsers:u,isPublic:c,onTogglePublicShare:y,shareWithUser:S,onRevokeAccess:A,onCopyLink:k,onClose:s})),P=async()=>{try{await hi.deleteById(e.id),n.success("Recipe deleted successfully!"),s(),t("/")}catch{n.error("Failed to delete recipe. Please try again.")}},$=async()=>{try{await cR([e])}catch(Y){console.error("Error generating PDF:",Y),n.error("Failed to export recipe. Please try again.")}},H=[...r?[{label:"Edit",onClick:b},{label:"Delete",onClick:E},{label:"Share",onClick:C}]:[],{label:"Export",onClick:$}];return L.jsx(op,{options:H,icon:L.jsx(D3,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})},mR=e=>({id:e?.id||"",title:e?.title||"",description:e?.description||"",img_url:e?.img_url||"",original_recipe_url:e?.original_recipe_url||"",prep_time:e?.prep_time||0,cook_time:e?.cook_time||0,servings:e?.servings||1,is_public:e?.is_public||!1,total_time:e?.prep_time+e?.cook_time||0,steps:e?.steps||[],ingredients:e?.ingredients||[],collections:(e?.collection_to_recipes||[]).flatMap(n=>n.collections),tags:(e?.recipe_to_tags||[]).flatMap(n=>n.tags)}),gR=(e,t)=>{const[n,r]=M.useState(null),[i,s]=M.useState(!0),u=async()=>{s(!0);try{const l=await hi.getDetail(e,t);r(mR(l))}catch(l){console.error("Failed to fetch recipe details",l)}finally{s(!1)}};return M.useEffect(()=>{e&&u()},[e,t]),{recipe:n,loading:i,fetchRecipe:u}},bR=({recipeId:e,collectionAdded:t})=>{const{closeModal:n}=So(),r=Fs(),[i,s]=M.useState([]),[u,l]=M.useState([]),[c,h]=M.useState(""),p=E=>{h(E)};M.useEffect(()=>{(async()=>{try{const y=await Os.getList(0,25,c);y&&y.data&&s(y.data)}catch(y){console.error("Error fetching tags:",y)}})()},[c]);const b=async()=>{const E=u.map(y=>y.id);if(e&&E.length>0)try{await hi.addOneToManyCollections(e,E),t(),r.success("Recipe has been added to selected collection(s)!"),n()}catch(y){console.error("Error fetching tags:",y)}};return L.jsxs(L.Fragment,{children:[L.jsx("h2",{className:"text-xl font-medium mb-4 text-leaf-green-900 dark:text-leaf-green-100",children:"Add to Collections"}),L.jsx(Ed,{inputId:"collections",options:i,selectedOptions:u,placeholder:"Select collections",setSelectedOptions:E=>l(E),onSearch:p}),L.jsxs("div",{className:"flex justify-end mt-4",children:[L.jsx(wn,{btnType:"secondary",onClick:n,children:"Cancel"}),L.jsx(wn,{btnType:"primary",onClick:b,className:"ml-2",children:"Save"})]})]})},yR=({recipeId:e,tagAdded:t})=>{const{closeModal:n}=So(),r=Fs(),[i,s]=M.useState([]),[u,l]=M.useState([]),[c,h]=M.useState(""),p=E=>{h(E)};M.useEffect(()=>{(async()=>{try{const y=await ia.getList(0,25,c);y&&y.data&&s(y.data)}catch(y){console.error("Error fetching tags:",y)}})()},[c]);const b=async()=>{if(e)try{await ia.addToRecipe(e,u),t(),r.success("Tags have been added to recipe!"),n()}catch(E){console.error("Error associating tags:",E)}};return L.jsxs(L.Fragment,{children:[L.jsx("h2",{className:"text-xl font-medium mb-4 text-leaf-green-900 dark:text-leaf-green-100",children:"Add Tags"}),L.jsx(Ed,{inputId:"tags",options:i,selectedOptions:u,placeholder:"Select tags",setSelectedOptions:E=>l(E),onSearch:p}),L.jsxs("div",{className:"flex justify-end mt-4",children:[L.jsx(wn,{btnType:"secondary",onClick:n,children:"Cancel"}),L.jsx(wn,{btnType:"primary",onClick:b,className:"ml-2",children:"Save"})]})]})},vR=()=>{const{id:e}=ip(),{user:t}=Ba(),{openModal:n}=So(),{recipe:r,loading:i,fetchRecipe:s}=gR(e,t?.id);if(i)return L.jsx(Ad,{className:"mt-40"});if(!r)return L.jsx(gh,{message:"Recipe not found."});const u=[{label:"Add Tags",onClick:()=>n(L.jsx(yR,{recipeId:r.id,tagAdded:s}))},{label:"Add to Collection",onClick:()=>n(L.jsx(bR,{recipeId:r.id,collectionAdded:s}))}];return L.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[L.jsx(wR,{user:t,options:u,recipe:r}),L.jsx(ER,{recipe:r})]})},wR=({user:e,options:t,recipe:n})=>L.jsxs("div",{className:"w-full flex justify-between items-center mb-4",children:[L.jsx(Da,{to:"/",children:L.jsxs("div",{className:"flex items-center font-medium text-leaf-green-600 dark:text-leaf-green-100",children:[L.jsx(R3,{className:"size-6"}),L.jsx("p",{children:"Recipes"})]})}),L.jsxs("div",{className:"flex gap-2",children:[e?.id&&L.jsx(op,{options:t,icon:L.jsx(bg,{className:"w-6 h-6 dark:text-leaf-green-300 text-leaf-green-500"})}),L.jsx(pR,{recipe:n})]})]}),ER=({recipe:e})=>L.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-6",children:[L.jsxs("div",{className:"w-full md:w-3/4",children:[e.img_url&&L.jsx("img",{src:e.img_url,alt:e.title,className:"w-full h-64 object-cover rounded-t-lg"}),L.jsxs("div",{className:`bg-white dark:bg-gray-900 p-6 ${!e.img_url&&"rounded-lg"}`,children:[L.jsx(bh,{title:e.title,description:e.description}),L.jsx(rP,{ingredients:e.ingredients}),L.jsx(iP,{steps:e.steps}),e.original_recipe_url&&L.jsx(_R,{url:e.original_recipe_url})]})]}),L.jsx("div",{className:"w-full md:w-1/4",children:L.jsx(fO,{recipe:e})})]}),_R=({url:e})=>L.jsx("div",{className:"mx-2",children:L.jsxs("small",{children:["source:"," ",L.jsx("a",{className:"pl-1 italic",href:e,children:e})]})});function xR(){const e=oa(),{user:t,authHasBeenChecked:n}=Ba(),[r,i]=M.useState([]),[s,u]=M.useState([]),[l,c]=M.useState([]),[h,p]=M.useState(""),[b,E]=M.useState(0),[y,S]=M.useState(!1),[A,k]=M.useState(!1),C=M.useRef(!1),P=M.useCallback(async(Y,he,le)=>{S(!0);try{const X=await hi.getRecipeList(Y,10,he,t?.id,le);if(!X)throw new Error("Something went wrong.");const be=await ia.getList(0,1e6,he);be?.data&&u(be.data),i(U=>Y===0?X.data:[...U,...X.data]);const Ie=Y+X.data.length;E(Ie),k(X.count!==null&&Ie<X.count)}catch(X){console.error("Error fetching recipes:",X)}finally{S(!1)}},[t]);M.useEffect(()=>{const Y=e.state?.selectedTags;Y&&(c(Y),E(0),i([]),C.current=!0,P(0,h,Y).finally(()=>{C.current=!1}))},[e.state?.selectedTags,P,h]);const $=M.useCallback(async()=>{C.current||!n||(E(0),i([]),C.current=!0,await P(0,h,l),C.current=!1)},[n,P,h,l]),H=M.useCallback(()=>{C.current||!A||!n||(C.current=!0,P(b,h,l).finally(()=>{C.current=!1}))},[b,A,n,P,h,l]);return{tags:s,selectedTags:l,setSelectedTags:c,recipes:r,searchTerm:h,setSearchTerm:p,loading:y,hasMore:A,resetAndLoadRecipes:$,loadMoreRecipes:H}}const TR=({options:e=[],selectedOptions:t=[],placeholder:n="Search by title, description, ingredient or tag...",setSelectedOptions:r,onSearch:i})=>{const[s,u]=M.useState([]),[l,c]=M.useState(!1),[h,p]=M.useState(""),[b,E]=M.useState(!1),y=M.useRef(null),S=M.useRef(null),A=M.useRef(null);M.useEffect(()=>{u(t.map(H=>H?.id||""))},[t]),M.useEffect(()=>{const H=setTimeout(()=>{i(h)},500);return()=>clearTimeout(H)},[h,i]),M.useEffect(()=>{const H=Y=>{y.current&&!y.current.contains(Y.target)&&c(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]),M.useEffect(()=>{l&&S.current&&S.current.focus()},[l]),M.useEffect(()=>{if(l&&y.current){const H=y.current.getBoundingClientRect(),Y=window.innerHeight-H.bottom;E(Y<250)}},[l]);const k=H=>{if(H.id){const Y=s.includes(H.id)?t.filter(he=>he.id!==H.id):[...t,H];r(Y)}},C=H=>{const Y=t.filter(he=>he.id!==H.id);r(Y)},P=H=>{H.key==="Backspace"&&h===""&&t.length>0&&C(t[t.length-1]),H.key==="ArrowDown"&&(c(!0),A.current?.focus())},$=()=>{p(""),r([])};return L.jsxs("div",{className:"relative w-full mb-4",ref:y,children:[L.jsxs("div",{className:`border border-gray-300 p-2 cursor-text flex flex-wrap items-center gap-2 ${l?`rounded-${b?"b":"t"}-lg`:"rounded-lg"}`,onClick:()=>e.length>0&&c(!0),children:[L.jsx(ST,{className:"w-5 h-5"}),t.map(H=>L.jsx(Wf,{title:H.title,onClick:Y=>{Y.stopPropagation(),C(H)}},H.id)),L.jsx("input",{type:"text",ref:S,placeholder:t.length===0?n:"",className:"flex-1 p-1 border-none outline-none bg-transparent text-gray-900 dark:text-white",value:h,onChange:H=>p(H.target.value),onKeyDown:P}),(h?.length>0||t?.length>0)&&L.jsx(oh,{className:"w-6 h-6 cursor-pointer",title:"Clear Search Bar",onClick:$})]}),l&&e.length>0&&L.jsx("div",{ref:A,role:"listbox","aria-labelledby":"multi-select-label",className:`absolute w-full z-10 max-w-[320px] border border-gray-300 bg-white dark:bg-gray-800 shadow-md max-h-40 overflow-y-auto focus:outline-hidden ${b?"bottom-full pb-2 rounded-t-lg":"top-full pt-2 rounded-b-lg"}`,children:e.map(H=>L.jsx(wn,{btnType:"dropdown",className:H.id&&s.includes(H.id)?"bg-leaf-green-100 dark:text-leaf-green-600":"",onClick:Y=>{Y.stopPropagation(),k(H)},role:"option","aria-selected":H.id&&s.includes(H.id)?!0:void 0,children:H.title},H.id))})]})},SR=()=>{const{recipes:e,tags:t,selectedTags:n,setSelectedTags:r,loading:i,hasMore:s,searchTerm:u,setSearchTerm:l,resetAndLoadRecipes:c,loadMoreRecipes:h}=xR(),{openModal:p,closeModal:b}=So(),{authHasBeenChecked:E}=Ba(),y=()=>{p(L.jsx(Yg,{onClose:b}))};M.useEffect(()=>{c()},[u,E,n,c]);const S=M.useCallback(()=>{!i&&s&&h()},[i,s,h]);return L.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col justify-center items-center text-center transition-all duration-300",children:[L.jsx(bh,{classes:"mb-4",title:"Recipes",actionName:"+ New Recipe",onAction:y}),L.jsx(TR,{options:t,selectedOptions:n,setSelectedOptions:r,onSearch:l}),i&&L.jsx(Ad,{className:"mt-6"}),!i&&e.length===0&&L.jsx(gh,{message:"No recipes found. Add some to get started!"}),e.length>0&&L.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:e.map(A=>L.jsx(Da,{to:`/recipes/${A.id}`,children:L.jsx(Zg,{...A})},A.id))}),s&&L.jsx(Bw,{threshold:.1,onScrolled:S,children:L.jsx("div",{className:"h-1"})})]})};function AR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Lp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pd(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function i2(e){return"nodeType"in e}function gs(e){var t,n;return e?Pd(e)?e:i2(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function s2(e){const{Document:t}=gs(e);return e instanceof t}function yh(e){return Pd(e)?!1:e instanceof gs(e).HTMLElement}function pE(e){return e instanceof gs(e).SVGElement}function Od(e){return e?Pd(e)?e.document:i2(e)?s2(e)?e:yh(e)||pE(e)?e.ownerDocument:document:document:document}const To=Lp?M.useLayoutEffect:M.useEffect;function a2(e){const t=M.useRef(e);return To(()=>{t.current=e}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function NR(){const e=M.useRef(null),t=M.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=M.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function th(e,t){t===void 0&&(t=[e]);const n=M.useRef(e);return To(()=>{n.current!==e&&(n.current=e)},t),n}function vh(e,t){const n=M.useRef();return M.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Z0(e){const t=a2(e),n=M.useRef(null),r=M.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,r]}function Jm(e){const t=M.useRef();return M.useEffect(()=>{t.current=e},[e]),t.current}let am={};function wh(e,t){return M.useMemo(()=>{if(t)return t;const n=am[e]==null?0:am[e]+1;return am[e]=n,e+"-"+n},[e,t])}function mE(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,u)=>{const l=Object.entries(u);for(const[c,h]of l){const p=s[c];p!=null&&(s[c]=p+e*h)}return s},{...t})}}const bd=mE(1),ep=mE(-1);function CR(e){return"clientX"in e&&"clientY"in e}function o2(e){if(!e)return!1;const{KeyboardEvent:t}=gs(e.target);return t&&e instanceof t}function LR(e){if(!e)return!1;const{TouchEvent:t}=gs(e.target);return t&&e instanceof t}function Zm(e){if(LR(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return CR(e)?{x:e.clientX,y:e.clientY}:null}const nh=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[nh.Translate.toString(e),nh.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Fy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function kR(e){return e.matches(Fy)?e:e.querySelector(Fy)}const IR={display:"none"};function PR(e){let{id:t,value:n}=e;return an.createElement("div",{id:t,style:IR},n)}function OR(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return an.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function RR(){const[e,t]=M.useState("");return{announce:M.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const gE=M.createContext(null);function DR(e){const t=M.useContext(gE);M.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function MR(){const[e]=M.useState(()=>new Set),t=M.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[M.useCallback(r=>{let{type:i,event:s}=r;e.forEach(u=>{var l;return(l=u[i])==null?void 0:l.call(u,s)})},[e]),t]}const FR={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},jR={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function BR(e){let{announcements:t=jR,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=FR}=e;const{announce:s,announcement:u}=RR(),l=wh("DndLiveRegion"),[c,h]=M.useState(!1);if(M.useEffect(()=>{h(!0)},[]),DR(M.useMemo(()=>({onDragStart(b){let{active:E}=b;s(t.onDragStart({active:E}))},onDragMove(b){let{active:E,over:y}=b;t.onDragMove&&s(t.onDragMove({active:E,over:y}))},onDragOver(b){let{active:E,over:y}=b;s(t.onDragOver({active:E,over:y}))},onDragEnd(b){let{active:E,over:y}=b;s(t.onDragEnd({active:E,over:y}))},onDragCancel(b){let{active:E,over:y}=b;s(t.onDragCancel({active:E,over:y}))}}),[s,t])),!c)return null;const p=an.createElement(an.Fragment,null,an.createElement(PR,{id:r,value:i.draggable}),an.createElement(OR,{id:l,announcement:u}));return n?Sf.createPortal(p,n):p}var Br;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Br||(Br={}));function tp(){}const Ma=Object.freeze({x:0,y:0});function UR(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function HR(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function qR(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function zR(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function jy(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const $R=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=jy(t,t.left,t.top),s=[];for(const u of r){const{id:l}=u,c=n.get(l);if(c){const h=UR(jy(c),i);s.push({id:l,data:{droppableContainer:u,value:h}})}}return s.sort(HR)};function VR(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),u=i-r,l=s-n;if(r<i&&n<s){const c=t.width*t.height,h=e.width*e.height,p=u*l,b=p/(c+h-p);return Number(b.toFixed(4))}return 0}const WR=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:u}=s,l=n.get(u);if(l){const c=VR(l,t);c>0&&i.push({id:u,data:{droppableContainer:s,value:c}})}}return i.sort(qR)};function YR(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function bE(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ma}function GR(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((u,l)=>({...u,top:u.top+e*l.y,bottom:u.bottom+e*l.y,left:u.left+e*l.x,right:u.right+e*l.x}),{...n})}}const KR=GR(1);function QR(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function XR(e,t,n){const r=QR(t);if(!r)return e;const{scaleX:i,scaleY:s,x:u,y:l}=r,c=e.left-u-(1-i)*parseFloat(n),h=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?e.width/i:e.width,b=s?e.height/s:e.height;return{width:p,height:b,top:h,right:c+p,bottom:h+b,left:c}}const JR={ignoreTransform:!1};function Rd(e,t){t===void 0&&(t=JR);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:p}=gs(e).getComputedStyle(e);h&&(n=XR(n,h,p))}const{top:r,left:i,width:s,height:u,bottom:l,right:c}=n;return{top:r,left:i,width:s,height:u,bottom:l,right:c}}function By(e){return Rd(e,{ignoreTransform:!0})}function ZR(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function eD(e,t){return t===void 0&&(t=gs(e).getComputedStyle(e)),t.position==="fixed"}function tD(e,t){t===void 0&&(t=gs(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function u2(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(s2(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!yh(i)||pE(i)||n.includes(i))return n;const s=gs(e).getComputedStyle(i);return i!==e&&tD(i,s)&&n.push(i),eD(i,s)?n:r(i.parentNode)}return e?r(e):n}function yE(e){const[t]=u2(e,1);return t??null}function om(e){return!Lp||!e?null:Pd(e)?e:i2(e)?s2(e)||e===Od(e).scrollingElement?window:yh(e)?e:null:null}function vE(e){return Pd(e)?e.scrollX:e.scrollLeft}function wE(e){return Pd(e)?e.scrollY:e.scrollTop}function eg(e){return{x:vE(e),y:wE(e)}}var Zr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Zr||(Zr={}));function EE(e){return!Lp||!e?!1:e===document.scrollingElement}function _E(e){const t={x:0,y:0},n=EE(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,u=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:u,isRight:l,maxScroll:r,minScroll:t}}const nD={x:.2,y:.2};function rD(e,t,n,r,i){let{top:s,left:u,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=nD);const{isTop:h,isBottom:p,isLeft:b,isRight:E}=_E(e),y={x:0,y:0},S={x:0,y:0},A={height:t.height*i.y,width:t.width*i.x};return!h&&s<=t.top+A.height?(y.y=Zr.Backward,S.y=r*Math.abs((t.top+A.height-s)/A.height)):!p&&c>=t.bottom-A.height&&(y.y=Zr.Forward,S.y=r*Math.abs((t.bottom-A.height-c)/A.height)),!E&&l>=t.right-A.width?(y.x=Zr.Forward,S.x=r*Math.abs((t.right-A.width-l)/A.width)):!b&&u<=t.left+A.width&&(y.x=Zr.Backward,S.x=r*Math.abs((t.left+A.width-u)/A.width)),{direction:y,speed:S}}function iD(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:u}=window;return{top:0,left:0,right:s,bottom:u,width:s,height:u}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function xE(e){return e.reduce((t,n)=>bd(t,eg(n)),Ma)}function sD(e){return e.reduce((t,n)=>t+vE(n),0)}function aD(e){return e.reduce((t,n)=>t+wE(n),0)}function oD(e,t){if(t===void 0&&(t=Rd),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);yE(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const uD=[["x",["left","right"],sD],["y",["top","bottom"],aD]];class l2{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=u2(n),i=xE(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,u,l]of uD)for(const c of u)Object.defineProperty(this,c,{get:()=>{const h=l(r),p=i[s]-h;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function lD(e){const{EventTarget:t}=gs(e);return e instanceof t?e:Od(e)}function um(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var na;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(na||(na={}));function Uy(e){e.preventDefault()}function cD(e){e.stopPropagation()}var An;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(An||(An={}));const TE={start:[An.Space,An.Enter],cancel:[An.Esc],end:[An.Space,An.Enter,An.Tab]},dD=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case An.Right:return{...n,x:n.x+25};case An.Left:return{...n,x:n.x-25};case An.Down:return{...n,y:n.y+25};case An.Up:return{...n,y:n.y-25}}};class SE{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Hf(Od(n)),this.windowListeners=new Hf(gs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(na.Resize,this.handleCancel),this.windowListeners.add(na.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(na.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&oD(r),n(Ma)}handleKeyDown(t){if(o2(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=TE,coordinateGetter:u=dD,scrollBehavior:l="smooth"}=i,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:h}=r.current,p=h?{x:h.left,y:h.top}:Ma;this.referenceCoordinates||(this.referenceCoordinates=p);const b=u(t,{active:n,context:r.current,currentCoordinates:p});if(b){const E=ep(b,p),y={x:0,y:0},{scrollableAncestors:S}=r.current;for(const A of S){const k=t.code,{isTop:C,isRight:P,isLeft:$,isBottom:H,maxScroll:Y,minScroll:he}=_E(A),le=iD(A),X={x:Math.min(k===An.Right?le.right-le.width/2:le.right,Math.max(k===An.Right?le.left:le.left+le.width/2,b.x)),y:Math.min(k===An.Down?le.bottom-le.height/2:le.bottom,Math.max(k===An.Down?le.top:le.top+le.height/2,b.y))},be=k===An.Right&&!P||k===An.Left&&!$,Ie=k===An.Down&&!H||k===An.Up&&!C;if(be&&X.x!==b.x){const U=A.scrollLeft+E.x,q=k===An.Right&&U<=Y.x||k===An.Left&&U>=he.x;if(q&&!E.y){A.scrollTo({left:U,behavior:l});return}q?y.x=A.scrollLeft-U:y.x=k===An.Right?A.scrollLeft-Y.x:A.scrollLeft-he.x,y.x&&A.scrollBy({left:-y.x,behavior:l});break}else if(Ie&&X.y!==b.y){const U=A.scrollTop+E.y,q=k===An.Down&&U<=Y.y||k===An.Up&&U>=he.y;if(q&&!E.x){A.scrollTo({top:U,behavior:l});return}q?y.y=A.scrollTop-U:y.y=k===An.Down?A.scrollTop-Y.y:A.scrollTop-he.y,y.y&&A.scrollBy({top:-y.y,behavior:l});break}}this.handleMove(t,bd(ep(b,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}SE.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=TE,onActivation:i}=t,{active:s}=n;const{code:u}=e.nativeEvent;if(r.start.includes(u)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Hy(e){return!!(e&&"distance"in e)}function qy(e){return!!(e&&"delay"in e)}class c2{constructor(t,n,r){var i;r===void 0&&(r=lD(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:u}=s;this.props=t,this.events=n,this.document=Od(u),this.documentListeners=new Hf(this.document),this.listeners=new Hf(r),this.windowListeners=new Hf(gs(u)),this.initialCoordinates=(i=Zm(s))!=null?i:Ma,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(na.Resize,this.handleCancel),this.windowListeners.add(na.DragStart,Uy),this.windowListeners.add(na.VisibilityChange,this.handleCancel),this.windowListeners.add(na.ContextMenu,Uy),this.documentListeners.add(na.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(qy(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Hy(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(na.Click,cD,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(na.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:u,options:{activationConstraint:l}}=s;if(!i)return;const c=(n=Zm(t))!=null?n:Ma,h=ep(i,c);if(!r&&l){if(Hy(l)){if(l.tolerance!=null&&um(h,l.tolerance))return this.handleCancel();if(um(h,l.distance))return this.handleStart()}if(qy(l)&&um(h,l.tolerance))return this.handleCancel();this.handlePending(l,h);return}t.cancelable&&t.preventDefault(),u(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===An.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const fD={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class AE extends c2{constructor(t){const{event:n}=t,r=Od(n.target);super(t,fD,r)}}AE.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const hD={move:{name:"mousemove"},end:{name:"mouseup"}};var tg;(function(e){e[e.RightClick=2]="RightClick"})(tg||(tg={}));class pD extends c2{constructor(t){super(t,hD,Od(t.event.target))}}pD.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===tg.RightClick?!1:(r?.({event:n}),!0)}}];const lm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class mD extends c2{constructor(t){super(t,lm)}static setup(){return window.addEventListener(lm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(lm.move.name,t)};function t(){}}}mD.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var qf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(qf||(qf={}));var np;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(np||(np={}));function gD(e){let{acceleration:t,activator:n=qf.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:u=5,order:l=np.TreeOrder,pointerCoordinates:c,scrollableAncestors:h,scrollableAncestorRects:p,delta:b,threshold:E}=e;const y=yD({delta:b,disabled:!s}),[S,A]=NR(),k=M.useRef({x:0,y:0}),C=M.useRef({x:0,y:0}),P=M.useMemo(()=>{switch(n){case qf.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case qf.DraggableRect:return i}},[n,i,c]),$=M.useRef(null),H=M.useCallback(()=>{const he=$.current;if(!he)return;const le=k.current.x*C.current.x,X=k.current.y*C.current.y;he.scrollBy(le,X)},[]),Y=M.useMemo(()=>l===np.TreeOrder?[...h].reverse():h,[l,h]);M.useEffect(()=>{if(!s||!h.length||!P){A();return}for(const he of Y){if(r?.(he)===!1)continue;const le=h.indexOf(he),X=p[le];if(!X)continue;const{direction:be,speed:Ie}=rD(he,X,P,t,E);for(const U of["x","y"])y[U][be[U]]||(Ie[U]=0,be[U]=0);if(Ie.x>0||Ie.y>0){A(),$.current=he,S(H,u),k.current=Ie,C.current=be;return}}k.current={x:0,y:0},C.current={x:0,y:0},A()},[t,H,r,A,s,u,JSON.stringify(P),JSON.stringify(y),S,h,Y,p,JSON.stringify(E)])}const bD={x:{[Zr.Backward]:!1,[Zr.Forward]:!1},y:{[Zr.Backward]:!1,[Zr.Forward]:!1}};function yD(e){let{delta:t,disabled:n}=e;const r=Jm(t);return vh(i=>{if(n||!r||!i)return bD;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Zr.Backward]:i.x[Zr.Backward]||s.x===-1,[Zr.Forward]:i.x[Zr.Forward]||s.x===1},y:{[Zr.Backward]:i.y[Zr.Backward]||s.y===-1,[Zr.Forward]:i.y[Zr.Forward]||s.y===1}}},[n,t,r])}function vD(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return vh(i=>{var s;return t==null?null:(s=r??i)!=null?s:null},[r,t])}function wD(e,t){return M.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,r)}));return[...n,...s]},[]),[e,t])}var rh;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(rh||(rh={}));var ng;(function(e){e.Optimized="optimized"})(ng||(ng={}));const zy=new Map;function ED(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,u]=M.useState(null),{frequency:l,measure:c,strategy:h}=i,p=M.useRef(e),b=k(),E=th(b),y=M.useCallback(function(C){C===void 0&&(C=[]),!E.current&&u(P=>P===null?C:P.concat(C.filter($=>!P.includes($))))},[E]),S=M.useRef(null),A=vh(C=>{if(b&&!n)return zy;if(!C||C===zy||p.current!==e||s!=null){const P=new Map;for(let $ of e){if(!$)continue;if(s&&s.length>0&&!s.includes($.id)&&$.rect.current){P.set($.id,$.rect.current);continue}const H=$.node.current,Y=H?new l2(c(H),H):null;$.rect.current=Y,Y&&P.set($.id,Y)}return P}return C},[e,s,n,b,c]);return M.useEffect(()=>{p.current=e},[e]),M.useEffect(()=>{b||y()},[n,b]),M.useEffect(()=>{s&&s.length>0&&u(null)},[JSON.stringify(s)]),M.useEffect(()=>{b||typeof l!="number"||S.current!==null||(S.current=setTimeout(()=>{y(),S.current=null},l))},[l,b,y,...r]),{droppableRects:A,measureDroppableContainers:y,measuringScheduled:s!=null};function k(){switch(h){case rh.Always:return!1;case rh.BeforeDragging:return n;default:return!n}}}function NE(e,t){return vh(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function _D(e,t){return NE(e,t)}function xD(e){let{callback:t,disabled:n}=e;const r=a2(t),i=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return M.useEffect(()=>()=>i?.disconnect(),[i]),i}function kp(e){let{callback:t,disabled:n}=e;const r=a2(t),i=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return M.useEffect(()=>()=>i?.disconnect(),[i]),i}function TD(e){return new l2(Rd(e),e)}function $y(e,t,n){t===void 0&&(t=TD);const[r,i]=M.useState(null);function s(){i(c=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=c??n)!=null?h:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const u=xD({callback(c){if(e)for(const h of c){const{type:p,target:b}=h;if(p==="childList"&&b instanceof HTMLElement&&b.contains(e)){s();break}}}}),l=kp({callback:s});return To(()=>{s(),e?(l?.observe(e),u?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),u?.disconnect())},[e]),r}function SD(e){const t=NE(e);return bE(e,t)}const Vy=[];function AD(e){const t=M.useRef(e),n=vh(r=>e?r&&r!==Vy&&e&&t.current&&e.parentNode===t.current.parentNode?r:u2(e):Vy,[e]);return M.useEffect(()=>{t.current=e},[e]),n}function ND(e){const[t,n]=M.useState(null),r=M.useRef(e),i=M.useCallback(s=>{const u=om(s.target);u&&n(l=>l?(l.set(u,eg(u)),new Map(l)):null)},[]);return M.useEffect(()=>{const s=r.current;if(e!==s){u(s);const l=e.map(c=>{const h=om(c);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,eg(h)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{u(e),u(s)};function u(l){l.forEach(c=>{const h=om(c);h?.removeEventListener("scroll",i)})}},[i,e]),M.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,u)=>bd(s,u),Ma):xE(e):Ma,[e,t])}function Wy(e,t){t===void 0&&(t=[]);const n=M.useRef(null);return M.useEffect(()=>{n.current=null},t),M.useEffect(()=>{const r=e!==Ma;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?ep(e,n.current):Ma}function CD(e){M.useEffect(()=>{if(!Lp)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function LD(e,t){return M.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=u=>{s(u,t)},n},{}),[e,t])}function CE(e){return M.useMemo(()=>e?ZR(e):null,[e])}const Yy=[];function kD(e,t){t===void 0&&(t=Rd);const[n]=e,r=CE(n?gs(n):null),[i,s]=M.useState(Yy);function u(){s(()=>e.length?e.map(c=>EE(c)?r:new l2(t(c),c)):Yy)}const l=kp({callback:u});return To(()=>{l?.disconnect(),u(),e.forEach(c=>l?.observe(c))},[e]),i}function ID(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return yh(t)?t:e}function PD(e){let{measure:t}=e;const[n,r]=M.useState(null),i=M.useCallback(h=>{for(const{target:p}of h)if(yh(p)){r(b=>{const E=t(p);return b?{...b,width:E.width,height:E.height}:E});break}},[t]),s=kp({callback:i}),u=M.useCallback(h=>{const p=ID(h);s?.disconnect(),p&&s?.observe(p),r(p?t(p):null)},[t,s]),[l,c]=Z0(u);return M.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const OD=[{sensor:AE,options:{}},{sensor:SE,options:{}}],RD={current:{}},k0={draggable:{measure:By},droppable:{measure:By,strategy:rh.WhileDragging,frequency:ng.Optimized},dragOverlay:{measure:Rd}};class zf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const DD={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new zf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:tp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:k0,measureDroppableContainers:tp,windowRect:null,measuringScheduled:!1},MD={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:tp,draggableNodes:new Map,over:null,measureDroppableContainers:tp},Ip=M.createContext(MD),LE=M.createContext(DD);function FD(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new zf}}}function jD(e,t){switch(t.type){case Br.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Br.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Br.DragEnd:case Br.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Br.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new zf(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Br.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const u=new zf(e.droppable.containers);return u.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:u}}}case Br.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new zf(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function BD(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=M.useContext(Ip),s=Jm(r),u=Jm(n?.id);return M.useEffect(()=>{if(!t&&!r&&s&&u!=null){if(!o2(s)||document.activeElement===s.target)return;const l=i.get(u);if(!l)return;const{activatorNode:c,node:h}=l;if(!c.current&&!h.current)return;requestAnimationFrame(()=>{for(const p of[c.current,h.current]){if(!p)continue;const b=kR(p);if(b){b.focus();break}}})}},[r,t,i,u,s]),null}function UD(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function HD(e){return M.useMemo(()=>({draggable:{...k0.draggable,...e?.draggable},droppable:{...k0.droppable,...e?.droppable},dragOverlay:{...k0.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function qD(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=M.useRef(!1),{x:u,y:l}=typeof i=="boolean"?{x:i,y:i}:i;To(()=>{if(!u&&!l||!t){s.current=!1;return}if(s.current||!r)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const p=n(h),b=bE(p,r);if(u||(b.x=0),l||(b.y=0),s.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const E=yE(h);E&&E.scrollBy({top:b.y,left:b.x})}},[t,u,l,r,n])}const kE=M.createContext({...Ma,scaleX:1,scaleY:1});var fl;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(fl||(fl={}));const zD=M.memo(function(t){var n,r,i,s;let{id:u,accessibility:l,autoScroll:c=!0,children:h,sensors:p=OD,collisionDetection:b=WR,measuring:E,modifiers:y,...S}=t;const A=M.useReducer(jD,void 0,FD),[k,C]=A,[P,$]=MR(),[H,Y]=M.useState(fl.Uninitialized),he=H===fl.Initialized,{draggable:{active:le,nodes:X,translate:be},droppable:{containers:Ie}}=k,U=le!=null?X.get(le):null,q=M.useRef({initial:null,translated:null}),te=M.useMemo(()=>{var fn;return le!=null?{id:le,data:(fn=U?.data)!=null?fn:RD,rect:q}:null},[le,U]),ee=M.useRef(null),[Oe,Ae]=M.useState(null),[Se,ae]=M.useState(null),ve=th(S,Object.values(S)),ye=wh("DndDescribedBy",u),ne=M.useMemo(()=>Ie.getEnabled(),[Ie]),I=HD(E),{droppableRects:V,measureDroppableContainers:Q,measuringScheduled:se}=ED(ne,{dragging:he,dependencies:[be.x,be.y],config:I.droppable}),ue=vD(X,le),_e=M.useMemo(()=>Se?Zm(Se):null,[Se]),xe=Nr(),Te=_D(ue,I.draggable.measure);qD({activeNode:le!=null?X.get(le):null,config:xe.layoutShiftCompensation,initialRect:Te,measure:I.draggable.measure});const Ue=$y(ue,I.draggable.measure,Te),Xe=$y(ue?ue.parentElement:null),ut=M.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:V,draggableNodes:X,draggingNode:null,draggingNodeRect:null,droppableContainers:Ie,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),lt=Ie.getNodeFor((n=ut.current.over)==null?void 0:n.id),Et=PD({measure:I.dragOverlay.measure}),je=(r=Et.nodeRef.current)!=null?r:ue,re=he?(i=Et.rect)!=null?i:Ue:null,It=!!(Et.nodeRef.current&&Et.rect),vt=SD(It?null:Ue),Ze=CE(je?gs(je):null),ot=AD(he?lt??ue:null),ft=kD(ot),K=UD(y,{transform:{x:be.x-vt.x,y:be.y-vt.y,scaleX:1,scaleY:1},activatorEvent:Se,active:te,activeNodeRect:Ue,containerNodeRect:Xe,draggingNodeRect:re,over:ut.current.over,overlayNodeRect:Et.rect,scrollableAncestors:ot,scrollableAncestorRects:ft,windowRect:Ze}),pe=_e?bd(_e,be):null,ke=ND(ot),Ke=Wy(ke),Ye=Wy(ke,[Ue]),qe=bd(K,Ke),et=re?KR(re,K):null,ct=te&&et?b({active:te,collisionRect:et,droppableRects:V,droppableContainers:ne,pointerCoordinates:pe}):null,wt=zR(ct,"id"),[Je,ir]=M.useState(null),Kt=It?K:bd(K,Ye),Ar=YR(Kt,(s=Je?.rect)!=null?s:null,Ue),sn=M.useRef(null),un=M.useCallback((fn,Jt)=>{let{sensor:At,options:Yt}=Jt;if(ee.current==null)return;const sr=X.get(ee.current);if(!sr)return;const ln=fn.nativeEvent,qn=new At({active:ee.current,activeNode:sr,event:ln,options:Yt,context:ut,onAbort(gt){if(!X.get(gt))return;const{onDragAbort:Dn}=ve.current,Bn={id:gt};Dn?.(Bn),P({type:"onDragAbort",event:Bn})},onPending(gt,Xn,Dn,Bn){if(!X.get(gt))return;const{onDragPending:_n}=ve.current,Mn={id:gt,constraint:Xn,initialCoordinates:Dn,offset:Bn};_n?.(Mn),P({type:"onDragPending",event:Mn})},onStart(gt){const Xn=ee.current;if(Xn==null)return;const Dn=X.get(Xn);if(!Dn)return;const{onDragStart:Bn}=ve.current,En={activatorEvent:ln,active:{id:Xn,data:Dn.data,rect:q}};Sf.unstable_batchedUpdates(()=>{Bn?.(En),Y(fl.Initializing),C({type:Br.DragStart,initialCoordinates:gt,active:Xn}),P({type:"onDragStart",event:En}),Ae(sn.current),ae(ln)})},onMove(gt){C({type:Br.DragMove,coordinates:gt})},onEnd:Cr(Br.DragEnd),onCancel:Cr(Br.DragCancel)});sn.current=qn;function Cr(gt){return async function(){const{active:Dn,collisions:Bn,over:En,scrollAdjustedTranslate:_n}=ut.current;let Mn=null;if(Dn&&_n){const{cancelDrop:pi}=ve.current;Mn={activatorEvent:ln,active:Dn,collisions:Bn,delta:_n,over:En},gt===Br.DragEnd&&typeof pi=="function"&&await Promise.resolve(pi(Mn))&&(gt=Br.DragCancel)}ee.current=null,Sf.unstable_batchedUpdates(()=>{C({type:gt}),Y(fl.Uninitialized),ir(null),Ae(null),ae(null),sn.current=null;const pi=gt===Br.DragEnd?"onDragEnd":"onDragCancel";if(Mn){const Ri=ve.current[pi];Ri?.(Mn),P({type:pi,event:Mn})}})}}},[X]),Hr=M.useCallback((fn,Jt)=>(At,Yt)=>{const sr=At.nativeEvent,ln=X.get(Yt);if(ee.current!==null||!ln||sr.dndKit||sr.defaultPrevented)return;const qn={active:ln};fn(At,Jt.options,qn)===!0&&(sr.dndKit={capturedBy:Jt.sensor},ee.current=Yt,un(At,Jt))},[X,un]),Xt=wD(p,Hr);CD(p),To(()=>{Ue&&H===fl.Initializing&&Y(fl.Initialized)},[Ue,H]),M.useEffect(()=>{const{onDragMove:fn}=ve.current,{active:Jt,activatorEvent:At,collisions:Yt,over:sr}=ut.current;if(!Jt||!At)return;const ln={active:Jt,activatorEvent:At,collisions:Yt,delta:{x:qe.x,y:qe.y},over:sr};Sf.unstable_batchedUpdates(()=>{fn?.(ln),P({type:"onDragMove",event:ln})})},[qe.x,qe.y]),M.useEffect(()=>{const{active:fn,activatorEvent:Jt,collisions:At,droppableContainers:Yt,scrollAdjustedTranslate:sr}=ut.current;if(!fn||ee.current==null||!Jt||!sr)return;const{onDragOver:ln}=ve.current,qn=Yt.get(wt),Cr=qn&&qn.rect.current?{id:qn.id,rect:qn.rect.current,data:qn.data,disabled:qn.disabled}:null,gt={active:fn,activatorEvent:Jt,collisions:At,delta:{x:sr.x,y:sr.y},over:Cr};Sf.unstable_batchedUpdates(()=>{ir(Cr),ln?.(gt),P({type:"onDragOver",event:gt})})},[wt]),To(()=>{ut.current={activatorEvent:Se,active:te,activeNode:ue,collisionRect:et,collisions:ct,droppableRects:V,draggableNodes:X,draggingNode:je,draggingNodeRect:re,droppableContainers:Ie,over:Je,scrollableAncestors:ot,scrollAdjustedTranslate:qe},q.current={initial:re,translated:et}},[te,ue,ct,et,X,je,re,V,Ie,Je,ot,qe]),gD({...xe,delta:be,draggingRect:et,pointerCoordinates:pe,scrollableAncestors:ot,scrollableAncestorRects:ft});const bs=M.useMemo(()=>({active:te,activeNode:ue,activeNodeRect:Ue,activatorEvent:Se,collisions:ct,containerNodeRect:Xe,dragOverlay:Et,draggableNodes:X,droppableContainers:Ie,droppableRects:V,over:Je,measureDroppableContainers:Q,scrollableAncestors:ot,scrollableAncestorRects:ft,measuringConfiguration:I,measuringScheduled:se,windowRect:Ze}),[te,ue,Ue,Se,ct,Xe,Et,X,Ie,V,Je,Q,ot,ft,I,se,Ze]),On=M.useMemo(()=>({activatorEvent:Se,activators:Xt,active:te,activeNodeRect:Ue,ariaDescribedById:{draggable:ye},dispatch:C,draggableNodes:X,over:Je,measureDroppableContainers:Q}),[Se,Xt,te,Ue,C,ye,X,Je,Q]);return an.createElement(gE.Provider,{value:$},an.createElement(Ip.Provider,{value:On},an.createElement(LE.Provider,{value:bs},an.createElement(kE.Provider,{value:Ar},h)),an.createElement(BD,{disabled:l?.restoreFocus===!1})),an.createElement(BR,{...l,hiddenTextDescribedById:ye}));function Nr(){const fn=Oe?.autoScrollEnabled===!1,Jt=typeof c=="object"?c.enabled===!1:c===!1,At=he&&!fn&&!Jt;return typeof c=="object"?{...c,enabled:At}:{enabled:At}}}),$D=M.createContext(null),Gy="button",VD="Draggable";function WD(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=wh(VD),{activators:u,activatorEvent:l,active:c,activeNodeRect:h,ariaDescribedById:p,draggableNodes:b,over:E}=M.useContext(Ip),{role:y=Gy,roleDescription:S="draggable",tabIndex:A=0}=i??{},k=c?.id===t,C=M.useContext(k?kE:$D),[P,$]=Z0(),[H,Y]=Z0(),he=LD(u,t),le=th(n);To(()=>(b.set(t,{id:t,key:s,node:P,activatorNode:H,data:le}),()=>{const be=b.get(t);be&&be.key===s&&b.delete(t)}),[b,t]);const X=M.useMemo(()=>({role:y,tabIndex:A,"aria-disabled":r,"aria-pressed":k&&y===Gy?!0:void 0,"aria-roledescription":S,"aria-describedby":p.draggable}),[r,y,A,k,S,p.draggable]);return{active:c,activatorEvent:l,activeNodeRect:h,attributes:X,isDragging:k,listeners:r?void 0:he,node:P,over:E,setNodeRef:$,setActivatorNodeRef:Y,transform:C}}function YD(){return M.useContext(LE)}const GD="Droppable",KD={timeout:25};function QD(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=wh(GD),{active:u,dispatch:l,over:c,measureDroppableContainers:h}=M.useContext(Ip),p=M.useRef({disabled:n}),b=M.useRef(!1),E=M.useRef(null),y=M.useRef(null),{disabled:S,updateMeasurementsFor:A,timeout:k}={...KD,...i},C=th(A??r),P=M.useCallback(()=>{if(!b.current){b.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{h(Array.isArray(C.current)?C.current:[C.current]),y.current=null},k)},[k]),$=kp({callback:P,disabled:S||!u}),H=M.useCallback((X,be)=>{$&&(be&&($.unobserve(be),b.current=!1),X&&$.observe(X))},[$]),[Y,he]=Z0(H),le=th(t);return M.useEffect(()=>{!$||!Y.current||($.disconnect(),b.current=!1,$.observe(Y.current))},[Y,$]),M.useEffect(()=>(l({type:Br.RegisterDroppable,element:{id:r,key:s,disabled:n,node:Y,rect:E,data:le}}),()=>l({type:Br.UnregisterDroppable,key:s,id:r})),[r]),M.useEffect(()=>{n!==p.current.disabled&&(l({type:Br.SetDroppableDisabled,id:r,key:s,disabled:n}),p.current.disabled=n)},[r,s,n,l]),{active:u,rect:E,isOver:c?.id===r,node:Y,over:c,setNodeRef:he}}function d2(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function XD(e,t){return e.reduce((n,r,i)=>{const s=t.get(r);return s&&(n[i]=s),n},Array(e.length))}function g0(e){return e!==null&&e>=0}function JD(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ZD(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const IE=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=d2(t,r,n),u=t[i],l=s[i];return!l||!u?null:{x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height}},b0={scaleX:1,scaleY:1},e9=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:u}=e;const l=(t=s[n])!=null?t:r;if(!l)return null;if(i===n){const h=s[u];return h?{x:0,y:n<u?h.top+h.height-(l.top+l.height):h.top-l.top,...b0}:null}const c=t9(s,i,n);return i>n&&i<=u?{x:0,y:-l.height-c,...b0}:i<n&&i>=u?{x:0,y:l.height+c,...b0}:{x:0,y:0,...b0}};function t9(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];return r?n<t?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const PE="Sortable",OE=an.createContext({activeIndex:-1,containerId:PE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:IE,disabled:{draggable:!1,droppable:!1}});function n9(e){let{children:t,id:n,items:r,strategy:i=IE,disabled:s=!1}=e;const{active:u,dragOverlay:l,droppableRects:c,over:h,measureDroppableContainers:p}=YD(),b=wh(PE,n),E=l.rect!==null,y=M.useMemo(()=>r.map(he=>typeof he=="object"&&"id"in he?he.id:he),[r]),S=u!=null,A=u?y.indexOf(u.id):-1,k=h?y.indexOf(h.id):-1,C=M.useRef(y),P=!JD(y,C.current),$=k!==-1&&A===-1||P,H=ZD(s);To(()=>{P&&S&&p(y)},[P,y,S,p]),M.useEffect(()=>{C.current=y},[y]);const Y=M.useMemo(()=>({activeIndex:A,containerId:b,disabled:H,disableTransforms:$,items:y,overIndex:k,useDragOverlay:E,sortedRects:XD(y,c),strategy:i}),[A,b,H.draggable,H.droppable,$,y,k,c,E,i]);return an.createElement(OE.Provider,{value:Y},t)}const r9=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return d2(n,r,i).indexOf(t)},i9=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:u,previousItems:l,previousContainerId:c,transition:h}=e;return!h||!r||l!==s&&i===u?!1:n?!0:u!==i&&t===c},s9={duration:200,easing:"ease"},RE="transform",a9=nh.Transition.toString({property:RE,duration:0,easing:"linear"}),o9={roleDescription:"sortable"};function u9(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,u]=M.useState(null),l=M.useRef(n);return To(()=>{if(!t&&n!==l.current&&r.current){const c=i.current;if(c){const h=Rd(r.current,{ignoreTransform:!0}),p={x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height};(p.x||p.y)&&u(p)}}n!==l.current&&(l.current=n)},[t,n,r,i]),M.useEffect(()=>{s&&u(null)},[s]),s}function l9(e){let{animateLayoutChanges:t=i9,attributes:n,disabled:r,data:i,getNewIndex:s=r9,id:u,strategy:l,resizeObserverConfig:c,transition:h=s9}=e;const{items:p,containerId:b,activeIndex:E,disabled:y,disableTransforms:S,sortedRects:A,overIndex:k,useDragOverlay:C,strategy:P}=M.useContext(OE),$=c9(r,y),H=p.indexOf(u),Y=M.useMemo(()=>({sortable:{containerId:b,index:H,items:p},...i}),[b,i,H,p]),he=M.useMemo(()=>p.slice(p.indexOf(u)),[p,u]),{rect:le,node:X,isOver:be,setNodeRef:Ie}=QD({id:u,data:Y,disabled:$.droppable,resizeObserverConfig:{updateMeasurementsFor:he,...c}}),{active:U,activatorEvent:q,activeNodeRect:te,attributes:ee,setNodeRef:Oe,listeners:Ae,isDragging:Se,over:ae,setActivatorNodeRef:ve,transform:ye}=WD({id:u,data:Y,attributes:{...o9,...n},disabled:$.draggable}),ne=AR(Ie,Oe),I=!!U,V=I&&!S&&g0(E)&&g0(k),Q=!C&&Se,se=Q&&V?ye:null,_e=V?se??(l??P)({rects:A,activeNodeRect:te,activeIndex:E,overIndex:k,index:H}):null,xe=g0(E)&&g0(k)?s({id:u,items:p,activeIndex:E,overIndex:k}):H,Te=U?.id,Ue=M.useRef({activeId:Te,items:p,newIndex:xe,containerId:b}),Xe=p!==Ue.current.items,ut=t({active:U,containerId:b,isDragging:Se,isSorting:I,id:u,index:H,items:p,newIndex:Ue.current.newIndex,previousItems:Ue.current.items,previousContainerId:Ue.current.containerId,transition:h,wasDragging:Ue.current.activeId!=null}),lt=u9({disabled:!ut,index:H,node:X,rect:le});return M.useEffect(()=>{I&&Ue.current.newIndex!==xe&&(Ue.current.newIndex=xe),b!==Ue.current.containerId&&(Ue.current.containerId=b),p!==Ue.current.items&&(Ue.current.items=p)},[I,xe,b,p]),M.useEffect(()=>{if(Te===Ue.current.activeId)return;if(Te!=null&&Ue.current.activeId==null){Ue.current.activeId=Te;return}const je=setTimeout(()=>{Ue.current.activeId=Te},50);return()=>clearTimeout(je)},[Te]),{active:U,activeIndex:E,attributes:ee,data:Y,rect:le,index:H,newIndex:xe,items:p,isOver:be,isSorting:I,isDragging:Se,listeners:Ae,node:X,overIndex:k,over:ae,setNodeRef:ne,setActivatorNodeRef:ve,setDroppableNodeRef:Ie,setDraggableNodeRef:Oe,transform:lt??_e,transition:Et()};function Et(){if(lt||Xe&&Ue.current.newIndex===H)return a9;if(!(Q&&!o2(q)||!h)&&(I||ut))return nh.Transition.toString({...h,property:RE})}}function c9(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}An.Down,An.Right,An.Up,An.Left;const d9=({placeholder:e,onChange:t,value:n})=>{const r=M.useRef(null);return M.useEffect(()=>{r.current&&(r.current.style.height="auto",r.current.style.height=`${r.current.scrollHeight}px`)},[n]),L.jsx("textarea",{className:"border rounded-xs px-2 py-1 w-full mr-3 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 resize-none overflow-hidden",ref:r,onChange:t,placeholder:e,value:n})},f9=({id:e,formValue:t,onEditFormValue:n,onDeleteClick:r})=>{const{attributes:i,listeners:s,setNodeRef:u,transform:l,transition:c}=l9({id:e}),h={transform:l?nh.Transform.toString(l):void 0,transition:c||"all 0.2s ease"},p=b=>{n({...t,value:b.target.value})};return L.jsxs("li",{ref:u,style:h,className:"text-gray-700 dark:text-gray-300 flex items-center justify-between mb-2",children:[L.jsx(d9,{onChange:p,value:t.value,placeholder:" "}),L.jsx(dc,{icon:L.jsx(_T,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"}),title:"Drag Step",attributes:i,listeners:s}),L.jsx(F3,{onClick:()=>r(t.id)})]})},Ky=({originalFormState:e,setOriginalFormState:t,sectionName:n})=>{const[r,i]=M.useState(e);M.useEffect(()=>{i([...e])},[e]),M.useEffect(()=>{const h=setTimeout(()=>{t(r)},400);return()=>clearTimeout(h)},[r,t]);const s=h=>{const p=r.map(b=>b.id===h.id?h:b);i(p)},u=()=>{i(h=>[...h,{id:Wg(),value:""}])},l=h=>{const p=r.filter(b=>b.id!==h);i(p)},c=h=>{const{active:p,over:b}=h;if(!b||p.id===b.id)return;const E=r.findIndex(S=>S.id===p.id),y=r.findIndex(S=>S.id===b.id);i(d2(r,E,y))};return L.jsxs("div",{className:"mb-4",children:[L.jsxs("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:[n,"s"]}),!(r?.length>0)&&L.jsx(gh,{message:`No ${n}s added yet. Add some to get started!`}),L.jsx(zD,{collisionDetection:$R,onDragEnd:c,children:L.jsx(n9,{items:r.map(h=>h.id),strategy:e9,children:r.length>0&&L.jsx("ol",{className:"list-decimal mb-6 text-gray-700 dark:text-gray-300",children:r.map(h=>L.jsx(f9,{id:h.id,formValue:h,onEditFormValue:s,onDeleteClick:l},h.id))})})}),L.jsxs(wn,{type:"button",onClick:u,children:["Add ",n]})]})},h9=({formData:e,onFormChange:t})=>L.jsxs("form",{className:"w-full",children:[L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("input",{type:"number",name:"servings",id:"servings",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.servings,onChange:n=>t("servings",Number(n.target.value))}),L.jsx("label",{htmlFor:"servings",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Servings"})]}),L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("input",{type:"number",name:"prep_time",id:"prep_time",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.prep_time,onChange:n=>t("prep_time",Number(n.target.value))}),L.jsx("label",{htmlFor:"prep_time",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Prep Time (minutes)"})]}),L.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[L.jsx("input",{type:"number",name:"cook_time",id:"cook_time",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-hidden focus:ring-0 focus:border-blue-600 peer",placeholder:" ",value:e.cook_time,onChange:n=>t("cook_time",Number(n.target.value))}),L.jsx("label",{htmlFor:"cook_time",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:rtl:translate-x-1/4 peer-focus:rtl:left-auto peer-focus:text-blue-600 dark:peer-focus:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Cook Time (minutes)"})]})]}),p9=()=>{const e=oa(),{id:t}=ip(),n=!!t,[r,i]=M.useState(""),[s,u]=M.useState([]),[l,c]=M.useState(""),[h,p]=M.useState([]),[b,E]=M.useState({title:"",description:"",img_url:"",prep_time:0,cook_time:0,servings:1,original_recipe_url:"",ingredients:[],steps:[],collections:[],tags:[]}),[y,S]=M.useState({title:"",description:"",img_url:"",prep_time:0,cook_time:0,servings:1,original_recipe_url:"",ingredients:[],steps:[],collections:[],tags:[]});M.useEffect(()=>{const P=e.state?.recipe;if(P){const $={title:P.title||"",description:P.description||"",img_url:P.img_url||"",prep_time:P.prep_time||0,cook_time:P.cook_time||0,servings:P.servings||1,original_recipe_url:P.original_recipe_url||"",ingredients:P.ingredients||[],steps:P.steps||[],tags:P.tags?[...P.tags]:[],collections:P.collections?[...P.collections]:[]};E($),S($)}},[e.state?.recipe]);const A=(P,$)=>{E(H=>({...H,[P]:$}))},k=M.useCallback(async()=>{try{const P=await ia.getList(0,25,l);P?.data&&p(P.data)}catch(P){console.error("Error fetching tags:",P)}},[l]),C=M.useCallback(async()=>{try{const P=await Os.getList(0,25,r);P?.data&&u(P.data)}catch(P){console.error("Error fetching recipes:",P)}},[r]);return M.useEffect(()=>{C()},[r]),M.useEffect(()=>{k()},[k]),{formData:b,originalData:y,onFormChange:A,isEditing:n,id:t,collectionList:s,tagList:h,setCollectionSearch:i,setTagSearch:c}},m9=(e,t,n)=>{const r=Fs(),{user:i}=Ba(),[s,u]=M.useState(!1),l=ti();return{handleSave:async h=>{h.preventDefault(),u(!0);try{if(t&&n)await hi.upsert(n,e),e.tags?.length&&(await ia.removeAllFromRecipe(n),await ia.addToRecipe(n,e.tags)),e.collections?.length&&(await hi.removeFromAllCollections(n),await hi.addOneToManyCollections(n,e.collections.map(p=>p.id))),r.success("Recipe updated successfully!"),l(`/recipes/${n}`);else{const b=(await hi.upsert(void 0,e,i?.id))?.recipeId||"";e.tags?.length&&await ia.addToRecipe(b,e.tags),e.collections?.length&&await hi.addOneToManyCollections(b,e.collections.map(E=>E.id)),r.success("Recipe added successfully!"),l(`/recipes/${b}`)}}catch(p){r.error(p.message||"Something went wrong.")}finally{u(!1)}},isLoading:s}},Qy=()=>{const e=ti(),{formData:t,onFormChange:n,isEditing:r,id:i,collectionList:s,tagList:u,setCollectionSearch:l,setTagSearch:c}=p9(),{handleSave:h,isLoading:p}=m9(t,r,i);return L.jsxs("div",{className:"max-w-2xl mx-auto mt-4",children:[L.jsxs("div",{className:"w-full flex justify-end items-center mb-4 gap-4",children:[L.jsx(wn,{btnType:"dismissable",onClick:()=>e(-1),children:"Cancel"}),L.jsx(wn,{onClick:h,isLoading:p,children:r?"Save":"Add"})]}),L.jsx(Hw,{imgUrl:t.img_url,onImgUrlChange:b=>n("img_url",b)}),L.jsxs("div",{className:`bg-white dark:bg-gray-900 p-6 rounded-b-lg shadow-md ${!t.img_url?.length&&"rounded-t-lg"}`,children:[L.jsx(qw,{title:t.title,description:t.description,onFormChange:n}),L.jsx(h9,{formData:t,onFormChange:n}),L.jsx(Ky,{originalFormState:t.ingredients,setOriginalFormState:b=>n("ingredients",b),sectionName:"Ingredient"}),L.jsx(Ky,{originalFormState:t.steps,setOriginalFormState:b=>n("steps",b),sectionName:"Step"}),L.jsxs("div",{className:"mb-2",children:[L.jsx("label",{htmlFor:"Tags",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Tags"}),L.jsx(Ed,{placeholder:"Search for tags...",inputId:"Tags",options:u,selectedOptions:t.tags||[],setSelectedOptions:b=>n("tags",b),onSearch:c})]}),L.jsxs("div",{className:"mb-2",children:[L.jsx("label",{htmlFor:"Collections",className:"peer-focus:font-medium text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Collections"}),L.jsx(Ed,{placeholder:"Search for collections...",inputId:"Collections",options:s,selectedOptions:t.collections||[],setSelectedOptions:b=>n("collections",b),onSearch:l})]})]})]})},g9=()=>L.jsxs("div",{className:"max-w-5xl mx-auto p-6 flex flex-col",children:[L.jsx(bh,{classes:"mb-4",title:"Profile"}),L.jsxs("section",{className:"mt-3 mb-3",children:[L.jsx("h2",{children:"Reset Password"}),L.jsx(jw,{})]})]}),b9=()=>L.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 pb-6",children:L.jsx(R4,{children:L.jsxs(QI,{children:[L.jsx(XI,{}),L.jsx("div",{className:"container mx-auto px-4",children:L.jsxs(c4,{children:[L.jsx(ds,{path:"/sign-in",element:L.jsx(hf,{children:L.jsx(w7,{})})}),L.jsx(ds,{path:"/forgot-password",element:L.jsx(nP,{})}),L.jsx(ds,{path:"/reset-password",element:L.jsx(v7,{})}),L.jsx(ds,{path:"/",element:L.jsx(SR,{})}),L.jsx(ds,{path:"/about",element:L.jsx(JI,{})}),L.jsx(ds,{path:"/profile",element:L.jsx(hf,{children:L.jsx(g9,{})})}),L.jsx(ds,{path:"/add-new",element:L.jsx(hf,{children:L.jsx(Qy,{})})}),L.jsx(ds,{path:"/recipes/:id",element:L.jsx(vR,{})}),L.jsx(ds,{path:"/recipes/:id/edit",element:L.jsx(hf,{children:L.jsx(Qy,{})})}),L.jsx(ds,{path:"/collections",element:L.jsx(O7,{})}),L.jsx(ds,{path:"/collections/add-new",element:L.jsx(hf,{children:L.jsx(dy,{})})}),L.jsx(ds,{path:"/collections/:id",element:L.jsx(I7,{})}),L.jsx(ds,{path:"/collections/:id/edit",element:L.jsx(dy,{})})]})})]})})});w_.createRoot(document.getElementById("root")).render(L.jsx(M.StrictMode,{children:L.jsx(aT,{children:L.jsx(PT,{children:L.jsx(FI,{children:L.jsx(b9,{})})})})}));export{Pn as _,y9 as c,rg as g};
//# sourceMappingURL=index-B3QgmuiD.js.map
